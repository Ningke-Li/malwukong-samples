version: "3"
services:
    <% for (var i=0; i<validatorCount; i++) { %>
    validator-<%= i %>:
        image: <%= dockerImage %>
        container_name: validator-<%= i %>
        tty: true
        restart: always<% if (i === 0) { %>
        ports:
            - 8545:8545
            - 26656:26656<% } %>
        command: "exrpd start --keyring-backend file --pruning=nothing --evm.tracer=json --log_level info --json-rpc.api eth,txpool,personal,net,debug,web3,miner --api.enable"
        volumes:
            - ./validator-<%= i %>:/root/.exrpd
    <% } %>
