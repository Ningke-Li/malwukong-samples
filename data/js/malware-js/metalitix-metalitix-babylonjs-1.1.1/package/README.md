# Metalitix-Babylonjs Logger
BabylonJS logger code to integrate Metalitix® into your experience. Unlock spatial analytics for your 3D scene. Learn more at [Metalitix™ - Spatial Analytics for the Metaverse](https://www.metalitix.com/) 

## Install
```sh
npm install @metalitix/metalitix-babylonjs
```

## Usage
> [Click here for an example project on Github.](https://github.com/Metalitix/metalitix-babylonjs-example)
___
1. Make sure you complete the steps on the [Getting Started](/getting-started) page. _This includes whitelisting your domain and uploading a 3D model._

2. If not already done so, create a BabylonJS project.

3. Run `npm install @metalitix/metalitix-babylonjs` to install the Metalitix-BabylonJS Logger.

4. Instantiate the `MetalitixLogger` by passing in the `apiKey` from your project settings found in the [Metalitix dashboard](https://app.metalitix.com/). Then, start the logger session by calling `startSession()` and passing in passing in the Babylon scene ([`BabylonScene`](https://doc.babylonjs.com/typedoc/classes/BABYLON.Scene)) and your own scene ([`TransformNode`](https://doc.babylonjs.com/typedoc/classes/BABYLON.TransformNode)). Your own scene is your 3D model of the experience or the parent for your scene's models.

	The logger will automatically track camera and scene movement plus metrics such as FPS and engagement level. Because camera and scene movements are recorded, it is not necessary to manually calibrate the scene positioning in the [Metalitix dashboard](https://app.metalitix.com/). However, this is only the case if you specify the second `myScene` parameter. If the `myScene` parameter is not set then manual scene calibration may be necessary because only camera movement is recorded.

	```html
	<canvas id="renderCanvas"></canvas>
	...
	<script>
		import MetalitixLogger from '@metalitix/metalitix-babylonjs';
		...
		const apiKey = 'xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx';
		const logger = new MetalitixLogger(apiKey);
		...
		const canvas = document.getElementById("renderCanvas");
		const engine = new BABYLON.Engine(canvas, true);
		const babylonScene = new BABYLON.Scene(engine);
		...
		const myScene = new BABYLON.TransformNode("myScene");
		...
		logger.startSession(babylonScene, myScene);
	</script>
	```

5. Metalitix is now configured to gather analytics on your project! You can read about additional configuration options and interaction tracking on the [Logger Extras](/logger-extras.md) page. You can find an [example project on Github](https://github.com/Metalitix/metalitix-babylonjs-example).
