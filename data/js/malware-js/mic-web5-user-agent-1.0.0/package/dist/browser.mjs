var vye=Object.create;var Q_=Object.defineProperty;var wye=Object.getOwnPropertyDescriptor;var _ye=Object.getOwnPropertyNames;var Eye=Object.getPrototypeOf,Sye=Object.prototype.hasOwnProperty;var Mi=(t,e)=>()=>(t&&(e=t(t=0)),e);var de=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ai=(t,e)=>{for(var r in e)Q_(t,r,{get:e[r],enumerable:!0})},oN=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of _ye(e))!Sye.call(t,n)&&n!==r&&Q_(t,n,{get:()=>e[n],enumerable:!(i=wye(e,n))||i.enumerable});return t};var yr=(t,e,r)=>(r=t!=null?vye(Eye(t)):{},oN(e||!t||!t.__esModule?Q_(r,"default",{value:t,enumerable:!0}):r,t)),sN=t=>oN(Q_({},"__esModule",{value:!0}),t);var uN=de(e6=>{"use strict";F();e6.byteLength=Aye;e6.toByteArray=kye;e6.fromByteArray=Dye;var oc=[],Tf=[],xye=typeof Uint8Array<"u"?Uint8Array:Array,px="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Gp=0,aN=px.length;Gp<aN;++Gp)oc[Gp]=px[Gp],Tf[px.charCodeAt(Gp)]=Gp;var Gp,aN;Tf["-".charCodeAt(0)]=62;Tf["_".charCodeAt(0)]=63;function fN(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var i=r===e?0:4-r%4;return[r,i]}function Aye(t){var e=fN(t),r=e[0],i=e[1];return(r+i)*3/4-i}function Mye(t,e,r){return(e+r)*3/4-r}function kye(t){var e,r=fN(t),i=r[0],n=r[1],s=new xye(Mye(t,i,n)),o=0,a=n>0?i-4:i,f;for(f=0;f<a;f+=4)e=Tf[t.charCodeAt(f)]<<18|Tf[t.charCodeAt(f+1)]<<12|Tf[t.charCodeAt(f+2)]<<6|Tf[t.charCodeAt(f+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return n===2&&(e=Tf[t.charCodeAt(f)]<<2|Tf[t.charCodeAt(f+1)]>>4,s[o++]=e&255),n===1&&(e=Tf[t.charCodeAt(f)]<<10|Tf[t.charCodeAt(f+1)]<<4|Tf[t.charCodeAt(f+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function Tye(t){return oc[t>>18&63]+oc[t>>12&63]+oc[t>>6&63]+oc[t&63]}function Pye(t,e,r){for(var i,n=[],s=e;s<r;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),n.push(Tye(i));return n.join("")}function Dye(t){for(var e,r=t.length,i=r%3,n=[],s=16383,o=0,a=r-i;o<a;o+=s)n.push(Pye(t,o,o+s>a?a:o+s));return i===1?(e=t[r-1],n.push(oc[e>>2]+oc[e<<4&63]+"==")):i===2&&(e=(t[r-2]<<8)+t[r-1],n.push(oc[e>>10]+oc[e>>4&63]+oc[e<<2&63]+"=")),n.join("")}});var cN=de(yx=>{F();yx.read=function(t,e,r,i,n){var s,o,a=n*8-i-1,f=(1<<a)-1,c=f>>1,u=-7,l=r?n-1:0,y=r?-1:1,m=t[e+l];for(l+=y,s=m&(1<<-u)-1,m>>=-u,u+=a;u>0;s=s*256+t[e+l],l+=y,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=i;u>0;o=o*256+t[e+l],l+=y,u-=8);if(s===0)s=1-c;else{if(s===f)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,i),s=s-c}return(m?-1:1)*o*Math.pow(2,s-i)};yx.write=function(t,e,r,i,n,s){var o,a,f,c=s*8-n-1,u=(1<<c)-1,l=u>>1,y=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=i?0:s-1,g=i?1:-1,E=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-o))<1&&(o--,f*=2),o+l>=1?e+=y/f:e+=y*Math.pow(2,1-l),e*f>=2&&(o++,f/=2),o+l>=u?(a=0,o=u):o+l>=1?(a=(e*f-1)*Math.pow(2,n),o=o+l):(a=e*Math.pow(2,l-1)*Math.pow(2,n),o=0));n>=8;t[r+m]=a&255,m+=g,a/=256,n-=8);for(o=o<<n|a,c+=n;c>0;t[r+m]=o&255,m+=g,o/=256,c-=8);t[r+m-g]|=E*128}});var ki=de(Lm=>{"use strict";F();var mx=uN(),jm=cN(),lN=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Lm.Buffer=je;Lm.SlowBuffer=jye;Lm.INSPECT_MAX_BYTES=50;var t6=2147483647;Lm.kMaxLength=t6;je.TYPED_ARRAY_SUPPORT=Iye();!je.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Iye(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(je.prototype,"parent",{enumerable:!0,get:function(){if(je.isBuffer(this))return this.buffer}});Object.defineProperty(je.prototype,"offset",{enumerable:!0,get:function(){if(je.isBuffer(this))return this.byteOffset}});function xl(t){if(t>t6)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,je.prototype),e}function je(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return wx(t)}return pN(t,e,r)}je.poolSize=8192;function pN(t,e,r){if(typeof t=="string")return Bye(t,e);if(ArrayBuffer.isView(t))return Cye(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(sc(t,ArrayBuffer)||t&&sc(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(sc(t,SharedArrayBuffer)||t&&sc(t.buffer,SharedArrayBuffer)))return bx(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var i=t.valueOf&&t.valueOf();if(i!=null&&i!==t)return je.from(i,e,r);var n=Oye(t);if(n)return n;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return je.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}je.from=function(t,e,r){return pN(t,e,r)};Object.setPrototypeOf(je.prototype,Uint8Array.prototype);Object.setPrototypeOf(je,Uint8Array);function yN(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function Rye(t,e,r){return yN(t),t<=0?xl(t):e!==void 0?typeof r=="string"?xl(t).fill(e,r):xl(t).fill(e):xl(t)}je.alloc=function(t,e,r){return Rye(t,e,r)};function wx(t){return yN(t),xl(t<0?0:_x(t)|0)}je.allocUnsafe=function(t){return wx(t)};je.allocUnsafeSlow=function(t){return wx(t)};function Bye(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!je.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=mN(t,e)|0,i=xl(r),n=i.write(t,e);return n!==r&&(i=i.slice(0,n)),i}function gx(t){for(var e=t.length<0?0:_x(t.length)|0,r=xl(e),i=0;i<e;i+=1)r[i]=t[i]&255;return r}function Cye(t){if(sc(t,Uint8Array)){var e=new Uint8Array(t);return bx(e.buffer,e.byteOffset,e.byteLength)}return gx(t)}function bx(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var i;return e===void 0&&r===void 0?i=new Uint8Array(t):r===void 0?i=new Uint8Array(t,e):i=new Uint8Array(t,e,r),Object.setPrototypeOf(i,je.prototype),i}function Oye(t){if(je.isBuffer(t)){var e=_x(t.length)|0,r=xl(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||Ex(t.length)?xl(0):gx(t);if(t.type==="Buffer"&&Array.isArray(t.data))return gx(t.data)}function _x(t){if(t>=t6)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+t6.toString(16)+" bytes");return t|0}function jye(t){return+t!=t&&(t=0),je.alloc(+t)}je.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==je.prototype};je.compare=function(e,r){if(sc(e,Uint8Array)&&(e=je.from(e,e.offset,e.byteLength)),sc(r,Uint8Array)&&(r=je.from(r,r.offset,r.byteLength)),!je.isBuffer(e)||!je.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;for(var i=e.length,n=r.length,s=0,o=Math.min(i,n);s<o;++s)if(e[s]!==r[s]){i=e[s],n=r[s];break}return i<n?-1:n<i?1:0};je.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};je.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return je.alloc(0);var i;if(r===void 0)for(r=0,i=0;i<e.length;++i)r+=e[i].length;var n=je.allocUnsafe(r),s=0;for(i=0;i<e.length;++i){var o=e[i];if(sc(o,Uint8Array))s+o.length>n.length?je.from(o).copy(n,s):Uint8Array.prototype.set.call(n,o,s);else if(je.isBuffer(o))o.copy(n,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return n};function mN(t,e){if(je.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||sc(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&r===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return vx(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return EN(t).length;default:if(n)return i?-1:vx(t).length;e=(""+e).toLowerCase(),n=!0}}je.byteLength=mN;function Lye(t,e,r){var i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return Wye(this,e,r);case"utf8":case"utf-8":return bN(this,e,r);case"ascii":return Kye(this,e,r);case"latin1":case"binary":return Hye(this,e,r);case"base64":return $ye(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Yye(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}je.prototype._isBuffer=!0;function Jp(t,e,r){var i=t[e];t[e]=t[r],t[r]=i}je.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)Jp(this,r,r+1);return this};je.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)Jp(this,r,r+3),Jp(this,r+1,r+2);return this};je.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)Jp(this,r,r+7),Jp(this,r+1,r+6),Jp(this,r+2,r+5),Jp(this,r+3,r+4);return this};je.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?bN(this,0,e):Lye.apply(this,arguments)};je.prototype.toLocaleString=je.prototype.toString;je.prototype.equals=function(e){if(!je.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:je.compare(this,e)===0};je.prototype.inspect=function(){var e="",r=Lm.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};lN&&(je.prototype[lN]=je.prototype.inspect);je.prototype.compare=function(e,r,i,n,s){if(sc(e,Uint8Array)&&(e=je.from(e,e.offset,e.byteLength)),!je.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),r<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&r>=i)return 0;if(n>=s)return-1;if(r>=i)return 1;if(r>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;for(var o=s-n,a=i-r,f=Math.min(o,a),c=this.slice(n,s),u=e.slice(r,i),l=0;l<f;++l)if(c[l]!==u[l]){o=c[l],a=u[l];break}return o<a?-1:a<o?1:0};function gN(t,e,r,i,n){if(t.length===0)return-1;if(typeof r=="string"?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Ex(r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return-1;r=t.length-1}else if(r<0)if(n)r=0;else return-1;if(typeof e=="string"&&(e=je.from(e,i)),je.isBuffer(e))return e.length===0?-1:dN(t,e,r,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):dN(t,[e],r,i,n);throw new TypeError("val must be string, number or Buffer")}function dN(t,e,r,i,n){var s=1,o=t.length,a=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,o/=2,a/=2,r/=2}function f(m,g){return s===1?m[g]:m.readUInt16BE(g*s)}var c;if(n){var u=-1;for(c=r;c<o;c++)if(f(t,c)===f(e,u===-1?0:c-u)){if(u===-1&&(u=c),c-u+1===a)return u*s}else u!==-1&&(c-=c-u),u=-1}else for(r+a>o&&(r=o-a),c=r;c>=0;c--){for(var l=!0,y=0;y<a;y++)if(f(t,c+y)!==f(e,y)){l=!1;break}if(l)return c}return-1}je.prototype.includes=function(e,r,i){return this.indexOf(e,r,i)!==-1};je.prototype.indexOf=function(e,r,i){return gN(this,e,r,i,!0)};je.prototype.lastIndexOf=function(e,r,i){return gN(this,e,r,i,!1)};function Nye(t,e,r,i){r=Number(r)||0;var n=t.length-r;i?(i=Number(i),i>n&&(i=n)):i=n;var s=e.length;i>s/2&&(i=s/2);for(var o=0;o<i;++o){var a=parseInt(e.substr(o*2,2),16);if(Ex(a))return o;t[r+o]=a}return o}function qye(t,e,r,i){return r6(vx(e,t.length-r),t,r,i)}function zye(t,e,r,i){return r6(Jye(e),t,r,i)}function Fye(t,e,r,i){return r6(EN(e),t,r,i)}function Uye(t,e,r,i){return r6(Xye(e,t.length-r),t,r,i)}je.prototype.write=function(e,r,i,n){if(r===void 0)n="utf8",i=this.length,r=0;else if(i===void 0&&typeof r=="string")n=r,i=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-r;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return Nye(this,e,r,i);case"utf8":case"utf-8":return qye(this,e,r,i);case"ascii":case"latin1":case"binary":return zye(this,e,r,i);case"base64":return Fye(this,e,r,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Uye(this,e,r,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}};je.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $ye(t,e,r){return e===0&&r===t.length?mx.fromByteArray(t):mx.fromByteArray(t.slice(e,r))}function bN(t,e,r){r=Math.min(t.length,r);for(var i=[],n=e;n<r;){var s=t[n],o=null,a=s>239?4:s>223?3:s>191?2:1;if(n+a<=r){var f,c,u,l;switch(a){case 1:s<128&&(o=s);break;case 2:f=t[n+1],(f&192)===128&&(l=(s&31)<<6|f&63,l>127&&(o=l));break;case 3:f=t[n+1],c=t[n+2],(f&192)===128&&(c&192)===128&&(l=(s&15)<<12|(f&63)<<6|c&63,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:f=t[n+1],c=t[n+2],u=t[n+3],(f&192)===128&&(c&192)===128&&(u&192)===128&&(l=(s&15)<<18|(f&63)<<12|(c&63)<<6|u&63,l>65535&&l<1114112&&(o=l))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),n+=a}return Vye(i)}var hN=4096;function Vye(t){var e=t.length;if(e<=hN)return String.fromCharCode.apply(String,t);for(var r="",i=0;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=hN));return r}function Kye(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]&127);return i}function Hye(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function Wye(t,e,r){var i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);for(var n="",s=e;s<r;++s)n+=Qye[t[s]];return n}function Yye(t,e,r){for(var i=t.slice(e,r),n="",s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+i[s+1]*256);return n}je.prototype.slice=function(e,r){var i=this.length;e=~~e,r=r===void 0?i:~~r,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),r<0?(r+=i,r<0&&(r=0)):r>i&&(r=i),r<e&&(r=e);var n=this.subarray(e,r);return Object.setPrototypeOf(n,je.prototype),n};function Fo(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}je.prototype.readUintLE=je.prototype.readUIntLE=function(e,r,i){e=e>>>0,r=r>>>0,i||Fo(e,r,this.length);for(var n=this[e],s=1,o=0;++o<r&&(s*=256);)n+=this[e+o]*s;return n};je.prototype.readUintBE=je.prototype.readUIntBE=function(e,r,i){e=e>>>0,r=r>>>0,i||Fo(e,r,this.length);for(var n=this[e+--r],s=1;r>0&&(s*=256);)n+=this[e+--r]*s;return n};je.prototype.readUint8=je.prototype.readUInt8=function(e,r){return e=e>>>0,r||Fo(e,1,this.length),this[e]};je.prototype.readUint16LE=je.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||Fo(e,2,this.length),this[e]|this[e+1]<<8};je.prototype.readUint16BE=je.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||Fo(e,2,this.length),this[e]<<8|this[e+1]};je.prototype.readUint32LE=je.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||Fo(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};je.prototype.readUint32BE=je.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||Fo(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};je.prototype.readIntLE=function(e,r,i){e=e>>>0,r=r>>>0,i||Fo(e,r,this.length);for(var n=this[e],s=1,o=0;++o<r&&(s*=256);)n+=this[e+o]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*r)),n};je.prototype.readIntBE=function(e,r,i){e=e>>>0,r=r>>>0,i||Fo(e,r,this.length);for(var n=r,s=1,o=this[e+--n];n>0&&(s*=256);)o+=this[e+--n]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*r)),o};je.prototype.readInt8=function(e,r){return e=e>>>0,r||Fo(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};je.prototype.readInt16LE=function(e,r){e=e>>>0,r||Fo(e,2,this.length);var i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};je.prototype.readInt16BE=function(e,r){e=e>>>0,r||Fo(e,2,this.length);var i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};je.prototype.readInt32LE=function(e,r){return e=e>>>0,r||Fo(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};je.prototype.readInt32BE=function(e,r){return e=e>>>0,r||Fo(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};je.prototype.readFloatLE=function(e,r){return e=e>>>0,r||Fo(e,4,this.length),jm.read(this,e,!0,23,4)};je.prototype.readFloatBE=function(e,r){return e=e>>>0,r||Fo(e,4,this.length),jm.read(this,e,!1,23,4)};je.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||Fo(e,8,this.length),jm.read(this,e,!0,52,8)};je.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||Fo(e,8,this.length),jm.read(this,e,!1,52,8)};function xa(t,e,r,i,n,s){if(!je.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}je.prototype.writeUintLE=je.prototype.writeUIntLE=function(e,r,i,n){if(e=+e,r=r>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;xa(this,e,r,i,s,0)}var o=1,a=0;for(this[r]=e&255;++a<i&&(o*=256);)this[r+a]=e/o&255;return r+i};je.prototype.writeUintBE=je.prototype.writeUIntBE=function(e,r,i,n){if(e=+e,r=r>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;xa(this,e,r,i,s,0)}var o=i-1,a=1;for(this[r+o]=e&255;--o>=0&&(a*=256);)this[r+o]=e/a&255;return r+i};je.prototype.writeUint8=je.prototype.writeUInt8=function(e,r,i){return e=+e,r=r>>>0,i||xa(this,e,r,1,255,0),this[r]=e&255,r+1};je.prototype.writeUint16LE=je.prototype.writeUInt16LE=function(e,r,i){return e=+e,r=r>>>0,i||xa(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};je.prototype.writeUint16BE=je.prototype.writeUInt16BE=function(e,r,i){return e=+e,r=r>>>0,i||xa(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};je.prototype.writeUint32LE=je.prototype.writeUInt32LE=function(e,r,i){return e=+e,r=r>>>0,i||xa(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};je.prototype.writeUint32BE=je.prototype.writeUInt32BE=function(e,r,i){return e=+e,r=r>>>0,i||xa(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};je.prototype.writeIntLE=function(e,r,i,n){if(e=+e,r=r>>>0,!n){var s=Math.pow(2,8*i-1);xa(this,e,r,i,s-1,-s)}var o=0,a=1,f=0;for(this[r]=e&255;++o<i&&(a*=256);)e<0&&f===0&&this[r+o-1]!==0&&(f=1),this[r+o]=(e/a>>0)-f&255;return r+i};je.prototype.writeIntBE=function(e,r,i,n){if(e=+e,r=r>>>0,!n){var s=Math.pow(2,8*i-1);xa(this,e,r,i,s-1,-s)}var o=i-1,a=1,f=0;for(this[r+o]=e&255;--o>=0&&(a*=256);)e<0&&f===0&&this[r+o+1]!==0&&(f=1),this[r+o]=(e/a>>0)-f&255;return r+i};je.prototype.writeInt8=function(e,r,i){return e=+e,r=r>>>0,i||xa(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};je.prototype.writeInt16LE=function(e,r,i){return e=+e,r=r>>>0,i||xa(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};je.prototype.writeInt16BE=function(e,r,i){return e=+e,r=r>>>0,i||xa(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};je.prototype.writeInt32LE=function(e,r,i){return e=+e,r=r>>>0,i||xa(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};je.prototype.writeInt32BE=function(e,r,i){return e=+e,r=r>>>0,i||xa(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function vN(t,e,r,i,n,s){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function wN(t,e,r,i,n){return e=+e,r=r>>>0,n||vN(t,e,r,4,34028234663852886e22,-34028234663852886e22),jm.write(t,e,r,i,23,4),r+4}je.prototype.writeFloatLE=function(e,r,i){return wN(this,e,r,!0,i)};je.prototype.writeFloatBE=function(e,r,i){return wN(this,e,r,!1,i)};function _N(t,e,r,i,n){return e=+e,r=r>>>0,n||vN(t,e,r,8,17976931348623157e292,-17976931348623157e292),jm.write(t,e,r,i,52,8),r+8}je.prototype.writeDoubleLE=function(e,r,i){return _N(this,e,r,!0,i)};je.prototype.writeDoubleBE=function(e,r,i){return _N(this,e,r,!1,i)};je.prototype.copy=function(e,r,i,n){if(!je.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),r>=e.length&&(r=e.length),r||(r=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-r<n-i&&(n=e.length-r+i);var s=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),r),s};je.prototype.fill=function(e,r,i,n){if(typeof e=="string"){if(typeof r=="string"?(n=r,r=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!je.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var s=e.charCodeAt(0);(n==="utf8"&&s<128||n==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<i)throw new RangeError("Out of range index");if(i<=r)return this;r=r>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);var o;if(typeof e=="number")for(o=r;o<i;++o)this[o]=e;else{var a=je.isBuffer(e)?e:je.from(e,n),f=a.length;if(f===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<i-r;++o)this[o+r]=a[o%f]}return this};var Zye=/[^+/0-9A-Za-z-_]/g;function Gye(t){if(t=t.split("=")[0],t=t.trim().replace(Zye,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function vx(t,e){e=e||1/0;for(var r,i=t.length,n=null,s=[],o=0;o<i;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function Jye(t){for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function Xye(t,e){for(var r,i,n,s=[],o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),i=r>>8,n=r%256,s.push(n),s.push(i);return s}function EN(t){return mx.toByteArray(Gye(t))}function r6(t,e,r,i){for(var n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}function sc(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function Ex(t){return t!==t}var Qye=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var i=r*16,n=0;n<16;++n)e[i+n]=t[r]+t[n];return e}()});var kl=de((IGe,MN)=>{F();var Yn=MN.exports={},ac,fc;function Sx(){throw new Error("setTimeout has not been defined")}function xx(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ac=setTimeout:ac=Sx}catch{ac=Sx}try{typeof clearTimeout=="function"?fc=clearTimeout:fc=xx}catch{fc=xx}})();function SN(t){if(ac===setTimeout)return setTimeout(t,0);if((ac===Sx||!ac)&&setTimeout)return ac=setTimeout,setTimeout(t,0);try{return ac(t,0)}catch{try{return ac.call(null,t,0)}catch{return ac.call(this,t,0)}}}function eme(t){if(fc===clearTimeout)return clearTimeout(t);if((fc===xx||!fc)&&clearTimeout)return fc=clearTimeout,clearTimeout(t);try{return fc(t)}catch{try{return fc.call(null,t)}catch{return fc.call(this,t)}}}var Al=[],Nm=!1,Xp,i6=-1;function tme(){!Nm||!Xp||(Nm=!1,Xp.length?Al=Xp.concat(Al):i6=-1,Al.length&&xN())}function xN(){if(!Nm){var t=SN(tme);Nm=!0;for(var e=Al.length;e;){for(Xp=Al,Al=[];++i6<e;)Xp&&Xp[i6].run();i6=-1,e=Al.length}Xp=null,Nm=!1,eme(t)}}Yn.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Al.push(new AN(t,e)),Al.length===1&&!Nm&&SN(xN)};function AN(t,e){this.fun=t,this.array=e}AN.prototype.run=function(){this.fun.apply(null,this.array)};Yn.title="browser";Yn.browser=!0;Yn.env={};Yn.argv=[];Yn.version="";Yn.versions={};function Ml(){}Yn.on=Ml;Yn.addListener=Ml;Yn.once=Ml;Yn.off=Ml;Yn.removeListener=Ml;Yn.removeAllListeners=Ml;Yn.emit=Ml;Yn.prependListener=Ml;Yn.prependOnceListener=Ml;Yn.listeners=function(t){return[]};Yn.binding=function(t){throw new Error("process.binding is not supported")};Yn.cwd=function(){return"/"};Yn.chdir=function(t){throw new Error("process.chdir is not supported")};Yn.umask=function(){return 0}});var te,J,BGe,F=Mi(()=>{te=yr(ki()),J=yr(kl()),BGe=function(t){function e(){var i=this||self;return delete t.prototype.__magic__,i}if(typeof globalThis=="object")return globalThis;if(this)return e();t.defineProperty(t.prototype,"__magic__",{configurable:!0,get:e});var r=__magic__;return r}(Object)});var TN=de(kN=>{"use strict";F();kN.supports=function(...e){let r=e.reduce((i,n)=>Object.assign(i,n),{});return Object.assign(r,{snapshots:r.snapshots||!1,permanence:r.permanence||!1,seek:r.seek||!1,clear:r.clear||!1,getMany:r.getMany||!1,keyIterator:r.keyIterator||!1,valueIterator:r.valueIterator||!1,iteratorNextv:r.iteratorNextv||!1,iteratorAll:r.iteratorAll||!1,status:r.status||!1,createIfMissing:r.createIfMissing||!1,errorIfExists:r.errorIfExists||!1,deferredOpen:r.deferredOpen||!1,promises:r.promises||!1,streams:r.streams||!1,encodings:Object.assign({},r.encodings),events:Object.assign({},r.events),additionalMethods:Object.assign({},r.additionalMethods)})}});var hu=de((NGe,PN)=>{"use strict";F();PN.exports=class extends Error{constructor(e,r){super(e||""),typeof r=="object"&&r!==null&&(r.code&&(this.code=String(r.code)),r.expected&&(this.expected=!0),r.transient&&(this.transient=!0),r.cause&&(this.cause=r.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}});var Mx=de((zGe,DN)=>{"use strict";F();var Ax=null;DN.exports=function(){return Ax===null&&(Ax={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),Ax}});var Px=de(IN=>{"use strict";F();var kx=hu(),rme=new Set(["buffer","view","utf8"]),Tx=class{constructor(e){if(this.encode=e.encode||this.encode,this.decode=e.decode||this.decode,this.name=e.name||this.name,this.format=e.format||this.format,typeof this.encode!="function")throw new TypeError("The 'encode' property must be a function");if(typeof this.decode!="function")throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),typeof this.name!="string"||this.name==="")throw new TypeError("The 'name' property must be a string");if(typeof this.format!="string"||!rme.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");e.createViewTranscoder&&(this.createViewTranscoder=e.createViewTranscoder),e.createBufferTranscoder&&(this.createBufferTranscoder=e.createBufferTranscoder),e.createUTF8Transcoder&&(this.createUTF8Transcoder=e.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new kx(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new kx(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new kx(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}};IN.Encoding=Tx});var Bx=de(n6=>{"use strict";F();var{Buffer:Ix}=ki()||{},{Encoding:Rx}=Px(),ime=Mx(),wv=class extends Rx{constructor(e){super({...e,format:"buffer"})}createViewTranscoder(){return new _v({encode:this.encode,decode:e=>this.decode(Ix.from(e.buffer,e.byteOffset,e.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}},_v=class extends Rx{constructor(e){super({...e,format:"view"})}createBufferTranscoder(){return new wv({encode:e=>{let r=this.encode(e);return Ix.from(r.buffer,r.byteOffset,r.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}},Dx=class extends Rx{constructor(e){super({...e,format:"utf8"})}createBufferTranscoder(){return new wv({encode:e=>Ix.from(this.encode(e),"utf8"),decode:e=>this.decode(e.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){let{textEncoder:e,textDecoder:r}=ime();return new _v({encode:i=>e.encode(this.encode(i)),decode:i=>this.decode(r.decode(i)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}};n6.BufferFormat=wv;n6.ViewFormat=_v;n6.UTF8Format=Dx});var ON=de(Qp=>{"use strict";F();var{Buffer:Fs}=ki()||{Buffer:{isBuffer:()=>!1}},{textEncoder:BN,textDecoder:RN}=Mx()(),{BufferFormat:Ev,ViewFormat:Cx,UTF8Format:CN}=Bx(),o6=t=>t;Qp.utf8=new CN({encode:function(t){return Fs.isBuffer(t)?t.toString("utf8"):ArrayBuffer.isView(t)?RN.decode(t):String(t)},decode:o6,name:"utf8",createViewTranscoder(){return new Cx({encode:function(t){return ArrayBuffer.isView(t)?t:BN.encode(t)},decode:function(t){return RN.decode(t)},name:`${this.name}+view`})},createBufferTranscoder(){return new Ev({encode:function(t){return Fs.isBuffer(t)?t:ArrayBuffer.isView(t)?Fs.from(t.buffer,t.byteOffset,t.byteLength):Fs.from(String(t),"utf8")},decode:function(t){return t.toString("utf8")},name:`${this.name}+buffer`})}});Qp.json=new CN({encode:JSON.stringify,decode:JSON.parse,name:"json"});Qp.buffer=new Ev({encode:function(t){return Fs.isBuffer(t)?t:ArrayBuffer.isView(t)?Fs.from(t.buffer,t.byteOffset,t.byteLength):Fs.from(String(t),"utf8")},decode:o6,name:"buffer",createViewTranscoder(){return new Cx({encode:function(t){return ArrayBuffer.isView(t)?t:Fs.from(String(t),"utf8")},decode:function(t){return Fs.from(t.buffer,t.byteOffset,t.byteLength)},name:`${this.name}+view`})}});Qp.view=new Cx({encode:function(t){return ArrayBuffer.isView(t)?t:BN.encode(t)},decode:o6,name:"view",createBufferTranscoder(){return new Ev({encode:function(t){return Fs.isBuffer(t)?t:ArrayBuffer.isView(t)?Fs.from(t.buffer,t.byteOffset,t.byteLength):Fs.from(String(t),"utf8")},decode:o6,name:`${this.name}+buffer`})}});Qp.hex=new Ev({encode:function(t){return Fs.isBuffer(t)?t:Fs.from(String(t),"hex")},decode:function(t){return t.toString("hex")},name:"hex"});Qp.base64=new Ev({encode:function(t){return Fs.isBuffer(t)?t:Fs.from(String(t),"base64")},decode:function(t){return t.toString("base64")},name:"base64"})});var NN=de(LN=>{"use strict";F();var jN=hu(),a6=ON(),{Encoding:nme}=Px(),{BufferFormat:ome,ViewFormat:sme,UTF8Format:ame}=Bx(),Sv=Symbol("formats"),s6=Symbol("encodings"),fme=new Set(["buffer","view","utf8"]),Ox=class{constructor(e){if(Array.isArray(e)){if(!e.every(r=>fme.has(r)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}else throw new TypeError("The first argument 'formats' must be an array");this[s6]=new Map,this[Sv]=new Set(e);for(let r in a6)try{this.encoding(r)}catch(i){if(i.code!=="LEVEL_ENCODING_NOT_SUPPORTED")throw i}}encodings(){return Array.from(new Set(this[s6].values()))}encoding(e){let r=this[s6].get(e);if(r===void 0){if(typeof e=="string"&&e!==""){if(r=dme[e],!r)throw new jN(`Encoding '${e}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if(typeof e!="object"||e===null)throw new TypeError("First argument 'encoding' must be a string or object");r=ume(e)}let{name:i,format:n}=r;if(!this[Sv].has(n))if(this[Sv].has("view"))r=r.createViewTranscoder();else if(this[Sv].has("buffer"))r=r.createBufferTranscoder();else if(this[Sv].has("utf8"))r=r.createUTF8Transcoder();else throw new jN(`Encoding '${i}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});for(let s of[e,i,r.name,r.commonName])this[s6].set(s,r)}return r}};LN.Transcoder=Ox;function ume(t){if(t instanceof nme)return t;let e="type"in t&&typeof t.type=="string"?t.type:void 0,r=t.name||e||`anonymous-${hme++}`;switch(cme(t)){case"view":return new sme({...t,name:r});case"utf8":return new ame({...t,name:r});case"buffer":return new ome({...t,name:r});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}function cme(t){return"format"in t&&t.format!==void 0?t.format:"buffer"in t&&typeof t.buffer=="boolean"?t.buffer?"buffer":"utf8":"code"in t&&Number.isInteger(t.code)?"view":"buffer"}var lme={binary:a6.buffer,"utf-8":a6.utf8},dme={...a6,...lme},hme=0});var Pf=de((GGe,jx)=>{"use strict";F();var qm=typeof Reflect=="object"?Reflect:null,qN=qm&&typeof qm.apply=="function"?qm.apply:function(e,r,i){return Function.prototype.apply.call(e,r,i)},f6;qm&&typeof qm.ownKeys=="function"?f6=qm.ownKeys:Object.getOwnPropertySymbols?f6=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:f6=function(e){return Object.getOwnPropertyNames(e)};function pme(t){console&&console.warn&&console.warn(t)}var FN=Number.isNaN||function(e){return e!==e};function Li(){Li.init.call(this)}jx.exports=Li;jx.exports.once=bme;Li.EventEmitter=Li;Li.prototype._events=void 0;Li.prototype._eventsCount=0;Li.prototype._maxListeners=void 0;var zN=10;function u6(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Li,"defaultMaxListeners",{enumerable:!0,get:function(){return zN},set:function(t){if(typeof t!="number"||t<0||FN(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");zN=t}});Li.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Li.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||FN(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function UN(t){return t._maxListeners===void 0?Li.defaultMaxListeners:t._maxListeners}Li.prototype.getMaxListeners=function(){return UN(this)};Li.prototype.emit=function(e){for(var r=[],i=1;i<arguments.length;i++)r.push(arguments[i]);var n=e==="error",s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var f=s[e];if(f===void 0)return!1;if(typeof f=="function")qN(f,this,r);else for(var c=f.length,u=WN(f,c),i=0;i<c;++i)qN(u[i],this,r);return!0};function $N(t,e,r,i){var n,s,o;if(u6(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=i?[r,o]:[o,r]:i?o.unshift(r):o.push(r),n=UN(t),n>0&&o.length>n&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,pme(a)}return t}Li.prototype.addListener=function(e,r){return $N(this,e,r,!1)};Li.prototype.on=Li.prototype.addListener;Li.prototype.prependListener=function(e,r){return $N(this,e,r,!0)};function yme(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function VN(t,e,r){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},n=yme.bind(i);return n.listener=r,i.wrapFn=n,n}Li.prototype.once=function(e,r){return u6(r),this.on(e,VN(this,e,r)),this};Li.prototype.prependOnceListener=function(e,r){return u6(r),this.prependListener(e,VN(this,e,r)),this};Li.prototype.removeListener=function(e,r){var i,n,s,o,a;if(u6(r),n=this._events,n===void 0)return this;if(i=n[e],i===void 0)return this;if(i===r||i.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||r));else if(typeof i!="function"){for(s=-1,o=i.length-1;o>=0;o--)if(i[o]===r||i[o].listener===r){a=i[o].listener,s=o;break}if(s<0)return this;s===0?i.shift():mme(i,s),i.length===1&&(n[e]=i[0]),n.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};Li.prototype.off=Li.prototype.removeListener;Li.prototype.removeAllListeners=function(e){var r,i,n;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[e]),this;if(arguments.length===0){var s=Object.keys(i),o;for(n=0;n<s.length;++n)o=s[n],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=i[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(n=r.length-1;n>=0;n--)this.removeListener(e,r[n]);return this};function KN(t,e,r){var i=t._events;if(i===void 0)return[];var n=i[e];return n===void 0?[]:typeof n=="function"?r?[n.listener||n]:[n]:r?gme(n):WN(n,n.length)}Li.prototype.listeners=function(e){return KN(this,e,!0)};Li.prototype.rawListeners=function(e){return KN(this,e,!1)};Li.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):HN.call(t,e)};Li.prototype.listenerCount=HN;function HN(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Li.prototype.eventNames=function(){return this._eventsCount>0?f6(this._events):[]};function WN(t,e){for(var r=new Array(e),i=0;i<e;++i)r[i]=t[i];return r}function mme(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function gme(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function bme(t,e){return new Promise(function(r,i){function n(o){t.removeListener(e,s),i(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",n),r([].slice.call(arguments))}YN(t,e,s,{once:!0}),e!=="error"&&vme(t,n,{once:!0})})}function vme(t,e,r){typeof t.on=="function"&&YN(t,"error",e,r)}function YN(t,e,r,i){if(typeof t.on=="function")i.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function n(s){i.once&&t.removeEventListener(e,n),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var GN=de((XGe,ZN)=>{F();ZN.exports=typeof queueMicrotask=="function"?queueMicrotask:t=>Promise.resolve().then(t)});var xv=de(Lx=>{"use strict";F();var JN=GN();Lx.fromCallback=function(t,e){if(t===void 0){var r=new Promise(function(i,n){t=function(s,o){s?n(s):i(o)}});t[e!==void 0?e:"promise"]=r}else if(typeof t!="function")throw new TypeError("Callback must be a function");return t};Lx.fromPromise=function(t,e){if(e===void 0)return t;t.then(function(r){JN(()=>e(null,r))}).catch(function(r){JN(()=>e(r))})}});var c6=de(Nx=>{"use strict";F();Nx.getCallback=function(t,e){return typeof t=="function"?t:e};Nx.getOptions=function(t,e){return typeof t=="object"&&t!==null?t:e!==void 0?e:{}}});var Qd=de(p6=>{"use strict";F();var{fromCallback:qx}=xv(),Xa=hu(),{getOptions:zx,getCallback:XN}=c6(),e0=Symbol("promise"),zm=Symbol("callback"),uc=Symbol("working"),t0=Symbol("handleOne"),Tl=Symbol("handleMany"),Fx=Symbol("autoClose"),Jd=Symbol("finishWork"),cc=Symbol("returnMany"),Yd=Symbol("closing"),Av=Symbol("handleClose"),l6=Symbol("closed"),Mv=Symbol("closeCallbacks"),Gd=Symbol("keyEncoding"),r0=Symbol("valueEncoding"),Ux=Symbol("abortOnClose"),d6=Symbol("legacy"),$x=Symbol("keys"),Vx=Symbol("values"),Zd=Symbol("limit"),Df=Symbol("count"),h6=Object.freeze({}),wme=()=>{},QN=!1,kv=class{constructor(e,r,i){if(typeof e!="object"||e===null){let n=e===null?"null":typeof e;throw new TypeError(`The first argument must be an abstract-level database, received ${n}`)}if(typeof r!="object"||r===null)throw new TypeError("The second argument must be an options object");this[l6]=!1,this[Mv]=[],this[uc]=!1,this[Yd]=!1,this[Fx]=!1,this[zm]=null,this[t0]=this[t0].bind(this),this[Tl]=this[Tl].bind(this),this[Av]=this[Av].bind(this),this[Gd]=r[Gd],this[r0]=r[r0],this[d6]=i,this[Zd]=Number.isInteger(r.limit)&&r.limit>=0?r.limit:1/0,this[Df]=0,this[Ux]=!!r.abortOnClose,this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get count(){return this[Df]}get limit(){return this[Zd]}next(e){let r;if(e===void 0)r=new Promise((i,n)=>{e=(s,o,a)=>{s?n(s):this[d6]?o===void 0&&a===void 0?i():i([o,a]):i(o)}});else if(typeof e!="function")throw new TypeError("Callback must be a function");return this[Yd]?this.nextTick(e,new Xa("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[uc]?this.nextTick(e,new Xa("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[uc]=!0,this[zm]=e,this[Df]>=this[Zd]?this.nextTick(this[t0],null):this._next(this[t0])),r}_next(e){this.nextTick(e)}nextv(e,r,i){return i=XN(r,i),i=qx(i,e0),r=zx(r,h6),Number.isInteger(e)?(this[Yd]?this.nextTick(i,new Xa("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[uc]?this.nextTick(i,new Xa("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(e<1&&(e=1),this[Zd]<1/0&&(e=Math.min(e,this[Zd]-this[Df])),this[uc]=!0,this[zm]=i,e<=0?this.nextTick(this[Tl],null,[]):this._nextv(e,r,this[Tl])),i[e0]):(this.nextTick(i,new TypeError("The first argument 'size' must be an integer")),i[e0])}_nextv(e,r,i){let n=[],s=(o,a,f)=>{if(o)return i(o);if(this[d6]?a===void 0&&f===void 0:a===void 0)return i(null,n);n.push(this[d6]?[a,f]:a),n.length===e?i(null,n):this._next(s)};this._next(s)}all(e,r){return r=XN(e,r),r=qx(r,e0),e=zx(e,h6),this[Yd]?this.nextTick(r,new Xa("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[uc]?this.nextTick(r,new Xa("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[uc]=!0,this[zm]=r,this[Fx]=!0,this[Df]>=this[Zd]?this.nextTick(this[Tl],null,[]):this._all(e,this[Tl])),r[e0]}_all(e,r){let i=this[Df],n=[],s=()=>{let a=this[Zd]<1/0?Math.min(1e3,this[Zd]-i):1e3;a<=0?this.nextTick(r,null,n):this._nextv(a,h6,o)},o=(a,f)=>{a?r(a):f.length===0?r(null,n):(n.push.apply(n,f),i+=f.length,s())};s()}[Jd](){let e=this[zm];return this[Ux]&&e===null?wme:(this[uc]=!1,this[zm]=null,this[Yd]&&this._close(this[Av]),e)}[cc](e,r,i){this[Fx]?this.close(e.bind(null,r,i)):e(r,i)}seek(e,r){if(r=zx(r,h6),!this[Yd]){if(this[uc])throw new Xa("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{let i=this.db.keyEncoding(r.keyEncoding||this[Gd]),n=i.format;r.keyEncoding!==n&&(r={...r,keyEncoding:n});let s=this.db.prefixKey(i.encode(e),n);this._seek(s,r)}}}_seek(e,r){throw new Xa("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(e){return e=qx(e,e0),this[l6]?this.nextTick(e):this[Yd]?this[Mv].push(e):(this[Yd]=!0,this[Mv].push(e),this[uc]?this[Ux]&&this[Jd]()(new Xa("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[Av])),e[e0]}_close(e){this.nextTick(e)}[Av](){this[l6]=!0,this.db.detachResource(this);let e=this[Mv];this[Mv]=[];for(let r of e)r()}async*[Symbol.asyncIterator](){try{let e;for(;(e=await this.next())!==void 0;)yield e}finally{this[l6]||await this.close()}}},Fm=class extends kv{constructor(e,r){super(e,r,!0),this[$x]=r.keys!==!1,this[Vx]=r.values!==!1}[t0](e,r,i){let n=this[Jd]();if(e)return n(e);try{r=this[$x]&&r!==void 0?this[Gd].decode(r):void 0,i=this[Vx]&&i!==void 0?this[r0].decode(i):void 0}catch(s){return n(new Xd("entry",s))}r===void 0&&i===void 0||this[Df]++,n(null,r,i)}[Tl](e,r){let i=this[Jd]();if(e)return this[cc](i,e);try{for(let n of r){let s=n[0],o=n[1];n[0]=this[$x]&&s!==void 0?this[Gd].decode(s):void 0,n[1]=this[Vx]&&o!==void 0?this[r0].decode(o):void 0}}catch(n){return this[cc](i,new Xd("entries",n))}this[Df]+=r.length,this[cc](i,null,r)}end(e){return!QN&&typeof console<"u"&&(QN=!0,console.warn(new Xa("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(e)}},Kx=class extends kv{constructor(e,r){super(e,r,!1)}[t0](e,r){let i=this[Jd]();if(e)return i(e);try{r=r!==void 0?this[Gd].decode(r):void 0}catch(n){return i(new Xd("key",n))}r!==void 0&&this[Df]++,i(null,r)}[Tl](e,r){let i=this[Jd]();if(e)return this[cc](i,e);try{for(let n=0;n<r.length;n++){let s=r[n];r[n]=s!==void 0?this[Gd].decode(s):void 0}}catch(n){return this[cc](i,new Xd("keys",n))}this[Df]+=r.length,this[cc](i,null,r)}},Hx=class extends kv{constructor(e,r){super(e,r,!1)}[t0](e,r){let i=this[Jd]();if(e)return i(e);try{r=r!==void 0?this[r0].decode(r):void 0}catch(n){return i(new Xd("value",n))}r!==void 0&&this[Df]++,i(null,r)}[Tl](e,r){let i=this[Jd]();if(e)return this[cc](i,e);try{for(let n=0;n<r.length;n++){let s=r[n];r[n]=s!==void 0?this[r0].decode(s):void 0}}catch(n){return this[cc](i,new Xd("values",n))}this[Df]+=r.length,this[cc](i,null,r)}},Xd=class extends Xa{constructor(e,r){super(`Iterator could not decode ${e}`,{code:"LEVEL_DECODE_ERROR",cause:r})}};for(let t of["_ended property","_nexting property","_end method"])Object.defineProperty(Fm.prototype,t.split(" ")[0],{get(){throw new Xa(`The ${t} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new Xa(`The ${t} has been removed`,{code:"LEVEL_LEGACY"})}});Fm.keyEncoding=Gd;Fm.valueEncoding=r0;p6.AbstractIterator=Fm;p6.AbstractKeyIterator=Kx;p6.AbstractValueIterator=Hx});var eq=de(Wx=>{"use strict";F();var{AbstractKeyIterator:_me,AbstractValueIterator:Eme}=Qd(),i0=Symbol("iterator"),Tv=Symbol("callback"),Um=Symbol("handleOne"),n0=Symbol("handleMany"),Pv=class extends _me{constructor(e,r){super(e,r),this[i0]=e.iterator({...r,keys:!0,values:!1}),this[Um]=this[Um].bind(this),this[n0]=this[n0].bind(this)}},y6=class extends Eme{constructor(e,r){super(e,r),this[i0]=e.iterator({...r,keys:!1,values:!0}),this[Um]=this[Um].bind(this),this[n0]=this[n0].bind(this)}};for(let t of[Pv,y6]){let e=t===Pv,r=e?i=>i[0]:i=>i[1];t.prototype._next=function(i){this[Tv]=i,this[i0].next(this[Um])},t.prototype[Um]=function(i,n,s){let o=this[Tv];i?o(i):o(null,e?n:s)},t.prototype._nextv=function(i,n,s){this[Tv]=s,this[i0].nextv(i,n,this[n0])},t.prototype._all=function(i,n){this[Tv]=n,this[i0].all(i,this[n0])},t.prototype[n0]=function(i,n){let s=this[Tv];i?s(i):s(null,n.map(r))},t.prototype._seek=function(i,n){this[i0].seek(i,n)},t.prototype._close=function(i){this[i0].close(i)}}Wx.DefaultKeyIterator=Pv;Wx.DefaultValueIterator=y6});var tq=de(_6=>{"use strict";F();var{AbstractIterator:Sme,AbstractKeyIterator:xme,AbstractValueIterator:Ame}=Qd(),Yx=hu(),Aa=Symbol("nut"),v6=Symbol("undefer"),w6=Symbol("factory"),m6=class extends Sme{constructor(e,r){super(e,r),this[Aa]=null,this[w6]=()=>e.iterator(r),this.db.defer(()=>this[v6]())}},g6=class extends xme{constructor(e,r){super(e,r),this[Aa]=null,this[w6]=()=>e.keys(r),this.db.defer(()=>this[v6]())}},b6=class extends Ame{constructor(e,r){super(e,r),this[Aa]=null,this[w6]=()=>e.values(r),this.db.defer(()=>this[v6]())}};for(let t of[m6,g6,b6])t.prototype[v6]=function(){this.db.status==="open"&&(this[Aa]=this[w6]())},t.prototype._next=function(e){this[Aa]!==null?this[Aa].next(e):this.db.status==="opening"?this.db.defer(()=>this._next(e)):this.nextTick(e,new Yx("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._nextv=function(e,r,i){this[Aa]!==null?this[Aa].nextv(e,r,i):this.db.status==="opening"?this.db.defer(()=>this._nextv(e,r,i)):this.nextTick(i,new Yx("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._all=function(e,r){this[Aa]!==null?this[Aa].all(r):this.db.status==="opening"?this.db.defer(()=>this._all(e,r)):this.nextTick(r,new Yx("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._seek=function(e,r){this[Aa]!==null?this[Aa]._seek(e,r):this.db.status==="opening"&&this.db.defer(()=>this._seek(e,r))},t.prototype._close=function(e){this[Aa]!==null?this[Aa].close(e):this.db.status==="opening"?this.db.defer(()=>this._close(e)):this.nextTick(e)};_6.DeferredIterator=m6;_6.DeferredKeyIterator=g6;_6.DeferredValueIterator=b6});var Gx=de(iq=>{"use strict";F();var{fromCallback:rq}=xv(),E6=hu(),{getCallback:Mme,getOptions:kme}=c6(),S6=Symbol("promise"),If=Symbol("status"),$m=Symbol("operations"),Dv=Symbol("finishClose"),Vm=Symbol("closeCallbacks"),Zx=class{constructor(e){if(typeof e!="object"||e===null){let r=e===null?"null":typeof e;throw new TypeError(`The first argument must be an abstract-level database, received ${r}`)}this[$m]=[],this[Vm]=[],this[If]="open",this[Dv]=this[Dv].bind(this),this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get length(){return this[$m].length}put(e,r,i){if(this[If]!=="open")throw new E6("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let n=this.db._checkKey(e)||this.db._checkValue(r);if(n)throw n;let s=i&&i.sublevel!=null?i.sublevel:this.db,o=i,a=s.keyEncoding(i&&i.keyEncoding),f=s.valueEncoding(i&&i.valueEncoding),c=a.format;i={...i,keyEncoding:c,valueEncoding:f.format},s!==this.db&&(i.sublevel=null);let u=s.prefixKey(a.encode(e),c),l=f.encode(r);return this._put(u,l,i),this[$m].push({...o,type:"put",key:e,value:r}),this}_put(e,r,i){}del(e,r){if(this[If]!=="open")throw new E6("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let i=this.db._checkKey(e);if(i)throw i;let n=r&&r.sublevel!=null?r.sublevel:this.db,s=r,o=n.keyEncoding(r&&r.keyEncoding),a=o.format;return r={...r,keyEncoding:a},n!==this.db&&(r.sublevel=null),this._del(n.prefixKey(o.encode(e),a),r),this[$m].push({...s,type:"del",key:e}),this}_del(e,r){}clear(){if(this[If]!=="open")throw new E6("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[$m]=[],this}_clear(){}write(e,r){return r=Mme(e,r),r=rq(r,S6),e=kme(e),this[If]!=="open"?this.nextTick(r,new E6("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):this.length===0?this.close(r):(this[If]="writing",this._write(e,i=>{this[If]="closing",this[Vm].push(()=>r(i)),i||this.db.emit("batch",this[$m]),this._close(this[Dv])})),r[S6]}_write(e,r){}close(e){return e=rq(e,S6),this[If]==="closing"?this[Vm].push(e):this[If]==="closed"?this.nextTick(e):(this[Vm].push(e),this[If]!=="writing"&&(this[If]="closing",this._close(this[Dv]))),e[S6]}_close(e){this.nextTick(e)}[Dv](){this[If]="closed",this.db.detachResource(this);let e=this[Vm];this[Vm]=[];for(let r of e)r()}};iq.AbstractChainedBatch=Zx});var oq=de(nq=>{"use strict";F();var{AbstractChainedBatch:Tme}=Gx(),Pme=hu(),Km=Symbol("encoded"),Jx=class extends Tme{constructor(e){super(e),this[Km]=[]}_put(e,r,i){this[Km].push({...i,type:"put",key:e,value:r})}_del(e,r){this[Km].push({...r,type:"del",key:e})}_clear(){this[Km]=[]}_write(e,r){this.db.status==="opening"?this.db.defer(()=>this._write(e,r)):this.db.status==="open"?this[Km].length===0?this.nextTick(r):this.db._batch(this[Km],e,r):this.nextTick(r,new Pme("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}};nq.DefaultChainedBatch=Jx});var fq=de((pJe,aq)=>{"use strict";F();var sq=hu(),Dme=Object.prototype.hasOwnProperty,Ime=new Set(["lt","lte","gt","gte"]);aq.exports=function(t,e){let r={};for(let i in t)if(Dme.call(t,i)&&!(i==="keyEncoding"||i==="valueEncoding")){if(i==="start"||i==="end")throw new sq(`The legacy range option '${i}' has been removed`,{code:"LEVEL_LEGACY"});if(i==="encoding")throw new sq("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});Ime.has(i)?r[i]=e.encode(t[i]):r[i]=t[i]}return r.reverse=!!r.reverse,r.limit=Number.isInteger(r.limit)&&r.limit>=0?r.limit:-1,r}});var Xx=de((mJe,cq)=>{F();var uq;cq.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:globalThis):t=>(uq||(uq=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0))});var hq=de((bJe,dq)=>{"use strict";F();var lq=Xx();dq.exports=function(t,...e){e.length===0?lq(t):lq(()=>t(...e))}});var pq=de(x6=>{"use strict";F();var{AbstractIterator:Rme,AbstractKeyIterator:Bme,AbstractValueIterator:Cme}=Qd(),Hm=Symbol("unfix"),pu=Symbol("iterator"),o0=Symbol("handleOne"),eh=Symbol("handleMany"),Pl=Symbol("callback"),Iv=class extends Rme{constructor(e,r,i,n){super(e,r),this[pu]=i,this[Hm]=n,this[o0]=this[o0].bind(this),this[eh]=this[eh].bind(this),this[Pl]=null}[o0](e,r,i){let n=this[Pl];if(e)return n(e);r!==void 0&&(r=this[Hm](r)),n(e,r,i)}[eh](e,r){let i=this[Pl];if(e)return i(e);for(let n of r){let s=n[0];s!==void 0&&(n[0]=this[Hm](s))}i(e,r)}},Rv=class extends Bme{constructor(e,r,i,n){super(e,r),this[pu]=i,this[Hm]=n,this[o0]=this[o0].bind(this),this[eh]=this[eh].bind(this),this[Pl]=null}[o0](e,r){let i=this[Pl];if(e)return i(e);r!==void 0&&(r=this[Hm](r)),i(e,r)}[eh](e,r){let i=this[Pl];if(e)return i(e);for(let n=0;n<r.length;n++){let s=r[n];s!==void 0&&(r[n]=this[Hm](s))}i(e,r)}},Bv=class extends Cme{constructor(e,r,i){super(e,r),this[pu]=i}};for(let t of[Iv,Rv])t.prototype._next=function(e){this[Pl]=e,this[pu].next(this[o0])},t.prototype._nextv=function(e,r,i){this[Pl]=i,this[pu].nextv(e,r,this[eh])},t.prototype._all=function(e,r){this[Pl]=r,this[pu].all(e,this[eh])};for(let t of[Bv])t.prototype._next=function(e){this[pu].next(e)},t.prototype._nextv=function(e,r,i){this[pu].nextv(e,r,i)},t.prototype._all=function(e,r){this[pu].all(e,r)};for(let t of[Iv,Rv,Bv])t.prototype._seek=function(e,r){this[pu].seek(e,r)},t.prototype._close=function(e){this[pu].close(e)};x6.AbstractSublevelIterator=Iv;x6.AbstractSublevelKeyIterator=Rv;x6.AbstractSublevelValueIterator=Bv});var bq=de((EJe,gq)=>{"use strict";F();var Qx=hu(),{Buffer:rA}=ki()||{},{AbstractSublevelIterator:Ome,AbstractSublevelKeyIterator:jme,AbstractSublevelValueIterator:Lme}=pq(),Dl=Symbol("prefix"),yq=Symbol("upperBound"),Cv=Symbol("prefixRange"),Qa=Symbol("parent"),eA=Symbol("unfix"),mq=new TextEncoder,Nme={separator:"!"};gq.exports=function({AbstractLevel:t}){class e extends t{static defaults(i){if(typeof i=="string")throw new Qx("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(i&&i.open)throw new Qx("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return i==null?Nme:i.separator?i:{...i,separator:"!"}}constructor(i,n,s){let{separator:o,manifest:a,...f}=e.defaults(s);n=zme(n,o);let c=o.charCodeAt(0)+1,u=i[Qa]||i;if(!mq.encode(n).every(m=>m>c&&m<127))throw new Qx(`Prefix must use bytes > ${c} < ${127}`,{code:"LEVEL_INVALID_PREFIX"});super(qme(u,a),f);let l=(i.prefix||"")+o+n+o,y=l.slice(0,-1)+String.fromCharCode(c);this[Qa]=u,this[Dl]=new A6(l),this[yq]=new A6(y),this[eA]=new iA,this.nextTick=u.nextTick}prefixKey(i,n){if(n==="utf8")return this[Dl].utf8+i;if(i.byteLength===0)return this[Dl][n];if(n==="view"){let s=this[Dl].view,o=new Uint8Array(s.byteLength+i.byteLength);return o.set(s,0),o.set(i,s.byteLength),o}else{let s=this[Dl].buffer;return rA.concat([s,i],s.byteLength+i.byteLength)}}[Cv](i,n){i.gte!==void 0?i.gte=this.prefixKey(i.gte,n):i.gt!==void 0?i.gt=this.prefixKey(i.gt,n):i.gte=this[Dl][n],i.lte!==void 0?i.lte=this.prefixKey(i.lte,n):i.lt!==void 0?i.lt=this.prefixKey(i.lt,n):i.lte=this[yq][n]}get prefix(){return this[Dl].utf8}get db(){return this[Qa]}_open(i,n){this[Qa].open({passive:!0},n)}_put(i,n,s,o){this[Qa].put(i,n,s,o)}_get(i,n,s){this[Qa].get(i,n,s)}_getMany(i,n,s){this[Qa].getMany(i,n,s)}_del(i,n,s){this[Qa].del(i,n,s)}_batch(i,n,s){this[Qa].batch(i,n,s)}_clear(i,n){this[Cv](i,i.keyEncoding),this[Qa].clear(i,n)}_iterator(i){this[Cv](i,i.keyEncoding);let n=this[Qa].iterator(i),s=this[eA].get(this[Dl].utf8.length,i.keyEncoding);return new Ome(this,i,n,s)}_keys(i){this[Cv](i,i.keyEncoding);let n=this[Qa].keys(i),s=this[eA].get(this[Dl].utf8.length,i.keyEncoding);return new jme(this,i,n,s)}_values(i){this[Cv](i,i.keyEncoding);let n=this[Qa].values(i);return new Lme(this,i,n)}}return{AbstractSublevel:e}};var qme=function(t,e){return{...t.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...e,encodings:{utf8:tA(t,"utf8"),buffer:tA(t,"buffer"),view:tA(t,"view")}}},tA=function(t,e){return t.supports.encodings[e]?t.keyEncoding(e).name===e:!1},A6=class{constructor(e){this.utf8=e,this.view=mq.encode(e),this.buffer=rA?rA.from(this.view.buffer,0,this.view.byteLength):{}}},iA=class{constructor(){this.cache=new Map}get(e,r){let i=this.cache.get(r);return i===void 0&&(r==="view"?i=function(n,s){return s.subarray(n)}.bind(null,e):i=function(n,s){return s.slice(n)}.bind(null,e),this.cache.set(r,i)),i}},zme=function(t,e){let r=0,i=t.length;for(;r<i&&t[r]===e;)r++;for(;i>r&&t[i-1]===e;)i--;return t.slice(r,i)}});var fA=de(aA=>{"use strict";F();var{supports:Fme}=TN(),{Transcoder:Ume}=NN(),{EventEmitter:$me}=Pf(),{fromCallback:th}=xv(),yu=hu(),{AbstractIterator:s0}=Qd(),{DefaultKeyIterator:Vme,DefaultValueIterator:Kme}=eq(),{DeferredIterator:Hme,DeferredKeyIterator:Wme,DeferredValueIterator:Yme}=tq(),{DefaultChainedBatch:vq}=oq(),{getCallback:a0,getOptions:rh}=c6(),M6=fq(),wr=Symbol("promise"),Il=Symbol("landed"),f0=Symbol("resources"),nA=Symbol("closeResources"),Ov=Symbol("operations"),jv=Symbol("undefer"),k6=Symbol("deferOpen"),wq=Symbol("options"),Br=Symbol("status"),u0=Symbol("defaultOptions"),Wm=Symbol("transcoder"),T6=Symbol("keyEncoding"),oA=Symbol("valueEncoding"),Zme=()=>{},Lv=class extends $me{constructor(e,r){if(super(),typeof e!="object"||e===null)throw new TypeError("The first argument 'manifest' must be an object");r=rh(r);let{keyEncoding:i,valueEncoding:n,passive:s,...o}=r;this[f0]=new Set,this[Ov]=[],this[k6]=!0,this[wq]=o,this[Br]="opening",this.supports=Fme(e,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:e.snapshots!==!1,permanence:e.permanence!==!1,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:e.encodings||{},events:Object.assign({},e.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[Wm]=new Ume(Gme(this)),this[T6]=this[Wm].encoding(i||"utf8"),this[oA]=this[Wm].encoding(n||"utf8");for(let a of this[Wm].encodings())this.supports.encodings[a.commonName]||(this.supports.encodings[a.commonName]=!0);this[u0]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[T6].commonName,valueEncoding:this[oA].commonName}),key:Object.freeze({keyEncoding:this[T6].commonName})},this.nextTick(()=>{this[k6]&&this.open({passive:!1},Zme)})}get status(){return this[Br]}keyEncoding(e){return this[Wm].encoding(e??this[T6])}valueEncoding(e){return this[Wm].encoding(e??this[oA])}open(e,r){r=a0(e,r),r=th(r,wr),e={...this[wq],...rh(e)},e.createIfMissing=e.createIfMissing!==!1,e.errorIfExists=!!e.errorIfExists;let i=n=>{this[Br]==="closing"||this[Br]==="opening"?this.once(Il,n?()=>i(n):i):this[Br]!=="open"?r(new yu("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:n})):r()};return e.passive?this[Br]==="opening"?this.once(Il,i):this.nextTick(i):this[Br]==="closed"||this[k6]?(this[k6]=!1,this[Br]="opening",this.emit("opening"),this._open(e,n=>{if(n){this[Br]="closed",this[nA](()=>{this.emit(Il),i(n)}),this[jv]();return}this[Br]="open",this[jv](),this.emit(Il),this[Br]==="open"&&this.emit("open"),this[Br]==="open"&&this.emit("ready"),i()})):this[Br]==="open"?this.nextTick(i):this.once(Il,()=>this.open(e,r)),r[wr]}_open(e,r){this.nextTick(r)}close(e){e=th(e,wr);let r=i=>{this[Br]==="opening"||this[Br]==="closing"?this.once(Il,i?r(i):r):this[Br]!=="closed"?e(new yu("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:i})):e()};if(this[Br]==="open"){this[Br]="closing",this.emit("closing");let i=n=>{this[Br]="open",this[jv](),this.emit(Il),r(n)};this[nA](()=>{this._close(n=>{if(n)return i(n);this[Br]="closed",this[jv](),this.emit(Il),this[Br]==="closed"&&this.emit("closed"),r()})})}else this[Br]==="closed"?this.nextTick(r):this.once(Il,()=>this.close(e));return e[wr]}[nA](e){if(this[f0].size===0)return this.nextTick(e);let r=this[f0].size,i=!0,n=()=>{--r===0&&(i?this.nextTick(e):e())};for(let s of this[f0])s.close(n);i=!1,this[f0].clear()}_close(e){this.nextTick(e)}get(e,r,i){if(i=a0(r,i),i=th(i,wr),r=rh(r,this[u0].entry),this[Br]==="opening")return this.defer(()=>this.get(e,r,i)),i[wr];if(Ym(this,i))return i[wr];let n=this._checkKey(e);if(n)return this.nextTick(i,n),i[wr];let s=this.keyEncoding(r.keyEncoding),o=this.valueEncoding(r.valueEncoding),a=s.format,f=o.format;return(r.keyEncoding!==a||r.valueEncoding!==f)&&(r=Object.assign({},r,{keyEncoding:a,valueEncoding:f})),this._get(this.prefixKey(s.encode(e),a),r,(c,u)=>{if(c)return(c.code==="LEVEL_NOT_FOUND"||c.notFound||/NotFound/i.test(c))&&(c.code||(c.code="LEVEL_NOT_FOUND"),c.notFound||(c.notFound=!0),c.status||(c.status=404)),i(c);try{u=o.decode(u)}catch(l){return i(new yu("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:l}))}i(null,u)}),i[wr]}_get(e,r,i){this.nextTick(i,new Error("NotFound"))}getMany(e,r,i){if(i=a0(r,i),i=th(i,wr),r=rh(r,this[u0].entry),this[Br]==="opening")return this.defer(()=>this.getMany(e,r,i)),i[wr];if(Ym(this,i))return i[wr];if(!Array.isArray(e))return this.nextTick(i,new TypeError("The first argument 'keys' must be an array")),i[wr];if(e.length===0)return this.nextTick(i,null,[]),i[wr];let n=this.keyEncoding(r.keyEncoding),s=this.valueEncoding(r.valueEncoding),o=n.format,a=s.format;(r.keyEncoding!==o||r.valueEncoding!==a)&&(r=Object.assign({},r,{keyEncoding:o,valueEncoding:a}));let f=new Array(e.length);for(let c=0;c<e.length;c++){let u=e[c],l=this._checkKey(u);if(l)return this.nextTick(i,l),i[wr];f[c]=this.prefixKey(n.encode(u),o)}return this._getMany(f,r,(c,u)=>{if(c)return i(c);try{for(let l=0;l<u.length;l++)u[l]!==void 0&&(u[l]=s.decode(u[l]))}catch(l){return i(new yu(`Could not decode one or more of ${u.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:l}))}i(null,u)}),i[wr]}_getMany(e,r,i){this.nextTick(i,null,new Array(e.length).fill(void 0))}put(e,r,i,n){if(n=a0(i,n),n=th(n,wr),i=rh(i,this[u0].entry),this[Br]==="opening")return this.defer(()=>this.put(e,r,i,n)),n[wr];if(Ym(this,n))return n[wr];let s=this._checkKey(e)||this._checkValue(r);if(s)return this.nextTick(n,s),n[wr];let o=this.keyEncoding(i.keyEncoding),a=this.valueEncoding(i.valueEncoding),f=o.format,c=a.format;(i.keyEncoding!==f||i.valueEncoding!==c)&&(i=Object.assign({},i,{keyEncoding:f,valueEncoding:c}));let u=this.prefixKey(o.encode(e),f),l=a.encode(r);return this._put(u,l,i,y=>{if(y)return n(y);this.emit("put",e,r),n()}),n[wr]}_put(e,r,i,n){this.nextTick(n)}del(e,r,i){if(i=a0(r,i),i=th(i,wr),r=rh(r,this[u0].key),this[Br]==="opening")return this.defer(()=>this.del(e,r,i)),i[wr];if(Ym(this,i))return i[wr];let n=this._checkKey(e);if(n)return this.nextTick(i,n),i[wr];let s=this.keyEncoding(r.keyEncoding),o=s.format;return r.keyEncoding!==o&&(r=Object.assign({},r,{keyEncoding:o})),this._del(this.prefixKey(s.encode(e),o),r,a=>{if(a)return i(a);this.emit("del",e),i()}),i[wr]}_del(e,r,i){this.nextTick(i)}batch(e,r,i){if(!arguments.length){if(this[Br]==="opening")return new vq(this);if(this[Br]!=="open")throw new yu("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(typeof e=="function"?i=e:i=a0(r,i),i=th(i,wr),r=rh(r,this[u0].empty),this[Br]==="opening")return this.defer(()=>this.batch(e,r,i)),i[wr];if(Ym(this,i))return i[wr];if(!Array.isArray(e))return this.nextTick(i,new TypeError("The first argument 'operations' must be an array")),i[wr];if(e.length===0)return this.nextTick(i),i[wr];let n=new Array(e.length),{keyEncoding:s,valueEncoding:o,...a}=r;for(let f=0;f<e.length;f++){if(typeof e[f]!="object"||e[f]===null)return this.nextTick(i,new TypeError("A batch operation must be an object")),i[wr];let c=Object.assign({},e[f]);if(c.type!=="put"&&c.type!=="del")return this.nextTick(i,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),i[wr];let u=this._checkKey(c.key);if(u)return this.nextTick(i,u),i[wr];let l=c.sublevel!=null?c.sublevel:this,y=l.keyEncoding(c.keyEncoding||s),m=y.format;if(c.key=l.prefixKey(y.encode(c.key),m),c.keyEncoding=m,c.type==="put"){let g=this._checkValue(c.value);if(g)return this.nextTick(i,g),i[wr];let E=l.valueEncoding(c.valueEncoding||o);c.value=E.encode(c.value),c.valueEncoding=E.format}l!==this&&(c.sublevel=null),n[f]=c}return this._batch(n,a,f=>{if(f)return i(f);this.emit("batch",e),i()}),i[wr]}_batch(e,r,i){this.nextTick(i)}sublevel(e,r){return this._sublevel(e,sA.defaults(r))}_sublevel(e,r){return new sA(this,e,r)}prefixKey(e,r){return e}clear(e,r){if(r=a0(e,r),r=th(r,wr),e=rh(e,this[u0].empty),this[Br]==="opening")return this.defer(()=>this.clear(e,r)),r[wr];if(Ym(this,r))return r[wr];let i=e,n=this.keyEncoding(e.keyEncoding);return e=M6(e,n),e.keyEncoding=n.format,e.limit===0?this.nextTick(r):this._clear(e,s=>{if(s)return r(s);this.emit("clear",i),r()}),r[wr]}_clear(e,r){this.nextTick(r)}iterator(e){let r=this.keyEncoding(e&&e.keyEncoding),i=this.valueEncoding(e&&e.valueEncoding);if(e=M6(e,r),e.keys=e.keys!==!1,e.values=e.values!==!1,e[s0.keyEncoding]=r,e[s0.valueEncoding]=i,e.keyEncoding=r.format,e.valueEncoding=i.format,this[Br]==="opening")return new Hme(this,e);if(this[Br]!=="open")throw new yu("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(e)}_iterator(e){return new s0(this,e)}keys(e){let r=this.keyEncoding(e&&e.keyEncoding),i=this.valueEncoding(e&&e.valueEncoding);if(e=M6(e,r),e[s0.keyEncoding]=r,e[s0.valueEncoding]=i,e.keyEncoding=r.format,e.valueEncoding=i.format,this[Br]==="opening")return new Wme(this,e);if(this[Br]!=="open")throw new yu("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(e)}_keys(e){return new Vme(this,e)}values(e){let r=this.keyEncoding(e&&e.keyEncoding),i=this.valueEncoding(e&&e.valueEncoding);if(e=M6(e,r),e[s0.keyEncoding]=r,e[s0.valueEncoding]=i,e.keyEncoding=r.format,e.valueEncoding=i.format,this[Br]==="opening")return new Yme(this,e);if(this[Br]!=="open")throw new yu("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(e)}_values(e){return new Kme(this,e)}defer(e){if(typeof e!="function")throw new TypeError("The first argument must be a function");this[Ov].push(e)}[jv](){if(this[Ov].length===0)return;let e=this[Ov];this[Ov]=[];for(let r of e)r()}attachResource(e){if(typeof e!="object"||e===null||typeof e.close!="function")throw new TypeError("The first argument must be a resource object");this[f0].add(e)}detachResource(e){this[f0].delete(e)}_chainedBatch(){return new vq(this)}_checkKey(e){if(e==null)return new yu("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(e){if(e==null)return new yu("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}};Lv.prototype.nextTick=hq();var{AbstractSublevel:sA}=bq()({AbstractLevel:Lv});aA.AbstractLevel=Lv;aA.AbstractSublevel=sA;var Ym=function(t,e){return t[Br]!=="open"?(t.nextTick(e,new yu("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0):!1},Gme=function(t){return Object.keys(t.supports.encodings).filter(e=>!!t.supports.encodings[e])}});var uA=de(c0=>{"use strict";F();c0.AbstractLevel=fA().AbstractLevel;c0.AbstractSublevel=fA().AbstractSublevel;c0.AbstractIterator=Qd().AbstractIterator;c0.AbstractKeyIterator=Qd().AbstractKeyIterator;c0.AbstractValueIterator=Qd().AbstractValueIterator;c0.AbstractChainedBatch=Gx().AbstractChainedBatch});var Eq=de((TJe,_q)=>{F();_q.exports=Xme;var Jme=Xx();function Xme(t,e,r){if(typeof e!="number")throw new Error("second argument must be a Number");let i,n,s,o,a,f=!0,c;Array.isArray(t)?(i=[],s=n=t.length):(o=Object.keys(t),i={},s=n=o.length);function u(y){function m(){r&&r(y,i),r=null}f?Jme(m):m()}function l(y,m,g){if(i[y]=g,m&&(a=!0),--s===0||m)u(m);else if(!a&&c<n){let E;o?(E=o[c],c+=1,t[E](function(x,T){l(E,x,T)})):(E=c,c+=1,t[E](function(x,T){l(E,x,T)}))}}c=e,s?o?o.some(function(y,m){return t[y](function(g,E){l(y,g,E)}),m===e-1}):t.some(function(y,m){return y(function(g,E){l(m,g,E)}),m===e-1}):u(null),f=!1}});var cA=de((DJe,Sq)=>{"use strict";F();Sq.exports=function(e){let r=e.gte!==void 0?e.gte:e.gt!==void 0?e.gt:void 0,i=e.lte!==void 0?e.lte:e.lt!==void 0?e.lt:void 0,n=e.gte===void 0,s=e.lte===void 0;return r!==void 0&&i!==void 0?IDBKeyRange.bound(r,i,n,s):r!==void 0?IDBKeyRange.lowerBound(r,n):i!==void 0?IDBKeyRange.upperBound(i,s):null}});var lA=de((RJe,xq)=>{"use strict";F();var Qme=new TextEncoder;xq.exports=function(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):Qme.encode(t)}});var Pq=de(Tq=>{"use strict";F();var{AbstractIterator:ege}=uA(),Aq=cA(),P6=lA(),lc=Symbol("cache"),Rl=Symbol("finished"),ef=Symbol("options"),Bl=Symbol("currentOptions"),l0=Symbol("position"),dA=Symbol("location"),Zm=Symbol("first"),Mq={},hA=class extends ege{constructor(e,r,i){super(e,i),this[lc]=[],this[Rl]=this.limit===0,this[ef]=i,this[Bl]={...i},this[l0]=void 0,this[dA]=r,this[Zm]=!0}_nextv(e,r,i){if(this[Zm]=!1,this[Rl])return this.nextTick(i,null,[]);if(this[lc].length>0)return e=Math.min(e,this[lc].length),this.nextTick(i,null,this[lc].splice(0,e));this[l0]!==void 0&&(this[ef].reverse?(this[Bl].lt=this[l0],this[Bl].lte=void 0):(this[Bl].gt=this[l0],this[Bl].gte=void 0));let n;try{n=Aq(this[Bl])}catch{return this[Rl]=!0,this.nextTick(i,null,[])}let s=this.db.db.transaction([this[dA]],"readonly"),o=s.objectStore(this[dA]),a=[];if(this[ef].reverse){let f=!this[ef].values&&o.openKeyCursor?"openKeyCursor":"openCursor";o[f](n,"prev").onsuccess=c=>{let u=c.target.result;if(u){let{key:l,value:y}=u;this[l0]=l,a.push([this[ef].keys&&l!==void 0?P6(l):void 0,this[ef].values&&y!==void 0?P6(y):void 0]),a.length<e?u.continue():kq(s)}else this[Rl]=!0}}else{let f,c,u=()=>{if(f===void 0||c===void 0)return;let l=Math.max(f.length,c.length);l===0||e===1/0?this[Rl]=!0:this[l0]=f[l-1],a.length=l;for(let y=0;y<l;y++){let m=f[y],g=c[y];a[y]=[this[ef].keys&&m!==void 0?P6(m):void 0,this[ef].values&&g!==void 0?P6(g):void 0]}kq(s)};this[ef].keys||e<1/0?o.getAllKeys(n,e<1/0?e:void 0).onsuccess=l=>{f=l.target.result,u()}:(f=[],this.nextTick(u)),this[ef].values?o.getAll(n,e<1/0?e:void 0).onsuccess=l=>{c=l.target.result,u()}:(c=[],this.nextTick(u))}s.onabort=()=>{i(s.error||new Error("aborted by user")),i=null},s.oncomplete=()=>{i(null,a),i=null}}_next(e){if(this[lc].length>0){let[r,i]=this[lc].shift();this.nextTick(e,null,r,i)}else if(this[Rl])this.nextTick(e);else{let r=Math.min(100,this.limit-this.count);this[Zm]&&(this[Zm]=!1,r=1),this._nextv(r,Mq,(i,n)=>{if(i)return e(i);this[lc]=n,this._next(e)})}}_all(e,r){this[Zm]=!1;let i=this[lc].splice(0,this[lc].length),n=this.limit-this.count-i.length;if(n<=0)return this.nextTick(r,null,i);this._nextv(n,Mq,(s,o)=>{if(s)return r(s);i.length>0&&(o=i.concat(o)),r(null,o)})}_seek(e,r){this[Zm]=!0,this[lc]=[],this[Rl]=!1,this[l0]=void 0,this[Bl]={...this[ef]};let i;try{i=Aq(this[ef])}catch{this[Rl]=!0;return}i!==null&&!i.includes(e)?this[Rl]=!0:this[ef].reverse?this[Bl].lte=e:this[Bl].gte=e}};Tq.Iterator=hA;function kq(t){typeof t.commit=="function"&&t.commit()}});var Iq=de((jJe,Dq)=>{"use strict";F();Dq.exports=function(e,r,i,n,s){if(n.limit===0)return e.nextTick(s);let o=e.db.transaction([r],"readwrite"),a=o.objectStore(r),f=0;o.oncomplete=function(){s()},o.onabort=function(){s(o.error||new Error("aborted by user"))};let c=a.openKeyCursor?"openKeyCursor":"openCursor",u=n.reverse?"prev":"next";a[c](i,u).onsuccess=function(l){let y=l.target.result;y&&(a.delete(y.key).onsuccess=function(){(n.limit<=0||++f<n.limit)&&y.continue()})}}});var Lq=de(jq=>{"use strict";F();var{AbstractLevel:tge}=uA(),Rq=hu(),rge=Eq(),{fromCallback:ige}=xv(),{Iterator:nge}=Pq(),Bq=lA(),oge=Iq(),sge=cA(),Oq="level-js-",Nv=Symbol("idb"),pA=Symbol("namePrefix"),Cl=Symbol("location"),yA=Symbol("version"),d0=Symbol("store"),qv=Symbol("onComplete"),Cq=Symbol("promise"),D6=class extends tge{constructor(e,r,i){if(typeof r=="function"||typeof i=="function")throw new Rq("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});let{prefix:n,version:s,...o}=r||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},o),typeof e!="string")throw new Error("constructor requires a location string argument");this[Cl]=e,this[pA]=n??Oq,this[yA]=parseInt(s||1,10),this[Nv]=null}get location(){return this[Cl]}get namePrefix(){return this[pA]}get version(){return this[yA]}get db(){return this[Nv]}get type(){return"browser-level"}_open(e,r){let i=indexedDB.open(this[pA]+this[Cl],this[yA]);i.onerror=function(){r(i.error||new Error("unknown error"))},i.onsuccess=()=>{this[Nv]=i.result,r()},i.onupgradeneeded=n=>{let s=n.target.result;s.objectStoreNames.contains(this[Cl])||s.createObjectStore(this[Cl])}}[d0](e){return this[Nv].transaction([this[Cl]],e).objectStore(this[Cl])}[qv](e,r){let i=e.transaction;i.onabort=function(){r(i.error||new Error("aborted by user"))},i.oncomplete=function(){r(null,e.result)}}_get(e,r,i){let n=this[d0]("readonly"),s;try{s=n.get(e)}catch(o){return this.nextTick(i,o)}this[qv](s,function(o,a){if(o)return i(o);if(a===void 0)return i(new Rq("Entry not found",{code:"LEVEL_NOT_FOUND"}));i(null,Bq(a))})}_getMany(e,r,i){let n=this[d0]("readonly"),s=e.map(o=>a=>{let f;try{f=n.get(o)}catch(c){return a(c)}f.onsuccess=()=>{let c=f.result;a(null,c===void 0?c:Bq(c))},f.onerror=c=>{c.stopPropagation(),a(f.error)}});rge(s,16,i)}_del(e,r,i){let n=this[d0]("readwrite"),s;try{s=n.delete(e)}catch(o){return this.nextTick(i,o)}this[qv](s,i)}_put(e,r,i,n){let s=this[d0]("readwrite"),o;try{o=s.put(r,e)}catch(a){return this.nextTick(n,a)}this[qv](o,n)}_iterator(e){return new nge(this,this[Cl],e)}_batch(e,r,i){let n=this[d0]("readwrite"),s=n.transaction,o=0,a;s.onabort=function(){i(a||s.error||new Error("aborted by user"))},s.oncomplete=function(){i()};function f(){let c=e[o++],u=c.key,l;try{l=c.type==="del"?n.delete(u):n.put(c.value,u)}catch(y){a=y,s.abort();return}o<e.length?l.onsuccess=f:typeof s.commit=="function"&&s.commit()}f()}_clear(e,r){let i,n;try{i=sge(e)}catch{return this.nextTick(r)}if(e.limit>=0)return oge(this,this[Cl],i,e,r);try{let s=this[d0]("readwrite");n=i?s.delete(i):s.clear()}catch(s){return this.nextTick(r,s)}this[qv](n,r)}_close(e){this[Nv].close(),this.nextTick(e)}};D6.destroy=function(t,e,r){typeof e=="function"&&(r=e,e=Oq),r=ige(r,Cq);let i=indexedDB.deleteDatabase(e+t);return i.onsuccess=function(){r()},i.onerror=function(n){r(n)},r[Cq]};jq.BrowserLevel=D6});var I6=de(Nq=>{F();Nq.Level=Lq().BrowserLevel});var mA=de((UJe,Uq)=>{F();Uq.exports=zv;zv.flatten=zv;zv.unflatten=Fq;function qq(t){return t&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function zq(t){return t}function zv(t,e){e=e||{};let r=e.delimiter||".",i=e.maxDepth,n=e.transformKey||zq,s={};function o(a,f,c){c=c||1,Object.keys(a).forEach(function(u){let l=a[u],y=e.safe&&Array.isArray(l),m=Object.prototype.toString.call(l),g=qq(l),E=m==="[object Object]"||m==="[object Array]",x=f?f+r+n(u):n(u);if(!y&&!g&&E&&Object.keys(l).length&&(!e.maxDepth||c<i))return o(l,x,c+1);s[x]=l})}return o(t),s}function Fq(t,e){e=e||{};let r=e.delimiter||".",i=e.overwrite||!1,n=e.transformKey||zq,s={};if(qq(t)||Object.prototype.toString.call(t)!=="[object Object]")return t;function a(u){let l=Number(u);return isNaN(l)||u.indexOf(".")!==-1||e.object?u:l}function f(u,l,y){return Object.keys(y).reduce(function(m,g){return m[u+r+g]=y[g],m},l)}function c(u){let l=Object.prototype.toString.call(u),y=l==="[object Array]",m=l==="[object Object]";if(u){if(y)return!u.length;if(m)return!Object.keys(u).length}else return!0}return t=Object.keys(t).reduce(function(u,l){let y=Object.prototype.toString.call(t[l]);return!(y==="[object Object]"||y==="[object Array]")||c(t[l])?(u[l]=t[l],u):f(l,u,zv(t[l],e))},{}),Object.keys(t).forEach(function(u){let l=u.split(r).map(n),y=a(l.shift()),m=a(l[0]),g=s;for(;m!==void 0;){if(y==="__proto__")return;let E=Object.prototype.toString.call(g[y]),x=E==="[object Object]"||E==="[object Array]";if(!i&&!x&&typeof g[y]<"u")return;(i&&!x||!i&&g[y]==null)&&(g[y]=typeof m=="number"&&!e.object?[]:{}),g=g[y],l.length>0&&(y=a(l.shift()),m=a(l[0]))}g[y]=Fq(t[u],e)}),s}});var ia=de((YQe,cF)=>{"use strict";F();function uF(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function R1e(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return uF(t,r)}catch{r.message=t.message,r.stack=t.stack;let n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(t)),uF(new n,r)}}cF.exports=R1e});var LA=de((GQe,lF)=>{"use strict";F();lF.exports=B1e;function B1e(t,e){for(var r=new Array(arguments.length-1),i=0,n=2,s=!0;n<arguments.length;)r[i++]=arguments[n++];return new Promise(function(a,f){r[i]=function(u){if(s)if(s=!1,u)f(u);else{for(var l=new Array(arguments.length-1),y=0;y<l.length;)l[y++]=arguments[y];a.apply(null,l)}};try{t.apply(e||null,r)}catch(c){s&&(s=!1,f(c))}})}});var NA=de(pF=>{"use strict";F();var W6=pF;W6.length=function(e){var r=e.length;if(!r)return 0;for(var i=0;--r%4>1&&e.charAt(r)==="=";)++i;return Math.ceil(e.length*3)/4-i};var ug=new Array(64),hF=new Array(123);for(bu=0;bu<64;)hF[ug[bu]=bu<26?bu+65:bu<52?bu+71:bu<62?bu-4:bu-59|43]=bu++;var bu;W6.encode=function(e,r,i){for(var n=null,s=[],o=0,a=0,f;r<i;){var c=e[r++];switch(a){case 0:s[o++]=ug[c>>2],f=(c&3)<<4,a=1;break;case 1:s[o++]=ug[f|c>>4],f=(c&15)<<2,a=2;break;case 2:s[o++]=ug[f|c>>6],s[o++]=ug[c&63],a=0;break}o>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,s)),o=0)}return a&&(s[o++]=ug[f],s[o++]=61,a===1&&(s[o++]=61)),n?(o&&n.push(String.fromCharCode.apply(String,s.slice(0,o))),n.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var dF="invalid encoding";W6.decode=function(e,r,i){for(var n=i,s=0,o,a=0;a<e.length;){var f=e.charCodeAt(a++);if(f===61&&s>1)break;if((f=hF[f])===void 0)throw Error(dF);switch(s){case 0:o=f,s=1;break;case 1:r[i++]=o<<2|(f&48)>>4,o=f,s=2;break;case 2:r[i++]=(o&15)<<4|(f&60)>>2,o=f,s=3;break;case 3:r[i++]=(o&3)<<6|f,s=0;break}}if(s===1)throw Error(dF);return i-n};W6.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var qA=de((eet,yF)=>{"use strict";F();yF.exports=Y6;function Y6(){this._listeners={}}Y6.prototype.on=function(e,r,i){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:i||this}),this};Y6.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var i=this._listeners[e],n=0;n<i.length;)i[n].fn===r?i.splice(n,1):++n;return this};Y6.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var i=[],n=1;n<arguments.length;)i.push(arguments[n++]);for(n=0;n<r.length;)r[n].fn.apply(r[n++].ctx,i)}return this}});var zA=de((ret,_F)=>{"use strict";F();_F.exports=mF(mF);function mF(t){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),i=r[3]===128;function n(f,c,u){e[0]=f,c[u]=r[0],c[u+1]=r[1],c[u+2]=r[2],c[u+3]=r[3]}function s(f,c,u){e[0]=f,c[u]=r[3],c[u+1]=r[2],c[u+2]=r[1],c[u+3]=r[0]}t.writeFloatLE=i?n:s,t.writeFloatBE=i?s:n;function o(f,c){return r[0]=f[c],r[1]=f[c+1],r[2]=f[c+2],r[3]=f[c+3],e[0]}function a(f,c){return r[3]=f[c],r[2]=f[c+1],r[1]=f[c+2],r[0]=f[c+3],e[0]}t.readFloatLE=i?o:a,t.readFloatBE=i?a:o}():function(){function e(i,n,s,o){var a=n<0?1:0;if(a&&(n=-n),n===0)i(1/n>0?0:2147483648,s,o);else if(isNaN(n))i(2143289344,s,o);else if(n>34028234663852886e22)i((a<<31|2139095040)>>>0,s,o);else if(n<11754943508222875e-54)i((a<<31|Math.round(n/1401298464324817e-60))>>>0,s,o);else{var f=Math.floor(Math.log(n)/Math.LN2),c=Math.round(n*Math.pow(2,-f)*8388608)&8388607;i((a<<31|f+127<<23|c)>>>0,s,o)}}t.writeFloatLE=e.bind(null,gF),t.writeFloatBE=e.bind(null,bF);function r(i,n,s){var o=i(n,s),a=(o>>31)*2+1,f=o>>>23&255,c=o&8388607;return f===255?c?NaN:a*(1/0):f===0?a*1401298464324817e-60*c:a*Math.pow(2,f-150)*(c+8388608)}t.readFloatLE=r.bind(null,vF),t.readFloatBE=r.bind(null,wF)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),i=r[7]===128;function n(f,c,u){e[0]=f,c[u]=r[0],c[u+1]=r[1],c[u+2]=r[2],c[u+3]=r[3],c[u+4]=r[4],c[u+5]=r[5],c[u+6]=r[6],c[u+7]=r[7]}function s(f,c,u){e[0]=f,c[u]=r[7],c[u+1]=r[6],c[u+2]=r[5],c[u+3]=r[4],c[u+4]=r[3],c[u+5]=r[2],c[u+6]=r[1],c[u+7]=r[0]}t.writeDoubleLE=i?n:s,t.writeDoubleBE=i?s:n;function o(f,c){return r[0]=f[c],r[1]=f[c+1],r[2]=f[c+2],r[3]=f[c+3],r[4]=f[c+4],r[5]=f[c+5],r[6]=f[c+6],r[7]=f[c+7],e[0]}function a(f,c){return r[7]=f[c],r[6]=f[c+1],r[5]=f[c+2],r[4]=f[c+3],r[3]=f[c+4],r[2]=f[c+5],r[1]=f[c+6],r[0]=f[c+7],e[0]}t.readDoubleLE=i?o:a,t.readDoubleBE=i?a:o}():function(){function e(i,n,s,o,a,f){var c=o<0?1:0;if(c&&(o=-o),o===0)i(0,a,f+n),i(1/o>0?0:2147483648,a,f+s);else if(isNaN(o))i(0,a,f+n),i(2146959360,a,f+s);else if(o>17976931348623157e292)i(0,a,f+n),i((c<<31|2146435072)>>>0,a,f+s);else{var u;if(o<22250738585072014e-324)u=o/5e-324,i(u>>>0,a,f+n),i((c<<31|u/4294967296)>>>0,a,f+s);else{var l=Math.floor(Math.log(o)/Math.LN2);l===1024&&(l=1023),u=o*Math.pow(2,-l),i(u*4503599627370496>>>0,a,f+n),i((c<<31|l+1023<<20|u*1048576&1048575)>>>0,a,f+s)}}}t.writeDoubleLE=e.bind(null,gF,0,4),t.writeDoubleBE=e.bind(null,bF,4,0);function r(i,n,s,o,a){var f=i(o,a+n),c=i(o,a+s),u=(c>>31)*2+1,l=c>>>20&2047,y=4294967296*(c&1048575)+f;return l===2047?y?NaN:u*(1/0):l===0?u*5e-324*y:u*Math.pow(2,l-1075)*(y+4503599627370496)}t.readDoubleLE=r.bind(null,vF,0,4),t.readDoubleBE=r.bind(null,wF,4,0)}(),t}function gF(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function bF(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function vF(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function wF(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var FA=de((exports,module)=>{"use strict";F();module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var $A=de(EF=>{"use strict";F();var UA=EF;UA.length=function(e){for(var r=0,i=0,n=0;n<e.length;++n)i=e.charCodeAt(n),i<128?r+=1:i<2048?r+=2:(i&64512)===55296&&(e.charCodeAt(n+1)&64512)===56320?(++n,r+=4):r+=3;return r};UA.read=function(e,r,i){var n=i-r;if(n<1)return"";for(var s=null,o=[],a=0,f;r<i;)f=e[r++],f<128?o[a++]=f:f>191&&f<224?o[a++]=(f&31)<<6|e[r++]&63:f>239&&f<365?(f=((f&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,o[a++]=55296+(f>>10),o[a++]=56320+(f&1023)):o[a++]=(f&15)<<12|(e[r++]&63)<<6|e[r++]&63,a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0);return s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};UA.write=function(e,r,i){for(var n=i,s,o,a=0;a<e.length;++a)s=e.charCodeAt(a),s<128?r[i++]=s:s<2048?(r[i++]=s>>6|192,r[i++]=s&63|128):(s&64512)===55296&&((o=e.charCodeAt(a+1))&64512)===56320?(s=65536+((s&1023)<<10)+(o&1023),++a,r[i++]=s>>18|240,r[i++]=s>>12&63|128,r[i++]=s>>6&63|128,r[i++]=s&63|128):(r[i++]=s>>12|224,r[i++]=s>>6&63|128,r[i++]=s&63|128);return i-n}});var VA=de((aet,SF)=>{"use strict";F();SF.exports=C1e;function C1e(t,e,r){var i=r||8192,n=i>>>1,s=null,o=i;return function(f){if(f<1||f>n)return t(f);o+f>i&&(s=t(i),o=0);var c=e.call(s,o,o+=f);return o&7&&(o=(o|7)+1),c}}});var AF=de((uet,xF)=>{"use strict";F();xF.exports=$o;var tw=g0();function $o(t,e){this.lo=t>>>0,this.hi=e>>>0}var m0=$o.zero=new $o(0,0);m0.toNumber=function(){return 0};m0.zzEncode=m0.zzDecode=function(){return this};m0.length=function(){return 1};var O1e=$o.zeroHash="\0\0\0\0\0\0\0\0";$o.fromNumber=function(e){if(e===0)return m0;var r=e<0;r&&(e=-e);var i=e>>>0,n=(e-i)/4294967296>>>0;return r&&(n=~n>>>0,i=~i>>>0,++i>4294967295&&(i=0,++n>4294967295&&(n=0))),new $o(i,n)};$o.from=function(e){if(typeof e=="number")return $o.fromNumber(e);if(tw.isString(e))if(tw.Long)e=tw.Long.fromString(e);else return $o.fromNumber(parseInt(e,10));return e.low||e.high?new $o(e.low>>>0,e.high>>>0):m0};$o.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,i=~this.hi>>>0;return r||(i=i+1>>>0),-(r+i*4294967296)}return this.lo+this.hi*4294967296};$o.prototype.toLong=function(e){return tw.Long?new tw.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var sh=String.prototype.charCodeAt;$o.fromHash=function(e){return e===O1e?m0:new $o((sh.call(e,0)|sh.call(e,1)<<8|sh.call(e,2)<<16|sh.call(e,3)<<24)>>>0,(sh.call(e,4)|sh.call(e,5)<<8|sh.call(e,6)<<16|sh.call(e,7)<<24)>>>0)};$o.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};$o.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};$o.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};$o.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return i===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:i<128?9:10}});var g0=de(KA=>{"use strict";F();var Dt=KA;Dt.asPromise=LA();Dt.base64=NA();Dt.EventEmitter=qA();Dt.float=zA();Dt.inquire=FA();Dt.utf8=$A();Dt.pool=VA();Dt.LongBits=AF();Dt.isNode=Boolean(typeof globalThis<"u"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);Dt.global=Dt.isNode&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||KA;Dt.emptyArray=Object.freeze?Object.freeze([]):[];Dt.emptyObject=Object.freeze?Object.freeze({}):{};Dt.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};Dt.isString=function(e){return typeof e=="string"||e instanceof String};Dt.isObject=function(e){return e&&typeof e=="object"};Dt.isset=Dt.isSet=function(e,r){var i=e[r];return i!=null&&e.hasOwnProperty(r)?typeof i!="object"||(Array.isArray(i)?i.length:Object.keys(i).length)>0:!1};Dt.Buffer=function(){try{var t=Dt.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch{return null}}();Dt._Buffer_from=null;Dt._Buffer_allocUnsafe=null;Dt.newBuffer=function(e){return typeof e=="number"?Dt.Buffer?Dt._Buffer_allocUnsafe(e):new Dt.Array(e):Dt.Buffer?Dt._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};Dt.Array=typeof Uint8Array<"u"?Uint8Array:Array;Dt.Long=Dt.global.dcodeIO&&Dt.global.dcodeIO.Long||Dt.global.Long||Dt.inquire("long");Dt.key2Re=/^true|false|0|1$/;Dt.key32Re=/^-?(?:0|[1-9][0-9]*)$/;Dt.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;Dt.longToHash=function(e){return e?Dt.LongBits.from(e).toHash():Dt.LongBits.zeroHash};Dt.longFromHash=function(e,r){var i=Dt.LongBits.fromHash(e);return Dt.Long?Dt.Long.fromBits(i.lo,i.hi,r):i.toNumber(Boolean(r))};function MF(t,e,r){for(var i=Object.keys(e),n=0;n<i.length;++n)(t[i[n]]===void 0||!r)&&(t[i[n]]=e[i[n]]);return t}Dt.merge=MF;Dt.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function kF(t){function e(r,i){if(!(this instanceof e))return new e(r,i);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),i&&MF(this,i)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return t},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}Dt.newError=kF;Dt.ProtocolError=kF("ProtocolError");Dt.oneOfGetter=function(e){for(var r={},i=0;i<e.length;++i)r[e[i]]=1;return function(){for(var n=Object.keys(this),s=n.length-1;s>-1;--s)if(r[n[s]]===1&&this[n[s]]!==void 0&&this[n[s]]!==null)return n[s]}};Dt.oneOfSetter=function(e){return function(r){for(var i=0;i<e.length;++i)e[i]!==r&&delete this[e[i]]}};Dt.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};Dt._configure=function(){var t=Dt.Buffer;if(!t){Dt._Buffer_from=Dt._Buffer_allocUnsafe=null;return}Dt._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,i){return new t(r,i)},Dt._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var YA=de((pet,RF)=>{"use strict";F();RF.exports=Zn;var hc=g0(),WA,DF=hc.LongBits,j1e=hc.utf8;function vu(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function Zn(t){this.buf=t,this.pos=0,this.len=t.length}var TF=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Zn(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Zn(e);throw Error("illegal buffer")},IF=function(){return hc.Buffer?function(r){return(Zn.create=function(n){return hc.Buffer.isBuffer(n)?new WA(n):TF(n)})(r)}:TF};Zn.create=IF();Zn.prototype._slice=hc.Array.prototype.subarray||hc.Array.prototype.slice;Zn.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,vu(this,10);return e}}();Zn.prototype.int32=function(){return this.uint32()|0};Zn.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function HA(){var t=new DF(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw vu(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw vu(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}Zn.prototype.bool=function(){return this.uint32()!==0};function Z6(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}Zn.prototype.fixed32=function(){if(this.pos+4>this.len)throw vu(this,4);return Z6(this.buf,this.pos+=4)};Zn.prototype.sfixed32=function(){if(this.pos+4>this.len)throw vu(this,4);return Z6(this.buf,this.pos+=4)|0};function PF(){if(this.pos+8>this.len)throw vu(this,8);return new DF(Z6(this.buf,this.pos+=4),Z6(this.buf,this.pos+=4))}Zn.prototype.float=function(){if(this.pos+4>this.len)throw vu(this,4);var e=hc.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Zn.prototype.double=function(){if(this.pos+8>this.len)throw vu(this,4);var e=hc.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Zn.prototype.bytes=function(){var e=this.uint32(),r=this.pos,i=this.pos+e;if(i>this.len)throw vu(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,i):r===i?new this.buf.constructor(0):this._slice.call(this.buf,r,i)};Zn.prototype.string=function(){var e=this.bytes();return j1e.read(e,0,e.length)};Zn.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw vu(this,e);this.pos+=e}else do if(this.pos>=this.len)throw vu(this);while(this.buf[this.pos++]&128);return this};Zn.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};Zn._configure=function(t){WA=t,Zn.create=IF(),WA._configure();var e=hc.Long?"toLong":"toNumber";hc.merge(Zn.prototype,{int64:function(){return HA.call(this)[e](!1)},uint64:function(){return HA.call(this)[e](!0)},sint64:function(){return HA.call(this).zzDecode()[e](!1)},fixed64:function(){return PF.call(this)[e](!0)},sfixed64:function(){return PF.call(this)[e](!1)}})}});var jF=de((met,OF)=>{"use strict";F();OF.exports=b0;var CF=YA();(b0.prototype=Object.create(CF.prototype)).constructor=b0;var BF=g0();function b0(t){CF.call(this,t)}b0._configure=function(){BF.Buffer&&(b0.prototype._slice=BF.Buffer.prototype.slice)};b0.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};b0._configure()});var tM=de((bet,zF)=>{"use strict";F();zF.exports=fi;var Of=g0(),ZA,G6=Of.LongBits,LF=Of.base64,NF=Of.utf8;function rw(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function JA(){}function L1e(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function fi(){this.len=0,this.head=new rw(JA,0,0),this.tail=this.head,this.states=null}var qF=function(){return Of.Buffer?function(){return(fi.create=function(){return new ZA})()}:function(){return new fi}};fi.create=qF();fi.alloc=function(e){return new Of.Array(e)};Of.Array!==Array&&(fi.alloc=Of.pool(fi.alloc,Of.Array.prototype.subarray));fi.prototype._push=function(e,r,i){return this.tail=this.tail.next=new rw(e,r,i),this.len+=r,this};function XA(t,e,r){e[r]=t&255}function N1e(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function QA(t,e){this.len=t,this.next=void 0,this.val=e}QA.prototype=Object.create(rw.prototype);QA.prototype.fn=N1e;fi.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new QA((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};fi.prototype.int32=function(e){return e<0?this._push(eM,10,G6.fromNumber(e)):this.uint32(e)};fi.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function eM(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}fi.prototype.uint64=function(e){var r=G6.from(e);return this._push(eM,r.length(),r)};fi.prototype.int64=fi.prototype.uint64;fi.prototype.sint64=function(e){var r=G6.from(e).zzEncode();return this._push(eM,r.length(),r)};fi.prototype.bool=function(e){return this._push(XA,1,e?1:0)};function GA(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}fi.prototype.fixed32=function(e){return this._push(GA,4,e>>>0)};fi.prototype.sfixed32=fi.prototype.fixed32;fi.prototype.fixed64=function(e){var r=G6.from(e);return this._push(GA,4,r.lo)._push(GA,4,r.hi)};fi.prototype.sfixed64=fi.prototype.fixed64;fi.prototype.float=function(e){return this._push(Of.float.writeFloatLE,4,e)};fi.prototype.double=function(e){return this._push(Of.float.writeDoubleLE,8,e)};var q1e=Of.Array.prototype.set?function(e,r,i){r.set(e,i)}:function(e,r,i){for(var n=0;n<e.length;++n)r[i+n]=e[n]};fi.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(XA,1,0);if(Of.isString(e)){var i=fi.alloc(r=LF.length(e));LF.decode(e,i,0),e=i}return this.uint32(r)._push(q1e,r,e)};fi.prototype.string=function(e){var r=NF.length(e);return r?this.uint32(r)._push(NF.write,r,e):this._push(XA,1,0)};fi.prototype.fork=function(){return this.states=new L1e(this),this.head=this.tail=new rw(JA,0,0),this.len=0,this};fi.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new rw(JA,0,0),this.len=0),this};fi.prototype.ldelim=function(){var e=this.head,r=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=e.next,this.tail=r,this.len+=i),this};fi.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),i=0;e;)e.fn(e.val,r,i),i+=e.len,e=e.next;return r};fi._configure=function(t){ZA=t,fi.create=qF(),ZA._configure()}});var $F=de((wet,UF)=>{"use strict";F();UF.exports=pc;var FF=tM();(pc.prototype=Object.create(FF.prototype)).constructor=pc;var ah=g0();function pc(){FF.call(this)}pc._configure=function(){pc.alloc=ah._Buffer_allocUnsafe,pc.writeBytesBuffer=ah.Buffer&&ah.Buffer.prototype instanceof Uint8Array&&ah.Buffer.prototype.set.name==="set"?function(e,r,i){r.set(e,i)}:function(e,r,i){if(e.copy)e.copy(r,i,0,e.length);else for(var n=0;n<e.length;)r[i++]=e[n++]}};pc.prototype.bytes=function(e){ah.isString(e)&&(e=ah._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(pc.writeBytesBuffer,r,e),this};function z1e(t,e,r){t.length<40?ah.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}pc.prototype.string=function(e){var r=ah.Buffer.byteLength(e);return this.uint32(r),r&&this._push(z1e,r,e),this};pc._configure()});var pM=de((Vtt,pU)=>{"use strict";F();pU.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(e,r){let i=this._internalPositionFor(e,!1);if(r===void 0)i!==-1&&(this._unsetInternalPos(i),this._unsetBit(e),this._changedLength=!0,this._changedData=!0);else{let n=!1;i===-1?(i=this._data.length,this._setBit(e),this._changedData=!0):n=!0,this._setInternalPos(i,e,r,n),this._changedLength=!0}}unset(e){this.set(e,void 0)}get(e){this._sortData();let r=this._internalPositionFor(e,!0);if(r!==-1)return this._data[r][1]}push(e){return this.set(this.length,e),this.length}get length(){if(this._sortData(),this._changedLength){let e=this._data[this._data.length-1];this._length=e?e[0]+1:0,this._changedLength=!1}return this._length}forEach(e){let r=0;for(;r<this.length;)e(this.get(r),r,this),r++}map(e){let r=0,i=new Array(this.length);for(;r<this.length;)i[r]=e(this.get(r),r,this),r++;return i}reduce(e,r){let i=0,n=r;for(;i<this.length;){let s=this.get(i);n=e(n,s,i),i++}return n}find(e){let r=0,i,n;for(;r<this.length&&!i;)n=this.get(r),i=e(n),r++;return i?n:void 0}_internalPositionFor(e,r){let i=this._bytePosFor(e,r);if(i>=this._bitArrays.length)return-1;let n=this._bitArrays[i],s=e-i*7;if(!((n&1<<s)>0))return-1;let a=this._bitArrays.slice(0,i).reduce(pbe,0),f=~(4294967295<<s+1),c=hU(n&f);return a+c-1}_bytePosFor(e,r){let i=Math.floor(e/7),n=i+1;for(;!r&&this._bitArrays.length<n;)this._bitArrays.push(0);return i}_setBit(e){let r=this._bytePosFor(e,!1);this._bitArrays[r]|=1<<e-r*7}_unsetBit(e){let r=this._bytePosFor(e,!1);this._bitArrays[r]&=~(1<<e-r*7)}_setInternalPos(e,r,i,n){let s=this._data,o=[r,i];if(n)this._sortData(),s[e]=o;else{if(s.length)if(s[s.length-1][0]>=r)s.push(o);else if(s[0][0]<=r)s.unshift(o);else{let a=Math.round(s.length/2);this._data=s.slice(0,a).concat(o).concat(s.slice(a))}else this._data.push(o);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(e){this._data.splice(e,1)}_sortData(){this._changedData&&this._data.sort(ybe),this._changedData=!1}bitField(){let e=[],r=8,i=0,n=0,s,o=this._bitArrays.slice();for(;o.length||i;){i===0&&(s=o.shift(),i=7);let f=Math.min(i,r),c=~(255<<f),u=s&c;n|=u<<8-r,s=s>>>f,i-=f,r-=f,(!r||!i&&!o.length)&&(e.push(n),n=0,r=8)}for(var a=e.length-1;a>0&&e[a]===0;a--)e.pop();return e}compactArray(){return this._sortData(),this._data.map(mbe)}};function pbe(t,e){return t+hU(e)}function hU(t){let e=t;return e=e-(e>>1&1431655765),e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>24}function ybe(t,e){return t[0]-e[0]}function mbe(t){return t[1]}});var MU=de((cw,n8)=>{F();(function(t,e){"use strict";var r={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function i(m){if(!Array.isArray(m)&&!ArrayBuffer.isView(m))return!1;for(var g=0;g<m.length;g++)if(!Number.isInteger(m[g])||m[g]<0||m[g]>255)return!1;return!0}function n(m,g){return(m&65535)*g+(((m>>>16)*g&65535)<<16)}function s(m,g){return m<<g|m>>>32-g}function o(m){return m^=m>>>16,m=n(m,2246822507),m^=m>>>13,m=n(m,3266489909),m^=m>>>16,m}function a(m,g){m=[m[0]>>>16,m[0]&65535,m[1]>>>16,m[1]&65535],g=[g[0]>>>16,g[0]&65535,g[1]>>>16,g[1]&65535];var E=[0,0,0,0];return E[3]+=m[3]+g[3],E[2]+=E[3]>>>16,E[3]&=65535,E[2]+=m[2]+g[2],E[1]+=E[2]>>>16,E[2]&=65535,E[1]+=m[1]+g[1],E[0]+=E[1]>>>16,E[1]&=65535,E[0]+=m[0]+g[0],E[0]&=65535,[E[0]<<16|E[1],E[2]<<16|E[3]]}function f(m,g){m=[m[0]>>>16,m[0]&65535,m[1]>>>16,m[1]&65535],g=[g[0]>>>16,g[0]&65535,g[1]>>>16,g[1]&65535];var E=[0,0,0,0];return E[3]+=m[3]*g[3],E[2]+=E[3]>>>16,E[3]&=65535,E[2]+=m[2]*g[3],E[1]+=E[2]>>>16,E[2]&=65535,E[2]+=m[3]*g[2],E[1]+=E[2]>>>16,E[2]&=65535,E[1]+=m[1]*g[3],E[0]+=E[1]>>>16,E[1]&=65535,E[1]+=m[2]*g[2],E[0]+=E[1]>>>16,E[1]&=65535,E[1]+=m[3]*g[1],E[0]+=E[1]>>>16,E[1]&=65535,E[0]+=m[0]*g[3]+m[1]*g[2]+m[2]*g[1]+m[3]*g[0],E[0]&=65535,[E[0]<<16|E[1],E[2]<<16|E[3]]}function c(m,g){return g%=64,g===32?[m[1],m[0]]:g<32?[m[0]<<g|m[1]>>>32-g,m[1]<<g|m[0]>>>32-g]:(g-=32,[m[1]<<g|m[0]>>>32-g,m[0]<<g|m[1]>>>32-g])}function u(m,g){return g%=64,g===0?m:g<32?[m[0]<<g|m[1]>>>32-g,m[1]<<g]:[m[1]<<g-32,0]}function l(m,g){return[m[0]^g[0],m[1]^g[1]]}function y(m){return m=l(m,[0,m[0]>>>1]),m=f(m,[4283543511,3981806797]),m=l(m,[0,m[0]>>>1]),m=f(m,[3301882366,444984403]),m=l(m,[0,m[0]>>>1]),m}r.x86.hash32=function(m,g){if(r.inputValidation&&!i(m))return e;g=g||0;for(var E=m.length%4,x=m.length-E,T=g,M=0,I=3432918353,R=461845907,O=0;O<x;O=O+4)M=m[O]|m[O+1]<<8|m[O+2]<<16|m[O+3]<<24,M=n(M,I),M=s(M,15),M=n(M,R),T^=M,T=s(T,13),T=n(T,5)+3864292196;switch(M=0,E){case 3:M^=m[O+2]<<16;case 2:M^=m[O+1]<<8;case 1:M^=m[O],M=n(M,I),M=s(M,15),M=n(M,R),T^=M}return T^=m.length,T=o(T),T>>>0},r.x86.hash128=function(m,g){if(r.inputValidation&&!i(m))return e;g=g||0;for(var E=m.length%16,x=m.length-E,T=g,M=g,I=g,R=g,O=0,B=0,C=0,U=0,W=597399067,L=2869860233,j=951274213,k=2716044179,P=0;P<x;P=P+16)O=m[P]|m[P+1]<<8|m[P+2]<<16|m[P+3]<<24,B=m[P+4]|m[P+5]<<8|m[P+6]<<16|m[P+7]<<24,C=m[P+8]|m[P+9]<<8|m[P+10]<<16|m[P+11]<<24,U=m[P+12]|m[P+13]<<8|m[P+14]<<16|m[P+15]<<24,O=n(O,W),O=s(O,15),O=n(O,L),T^=O,T=s(T,19),T+=M,T=n(T,5)+1444728091,B=n(B,L),B=s(B,16),B=n(B,j),M^=B,M=s(M,17),M+=I,M=n(M,5)+197830471,C=n(C,j),C=s(C,17),C=n(C,k),I^=C,I=s(I,15),I+=R,I=n(I,5)+2530024501,U=n(U,k),U=s(U,18),U=n(U,W),R^=U,R=s(R,13),R+=T,R=n(R,5)+850148119;switch(O=0,B=0,C=0,U=0,E){case 15:U^=m[P+14]<<16;case 14:U^=m[P+13]<<8;case 13:U^=m[P+12],U=n(U,k),U=s(U,18),U=n(U,W),R^=U;case 12:C^=m[P+11]<<24;case 11:C^=m[P+10]<<16;case 10:C^=m[P+9]<<8;case 9:C^=m[P+8],C=n(C,j),C=s(C,17),C=n(C,k),I^=C;case 8:B^=m[P+7]<<24;case 7:B^=m[P+6]<<16;case 6:B^=m[P+5]<<8;case 5:B^=m[P+4],B=n(B,L),B=s(B,16),B=n(B,j),M^=B;case 4:O^=m[P+3]<<24;case 3:O^=m[P+2]<<16;case 2:O^=m[P+1]<<8;case 1:O^=m[P],O=n(O,W),O=s(O,15),O=n(O,L),T^=O}return T^=m.length,M^=m.length,I^=m.length,R^=m.length,T+=M,T+=I,T+=R,M+=T,I+=T,R+=T,T=o(T),M=o(M),I=o(I),R=o(R),T+=M,T+=I,T+=R,M+=T,I+=T,R+=T,("00000000"+(T>>>0).toString(16)).slice(-8)+("00000000"+(M>>>0).toString(16)).slice(-8)+("00000000"+(I>>>0).toString(16)).slice(-8)+("00000000"+(R>>>0).toString(16)).slice(-8)},r.x64.hash128=function(m,g){if(r.inputValidation&&!i(m))return e;g=g||0;for(var E=m.length%16,x=m.length-E,T=[0,g],M=[0,g],I=[0,0],R=[0,0],O=[2277735313,289559509],B=[1291169091,658871167],C=0;C<x;C=C+16)I=[m[C+4]|m[C+5]<<8|m[C+6]<<16|m[C+7]<<24,m[C]|m[C+1]<<8|m[C+2]<<16|m[C+3]<<24],R=[m[C+12]|m[C+13]<<8|m[C+14]<<16|m[C+15]<<24,m[C+8]|m[C+9]<<8|m[C+10]<<16|m[C+11]<<24],I=f(I,O),I=c(I,31),I=f(I,B),T=l(T,I),T=c(T,27),T=a(T,M),T=a(f(T,[0,5]),[0,1390208809]),R=f(R,B),R=c(R,33),R=f(R,O),M=l(M,R),M=c(M,31),M=a(M,T),M=a(f(M,[0,5]),[0,944331445]);switch(I=[0,0],R=[0,0],E){case 15:R=l(R,u([0,m[C+14]],48));case 14:R=l(R,u([0,m[C+13]],40));case 13:R=l(R,u([0,m[C+12]],32));case 12:R=l(R,u([0,m[C+11]],24));case 11:R=l(R,u([0,m[C+10]],16));case 10:R=l(R,u([0,m[C+9]],8));case 9:R=l(R,[0,m[C+8]]),R=f(R,B),R=c(R,33),R=f(R,O),M=l(M,R);case 8:I=l(I,u([0,m[C+7]],56));case 7:I=l(I,u([0,m[C+6]],48));case 6:I=l(I,u([0,m[C+5]],40));case 5:I=l(I,u([0,m[C+4]],32));case 4:I=l(I,u([0,m[C+3]],24));case 3:I=l(I,u([0,m[C+2]],16));case 2:I=l(I,u([0,m[C+1]],8));case 1:I=l(I,[0,m[C]]),I=f(I,O),I=c(I,31),I=f(I,B),T=l(T,I)}return T=l(T,[0,m.length]),M=l(M,[0,m.length]),T=a(T,M),M=a(M,T),T=y(T),M=y(M),T=a(T,M),M=a(M,T),("00000000"+(T[0]>>>0).toString(16)).slice(-8)+("00000000"+(T[1]>>>0).toString(16)).slice(-8)+("00000000"+(M[0]>>>0).toString(16)).slice(-8)+("00000000"+(M[1]>>>0).toString(16)).slice(-8)},typeof cw<"u"?(typeof n8<"u"&&n8.exports&&(cw=n8.exports=r),cw.murmurHash3=r):typeof define=="function"&&define.amd?define([],function(){return r}):(r._murmurHash3=t.murmurHash3,r.noConflict=function(){return t.murmurHash3=r._murmurHash3,r._murmurHash3=e,r.noConflict=e,r},t.murmurHash3=r)})(cw)});var MM=de((eit,kU)=>{F();kU.exports=MU()});var HU=de((OM,jM)=>{F();(function(t,e){typeof OM=="object"&&typeof jM<"u"?jM.exports=e():typeof define=="function"&&define.amd?define(e):(t=t||self,t.JSBI=e())})(OM,function(){"use strict";var t=Math.imul,e=Math.clz32;function r(U){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},r(U)}function i(U,W){if(!(U instanceof W))throw new TypeError("Cannot call a class as a function")}function n(U,W){for(var L,j=0;j<W.length;j++)L=W[j],L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(U,L.key,L)}function s(U,W,L){return W&&n(U.prototype,W),L&&n(U,L),Object.defineProperty(U,"prototype",{writable:!1}),U}function o(U,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(W&&W.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),Object.defineProperty(U,"prototype",{writable:!1}),W&&f(U,W)}function a(U){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(W){return W.__proto__||Object.getPrototypeOf(W)},a(U)}function f(U,W){return f=Object.setPrototypeOf||function(L,j){return L.__proto__=j,L},f(U,W)}function c(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function u(){return u=c()?Reflect.construct:function(U,W,L){var j=[null];j.push.apply(j,W);var k=Function.bind.apply(U,j),P=new k;return L&&f(P,L.prototype),P},u.apply(null,arguments)}function l(U){return Function.toString.call(U).indexOf("[native code]")!==-1}function y(U){var W=typeof Map=="function"?new Map:void 0;return y=function(L){function j(){return u(L,arguments,a(this).constructor)}if(L===null||!l(L))return L;if(typeof L!="function")throw new TypeError("Super expression must either be null or a function");if(typeof W<"u"){if(W.has(L))return W.get(L);W.set(L,j)}return j.prototype=Object.create(L.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),f(j,L)},y(U)}function m(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function g(U,W){if(W&&(typeof W=="object"||typeof W=="function"))return W;if(W!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(U)}function E(U){var W=c();return function(){var L,j=a(U);if(W){var k=a(this).constructor;L=Reflect.construct(j,arguments,k)}else L=j.apply(this,arguments);return g(this,L)}}function x(U,W){return T(U)||M(U,W)||I(U,W)||O()}function T(U){if(Array.isArray(U))return U}function M(U,W){var L=U==null?null:typeof Symbol<"u"&&U[Symbol.iterator]||U["@@iterator"];if(L!=null){var j,k,P=[],p=!0,d=!1;try{for(L=L.call(U);!(p=(j=L.next()).done)&&(P.push(j.value),!(W&&P.length===W));p=!0);}catch(h){d=!0,k=h}finally{try{p||L.return==null||L.return()}finally{if(d)throw k}}return P}}function I(U,W){if(U){if(typeof U=="string")return R(U,W);var L=Object.prototype.toString.call(U).slice(8,-1);return L==="Object"&&U.constructor&&(L=U.constructor.name),L==="Map"||L==="Set"?Array.from(U):L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L)?R(U,W):void 0}}function R(U,W){(W==null||W>U.length)&&(W=U.length);for(var L=0,j=Array(W);L<W;L++)j[L]=U[L];return j}function O(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B(U,W){var L=typeof Symbol<"u"&&U[Symbol.iterator]||U["@@iterator"];if(!L){if(Array.isArray(U)||(L=I(U))||W&&U&&typeof U.length=="number"){L&&(U=L);var j=0,k=function(){};return{s:k,n:function(){return j>=U.length?{done:!0}:{done:!1,value:U[j++]}},e:function(h){throw h},f:k}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var P,p=!0,d=!1;return{s:function(){L=L.call(U)},n:function(){var h=L.next();return p=h.done,h},e:function(h){d=!0,P=h},f:function(){try{p||L.return==null||L.return()}finally{if(d)throw P}}}}var C=function(U){var W=Math.abs,L=Math.max,j=Math.floor;function k(p,d){var h;if(i(this,k),h=P.call(this,p),h.sign=d,Object.setPrototypeOf(m(h),k.prototype),p>k.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return h}o(k,U);var P=E(k);return s(k,[{key:"toDebugString",value:function(){var p,d=["BigInt["],h=B(this);try{for(h.s();!(p=h.n()).done;){var b=p.value;d.push((b&&(b>>>0).toString(16))+", ")}}catch(v){h.e(v)}finally{h.f()}return d.push("]"),d.join("")}},{key:"toString",value:function(){var p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:10;if(2>p||36<p)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":p&p-1?k.__toStringGeneric(this,p,!1):k.__toStringBasePowerOfTwo(this,p)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var p=new k(this.length,this.sign),d=0;d<this.length;d++)p[d]=this[d];return p}},{key:"__trim",value:function(){for(var p=this.length,d=this[p-1];d===0;)p--,d=this[p-1],this.pop();return p===0&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var p=0;p<this.length;p++)this[p]=0}},{key:"__clzmsd",value:function(){return k.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(p,d,h){h>this.length&&(h=this.length);for(var b=32767&p,v=p>>>15,w=0,_=d,D=0;D<h;D++){var S=this.__digit(D),A=32767&S,N=S>>>15,G=k.__imul(A,b),Q=k.__imul(A,v),ne=k.__imul(N,b),H=k.__imul(N,v),Z=_+G+w;w=Z>>>30,Z&=1073741823,Z+=((32767&Q)<<15)+((32767&ne)<<15),w+=Z>>>30,_=H+(Q>>>15)+(ne>>>15),this.__setDigit(D,1073741823&Z)}if(w!==0||_!==0)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(p,d,h){for(var b,v=0,w=0;w<h;w++)b=this.__halfDigit(d+w)+p.__halfDigit(w)+v,v=b>>>15,this.__setHalfDigit(d+w,32767&b);return v}},{key:"__inplaceSub",value:function(p,d,h){var b=0;if(1&d){d>>=1;for(var v=this.__digit(d),w=32767&v,_=0;_<h-1>>>1;_++){var D=p.__digit(_),S=(v>>>15)-(32767&D)-b;b=1&S>>>15,this.__setDigit(d+_,(32767&S)<<15|32767&w),v=this.__digit(d+_+1),w=(32767&v)-(D>>>15)-b,b=1&w>>>15}var A=p.__digit(_),N=(v>>>15)-(32767&A)-b;if(b=1&N>>>15,this.__setDigit(d+_,(32767&N)<<15|32767&w),d+_+1>=this.length)throw new RangeError("out of bounds");!(1&h)&&(v=this.__digit(d+_+1),w=(32767&v)-(A>>>15)-b,b=1&w>>>15,this.__setDigit(d+p.length,1073709056&v|32767&w))}else{d>>=1;for(var G=0;G<p.length-1;G++){var Q=this.__digit(d+G),ne=p.__digit(G),H=(32767&Q)-(32767&ne)-b;b=1&H>>>15;var Z=(Q>>>15)-(ne>>>15)-b;b=1&Z>>>15,this.__setDigit(d+G,(32767&Z)<<15|32767&H)}var ie=this.__digit(d+G),fe=p.__digit(G),ue=(32767&ie)-(32767&fe)-b;b=1&ue>>>15;var ye=0;!(1&h)&&(ye=(ie>>>15)-(fe>>>15)-b,b=1&ye>>>15),this.__setDigit(d+G,(32767&ye)<<15|32767&ue)}return b}},{key:"__inplaceRightShift",value:function(p){if(p!==0){for(var d,h=this.__digit(0)>>>p,b=this.length-1,v=0;v<b;v++)d=this.__digit(v+1),this.__setDigit(v,1073741823&d<<30-p|h),h=d>>>p;this.__setDigit(b,h)}}},{key:"__digit",value:function(p){return this[p]}},{key:"__unsignedDigit",value:function(p){return this[p]>>>0}},{key:"__setDigit",value:function(p,d){this[p]=0|d}},{key:"__setDigitGrow",value:function(p,d){this[p]=0|d}},{key:"__halfDigitLength",value:function(){var p=this.length;return 32767>=this.__unsignedDigit(p-1)?2*p-1:2*p}},{key:"__halfDigit",value:function(p){return 32767&this[p>>>1]>>>15*(1&p)}},{key:"__setHalfDigit",value:function(p,d){var h=p>>>1,b=this.__digit(h),v=1&p?32767&b|d<<15:1073709056&b|32767&d;this.__setDigit(h,v)}}],[{key:"BigInt",value:function(p){var d=Number.isFinite;if(typeof p=="number"){if(p===0)return k.__zero();if(k.__isOneDigitInt(p))return 0>p?k.__oneDigit(-p,!0):k.__oneDigit(p,!1);if(!d(p)||j(p)!==p)throw new RangeError("The number "+p+" cannot be converted to BigInt because it is not an integer");return k.__fromDouble(p)}if(typeof p=="string"){var h=k.__fromString(p);if(h===null)throw new SyntaxError("Cannot convert "+p+" to a BigInt");return h}if(typeof p=="boolean")return p===!0?k.__oneDigit(1,!1):k.__zero();if(r(p)==="object"){if(p.constructor===k)return p;var b=k.__toPrimitive(p);return k.BigInt(b)}throw new TypeError("Cannot convert "+p+" to a BigInt")}},{key:"toNumber",value:function(p){var d=p.length;if(d===0)return 0;if(d===1){var h=p.__unsignedDigit(0);return p.sign?-h:h}var b=p.__digit(d-1),v=k.__clz30(b),w=30*d-v;if(1024<w)return p.sign?-1/0:1/0;var _=w-1,D=b,S=d-1,A=v+3,N=A===32?0:D<<A;N>>>=12;var G=A-12,Q=12<=A?0:D<<20+A,ne=20+A;for(0<G&&0<S&&(S--,D=p.__digit(S),N|=D>>>30-G,Q=D<<G+2,ne=G+2);0<ne&&0<S;)S--,D=p.__digit(S),Q|=30<=ne?D<<ne-30:D>>>30-ne,ne-=30;var H=k.__decideRounding(p,ne,S,D);if((H===1||H===0&&(1&Q)==1)&&(Q=Q+1>>>0,Q===0&&(N++,N>>>20!=0&&(N=0,_++,1023<_))))return p.sign?-1/0:1/0;var Z=p.sign?-2147483648:0;return _=_+1023<<20,k.__kBitConversionInts[1]=Z|_|N,k.__kBitConversionInts[0]=Q,k.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(p){if(p.length===0)return p;var d=p.__copy();return d.sign=!p.sign,d}},{key:"bitwiseNot",value:function(p){return p.sign?k.__absoluteSubOne(p).__trim():k.__absoluteAddOne(p,!0)}},{key:"exponentiate",value:function(p,d){if(d.sign)throw new RangeError("Exponent must be positive");if(d.length===0)return k.__oneDigit(1,!1);if(p.length===0)return p;if(p.length===1&&p.__digit(0)===1)return p.sign&&!(1&d.__digit(0))?k.unaryMinus(p):p;if(1<d.length)throw new RangeError("BigInt too big");var h=d.__unsignedDigit(0);if(h===1)return p;if(h>=k.__kMaxLengthBits)throw new RangeError("BigInt too big");if(p.length===1&&p.__digit(0)===2){var b=1+(0|h/30),v=p.sign&&(1&h)!=0,w=new k(b,v);w.__initializeDigits();var _=1<<h%30;return w.__setDigit(b-1,_),w}var D=null,S=p;for(1&h&&(D=p),h>>=1;h!==0;h>>=1)S=k.multiply(S,S),1&h&&(D===null?D=S:D=k.multiply(D,S));return D}},{key:"multiply",value:function(p,d){if(p.length===0)return p;if(d.length===0)return d;var h=p.length+d.length;30<=p.__clzmsd()+d.__clzmsd()&&h--;var b=new k(h,p.sign!==d.sign);b.__initializeDigits();for(var v=0;v<p.length;v++)k.__multiplyAccumulate(d,p.__digit(v),b,v);return b.__trim()}},{key:"divide",value:function(p,d){if(d.length===0)throw new RangeError("Division by zero");if(0>k.__absoluteCompare(p,d))return k.__zero();var h,b=p.sign!==d.sign,v=d.__unsignedDigit(0);if(d.length===1&&32767>=v){if(v===1)return b===p.sign?p:k.unaryMinus(p);h=k.__absoluteDivSmall(p,v,null)}else h=k.__absoluteDivLarge(p,d,!0,!1);return h.sign=b,h.__trim()}},{key:"remainder",value:function(d,h){if(h.length===0)throw new RangeError("Division by zero");if(0>k.__absoluteCompare(d,h))return d;var b=h.__unsignedDigit(0);if(h.length===1&&32767>=b){if(b===1)return k.__zero();var v=k.__absoluteModSmall(d,b);return v===0?k.__zero():k.__oneDigit(v,d.sign)}var w=k.__absoluteDivLarge(d,h,!1,!0);return w.sign=d.sign,w.__trim()}},{key:"add",value:function(p,d){var h=p.sign;return h===d.sign?k.__absoluteAdd(p,d,h):0<=k.__absoluteCompare(p,d)?k.__absoluteSub(p,d,h):k.__absoluteSub(d,p,!h)}},{key:"subtract",value:function(p,d){var h=p.sign;return h===d.sign?0<=k.__absoluteCompare(p,d)?k.__absoluteSub(p,d,h):k.__absoluteSub(d,p,!h):k.__absoluteAdd(p,d,h)}},{key:"leftShift",value:function(p,d){return d.length===0||p.length===0?p:d.sign?k.__rightShiftByAbsolute(p,d):k.__leftShiftByAbsolute(p,d)}},{key:"signedRightShift",value:function(p,d){return d.length===0||p.length===0?p:d.sign?k.__leftShiftByAbsolute(p,d):k.__rightShiftByAbsolute(p,d)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(p,d){return 0>k.__compareToBigInt(p,d)}},{key:"lessThanOrEqual",value:function(p,d){return 0>=k.__compareToBigInt(p,d)}},{key:"greaterThan",value:function(p,d){return 0<k.__compareToBigInt(p,d)}},{key:"greaterThanOrEqual",value:function(p,d){return 0<=k.__compareToBigInt(p,d)}},{key:"equal",value:function(p,d){if(p.sign!==d.sign||p.length!==d.length)return!1;for(var h=0;h<p.length;h++)if(p.__digit(h)!==d.__digit(h))return!1;return!0}},{key:"notEqual",value:function(p,d){return!k.equal(p,d)}},{key:"bitwiseAnd",value:function(p,d){if(!p.sign&&!d.sign)return k.__absoluteAnd(p,d).__trim();if(p.sign&&d.sign){var h=L(p.length,d.length)+1,b=k.__absoluteSubOne(p,h),v=k.__absoluteSubOne(d);return b=k.__absoluteOr(b,v,b),k.__absoluteAddOne(b,!0,b).__trim()}if(p.sign){var w=[d,p];p=w[0],d=w[1]}return k.__absoluteAndNot(p,k.__absoluteSubOne(d)).__trim()}},{key:"bitwiseXor",value:function(p,d){if(!p.sign&&!d.sign)return k.__absoluteXor(p,d).__trim();if(p.sign&&d.sign){var h=L(p.length,d.length),b=k.__absoluteSubOne(p,h),v=k.__absoluteSubOne(d);return k.__absoluteXor(b,v,b).__trim()}var w=L(p.length,d.length)+1;if(p.sign){var _=[d,p];p=_[0],d=_[1]}var D=k.__absoluteSubOne(d,w);return D=k.__absoluteXor(D,p,D),k.__absoluteAddOne(D,!0,D).__trim()}},{key:"bitwiseOr",value:function(p,d){var h=L(p.length,d.length);if(!p.sign&&!d.sign)return k.__absoluteOr(p,d).__trim();if(p.sign&&d.sign){var b=k.__absoluteSubOne(p,h),v=k.__absoluteSubOne(d);return b=k.__absoluteAnd(b,v,b),k.__absoluteAddOne(b,!0,b).__trim()}if(p.sign){var w=[d,p];p=w[0],d=w[1]}var _=k.__absoluteSubOne(d,h);return _=k.__absoluteAndNot(_,p,_),k.__absoluteAddOne(_,!0,_).__trim()}},{key:"asIntN",value:function(p,d){if(d.length===0)return d;if(p=j(p),0>p)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(p===0)return k.__zero();if(p>=k.__kMaxLengthBits)return d;var h=0|(p+29)/30;if(d.length<h)return d;var b=d.__unsignedDigit(h-1),v=1<<(p-1)%30;if(d.length===h&&b<v)return d;if((b&v)!==v)return k.__truncateToNBits(p,d);if(!d.sign)return k.__truncateAndSubFromPowerOfTwo(p,d,!0);if(!(b&v-1)){for(var w=h-2;0<=w;w--)if(d.__digit(w)!==0)return k.__truncateAndSubFromPowerOfTwo(p,d,!1);return d.length===h&&b===v?d:k.__truncateToNBits(p,d)}return k.__truncateAndSubFromPowerOfTwo(p,d,!1)}},{key:"asUintN",value:function(p,d){if(d.length===0)return d;if(p=j(p),0>p)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(p===0)return k.__zero();if(d.sign){if(p>k.__kMaxLengthBits)throw new RangeError("BigInt too big");return k.__truncateAndSubFromPowerOfTwo(p,d,!1)}if(p>=k.__kMaxLengthBits)return d;var h=0|(p+29)/30;if(d.length<h)return d;var b=p%30;if(d.length==h){if(b===0)return d;var v=d.__digit(h-1);if(!(v>>>b))return d}return k.__truncateToNBits(p,d)}},{key:"ADD",value:function(p,d){if(p=k.__toPrimitive(p),d=k.__toPrimitive(d),typeof p=="string")return typeof d!="string"&&(d=d.toString()),p+d;if(typeof d=="string")return p.toString()+d;if(p=k.__toNumeric(p),d=k.__toNumeric(d),k.__isBigInt(p)&&k.__isBigInt(d))return k.add(p,d);if(typeof p=="number"&&typeof d=="number")return p+d;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(p,d){return k.__compare(p,d,0)}},{key:"LE",value:function(p,d){return k.__compare(p,d,1)}},{key:"GT",value:function(p,d){return k.__compare(p,d,2)}},{key:"GE",value:function(p,d){return k.__compare(p,d,3)}},{key:"EQ",value:function(p,d){for(;;){if(k.__isBigInt(p))return k.__isBigInt(d)?k.equal(p,d):k.EQ(d,p);if(typeof p=="number"){if(k.__isBigInt(d))return k.__equalToNumber(d,p);if(r(d)!=="object")return p==d;d=k.__toPrimitive(d)}else if(typeof p=="string"){if(k.__isBigInt(d))return p=k.__fromString(p),p!==null&&k.equal(p,d);if(r(d)!=="object")return p==d;d=k.__toPrimitive(d)}else if(typeof p=="boolean"){if(k.__isBigInt(d))return k.__equalToNumber(d,+p);if(r(d)!=="object")return p==d;d=k.__toPrimitive(d)}else if(r(p)==="symbol"){if(k.__isBigInt(d))return!1;if(r(d)!=="object")return p==d;d=k.__toPrimitive(d)}else if(r(p)==="object"){if(r(d)==="object"&&d.constructor!==k)return p==d;p=k.__toPrimitive(p)}else return p==d}}},{key:"NE",value:function(p,d){return!k.EQ(p,d)}},{key:"DataViewGetBigInt64",value:function(p,d){var h=2<arguments.length&&arguments[2]!==void 0&&arguments[2];return k.asIntN(64,k.DataViewGetBigUint64(p,d,h))}},{key:"DataViewGetBigUint64",value:function(p,d){var h=2<arguments.length&&arguments[2]!==void 0&&arguments[2],b=h?[4,0]:[0,4],v=x(b,2),w=v[0],_=v[1],D=p.getUint32(d+w,h),S=p.getUint32(d+_,h),A=new k(3,!1);return A.__setDigit(0,1073741823&S),A.__setDigit(1,(268435455&D)<<2|S>>>30),A.__setDigit(2,D>>>28),A.__trim()}},{key:"DataViewSetBigInt64",value:function(p,d,h){var b=3<arguments.length&&arguments[3]!==void 0&&arguments[3];k.DataViewSetBigUint64(p,d,h,b)}},{key:"DataViewSetBigUint64",value:function(p,d,h){var b=3<arguments.length&&arguments[3]!==void 0&&arguments[3];h=k.asUintN(64,h);var v=0,w=0;if(0<h.length&&(w=h.__digit(0),1<h.length)){var _=h.__digit(1);w|=_<<30,v=_>>>2,2<h.length&&(v|=h.__digit(2)<<28)}var D=b?[4,0]:[0,4],S=x(D,2),A=S[0],N=S[1];p.setUint32(d+A,v,b),p.setUint32(d+N,w,b)}},{key:"__zero",value:function(){return new k(0,!1)}},{key:"__oneDigit",value:function(p,d){var h=new k(1,d);return h.__setDigit(0,p),h}},{key:"__decideRounding",value:function(p,d,h,b){if(0<d)return-1;var v;if(0>d)v=-d-1;else{if(h===0)return-1;h--,b=p.__digit(h),v=29}var w=1<<v;if(!(b&w))return-1;if(w-=1,(b&w)!=0)return 1;for(;0<h;)if(h--,p.__digit(h)!==0)return 1;return 0}},{key:"__fromDouble",value:function(p){k.__kBitConversionDouble[0]=p;var d,h=2047&k.__kBitConversionInts[1]>>>20,b=h-1023,v=(0|b/30)+1,w=new k(v,0>p),_=1048575&k.__kBitConversionInts[1]|1048576,D=k.__kBitConversionInts[0],S=20,A=b%30,N=0;if(A<S){var G=S-A;N=G+32,d=_>>>G,_=_<<32-G|D>>>G,D<<=32-G}else if(A===S)N=32,d=_,_=D,D=0;else{var Q=A-S;N=32-Q,d=_<<Q|D>>>32-Q,_=D<<Q,D=0}w.__setDigit(v-1,d);for(var ne=v-2;0<=ne;ne--)0<N?(N-=30,d=_>>>2,_=_<<30|D>>>2,D<<=30):d=0,w.__setDigit(ne,d);return w.__trim()}},{key:"__isWhitespace",value:function(p){return 13>=p&&9<=p||(159>=p?p==32:131071>=p?p==160||p==5760:196607>=p?(p&=131071,10>=p||p==40||p==41||p==47||p==95||p==4096):p==65279)}},{key:"__fromString",value:function(p){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,h=0,b=p.length,v=0;if(v===b)return k.__zero();for(var w=p.charCodeAt(v);k.__isWhitespace(w);){if(++v===b)return k.__zero();w=p.charCodeAt(v)}if(w===43){if(++v===b)return null;w=p.charCodeAt(v),h=1}else if(w===45){if(++v===b)return null;w=p.charCodeAt(v),h=-1}if(d===0){if(d=10,w===48){if(++v===b)return k.__zero();if(w=p.charCodeAt(v),w===88||w===120){if(d=16,++v===b)return null;w=p.charCodeAt(v)}else if(w===79||w===111){if(d=8,++v===b)return null;w=p.charCodeAt(v)}else if(w===66||w===98){if(d=2,++v===b)return null;w=p.charCodeAt(v)}}}else if(d===16&&w===48){if(++v===b)return k.__zero();if(w=p.charCodeAt(v),w===88||w===120){if(++v===b)return null;w=p.charCodeAt(v)}}if(h!==0&&d!==10)return null;for(;w===48;){if(++v===b)return k.__zero();w=p.charCodeAt(v)}var _=b-v,D=k.__kMaxBitsPerChar[d],S=k.__kBitsPerCharTableMultiplier-1;if(_>1073741824/D)return null;var A=D*_+S>>>k.__kBitsPerCharTableShift,N=new k(0|(A+29)/30,!1),G=10>d?d:10,Q=10<d?d-10:0;if(d&d-1){N.__initializeDigits();var ye=!1,$=0;do{for(var q,z=0,Y=1;;){if(q=void 0,w-48>>>0<G)q=w-48;else if((32|w)-97>>>0<Q)q=(32|w)-87;else{ye=!0;break}var X=Y*d;if(1073741823<X)break;if(Y=X,z=z*d+q,$++,++v===b){ye=!0;break}w=p.charCodeAt(v)}S=30*k.__kBitsPerCharTableMultiplier-1;var re=0|(D*$+S>>>k.__kBitsPerCharTableShift)/30;N.__inplaceMultiplyAdd(Y,z,re)}while(!ye)}else{D>>=k.__kBitsPerCharTableShift;var ne=[],H=[],Z=!1;do{for(var ie,fe=0,ue=0;;){if(ie=void 0,w-48>>>0<G)ie=w-48;else if((32|w)-97>>>0<Q)ie=(32|w)-87;else{Z=!0;break}if(ue+=D,fe=fe<<D|ie,++v===b){Z=!0;break}if(w=p.charCodeAt(v),30<ue+D)break}ne.push(fe),H.push(ue)}while(!Z);k.__fillFromParts(N,ne,H)}if(v!==b){if(!k.__isWhitespace(w))return null;for(v++;v<b;v++)if(w=p.charCodeAt(v),!k.__isWhitespace(w))return null}return N.sign=h===-1,N.__trim()}},{key:"__fillFromParts",value:function(p,d,h){for(var b=0,v=0,w=0,_=d.length-1;0<=_;_--){var D=d[_],S=h[_];v|=D<<w,w+=S,w===30?(p.__setDigit(b++,v),w=0,v=0):30<w&&(p.__setDigit(b++,1073741823&v),w-=30,v=D>>>S-w)}if(v!==0){if(b>=p.length)throw new Error("implementation bug");p.__setDigit(b++,v)}for(;b<p.length;b++)p.__setDigit(b,0)}},{key:"__toStringBasePowerOfTwo",value:function(p,d){var h=p.length,b=d-1;b=(85&b>>>1)+(85&b),b=(51&b>>>2)+(51&b),b=(15&b>>>4)+(15&b);var v=b,w=d-1,_=p.__digit(h-1),D=k.__clz30(_),S=0|(30*h-D+v-1)/v;if(p.sign&&S++,268435456<S)throw new Error("string too long");for(var A=Array(S),N=S-1,G=0,Q=0,ne=0;ne<h-1;ne++){var H=p.__digit(ne),Z=(G|H<<Q)&w;A[N--]=k.__kConversionChars[Z];var ie=v-Q;for(G=H>>>ie,Q=30-ie;Q>=v;)A[N--]=k.__kConversionChars[G&w],G>>>=v,Q-=v}var fe=(G|_<<Q)&w;for(A[N--]=k.__kConversionChars[fe],G=_>>>v-Q;G!==0;)A[N--]=k.__kConversionChars[G&w],G>>>=v;if(p.sign&&(A[N--]="-"),N!==-1)throw new Error("implementation bug");return A.join("")}},{key:"__toStringGeneric",value:function(p,d,h){var b=p.length;if(b===0)return"";if(b===1){var v=p.__unsignedDigit(0).toString(d);return h===!1&&p.sign&&(v="-"+v),v}var w=30*b-k.__clz30(p.__digit(b-1)),_=k.__kMaxBitsPerChar[d],D=_-1,S=w*k.__kBitsPerCharTableMultiplier;S+=D-1,S=0|S/D;var A,N,G=S+1>>1,Q=k.exponentiate(k.__oneDigit(d,!1),k.__oneDigit(G,!1)),ne=Q.__unsignedDigit(0);if(Q.length===1&&32767>=ne){A=new k(p.length,!1),A.__initializeDigits();for(var H,Z=0,ie=2*p.length-1;0<=ie;ie--)H=Z<<15|p.__halfDigit(ie),A.__setHalfDigit(ie,0|H/ne),Z=0|H%ne;N=Z.toString(d)}else{var fe=k.__absoluteDivLarge(p,Q,!0,!0);A=fe.quotient;var ue=fe.remainder.__trim();N=k.__toStringGeneric(ue,d,!0)}A.__trim();for(var ye=k.__toStringGeneric(A,d,!0);N.length<G;)N="0"+N;return h===!1&&p.sign&&(ye="-"+ye),ye+N}},{key:"__unequalSign",value:function(p){return p?-1:1}},{key:"__absoluteGreater",value:function(p){return p?-1:1}},{key:"__absoluteLess",value:function(p){return p?1:-1}},{key:"__compareToBigInt",value:function(p,d){var h=p.sign;if(h!==d.sign)return k.__unequalSign(h);var b=k.__absoluteCompare(p,d);return 0<b?k.__absoluteGreater(h):0>b?k.__absoluteLess(h):0}},{key:"__compareToNumber",value:function(p,d){if(k.__isOneDigitInt(d)){var h=p.sign,b=0>d;if(h!==b)return k.__unequalSign(h);if(p.length===0){if(b)throw new Error("implementation bug");return d===0?0:-1}if(1<p.length)return k.__absoluteGreater(h);var v=W(d),w=p.__unsignedDigit(0);return w>v?k.__absoluteGreater(h):w<v?k.__absoluteLess(h):0}return k.__compareToDouble(p,d)}},{key:"__compareToDouble",value:function(p,d){if(d!==d)return d;if(d===1/0)return-1;if(d===-1/0)return 1;var h=p.sign;if(h!==0>d)return k.__unequalSign(h);if(d===0)throw new Error("implementation bug: should be handled elsewhere");if(p.length===0)return-1;k.__kBitConversionDouble[0]=d;var b=2047&k.__kBitConversionInts[1]>>>20;if(b==2047)throw new Error("implementation bug: handled elsewhere");var v=b-1023;if(0>v)return k.__absoluteGreater(h);var w=p.length,_=p.__digit(w-1),D=k.__clz30(_),S=30*w-D,A=v+1;if(S<A)return k.__absoluteLess(h);if(S>A)return k.__absoluteGreater(h);var N=1048576|1048575&k.__kBitConversionInts[1],G=k.__kBitConversionInts[0],Q=20,ne=29-D;if(ne!==(0|(S-1)%30))throw new Error("implementation bug");var H,Z=0;if(ne<Q){var ie=Q-ne;Z=ie+32,H=N>>>ie,N=N<<32-ie|G>>>ie,G<<=32-ie}else if(ne===Q)Z=32,H=N,N=G,G=0;else{var fe=ne-Q;Z=32-fe,H=N<<fe|G>>>32-fe,N=G<<fe,G=0}if(_>>>=0,H>>>=0,_>H)return k.__absoluteGreater(h);if(_<H)return k.__absoluteLess(h);for(var ue=w-2;0<=ue;ue--){0<Z?(Z-=30,H=N>>>2,N=N<<30|G>>>2,G<<=30):H=0;var ye=p.__unsignedDigit(ue);if(ye>H)return k.__absoluteGreater(h);if(ye<H)return k.__absoluteLess(h)}if(N!==0||G!==0){if(Z===0)throw new Error("implementation bug");return k.__absoluteLess(h)}return 0}},{key:"__equalToNumber",value:function(p,d){return k.__isOneDigitInt(d)?d===0?p.length===0:p.length===1&&p.sign===0>d&&p.__unsignedDigit(0)===W(d):k.__compareToDouble(p,d)===0}},{key:"__comparisonResultToBool",value:function(p,d){return d===0?0>p:d===1?0>=p:d===2?0<p:d===3?0<=p:void 0}},{key:"__compare",value:function(p,d,h){if(p=k.__toPrimitive(p),d=k.__toPrimitive(d),typeof p=="string"&&typeof d=="string")switch(h){case 0:return p<d;case 1:return p<=d;case 2:return p>d;case 3:return p>=d}if(k.__isBigInt(p)&&typeof d=="string")return d=k.__fromString(d),d!==null&&k.__comparisonResultToBool(k.__compareToBigInt(p,d),h);if(typeof p=="string"&&k.__isBigInt(d))return p=k.__fromString(p),p!==null&&k.__comparisonResultToBool(k.__compareToBigInt(p,d),h);if(p=k.__toNumeric(p),d=k.__toNumeric(d),k.__isBigInt(p)){if(k.__isBigInt(d))return k.__comparisonResultToBool(k.__compareToBigInt(p,d),h);if(typeof d!="number")throw new Error("implementation bug");return k.__comparisonResultToBool(k.__compareToNumber(p,d),h)}if(typeof p!="number")throw new Error("implementation bug");if(k.__isBigInt(d))return k.__comparisonResultToBool(k.__compareToNumber(d,p),2^h);if(typeof d!="number")throw new Error("implementation bug");return h===0?p<d:h===1?p<=d:h===2?p>d:h===3?p>=d:void 0}},{key:"__absoluteAdd",value:function(p,d,h){if(p.length<d.length)return k.__absoluteAdd(d,p,h);if(p.length===0)return p;if(d.length===0)return p.sign===h?p:k.unaryMinus(p);var b=p.length;(p.__clzmsd()===0||d.length===p.length&&d.__clzmsd()===0)&&b++;for(var v,w=new k(b,h),_=0,D=0;D<d.length;D++)v=p.__digit(D)+d.__digit(D)+_,_=v>>>30,w.__setDigit(D,1073741823&v);for(;D<p.length;D++){var S=p.__digit(D)+_;_=S>>>30,w.__setDigit(D,1073741823&S)}return D<w.length&&w.__setDigit(D,_),w.__trim()}},{key:"__absoluteSub",value:function(p,d,h){if(p.length===0)return p;if(d.length===0)return p.sign===h?p:k.unaryMinus(p);for(var b,v=new k(p.length,h),w=0,_=0;_<d.length;_++)b=p.__digit(_)-d.__digit(_)-w,w=1&b>>>30,v.__setDigit(_,1073741823&b);for(;_<p.length;_++){var D=p.__digit(_)-w;w=1&D>>>30,v.__setDigit(_,1073741823&D)}return v.__trim()}},{key:"__absoluteAddOne",value:function(p,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,b=p.length;h===null?h=new k(b,d):h.sign=d;for(var v,w=1,_=0;_<b;_++)v=p.__digit(_)+w,w=v>>>30,h.__setDigit(_,1073741823&v);return w!==0&&h.__setDigitGrow(b,1),h}},{key:"__absoluteSubOne",value:function(p,d){var h=p.length;d=d||h;for(var b,v=new k(d,!1),w=1,_=0;_<h;_++)b=p.__digit(_)-w,w=1&b>>>30,v.__setDigit(_,1073741823&b);if(w!==0)throw new Error("implementation bug");for(var D=h;D<d;D++)v.__setDigit(D,0);return v}},{key:"__absoluteAnd",value:function(p,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,b=p.length,v=d.length,w=v;if(b<v){w=b;var _=p,D=b;p=d,b=v,d=_,v=D}var S=w;h===null?h=new k(S,!1):S=h.length;for(var A=0;A<w;A++)h.__setDigit(A,p.__digit(A)&d.__digit(A));for(;A<S;A++)h.__setDigit(A,0);return h}},{key:"__absoluteAndNot",value:function(p,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,b=p.length,v=d.length,w=v;b<v&&(w=b);var _=b;h===null?h=new k(_,!1):_=h.length;for(var D=0;D<w;D++)h.__setDigit(D,p.__digit(D)&~d.__digit(D));for(;D<b;D++)h.__setDigit(D,p.__digit(D));for(;D<_;D++)h.__setDigit(D,0);return h}},{key:"__absoluteOr",value:function(p,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,b=p.length,v=d.length,w=v;if(b<v){w=b;var _=p,D=b;p=d,b=v,d=_,v=D}var S=b;h===null?h=new k(S,!1):S=h.length;for(var A=0;A<w;A++)h.__setDigit(A,p.__digit(A)|d.__digit(A));for(;A<b;A++)h.__setDigit(A,p.__digit(A));for(;A<S;A++)h.__setDigit(A,0);return h}},{key:"__absoluteXor",value:function(p,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,b=p.length,v=d.length,w=v;if(b<v){w=b;var _=p,D=b;p=d,b=v,d=_,v=D}var S=b;h===null?h=new k(S,!1):S=h.length;for(var A=0;A<w;A++)h.__setDigit(A,p.__digit(A)^d.__digit(A));for(;A<b;A++)h.__setDigit(A,p.__digit(A));for(;A<S;A++)h.__setDigit(A,0);return h}},{key:"__absoluteCompare",value:function(p,d){var h=p.length-d.length;if(h!=0)return h;for(var b=p.length-1;0<=b&&p.__digit(b)===d.__digit(b);)b--;return 0>b?0:p.__unsignedDigit(b)>d.__unsignedDigit(b)?1:-1}},{key:"__multiplyAccumulate",value:function(p,d,h,b){if(d!==0){for(var v=32767&d,w=d>>>15,_=0,D=0,S=0;S<p.length;S++,b++){var A=h.__digit(b),N=p.__digit(S),G=32767&N,Q=N>>>15,ne=k.__imul(G,v),H=k.__imul(G,w),Z=k.__imul(Q,v),ie=k.__imul(Q,w);A+=D+ne+_,_=A>>>30,A&=1073741823,A+=((32767&H)<<15)+((32767&Z)<<15),_+=A>>>30,D=ie+(H>>>15)+(Z>>>15),h.__setDigit(b,1073741823&A)}for(;_!==0||D!==0;b++){var fe=h.__digit(b);fe+=_+D,D=0,_=fe>>>30,h.__setDigit(b,1073741823&fe)}}}},{key:"__internalMultiplyAdd",value:function(p,d,h,b,v){for(var w=h,_=0,D=0;D<b;D++){var S=p.__digit(D),A=k.__imul(32767&S,d),N=k.__imul(S>>>15,d),G=A+((32767&N)<<15)+_+w;w=G>>>30,_=N>>>15,v.__setDigit(D,1073741823&G)}if(v.length>b)for(v.__setDigit(b++,w+_);b<v.length;)v.__setDigit(b++,0);else if(w+_!==0)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(p,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;h===null&&(h=new k(p.length,!1));for(var b=0,v=2*p.length-1;0<=v;v-=2){var w=(b<<15|p.__halfDigit(v))>>>0,_=0|w/d;b=0|w%d,w=(b<<15|p.__halfDigit(v-1))>>>0;var D=0|w/d;b=0|w%d,h.__setDigit(v>>>1,_<<15|D)}return h}},{key:"__absoluteModSmall",value:function(p,d){for(var h,b=0,v=2*p.length-1;0<=v;v--)h=(b<<15|p.__halfDigit(v))>>>0,b=0|h%d;return b}},{key:"__absoluteDivLarge",value:function(p,d,h,b){var v=d.__halfDigitLength(),w=d.length,_=p.__halfDigitLength()-v,D=null;h&&(D=new k(_+2>>>1,!1),D.__initializeDigits());var S=new k(v+2>>>1,!1);S.__initializeDigits();var A=k.__clz15(d.__halfDigit(v-1));0<A&&(d=k.__specialLeftShift(d,A,0));for(var N=k.__specialLeftShift(p,A,1),G=d.__halfDigit(v-1),Q=0,ne=_;0<=ne;ne--){var H=32767,Z=N.__halfDigit(ne+v);if(Z!==G){var ie=(Z<<15|N.__halfDigit(ne+v-1))>>>0;H=0|ie/G;for(var fe=0|ie%G,ue=d.__halfDigit(v-2),ye=N.__halfDigit(ne+v-2);k.__imul(H,ue)>>>0>(fe<<16|ye)>>>0&&(H--,fe+=G,!(32767<fe)););}k.__internalMultiplyAdd(d,H,0,w,S);var $=N.__inplaceSub(S,ne,v+1);$!==0&&($=N.__inplaceAdd(d,ne,v),N.__setHalfDigit(ne+v,32767&N.__halfDigit(ne+v)+$),H--),h&&(1&ne?Q=H<<15:D.__setDigit(ne>>>1,Q|H))}if(b)return N.__inplaceRightShift(A),h?{quotient:D,remainder:N}:N;if(h)return D;throw new Error("unreachable")}},{key:"__clz15",value:function(p){return k.__clz30(p)-15}},{key:"__specialLeftShift",value:function(p,d,h){var b=p.length,v=new k(b+h,!1);if(d===0){for(var w=0;w<b;w++)v.__setDigit(w,p.__digit(w));return 0<h&&v.__setDigit(b,0),v}for(var _,D=0,S=0;S<b;S++)_=p.__digit(S),v.__setDigit(S,1073741823&_<<d|D),D=_>>>30-d;return 0<h&&v.__setDigit(b,D),v}},{key:"__leftShiftByAbsolute",value:function(p,d){var h=k.__toShiftAmount(d);if(0>h)throw new RangeError("BigInt too big");var b=0|h/30,v=h%30,w=p.length,_=v!==0&&p.__digit(w-1)>>>30-v!=0,D=w+b+(_?1:0),S=new k(D,p.sign);if(v===0){for(var A=0;A<b;A++)S.__setDigit(A,0);for(;A<D;A++)S.__setDigit(A,p.__digit(A-b))}else{for(var N=0,G=0;G<b;G++)S.__setDigit(G,0);for(var Q,ne=0;ne<w;ne++)Q=p.__digit(ne),S.__setDigit(ne+b,1073741823&Q<<v|N),N=Q>>>30-v;if(_)S.__setDigit(w+b,N);else if(N!==0)throw new Error("implementation bug")}return S.__trim()}},{key:"__rightShiftByAbsolute",value:function(p,d){var h=p.length,b=p.sign,v=k.__toShiftAmount(d);if(0>v)return k.__rightShiftByMaximum(b);var w=0|v/30,_=v%30,D=h-w;if(0>=D)return k.__rightShiftByMaximum(b);var S=!1;if(b){if(p.__digit(w)&(1<<_)-1)S=!0;else for(var A=0;A<w;A++)if(p.__digit(A)!==0){S=!0;break}}if(S&&_===0){var N=p.__digit(h-1);!~N&&D++}var G=new k(D,b);if(_===0){G.__setDigit(D-1,0);for(var Q=w;Q<h;Q++)G.__setDigit(Q-w,p.__digit(Q))}else{for(var ne,H=p.__digit(w)>>>_,Z=h-w-1,ie=0;ie<Z;ie++)ne=p.__digit(ie+w+1),G.__setDigit(ie,1073741823&ne<<30-_|H),H=ne>>>_;G.__setDigit(Z,H)}return S&&(G=k.__absoluteAddOne(G,!0,G)),G.__trim()}},{key:"__rightShiftByMaximum",value:function(p){return p?k.__oneDigit(1,!0):k.__zero()}},{key:"__toShiftAmount",value:function(p){if(1<p.length)return-1;var d=p.__unsignedDigit(0);return d>k.__kMaxLengthBits?-1:d}},{key:"__toPrimitive",value:function(p){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"default";if(r(p)!=="object"||p.constructor===k)return p;if(typeof Symbol<"u"&&r(Symbol.toPrimitive)==="symbol"){var h=p[Symbol.toPrimitive];if(h){var b=h(d);if(r(b)!=="object")return b;throw new TypeError("Cannot convert object to primitive value")}}var v=p.valueOf;if(v){var w=v.call(p);if(r(w)!=="object")return w}var _=p.toString;if(_){var D=_.call(p);if(r(D)!=="object")return D}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(p){return k.__isBigInt(p)?p:+p}},{key:"__isBigInt",value:function(p){return r(p)==="object"&&p!==null&&p.constructor===k}},{key:"__truncateToNBits",value:function(p,d){for(var h=0|(p+29)/30,b=new k(h,d.sign),v=h-1,w=0;w<v;w++)b.__setDigit(w,d.__digit(w));var _=d.__digit(v);if(p%30!=0){var D=32-p%30;_=_<<D>>>D}return b.__setDigit(v,_),b.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(p,d,h){for(var b=Math.min,v,w=0|(p+29)/30,_=new k(w,h),D=0,S=w-1,A=0,N=b(S,d.length);D<N;D++)v=0-d.__digit(D)-A,A=1&v>>>30,_.__setDigit(D,1073741823&v);for(;D<S;D++)_.__setDigit(D,0|1073741823&-A);var G,Q=S<d.length?d.__digit(S):0,ne=p%30;if(ne===0)G=0-Q-A,G&=1073741823;else{var H=32-ne;Q=Q<<H>>>H;var Z=1<<32-H;G=Z-Q-A,G&=Z-1}return _.__setDigit(S,G),_.__trim()}},{key:"__digitPow",value:function(p,d){for(var h=1;0<d;)1&d&&(h*=p),d>>>=1,p*=p;return h}},{key:"__isOneDigitInt",value:function(p){return(1073741823&p)===p}}]),k}(y(Array));return C.__kMaxLength=33554432,C.__kMaxLengthBits=C.__kMaxLength<<5,C.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],C.__kBitsPerCharTableShift=5,C.__kBitsPerCharTableMultiplier=1<<C.__kBitsPerCharTableShift,C.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],C.__kBitConversionBuffer=new ArrayBuffer(8),C.__kBitConversionDouble=new Float64Array(C.__kBitConversionBuffer),C.__kBitConversionInts=new Int32Array(C.__kBitConversionBuffer),C.__clz30=e?function(U){return e(U)-2}:function(U){var W=Math.LN2,L=Math.log;return U===0?30:0|29-(0|L(U>>>0)/W)},C.__imul=t||function(U,W){return 0|U*W},C})});var oK=de((dat,nK)=>{"use strict";F();nK.exports=Ho;var e2=Ah();function Ho(t,e){this.lo=t>>>0,this.hi=e>>>0}var q0=Ho.zero=new Ho(0,0);q0.toNumber=function(){return 0};q0.zzEncode=q0.zzDecode=function(){return this};q0.length=function(){return 1};var r2e=Ho.zeroHash="\0\0\0\0\0\0\0\0";Ho.fromNumber=function(e){if(e===0)return q0;var r=e<0;r&&(e=-e);var i=e>>>0,n=(e-i)/4294967296>>>0;return r&&(n=~n>>>0,i=~i>>>0,++i>4294967295&&(i=0,++n>4294967295&&(n=0))),new Ho(i,n)};Ho.from=function(e){if(typeof e=="number")return Ho.fromNumber(e);if(e2.isString(e))if(e2.Long)e=e2.Long.fromString(e);else return Ho.fromNumber(parseInt(e,10));return e.low||e.high?new Ho(e.low>>>0,e.high>>>0):q0};Ho.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,i=~this.hi>>>0;return r||(i=i+1>>>0),-(r+i*4294967296)}return this.lo+this.hi*4294967296};Ho.prototype.toLong=function(e){return e2.Long?new e2.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var xh=String.prototype.charCodeAt;Ho.fromHash=function(e){return e===r2e?q0:new Ho((xh.call(e,0)|xh.call(e,1)<<8|xh.call(e,2)<<16|xh.call(e,3)<<24)>>>0,(xh.call(e,4)|xh.call(e,5)<<8|xh.call(e,6)<<16|xh.call(e,7)<<24)>>>0)};Ho.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Ho.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};Ho.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};Ho.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return i===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:i<128?9:10}});var Ah=de(fT=>{"use strict";F();var It=fT;It.asPromise=LA();It.base64=NA();It.EventEmitter=qA();It.float=zA();It.inquire=FA();It.utf8=$A();It.pool=VA();It.LongBits=oK();It.isNode=Boolean(typeof globalThis<"u"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);It.global=It.isNode&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||fT;It.emptyArray=Object.freeze?Object.freeze([]):[];It.emptyObject=Object.freeze?Object.freeze({}):{};It.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};It.isString=function(e){return typeof e=="string"||e instanceof String};It.isObject=function(e){return e&&typeof e=="object"};It.isset=It.isSet=function(e,r){var i=e[r];return i!=null&&e.hasOwnProperty(r)?typeof i!="object"||(Array.isArray(i)?i.length:Object.keys(i).length)>0:!1};It.Buffer=function(){try{var t=It.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch{return null}}();It._Buffer_from=null;It._Buffer_allocUnsafe=null;It.newBuffer=function(e){return typeof e=="number"?It.Buffer?It._Buffer_allocUnsafe(e):new It.Array(e):It.Buffer?It._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};It.Array=typeof Uint8Array<"u"?Uint8Array:Array;It.Long=It.global.dcodeIO&&It.global.dcodeIO.Long||It.global.Long||It.inquire("long");It.key2Re=/^true|false|0|1$/;It.key32Re=/^-?(?:0|[1-9][0-9]*)$/;It.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;It.longToHash=function(e){return e?It.LongBits.from(e).toHash():It.LongBits.zeroHash};It.longFromHash=function(e,r){var i=It.LongBits.fromHash(e);return It.Long?It.Long.fromBits(i.lo,i.hi,r):i.toNumber(Boolean(r))};function sK(t,e,r){for(var i=Object.keys(e),n=0;n<i.length;++n)(t[i[n]]===void 0||!r)&&(t[i[n]]=e[i[n]]);return t}It.merge=sK;It.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function aK(t){function e(r,i){if(!(this instanceof e))return new e(r,i);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),i&&sK(this,i)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}It.newError=aK;It.ProtocolError=aK("ProtocolError");It.oneOfGetter=function(e){for(var r={},i=0;i<e.length;++i)r[e[i]]=1;return function(){for(var n=Object.keys(this),s=n.length-1;s>-1;--s)if(r[n[s]]===1&&this[n[s]]!==void 0&&this[n[s]]!==null)return n[s]}};It.oneOfSetter=function(e){return function(r){for(var i=0;i<e.length;++i)e[i]!==r&&delete this[e[i]]}};It.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};It._configure=function(){var t=It.Buffer;if(!t){It._Buffer_from=It._Buffer_allocUnsafe=null;return}It._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,i){return new t(r,i)},It._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var yT=de((mat,lK)=>{"use strict";F();lK.exports=li;var Lf=Ah(),uT,o4=Lf.LongBits,fK=Lf.base64,uK=Lf.utf8;function t2(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function lT(){}function i2e(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function li(){this.len=0,this.head=new t2(lT,0,0),this.tail=this.head,this.states=null}var cK=function(){return Lf.Buffer?function(){return(li.create=function(){return new uT})()}:function(){return new li}};li.create=cK();li.alloc=function(e){return new Lf.Array(e)};Lf.Array!==Array&&(li.alloc=Lf.pool(li.alloc,Lf.Array.prototype.subarray));li.prototype._push=function(e,r,i){return this.tail=this.tail.next=new t2(e,r,i),this.len+=r,this};function dT(t,e,r){e[r]=t&255}function n2e(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function hT(t,e){this.len=t,this.next=void 0,this.val=e}hT.prototype=Object.create(t2.prototype);hT.prototype.fn=n2e;li.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new hT((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};li.prototype.int32=function(e){return e<0?this._push(pT,10,o4.fromNumber(e)):this.uint32(e)};li.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function pT(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}li.prototype.uint64=function(e){var r=o4.from(e);return this._push(pT,r.length(),r)};li.prototype.int64=li.prototype.uint64;li.prototype.sint64=function(e){var r=o4.from(e).zzEncode();return this._push(pT,r.length(),r)};li.prototype.bool=function(e){return this._push(dT,1,e?1:0)};function cT(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}li.prototype.fixed32=function(e){return this._push(cT,4,e>>>0)};li.prototype.sfixed32=li.prototype.fixed32;li.prototype.fixed64=function(e){var r=o4.from(e);return this._push(cT,4,r.lo)._push(cT,4,r.hi)};li.prototype.sfixed64=li.prototype.fixed64;li.prototype.float=function(e){return this._push(Lf.float.writeFloatLE,4,e)};li.prototype.double=function(e){return this._push(Lf.float.writeDoubleLE,8,e)};var o2e=Lf.Array.prototype.set?function(e,r,i){r.set(e,i)}:function(e,r,i){for(var n=0;n<e.length;++n)r[i+n]=e[n]};li.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(dT,1,0);if(Lf.isString(e)){var i=li.alloc(r=fK.length(e));fK.decode(e,i,0),e=i}return this.uint32(r)._push(o2e,r,e)};li.prototype.string=function(e){var r=uK.length(e);return r?this.uint32(r)._push(uK.write,r,e):this._push(dT,1,0)};li.prototype.fork=function(){return this.states=new i2e(this),this.head=this.tail=new t2(lT,0,0),this.len=0,this};li.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new t2(lT,0,0),this.len=0),this};li.prototype.ldelim=function(){var e=this.head,r=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=e.next,this.tail=r,this.len+=i),this};li.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),i=0;e;)e.fn(e.val,r,i),i+=e.len,e=e.next;return r};li._configure=function(t){uT=t,li.create=cK(),uT._configure()}});var pK=de((bat,hK)=>{"use strict";F();hK.exports=Pc;var dK=yT();(Pc.prototype=Object.create(dK.prototype)).constructor=Pc;var Mh=Ah();function Pc(){dK.call(this)}Pc._configure=function(){Pc.alloc=Mh._Buffer_allocUnsafe,Pc.writeBytesBuffer=Mh.Buffer&&Mh.Buffer.prototype instanceof Uint8Array&&Mh.Buffer.prototype.set.name==="set"?function(e,r,i){r.set(e,i)}:function(e,r,i){if(e.copy)e.copy(r,i,0,e.length);else for(var n=0;n<e.length;)r[i++]=e[n++]}};Pc.prototype.bytes=function(e){Mh.isString(e)&&(e=Mh._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(Pc.writeBytesBuffer,r,e),this};function s2e(t,e,r){t.length<40?Mh.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}Pc.prototype.string=function(e){var r=Mh.Buffer.byteLength(e);return this.uint32(r),r&&this._push(s2e,r,e),this};Pc._configure()});var bT=de((wat,vK)=>{"use strict";F();vK.exports=to;var Dc=Ah(),gT,gK=Dc.LongBits,a2e=Dc.utf8;function Mu(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function to(t){this.buf=t,this.pos=0,this.len=t.length}var yK=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new to(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new to(e);throw Error("illegal buffer")},bK=function(){return Dc.Buffer?function(r){return(to.create=function(n){return Dc.Buffer.isBuffer(n)?new gT(n):yK(n)})(r)}:yK};to.create=bK();to.prototype._slice=Dc.Array.prototype.subarray||Dc.Array.prototype.slice;to.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Mu(this,10);return e}}();to.prototype.int32=function(){return this.uint32()|0};to.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function mT(){var t=new gK(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw Mu(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw Mu(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}to.prototype.bool=function(){return this.uint32()!==0};function s4(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}to.prototype.fixed32=function(){if(this.pos+4>this.len)throw Mu(this,4);return s4(this.buf,this.pos+=4)};to.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Mu(this,4);return s4(this.buf,this.pos+=4)|0};function mK(){if(this.pos+8>this.len)throw Mu(this,8);return new gK(s4(this.buf,this.pos+=4),s4(this.buf,this.pos+=4))}to.prototype.float=function(){if(this.pos+4>this.len)throw Mu(this,4);var e=Dc.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};to.prototype.double=function(){if(this.pos+8>this.len)throw Mu(this,4);var e=Dc.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};to.prototype.bytes=function(){var e=this.uint32(),r=this.pos,i=this.pos+e;if(i>this.len)throw Mu(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,i):r===i?new this.buf.constructor(0):this._slice.call(this.buf,r,i)};to.prototype.string=function(){var e=this.bytes();return a2e.read(e,0,e.length)};to.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw Mu(this,e);this.pos+=e}else do if(this.pos>=this.len)throw Mu(this);while(this.buf[this.pos++]&128);return this};to.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};to._configure=function(t){gT=t,to.create=bK(),gT._configure();var e=Dc.Long?"toLong":"toNumber";Dc.merge(to.prototype,{int64:function(){return mT.call(this)[e](!1)},uint64:function(){return mT.call(this)[e](!0)},sint64:function(){return mT.call(this).zzDecode()[e](!1)},fixed64:function(){return mK.call(this)[e](!0)},sfixed64:function(){return mK.call(this)[e](!1)}})}});var SK=de((Eat,EK)=>{"use strict";F();EK.exports=z0;var _K=bT();(z0.prototype=Object.create(_K.prototype)).constructor=z0;var wK=Ah();function z0(t){_K.call(this,t)}z0._configure=function(){wK.Buffer&&(z0.prototype._slice=wK.Buffer.prototype.slice)};z0.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};z0._configure()});var AK=de((xat,xK)=>{"use strict";F();xK.exports=r2;var vT=Ah();(r2.prototype=Object.create(vT.EventEmitter.prototype)).constructor=r2;function r2(t,e,r){if(typeof t!="function")throw TypeError("rpcImpl must be a function");vT.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(r)}r2.prototype.rpcCall=function t(e,r,i,n,s){if(!n)throw TypeError("request must be specified");var o=this;if(!s)return vT.asPromise(t,o,e,r,i,n);if(!o.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return o.rpcImpl(e,r[o.requestDelimited?"encodeDelimited":"encode"](n).finish(),function(f,c){if(f)return o.emit("error",f,e),s(f);if(c===null){o.end(!0);return}if(!(c instanceof i))try{c=i[o.responseDelimited?"decodeDelimited":"decode"](c)}catch(u){return o.emit("error",u,e),s(u)}return o.emit("data",c,e),s(null,c)})}catch(a){o.emit("error",a,e),setTimeout(function(){s(a)},0);return}};r2.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var kK=de(MK=>{"use strict";F();var f2e=MK;f2e.Service=AK()});var PK=de((Tat,TK)=>{"use strict";F();TK.exports={}});var RK=de(IK=>{"use strict";F();var Da=IK;Da.build="minimal";Da.Writer=yT();Da.BufferWriter=pK();Da.Reader=bT();Da.BufferReader=SK();Da.util=Ah();Da.rpc=kK();Da.roots=PK();Da.configure=DK;function DK(){Da.util._configure(),Da.Writer._configure(Da.BufferWriter),Da.Reader._configure(Da.BufferReader)}DK()});var CK=de((Rat,BK)=>{"use strict";F();BK.exports=RK()});function l2e(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var s=t.charAt(n),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=n}var a=t.length,f=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function l(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var E=0,x=0,T=0,M=g.length;T!==M&&g[T]===0;)T++,E++;for(var I=(M-T)*u+1>>>0,R=new Uint8Array(I);T!==M;){for(var O=g[T],B=0,C=I-1;(O!==0||B<x)&&C!==-1;C--,B++)O+=256*R[C]>>>0,R[C]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");x=B,T++}for(var U=I-x;U!==I&&R[U]===0;)U++;for(var W=f.repeat(E);U<I;++U)W+=t.charAt(R[U]);return W}function y(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var E=0;if(g[E]!==" "){for(var x=0,T=0;g[E]===f;)x++,E++;for(var M=(g.length-E)*c+1>>>0,I=new Uint8Array(M);g[E];){var R=r[g.charCodeAt(E)];if(R===255)return;for(var O=0,B=M-1;(R!==0||O<T)&&B!==-1;B--,O++)R+=a*I[B]>>>0,I[B]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");T=O,E++}if(g[E]!==" "){for(var C=M-T;C!==M&&I[C]===0;)C++;for(var U=new Uint8Array(x+(M-C)),W=x;C!==M;)U[W++]=I[C++];return U}}}function m(g){var E=y(g);if(E)return E;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:y,decode:m}}var d2e,h2e,zK,FK=Mi(()=>{F();d2e=l2e,h2e=d2e,zK=h2e});var Fat,UK,Gl,$K,VK,Th=Mi(()=>{F();Fat=new Uint8Array(0),UK=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},Gl=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},$K=t=>new TextEncoder().encode(t),VK=t=>new TextDecoder().decode(t)});var ET,ST,xT,HK,AT,Ng,Ph,p2e,y2e,Nn,ku=Mi(()=>{F();FK();Th();ET=class{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},ST=class{constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return HK(this,e)}},xT=class{constructor(e){this.decoders=e}or(e){return HK(this,e)}decode(e){let r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},HK=(t,e)=>new xT({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),AT=class{constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new ET(e,r,i),this.decoder=new ST(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Ng=({name:t,prefix:e,encode:r,decode:i})=>new AT(t,e,r,i),Ph=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=zK(r,e);return Ng({prefix:t,name:e,encode:i,decode:s=>Gl(n(s))})},p2e=(t,e,r,i)=>{let n={};for(let u=0;u<e.length;++u)n[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),a=0,f=0,c=0;for(let u=0;u<s;++u){let l=n[t[u]];if(l===void 0)throw new SyntaxError(`Non-${i} character`);f=f<<r|l,a+=r,a>=8&&(a-=8,o[c++]=255&f>>a)}if(a>=r||255&f<<8-a)throw new SyntaxError("Unexpected end of data");return o},y2e=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,s="",o=0,a=0;for(let f=0;f<t.length;++f)for(a=a<<8|t[f],o+=8;o>r;)o-=r,s+=e[n&a>>o];if(o&&(s+=e[n&a<<r-o]),i)for(;s.length*r&7;)s+="=";return s},Nn=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>Ng({prefix:e,name:t,encode(n){return y2e(n,i,r)},decode(n){return p2e(n,i,r,t)}})});var MT={};ai(MT,{identity:()=>m2e});var m2e,WK=Mi(()=>{F();ku();Th();m2e=Ng({prefix:"\0",name:"identity",encode:t=>VK(t),decode:t=>$K(t)})});var kT={};ai(kT,{base2:()=>g2e});var g2e,YK=Mi(()=>{F();ku();g2e=Nn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var TT={};ai(TT,{base8:()=>b2e});var b2e,ZK=Mi(()=>{F();ku();b2e=Nn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var PT={};ai(PT,{base10:()=>v2e});var v2e,GK=Mi(()=>{F();ku();v2e=Ph({prefix:"9",name:"base10",alphabet:"0123456789"})});var DT={};ai(DT,{base16:()=>w2e,base16upper:()=>_2e});var w2e,_2e,JK=Mi(()=>{F();ku();w2e=Nn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),_2e=Nn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var IT={};ai(IT,{base32:()=>qg,base32hex:()=>A2e,base32hexpad:()=>k2e,base32hexpadupper:()=>T2e,base32hexupper:()=>M2e,base32pad:()=>S2e,base32padupper:()=>x2e,base32upper:()=>E2e,base32z:()=>P2e});var qg,E2e,S2e,x2e,A2e,M2e,k2e,T2e,P2e,RT=Mi(()=>{F();ku();qg=Nn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),E2e=Nn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),S2e=Nn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),x2e=Nn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),A2e=Nn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),M2e=Nn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),k2e=Nn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),T2e=Nn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),P2e=Nn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var BT={};ai(BT,{base36:()=>D2e,base36upper:()=>I2e});var D2e,I2e,XK=Mi(()=>{F();ku();D2e=Ph({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),I2e=Ph({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var CT={};ai(CT,{base58btc:()=>Ic,base58flickr:()=>R2e});var Ic,R2e,OT=Mi(()=>{F();ku();Ic=Ph({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),R2e=Ph({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var jT={};ai(jT,{base64:()=>B2e,base64pad:()=>C2e,base64url:()=>O2e,base64urlpad:()=>j2e});var B2e,C2e,O2e,j2e,QK=Mi(()=>{F();ku();B2e=Nn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),C2e=Nn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),O2e=Nn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),j2e=Nn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});var LT={};ai(LT,{base256emoji:()=>F2e});function q2e(t){return t.reduce((e,r)=>(e+=L2e[r],e),"")}function z2e(t){let e=[];for(let r of t){let i=N2e[r.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(i)}return new Uint8Array(e)}var eH,L2e,N2e,F2e,tH=Mi(()=>{F();ku();eH=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),L2e=eH.reduce((t,e,r)=>(t[r]=e,t),[]),N2e=eH.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);F2e=Ng({prefix:"\u{1F680}",name:"base256emoji",encode:q2e,decode:z2e})});function nH(t,e,r){e=e||[],r=r||0;for(var i=r;t>=K2e;)e[r++]=t&255|rH,t/=128;for(;t&V2e;)e[r++]=t&255|rH,t>>>=7;return e[r]=t|0,nH.bytes=r-i+1,e}function NT(t,i){var r=0,i=i||0,n=0,s=i,o,a=t.length;do{if(s>=a)throw NT.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=n<28?(o&iH)<<n:(o&iH)*Math.pow(2,n),n+=7}while(o>=W2e);return NT.bytes=s-i,r}var U2e,rH,$2e,V2e,K2e,H2e,W2e,iH,Y2e,Z2e,G2e,J2e,X2e,Q2e,e3e,t3e,r3e,i3e,n3e,o3e,i2,oH=Mi(()=>{F();U2e=nH,rH=128,$2e=127,V2e=~$2e,K2e=Math.pow(2,31);H2e=NT,W2e=128,iH=127;Y2e=Math.pow(2,7),Z2e=Math.pow(2,14),G2e=Math.pow(2,21),J2e=Math.pow(2,28),X2e=Math.pow(2,35),Q2e=Math.pow(2,42),e3e=Math.pow(2,49),t3e=Math.pow(2,56),r3e=Math.pow(2,63),i3e=function(t){return t<Y2e?1:t<Z2e?2:t<G2e?3:t<J2e?4:t<X2e?5:t<Q2e?6:t<e3e?7:t<t3e?8:t<r3e?9:10},n3e={encode:U2e,decode:H2e,encodingLength:i3e},o3e=n3e,i2=o3e});var n2,zg,Fg,u4=Mi(()=>{F();oH();n2=(t,e=0)=>[i2.decode(t,e),i2.decode.bytes],zg=(t,e,r=0)=>(i2.encode(t,e,r),e),Fg=t=>i2.encodingLength(t)});var F0,sH,aH,Ug,s2=Mi(()=>{F();Th();u4();F0=(t,e)=>{let r=e.byteLength,i=Fg(t),n=i+Fg(r),s=new Uint8Array(n+r);return zg(t,s,0),zg(r,s,i),s.set(e,n),new Ug(t,r,e,s)},sH=t=>{let e=Gl(t),[r,i]=n2(e),[n,s]=n2(e.subarray(i)),o=e.subarray(i+s);if(o.byteLength!==n)throw new Error("Incorrect length");return new Ug(r,n,o,e)},aH=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&UK(t.bytes,e.bytes),Ug=class{constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}}});var zT,qT,FT=Mi(()=>{F();s2();zT=({name:t,code:e,encode:r})=>new qT(t,e,r),qT=class{constructor(e,r,i){this.name=e,this.code=r,this.encode=i}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?F0(this.code,r):r.then(i=>F0(this.code,i))}else throw Error("Unknown type, must be binary type")}}});var UT={};ai(UT,{sha256:()=>s3e,sha512:()=>a3e});var uH,s3e,a3e,cH=Mi(()=>{F();FT();uH=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),s3e=zT({name:"sha2-256",code:18,encode:uH("SHA-256")}),a3e=zT({name:"sha2-512",code:19,encode:uH("SHA-512")})});var $T={};ai($T,{identity:()=>c3e});var lH,f3e,dH,u3e,c3e,hH=Mi(()=>{F();Th();s2();lH=0,f3e="identity",dH=Gl,u3e=t=>F0(lH,dH(t)),c3e={code:lH,name:f3e,encode:dH,digest:u3e}});var pH=Mi(()=>{F();Th()});var kft,Tft,yH=Mi(()=>{F();kft=new TextEncoder,Tft=new TextDecoder});var Do,h3e,p3e,y3e,a2,m3e,mH,gH,c4,l4,g3e,b3e,v3e,bH=Mi(()=>{F();u4();s2();OT();RT();Th();Do=class{constructor(e,r,i,n){this.code=r,this.version=e,this.multihash=i,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:l4,byteLength:l4,code:c4,version:c4,multihash:c4,bytes:c4,_baseCache:l4,asCID:l4})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==a2)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==m3e)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Do.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,i=F0(e,r);return Do.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&aH(this.multihash,e.multihash)}toString(e){let{bytes:r,version:i,_baseCache:n}=this;switch(i){case 0:return p3e(r,n,e||Ic.encoder);default:return y3e(r,n,e||qg.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return b3e(/^0\.0/,v3e),!!(e&&(e[gH]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof Do)return e;if(e!=null&&e.asCID===e){let{version:r,code:i,multihash:n,bytes:s}=e;return new Do(r,i,n,s||mH(r,i,n.bytes))}else if(e!=null&&e[gH]===!0){let{version:r,multihash:i,code:n}=e,s=sH(i);return Do.create(r,n,s)}else return null}static create(e,r,i){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==a2)throw new Error(`Version 0 CID must use dag-pb (code: ${a2}) block encoding`);return new Do(e,r,i,i.bytes)}case 1:{let n=mH(e,r,i.bytes);return new Do(e,r,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return Do.create(0,a2,e)}static createV1(e,r){return Do.create(1,e,r)}static decode(e){let[r,i]=Do.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=Do.inspectBytes(e),i=r.size-r.multihashSize,n=Gl(e.subarray(i,i+r.multihashSize));if(n.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=n.subarray(r.multihashSize-r.digestSize),o=new Ug(r.multihashCode,r.digestSize,s,n);return[r.version===0?Do.createV0(o):Do.createV1(r.codec,o),e.subarray(r.size)]}static inspectBytes(e){let r=0,i=()=>{let[l,y]=n2(e.subarray(r));return r+=y,l},n=i(),s=a2;if(n===18?(n=0,r=0):n===1&&(s=i()),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let o=r,a=i(),f=i(),c=r+f,u=c-o;return{version:n,codec:s,multihashCode:a,digestSize:f,multihashSize:u,size:c}}static parse(e,r){let[i,n]=h3e(e,r),s=Do.decode(n);return s._baseCache.set(i,e),s}},h3e=(t,e)=>{switch(t[0]){case"Q":{let r=e||Ic;return[Ic.prefix,r.decode(`${Ic.prefix}${t}`)]}case Ic.prefix:{let r=e||Ic;return[Ic.prefix,r.decode(t)]}case qg.prefix:{let r=e||qg;return[qg.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},p3e=(t,e,r)=>{let{prefix:i}=r;if(i!==Ic.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let s=r.encode(t).slice(1);return e.set(i,s),s}else return n},y3e=(t,e,r)=>{let{prefix:i}=r,n=e.get(i);if(n==null){let s=r.encode(t);return e.set(i,s),s}else return n},a2=112,m3e=18,mH=(t,e,r)=>{let i=Fg(t),n=i+Fg(e),s=new Uint8Array(n+r.byteLength);return zg(t,s,0),zg(e,s,i),s.set(r,n),s},gH=Symbol.for("@ipld/js-cid/CID"),c4={writable:!1,configurable:!1,enumerable:!0},l4={writable:!1,enumerable:!1,configurable:!1},g3e="0.0.0-dev",b3e=(t,e)=>{if(t.test(g3e))console.warn(e);else throw new Error(e)},v3e=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var vH=Mi(()=>{F();bH();u4();Th();FT();s2()});var VT,qft,wH=Mi(()=>{F();WK();YK();ZK();GK();JK();RT();XK();OT();QK();tH();cH();hH();pH();yH();vH();VT={...MT,...kT,...TT,...PT,...DT,...IT,...BT,...CT,...jT,...LT},qft={...UT,...$T}});function $g(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}var d4=Mi(()=>{F()});function h4(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?$g(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}var KT=Mi(()=>{F();d4()});function EH(t,e,r,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:i}}}var _H,HT,w3e,SH,xH=Mi(()=>{F();wH();KT();_H=EH("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),HT=EH("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=h4(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),w3e={utf8:_H,"utf-8":_H,hex:VT.base16,latin1:HT,ascii:HT,binary:HT,...VT},SH=w3e});var AH={};ai(AH,{fromString:()=>_3e});function _3e(t,e="utf8"){let r=SH[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?$g(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var MH=Mi(()=>{F();xH();d4()});var PH=de((eut,TH)=>{"use strict";F();var E3e=pM(),{fromString:S3e}=(MH(),sN(AH)),Nf=class{constructor(e,r,i=0){this._options=e,this._popCount=0,this._parent=r,this._posAtParent=i,this._children=new E3e,this.key=null}async put(e,r){let i=await this._findNewBucketAndPos(e);await i.bucket._putAt(i,e,r)}async get(e){let r=await this._findChild(e);if(r)return r.value}async del(e){let r=await this._findPlace(e),i=r.bucket._at(r.pos);i&&i.key===e&&r.bucket._delAt(r.pos)}leafCount(){return this._children.compactArray().reduce((r,i)=>i instanceof Nf?r+i.leafCount():r+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){let e=this._children.compactArray();for(let r of e)r instanceof Nf?yield*r.eachLeafSeries():yield r;return[]}serialize(e,r){let i=[];return r(this._children.reduce((n,s,o)=>(s&&(s instanceof Nf?n.push(s.serialize(e,r)):n.push(e(s,o))),n),i))}asyncTransform(e,r){return kH(this,e,r)}toJSON(){return this.serialize(A3e,M3e)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(e){let r=await this._findPlace(e),i=r.bucket._at(r.pos);if(!(i instanceof Nf)&&i&&i.key===e)return i}async _findPlace(e){let r=this._options.hash(typeof e=="string"?S3e(e):e),i=await r.take(this._options.bits),n=this._children.get(i);return n instanceof Nf?n._findPlace(r):{bucket:this,pos:i,hash:r,existingChild:n}}async _findNewBucketAndPos(e){let r=await this._findPlace(e);if(r.existingChild&&r.existingChild.key!==e){let i=new Nf(this._options,r.bucket,r.pos);r.bucket._putObjectAt(r.pos,i);let n=await i._findPlace(r.existingChild.hash);return n.bucket._putAt(n,r.existingChild.key,r.existingChild.value),i._findNewBucketAndPos(r.hash)}return r}_putAt(e,r,i){this._putObjectAt(e.pos,{key:r,value:i,hash:e.hash})}_putObjectAt(e,r){this._children.get(e)||this._popCount++,this._children.set(e,r)}_delAt(e){if(e===-1)throw new Error("Invalid position");this._children.get(e)&&this._popCount--,this._children.unset(e),this._level()}_level(){if(this._parent&&this._popCount<=1)if(this._popCount===1){let e=this._children.find(x3e);if(e&&!(e instanceof Nf)){let r=e.hash;r.untake(this._options.bits);let i={pos:this._posAtParent,hash:r,bucket:this._parent};this._parent._putAt(i,e.key,e.value)}}else this._parent._delAt(this._posAtParent)}_at(e){return this._children.get(e)}};function x3e(t){return Boolean(t)}function A3e(t,e){return t.key}function M3e(t){return t}async function kH(t,e,r){let i=[];for(let n of t._children.compactArray())if(n instanceof Nf)await kH(n,e,r);else{let s=await e(n);i.push({bitField:t._children.bitField(),children:s})}return r(i)}TH.exports=Nf});var IH=de((iut,DH)=>{"use strict";F();var k3e=[255,254,252,248,240,224,192,128],T3e=[1,3,7,15,31,63,127,255];DH.exports=class{constructor(e){this._value=e,this._currentBytePos=e.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+this._currentBytePos*8}totalBits(){return this._value.length*8}take(e){let r=e,i=0;for(;r&&this._haveBits();){let n=this._value[this._currentBytePos],s=this._currentBitPos+1,o=Math.min(s,r),a=P3e(n,s-o,o);i=(i<<o)+a,r-=o,this._currentBitPos-=o,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return i}untake(e){for(this._currentBitPos+=e;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}};function P3e(t,e,r){let i=D3e(e,r);return(t&i)>>>e}function D3e(t,e){return k3e[t]&T3e[Math.min(e+t-1,7)]}});var RH={};ai(RH,{concat:()=>I3e});function I3e(t,e){e||(e=t.reduce((n,s)=>n+s.length,0));let r=h4(e),i=0;for(let n of t)r.set(n,i),i+=n.length;return $g(r)}var BH=Mi(()=>{F();KT();d4()});var CH=de((fut,WT)=>{"use strict";F();var R3e=IH(),{concat:B3e}=(BH(),sN(RH));function C3e(t){function e(r){return r instanceof f2?r:new f2(r,t)}return e}var f2=class{constructor(e,r){if(!(e instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=e,this._hashFn=r,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(e){let r=e;for(;this._availableBits<r;)await this._produceMoreBits();let i=0;for(;r>0;){let n=this._buffers[this._currentBufferIndex],s=Math.min(n.availableBits(),r),o=n.take(s);i=(i<<s)+o,r-=s,this._availableBits-=s,n.availableBits()===0&&this._currentBufferIndex++}return i}untake(e){let r=e;for(;r>0;){let i=this._buffers[this._currentBufferIndex],n=Math.min(i.totalBits()-i.availableBits(),r);i.untake(n),r-=n,this._availableBits+=n,this._currentBufferIndex>0&&i.totalBits()===i.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;let e=this._depth?B3e([this._value,Uint8Array.from([this._depth])]):this._value,r=await this._hashFn(e),i=new R3e(r);this._buffers.push(i),this._availableBits+=i.availableBits()}};WT.exports=C3e;WT.exports.InfiniteHash=f2});var LH=de((cut,jH)=>{"use strict";F();var OH=PH(),O3e=CH();function j3e(t){if(!t||!t.hashFn)throw new Error("please define an options.hashFn");let e={bits:t.bits||8,hash:O3e(t.hashFn)};return new OH(e)}jH.exports={createHAMT:j3e,Bucket:OH}});var pW=de((Vct,hW)=>{"use strict";F();var L_e=async t=>{let e;for await(let r of t)e=r;return e};hW.exports=L_e});var bo=de((Gct,mW)=>{"use strict";F();mW.exports={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Uint8Array}});var Bc=de((Xct,cP)=>{"use strict";F();var F_e=ki(),U_e=Object.getPrototypeOf(async function(){}).constructor,gW=globalThis.Blob||F_e.Blob,$_e=typeof gW<"u"?function(e){return e instanceof gW}:function(e){return!1},uP=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let i=0;i<e.length;i++)r+=`    ${e[i].stack}
`;super(r),this.name="AggregateError",this.errors=e}};cP.exports={AggregateError:uP,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((i,n)=>{t=i,e=n}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((i,...n)=>i?r(i):e(...n))})},debuglog(){return function(){}},format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,i]){let n=e.shift();return i==="f"?n.toFixed(6):i==="j"?JSON.stringify(n):i==="s"&&typeof n=="object"?`${n.constructor!==Object?n.constructor.name:""} {}`.trim():n.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}},types:{isAsyncFunction(t){return t instanceof U_e},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:$_e};cP.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var E4=de((elt,_4)=>{"use strict";F();var{AbortController:bW,AbortSignal:V_e}=typeof self<"u"?self:typeof window<"u"?window:void 0;_4.exports=bW;_4.exports.AbortSignal=V_e;_4.exports.default=bW});var la=de((rlt,_W)=>{"use strict";F();var{format:K_e,inspect:S4,AggregateError:H_e}=Bc(),W_e=globalThis.AggregateError||H_e,Y_e=Symbol("kIsNodeError"),Z_e=["string","function","number","object","Function","Object","boolean","bigint","symbol"],G_e=/^([A-Z][a-z0-9]*)+$/,J_e="__node_internal_",x4={};function V0(t,e){if(!t)throw new x4.ERR_INTERNAL_ASSERTION(e)}function vW(t){let e="",r=t.length,i=t[0]==="-"?1:0;for(;r>=i+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function X_e(t,e,r){if(typeof e=="function")return V0(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let i=(e.match(/%[dfijoOs]/g)||[]).length;return V0(i===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${i}).`),r.length===0?e:K_e(e,...r)}function ws(t,e,r){r||(r=Error);class i extends r{constructor(...s){super(X_e(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=t,i.prototype[Y_e]=!0,x4[t]=i}function wW(t){let e=J_e+t.name;return Object.defineProperty(t,"name",{value:e}),t}function Q_e(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new W_e([e,t],e.message);return r.code=e.code,r}return t||e}var lP=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new x4.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};ws("ERR_ASSERTION","%s",Error);ws("ERR_INVALID_ARG_TYPE",(t,e,r)=>{V0(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let i="The ";t.endsWith(" argument")?i+=`${t} `:i+=`"${t}" ${t.includes(".")?"property":"argument"} `,i+="must be ";let n=[],s=[],o=[];for(let f of e)V0(typeof f=="string","All expected entries have to be of type string"),Z_e.includes(f)?n.push(f.toLowerCase()):G_e.test(f)?s.push(f):(V0(f!=="object",'The value "object" should be written as "Object"'),o.push(f));if(s.length>0){let f=n.indexOf("object");f!==-1&&(n.splice(n,f,1),s.push("Object"))}if(n.length>0){switch(n.length){case 1:i+=`of type ${n[0]}`;break;case 2:i+=`one of type ${n[0]} or ${n[1]}`;break;default:{let f=n.pop();i+=`one of type ${n.join(", ")}, or ${f}`}}(s.length>0||o.length>0)&&(i+=" or ")}if(s.length>0){switch(s.length){case 1:i+=`an instance of ${s[0]}`;break;case 2:i+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let f=s.pop();i+=`an instance of ${s.join(", ")}, or ${f}`}}o.length>0&&(i+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(i+="an "),i+=`${o[0]}`;break;case 2:i+=`one of ${o[0]} or ${o[1]}`;break;default:{let f=o.pop();i+=`one of ${o.join(", ")}, or ${f}`}}if(r==null)i+=`. Received ${r}`;else if(typeof r=="function"&&r.name)i+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)i+=`. Received an instance of ${r.constructor.name}`;else{let f=S4(r,{depth:-1});i+=`. Received ${f}`}}else{let f=S4(r,{colors:!1});f.length>25&&(f=`${f.slice(0,25)}...`),i+=`. Received type ${typeof r} (${f})`}return i},TypeError);ws("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let i=S4(e);return i.length>128&&(i=i.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${i}`},TypeError);ws("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var i;let n=r!=null&&(i=r.constructor)!==null&&i!==void 0&&i.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${n}.`},TypeError);ws("ERR_MISSING_ARGS",(...t)=>{V0(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(i=>`"${i}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let i=t.pop();e+=`The ${t.join(", ")}, and ${i} arguments`}break}return`${e} must be specified`},TypeError);ws("ERR_OUT_OF_RANGE",(t,e,r)=>{V0(e,'Missing "range" argument');let i;return Number.isInteger(r)&&Math.abs(r)>2**32?i=vW(String(r)):typeof r=="bigint"?(i=String(r),(r>2n**32n||r<-(2n**32n))&&(i=vW(i)),i+="n"):i=S4(r),`The value of "${t}" is out of range. It must be ${e}. Received ${i}`},RangeError);ws("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);ws("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);ws("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);ws("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);ws("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);ws("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ws("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);ws("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);ws("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);ws("ERR_STREAM_WRITE_AFTER_END","write after end",Error);ws("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);_W.exports={AbortError:lP,aggregateTwoErrors:wW(Q_e),hideStackFrames:wW,codes:x4}});var p2=de((nlt,PW)=>{"use strict";F();var{ArrayIsArray:xW,ArrayPrototypeIncludes:AW,ArrayPrototypeJoin:MW,ArrayPrototypeMap:e6e,NumberIsInteger:hP,NumberIsNaN:t6e,NumberMAX_SAFE_INTEGER:r6e,NumberMIN_SAFE_INTEGER:i6e,NumberParseInt:n6e,ObjectPrototypeHasOwnProperty:o6e,RegExpPrototypeExec:s6e,String:a6e,StringPrototypeToUpperCase:f6e,StringPrototypeTrim:u6e}=bo(),{hideStackFrames:Tu,codes:{ERR_SOCKET_BAD_PORT:c6e,ERR_INVALID_ARG_TYPE:Ia,ERR_INVALID_ARG_VALUE:A4,ERR_OUT_OF_RANGE:K0,ERR_UNKNOWN_SIGNAL:EW}}=la(),{normalizeEncoding:l6e}=Bc(),{isAsyncFunction:d6e,isArrayBufferView:h6e}=Bc().types,SW={};function p6e(t){return t===(t|0)}function y6e(t){return t===t>>>0}var m6e=/^[0-7]+$/,g6e="must be a 32-bit unsigned integer or an octal string";function b6e(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(s6e(m6e,t)===null)throw new A4(e,t,g6e);t=n6e(t,8)}return kW(t,e),t}var v6e=Tu((t,e,r=i6e,i=r6e)=>{if(typeof t!="number")throw new Ia(e,"number",t);if(!hP(t))throw new K0(e,"an integer",t);if(t<r||t>i)throw new K0(e,`>= ${r} && <= ${i}`,t)}),w6e=Tu((t,e,r=-2147483648,i=2147483647)=>{if(typeof t!="number")throw new Ia(e,"number",t);if(!hP(t))throw new K0(e,"an integer",t);if(t<r||t>i)throw new K0(e,`>= ${r} && <= ${i}`,t)}),kW=Tu((t,e,r=!1)=>{if(typeof t!="number")throw new Ia(e,"number",t);if(!hP(t))throw new K0(e,"an integer",t);let i=r?1:0,n=4294967295;if(t<i||t>n)throw new K0(e,`>= ${i} && <= ${n}`,t)});function TW(t,e){if(typeof t!="string")throw new Ia(e,"string",t)}function _6e(t,e,r=void 0,i){if(typeof t!="number")throw new Ia(e,"number",t);if(r!=null&&t<r||i!=null&&t>i||(r!=null||i!=null)&&t6e(t))throw new K0(e,`${r!=null?`>= ${r}`:""}${r!=null&&i!=null?" && ":""}${i!=null?`<= ${i}`:""}`,t)}var E6e=Tu((t,e,r)=>{if(!AW(r,t)){let n="must be one of: "+MW(e6e(r,s=>typeof s=="string"?`'${s}'`:a6e(s)),", ");throw new A4(e,t,n)}});function S6e(t,e){if(typeof t!="boolean")throw new Ia(e,"boolean",t)}function dP(t,e,r){return t==null||!o6e(t,e)?r:t[e]}var x6e=Tu((t,e,r=null)=>{let i=dP(r,"allowArray",!1),n=dP(r,"allowFunction",!1);if(!dP(r,"nullable",!1)&&t===null||!i&&xW(t)||typeof t!="object"&&(!n||typeof t!="function"))throw new Ia(e,"Object",t)}),A6e=Tu((t,e,r=0)=>{if(!xW(t))throw new Ia(e,"Array",t);if(t.length<r){let i=`must be longer than ${r}`;throw new A4(e,t,i)}});function M6e(t,e="signal"){if(TW(t,e),SW[t]===void 0)throw SW[f6e(t)]!==void 0?new EW(t+" (signals must use all capital letters)"):new EW(t)}var k6e=Tu((t,e="buffer")=>{if(!h6e(t))throw new Ia(e,["Buffer","TypedArray","DataView"],t)});function T6e(t,e){let r=l6e(e),i=t.length;if(r==="hex"&&i%2!==0)throw new A4("encoding",e,`is invalid for data of length ${i}`)}function P6e(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&u6e(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new c6e(e,t,r);return t|0}var D6e=Tu((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Ia(e,"AbortSignal",t)}),I6e=Tu((t,e)=>{if(typeof t!="function")throw new Ia(e,"Function",t)}),R6e=Tu((t,e)=>{if(typeof t!="function"||d6e(t))throw new Ia(e,"Function",t)}),B6e=Tu((t,e)=>{if(t!==void 0)throw new Ia(e,"undefined",t)});function C6e(t,e,r){if(!AW(r,t))throw new Ia(e,`('${MW(r,"|")}')`,t)}PW.exports={isInt32:p6e,isUint32:y6e,parseFileMode:b6e,validateArray:A6e,validateBoolean:S6e,validateBuffer:k6e,validateEncoding:T6e,validateFunction:I6e,validateInt32:w6e,validateInteger:v6e,validateNumber:_6e,validateObject:x6e,validateOneOf:E6e,validatePlainFunction:R6e,validatePort:P6e,validateSignalName:M6e,validateString:TW,validateUint32:kW,validateUndefined:B6e,validateUnion:C6e,validateAbortSignal:D6e}});var Dh=de((slt,FW)=>{"use strict";F();var{Symbol:M4,SymbolAsyncIterator:DW,SymbolIterator:IW}=bo(),RW=M4("kDestroyed"),BW=M4("kIsErrored"),pP=M4("kIsReadable"),CW=M4("kIsDisturbed");function k4(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function T4(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function O6e(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function H0(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function j6e(t,e){return t==null?!1:e===!0?typeof t[DW]=="function":e===!1?typeof t[IW]=="function":typeof t[DW]=="function"||typeof t[IW]=="function"}function P4(t){if(!H0(t))return null;let e=t._writableState,r=t._readableState,i=e||r;return!!(t.destroyed||t[RW]||i!=null&&i.destroyed)}function OW(t){if(!T4(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function L6e(t,e){if(!T4(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function N6e(t){if(!k4(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function jW(t,e){if(!k4(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function LW(t){return t&&t[pP]!=null?t[pP]:typeof t?.readable!="boolean"?null:P4(t)?!1:k4(t)&&t.readable&&!jW(t)}function NW(t){return typeof t?.writable!="boolean"?null:P4(t)?!1:T4(t)&&t.writable&&!OW(t)}function q6e(t,e){return H0(t)?P4(t)?!0:!(e?.readable!==!1&&LW(t)||e?.writable!==!1&&NW(t)):null}function z6e(t){var e,r;return H0(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function F6e(t){var e,r;return H0(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function U6e(t){if(!H0(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&qW(t)?t._closed:null}function qW(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function zW(t){return typeof t._sent100=="boolean"&&qW(t)}function $6e(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function V6e(t){if(!H0(t))return null;let e=t._writableState,r=t._readableState,i=e||r;return!i&&zW(t)||!!(i&&i.autoDestroy&&i.emitClose&&i.closed===!1)}function K6e(t){var e;return!!(t&&((e=t[CW])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function H6e(t){var e,r,i,n,s,o,a,f,c,u;return!!(t&&((e=(r=(i=(n=(s=(o=t[BW])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&n!==void 0?n:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&i!==void 0?i:(f=t._writableState)===null||f===void 0?void 0:f.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}FW.exports={kDestroyed:RW,isDisturbed:K6e,kIsDisturbed:CW,isErrored:H6e,kIsErrored:BW,isReadable:LW,kIsReadable:pP,isClosed:U6e,isDestroyed:P4,isDuplexNodeStream:O6e,isFinished:q6e,isIterable:j6e,isReadableNodeStream:k4,isReadableEnded:N6e,isReadableFinished:jW,isReadableErrored:F6e,isNodeStream:H0,isWritable:NW,isWritableNodeStream:T4,isWritableEnded:OW,isWritableFinished:L6e,isWritableErrored:z6e,isServerRequest:$6e,isServerResponse:zW,willEmitClose:V6e}});var Ih=de((flt,mP)=>{F();var Yg=kl(),{AbortError:W6e,codes:Y6e}=la(),{ERR_INVALID_ARG_TYPE:Z6e,ERR_STREAM_PREMATURE_CLOSE:UW}=Y6e,{kEmptyObject:$W,once:VW}=Bc(),{validateAbortSignal:G6e,validateFunction:J6e,validateObject:X6e}=p2(),{Promise:Q6e}=bo(),{isClosed:e8e,isReadable:KW,isReadableNodeStream:yP,isReadableFinished:HW,isReadableErrored:t8e,isWritable:WW,isWritableNodeStream:YW,isWritableFinished:ZW,isWritableErrored:r8e,isNodeStream:i8e,willEmitClose:n8e}=Dh();function o8e(t){return t.setHeader&&typeof t.abort=="function"}var s8e=()=>{};function GW(t,e,r){var i,n;arguments.length===2?(r=e,e=$W):e==null?e=$W:X6e(e,"options"),J6e(r,"callback"),G6e(e.signal,"options.signal"),r=VW(r);let s=(i=e.readable)!==null&&i!==void 0?i:yP(t),o=(n=e.writable)!==null&&n!==void 0?n:YW(t);if(!i8e(t))throw new Z6e("stream","Stream",t);let a=t._writableState,f=t._readableState,c=()=>{t.writable||y()},u=n8e(t)&&yP(t)===s&&YW(t)===o,l=ZW(t,!1),y=()=>{l=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||m)&&r.call(t)},m=HW(t,!1),g=()=>{m=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||l)&&r.call(t)},E=R=>{r.call(t,R)},x=e8e(t),T=()=>{x=!0;let R=r8e(t)||t8e(t);if(R&&typeof R!="boolean")return r.call(t,R);if(s&&!m&&yP(t,!0)&&!HW(t,!1))return r.call(t,new UW);if(o&&!l&&!ZW(t,!1))return r.call(t,new UW);r.call(t)},M=()=>{t.req.on("finish",y)};o8e(t)?(t.on("complete",y),u||t.on("abort",T),t.req?M():t.on("request",M)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",T),t.on("end",g),t.on("finish",y),e.error!==!1&&t.on("error",E),t.on("close",T),x?Yg.nextTick(T):a!=null&&a.errorEmitted||f!=null&&f.errorEmitted?u||Yg.nextTick(T):(!s&&(!u||KW(t))&&(l||WW(t)===!1)||!o&&(!u||WW(t))&&(m||KW(t)===!1)||f&&t.req&&t.aborted)&&Yg.nextTick(T);let I=()=>{r=s8e,t.removeListener("aborted",T),t.removeListener("complete",y),t.removeListener("abort",T),t.removeListener("request",M),t.req&&t.req.removeListener("finish",y),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",y),t.removeListener("end",g),t.removeListener("error",E),t.removeListener("close",T)};if(e.signal&&!x){let R=()=>{let O=r;I(),O.call(t,new W6e(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)Yg.nextTick(R);else{let O=r;r=VW((...B)=>{e.signal.removeEventListener("abort",R),O.apply(t,B)}),e.signal.addEventListener("abort",R)}}return I}function a8e(t,e){return new Q6e((r,i)=>{GW(t,e,n=>{n?i(n):r()})})}mP.exports=GW;mP.exports.finished=a8e});var nY=de((clt,vP)=>{"use strict";F();var eY=globalThis.AbortController||E4().AbortController,{codes:{ERR_INVALID_ARG_TYPE:y2,ERR_MISSING_ARGS:f8e,ERR_OUT_OF_RANGE:u8e},AbortError:Cc}=la(),{validateAbortSignal:Zg,validateInteger:c8e,validateObject:Gg}=p2(),l8e=bo().Symbol("kWeak"),{finished:d8e}=Ih(),{ArrayPrototypePush:h8e,MathFloor:p8e,Number:y8e,NumberIsNaN:m8e,Promise:JW,PromiseReject:XW,PromisePrototypeThen:g8e,Symbol:tY}=bo(),D4=tY("kEmpty"),QW=tY("kEof");function I4(t,e){if(typeof t!="function")throw new y2("fn",["Function","AsyncFunction"],t);e!=null&&Gg(e,"options"),e?.signal!=null&&Zg(e.signal,"options.signal");let r=1;return e?.concurrency!=null&&(r=p8e(e.concurrency)),c8e(r,"concurrency",1),async function*(){var n,s;let o=new eY,a=this,f=[],c=o.signal,u={signal:c},l=()=>o.abort();e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted&&l(),e==null||(s=e.signal)===null||s===void 0||s.addEventListener("abort",l);let y,m,g=!1;function E(){g=!0}async function x(){try{for await(let I of a){var T;if(g)return;if(c.aborted)throw new Cc;try{I=t(I,u)}catch(R){I=XW(R)}I!==D4&&(typeof((T=I)===null||T===void 0?void 0:T.catch)=="function"&&I.catch(E),f.push(I),y&&(y(),y=null),!g&&f.length&&f.length>=r&&await new JW(R=>{m=R}))}f.push(QW)}catch(I){let R=XW(I);g8e(R,void 0,E),f.push(R)}finally{var M;g=!0,y&&(y(),y=null),e==null||(M=e.signal)===null||M===void 0||M.removeEventListener("abort",l)}}x();try{for(;;){for(;f.length>0;){let T=await f[0];if(T===QW)return;if(c.aborted)throw new Cc;T!==D4&&(yield T),f.shift(),m&&(m(),m=null)}await new JW(T=>{y=T})}}finally{o.abort(),g=!0,m&&(m(),m=null)}}.call(this)}function b8e(t=void 0){return t!=null&&Gg(t,"options"),t?.signal!=null&&Zg(t.signal,"options.signal"),async function*(){let r=0;for await(let n of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new Cc({cause:t.signal.reason});yield[r++,n]}}.call(this)}async function rY(t,e=void 0){for await(let r of bP.call(this,t,e))return!0;return!1}async function v8e(t,e=void 0){if(typeof t!="function")throw new y2("fn",["Function","AsyncFunction"],t);return!await rY.call(this,async(...r)=>!await t(...r),e)}async function w8e(t,e){for await(let r of bP.call(this,t,e))return r}async function _8e(t,e){if(typeof t!="function")throw new y2("fn",["Function","AsyncFunction"],t);async function r(i,n){return await t(i,n),D4}for await(let i of I4.call(this,r,e));}function bP(t,e){if(typeof t!="function")throw new y2("fn",["Function","AsyncFunction"],t);async function r(i,n){return await t(i,n)?i:D4}return I4.call(this,r,e)}var gP=class extends f8e{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function E8e(t,e,r){var i;if(typeof t!="function")throw new y2("reducer",["Function","AsyncFunction"],t);r!=null&&Gg(r,"options"),r?.signal!=null&&Zg(r.signal,"options.signal");let n=arguments.length>1;if(r!=null&&(i=r.signal)!==null&&i!==void 0&&i.aborted){let c=new Cc(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await d8e(this.destroy(c)),c}let s=new eY,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[l8e]:this};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var f;if(a=!0,r!=null&&(f=r.signal)!==null&&f!==void 0&&f.aborted)throw new Cc;n?e=await t(e,c,{signal:o}):(e=c,n=!0)}if(!a&&!n)throw new gP}finally{s.abort()}return e}async function S8e(t){t!=null&&Gg(t,"options"),t?.signal!=null&&Zg(t.signal,"options.signal");let e=[];for await(let i of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Cc(void 0,{cause:t.signal.reason});h8e(e,i)}return e}function x8e(t,e){let r=I4.call(this,t,e);return async function*(){for await(let n of r)yield*n}.call(this)}function iY(t){if(t=y8e(t),m8e(t))return 0;if(t<0)throw new u8e("number",">= 0",t);return t}function A8e(t,e=void 0){return e!=null&&Gg(e,"options"),e?.signal!=null&&Zg(e.signal,"options.signal"),t=iY(t),async function*(){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Cc;for await(let s of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Cc;t--<=0&&(yield s)}}.call(this)}function M8e(t,e=void 0){return e!=null&&Gg(e,"options"),e?.signal!=null&&Zg(e.signal,"options.signal"),t=iY(t),async function*(){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Cc;for await(let s of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Cc;if(t-- >0)yield s;else return}}.call(this)}vP.exports.streamReturningOperators={asIndexedPairs:b8e,drop:A8e,filter:bP,flatMap:x8e,map:I4,take:M8e};vP.exports.promiseReturningOperators={every:v8e,forEach:_8e,reduce:E8e,toArray:S8e,some:rY,find:w8e}});var W0=de((dlt,dY)=>{"use strict";F();var Rh=kl(),{aggregateTwoErrors:k8e,codes:{ERR_MULTIPLE_CALLBACK:T8e},AbortError:P8e}=la(),{Symbol:aY}=bo(),{kDestroyed:D8e,isDestroyed:I8e,isFinished:R8e,isServerRequest:B8e}=Dh(),fY=aY("kDestroy"),wP=aY("kConstruct");function uY(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function C8e(t,e){let r=this._readableState,i=this._writableState,n=i||r;return i&&i.destroyed||r&&r.destroyed?(typeof e=="function"&&e(),this):(uY(t,i,r),i&&(i.destroyed=!0),r&&(r.destroyed=!0),n.constructed?oY(this,t,e):this.once(fY,function(s){oY(this,k8e(s,t),e)}),this)}function oY(t,e,r){let i=!1;function n(s){if(i)return;i=!0;let o=t._readableState,a=t._writableState;uY(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?Rh.nextTick(O8e,t,s):Rh.nextTick(cY,t)}try{t._destroy(e||null,n)}catch(s){n(s)}}function O8e(t,e){_P(t,e),cY(t)}function cY(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r&&r.emitClose||e&&e.emitClose)&&t.emit("close")}function _P(t,e){let r=t._readableState,i=t._writableState;i&&i.errorEmitted||r&&r.errorEmitted||(i&&(i.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function j8e(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function EP(t,e,r){let i=t._readableState,n=t._writableState;if(n&&n.destroyed||i&&i.destroyed)return this;i&&i.autoDestroy||n&&n.autoDestroy?t.destroy(e):e&&(e.stack,n&&!n.errored&&(n.errored=e),i&&!i.errored&&(i.errored=e),r?Rh.nextTick(_P,t,e):_P(t,e))}function L8e(t,e){if(typeof t._construct!="function")return;let r=t._readableState,i=t._writableState;r&&(r.constructed=!1),i&&(i.constructed=!1),t.once(wP,e),!(t.listenerCount(wP)>1)&&Rh.nextTick(N8e,t)}function N8e(t){let e=!1;function r(i){if(e){EP(t,i??new T8e);return}e=!0;let n=t._readableState,s=t._writableState,o=s||n;n&&(n.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(fY,i):i?EP(t,i,!0):Rh.nextTick(q8e,t)}try{t._construct(r)}catch(i){r(i)}}function q8e(t){t.emit(wP)}function sY(t){return t&&t.setHeader&&typeof t.abort=="function"}function lY(t){t.emit("close")}function z8e(t,e){t.emit("error",e),Rh.nextTick(lY,t)}function F8e(t,e){!t||I8e(t)||(!e&&!R8e(t)&&(e=new P8e),B8e(t)?(t.socket=null,t.destroy(e)):sY(t)?t.abort():sY(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?Rh.nextTick(z8e,t,e):Rh.nextTick(lY,t),t.destroyed||(t[D8e]=!0))}dY.exports={construct:L8e,destroyer:F8e,destroy:C8e,undestroy:j8e,errorOrDestroy:EP}});var C4=de((plt,pY)=>{"use strict";F();var{ArrayIsArray:U8e,ObjectSetPrototypeOf:hY}=bo(),{EventEmitter:R4}=Pf();function B4(t){R4.call(this,t)}hY(B4.prototype,R4.prototype);hY(B4,R4);B4.prototype.pipe=function(t,e){let r=this;function i(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",i);function n(){r.readable&&r.resume&&r.resume()}t.on("drain",n),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function f(u){c(),R4.listenerCount(this,"error")===0&&this.emit("error",u)}SP(r,"error",f),SP(t,"error",f);function c(){r.removeListener("data",i),t.removeListener("drain",n),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",f),t.removeListener("error",f),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function SP(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):U8e(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}pY.exports={Stream:B4,prependListener:SP}});var j4=de((mlt,O4)=>{"use strict";F();var{AbortError:$8e,codes:V8e}=la(),K8e=Ih(),{ERR_INVALID_ARG_TYPE:yY}=V8e,H8e=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new yY(e,"AbortSignal",t)};function W8e(t){return!!(t&&typeof t.pipe=="function")}O4.exports.addAbortSignal=function(e,r){if(H8e(e,"signal"),!W8e(r))throw new yY("stream","stream.Stream",r);return O4.exports.addAbortSignalNoValidate(e,r)};O4.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=()=>{e.destroy(new $8e(void 0,{cause:t.reason}))};return t.aborted?r():(t.addEventListener("abort",r),K8e(e,()=>t.removeEventListener("abort",r))),e}});var bY=de((vlt,gY)=>{"use strict";F();var{StringPrototypeSlice:mY,SymbolIterator:Y8e,TypedArrayPrototypeSet:L4,Uint8Array:Z8e}=bo(),{Buffer:xP}=ki(),{inspect:G8e}=Bc();gY.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,i=""+r.data;for(;(r=r.next)!==null;)i+=e+r.data;return i}concat(e){if(this.length===0)return xP.alloc(0);let r=xP.allocUnsafe(e>>>0),i=this.head,n=0;for(;i;)L4(r,i.data,n),n+=i.data.length,i=i.next;return r}consume(e,r){let i=this.head.data;if(e<i.length){let n=i.slice(0,e);return this.head.data=i.slice(e),n}return e===i.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[Y8e](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",i=this.head,n=0;do{let s=i.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++n,i.next?this.head=i.next:this.head=this.tail=null):(r+=mY(s,0,e),this.head=i,i.data=mY(s,e));break}++n}while((i=i.next)!==null);return this.length-=n,r}_getBuffer(e){let r=xP.allocUnsafe(e),i=e,n=this.head,s=0;do{let o=n.data;if(e>o.length)L4(r,o,i-e),e-=o.length;else{e===o.length?(L4(r,o,i-e),++s,n.next?this.head=n.next:this.head=this.tail=null):(L4(r,new Z8e(o.buffer,o.byteOffset,e),i-e),this.head=n,n.data=o.slice(e));break}++s}while((n=n.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return G8e(this,{...r,depth:0,customInspect:!1})}}});var N4=de((_lt,wY)=>{"use strict";F();var{MathFloor:J8e,NumberIsInteger:X8e}=bo(),{ERR_INVALID_ARG_VALUE:Q8e}=la().codes;function e4e(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function vY(t){return t?16:16*1024}function t4e(t,e,r,i){let n=e4e(e,i,r);if(n!=null){if(!X8e(n)||n<0){let s=i?`options.${r}`:"options.highWaterMark";throw new Q8e(s,n)}return J8e(n)}return vY(t.objectMode)}wY.exports={getHighWaterMark:t4e,getDefaultHighWaterMark:vY}});var SY=de((AP,EY)=>{F();var q4=ki(),Oc=q4.Buffer;function _Y(t,e){for(var r in t)e[r]=t[r]}Oc.from&&Oc.alloc&&Oc.allocUnsafe&&Oc.allocUnsafeSlow?EY.exports=q4:(_Y(q4,AP),AP.Buffer=Y0);function Y0(t,e,r){return Oc(t,e,r)}Y0.prototype=Object.create(Oc.prototype);_Y(Oc,Y0);Y0.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Oc(t,e,r)};Y0.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=Oc(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};Y0.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Oc(t)};Y0.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return q4.SlowBuffer(t)}});var Xl=de(AY=>{"use strict";F();var kP=SY().Buffer,xY=kP.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r4e(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function i4e(t){var e=r4e(t);if(typeof e!="string"&&(kP.isEncoding===xY||!xY(t)))throw new Error("Unknown encoding: "+t);return e||t}AY.StringDecoder=m2;function m2(t){this.encoding=i4e(t);var e;switch(this.encoding){case"utf16le":this.text=u4e,this.end=c4e,e=4;break;case"utf8":this.fillLast=s4e,e=4;break;case"base64":this.text=l4e,this.end=d4e,e=3;break;default:this.write=h4e,this.end=p4e;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=kP.allocUnsafe(e)}m2.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};m2.prototype.end=f4e;m2.prototype.text=a4e;m2.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function MP(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function n4e(t,e,r){var i=e.length-1;if(i<r)return 0;var n=MP(e[i]);return n>=0?(n>0&&(t.lastNeed=n-1),n):--i<r||n===-2?0:(n=MP(e[i]),n>=0?(n>0&&(t.lastNeed=n-2),n):--i<r||n===-2?0:(n=MP(e[i]),n>=0?(n>0&&(n===2?n=0:t.lastNeed=n-3),n):0))}function o4e(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function s4e(t){var e=this.lastTotal-this.lastNeed,r=o4e(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function a4e(t,e){var r=n4e(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var i=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function f4e(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function u4e(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c4e(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function l4e(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function d4e(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function h4e(t){return t.toString(this.encoding)}function p4e(t){return t&&t.length?this.write(t):""}});var TP=de((Mlt,PY)=>{"use strict";F();var MY=kl(),{PromisePrototypeThen:y4e,SymbolAsyncIterator:kY,SymbolIterator:TY}=bo(),{Buffer:m4e}=ki(),{ERR_INVALID_ARG_TYPE:g4e,ERR_STREAM_NULL_VALUES:b4e}=la().codes;function v4e(t,e,r){let i;if(typeof e=="string"||e instanceof m4e)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let n;if(e&&e[kY])n=!0,i=e[kY]();else if(e&&e[TY])n=!1,i=e[TY]();else throw new g4e("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,f())},s._destroy=function(c,u){y4e(a(c),()=>MY.nextTick(u,c),l=>MY.nextTick(u,l||c))};async function a(c){let u=c!=null,l=typeof i.throw=="function";if(u&&l){let{value:y,done:m}=await i.throw(c);if(await y,m)return}if(typeof i.return=="function"){let{value:y}=await i.return();await y}}async function f(){for(;;){try{let{value:c,done:u}=n?await i.next():i.next();if(u)s.push(null);else{let l=c&&typeof c.then=="function"?await c:c;if(l===null)throw o=!1,new b4e;if(s.push(l))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}PY.exports=v4e});var g2=de((Tlt,UY)=>{F();var Pu=kl(),{ArrayPrototypeIndexOf:w4e,NumberIsInteger:_4e,NumberIsNaN:E4e,NumberParseInt:S4e,ObjectDefineProperties:RY,ObjectKeys:x4e,ObjectSetPrototypeOf:BY,Promise:A4e,SafeSet:M4e,SymbolAsyncIterator:k4e,Symbol:T4e}=bo();UY.exports=Er;Er.ReadableState=CP;var{EventEmitter:P4e}=Pf(),{Stream:Bh,prependListener:D4e}=C4(),{Buffer:PP}=ki(),{addAbortSignal:I4e}=j4(),R4e=Ih(),Nr=Bc().debuglog("stream",t=>{Nr=t}),B4e=bY(),Xg=W0(),{getHighWaterMark:C4e,getDefaultHighWaterMark:O4e}=N4(),{aggregateTwoErrors:DY,codes:{ERR_INVALID_ARG_TYPE:j4e,ERR_METHOD_NOT_IMPLEMENTED:L4e,ERR_OUT_OF_RANGE:N4e,ERR_STREAM_PUSH_AFTER_EOF:q4e,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:z4e}}=la(),{validateObject:F4e}=p2(),Z0=T4e("kPaused"),{StringDecoder:CY}=Xl(),U4e=TP();BY(Er.prototype,Bh.prototype);BY(Er,Bh);var DP=()=>{},{errorOrDestroy:Jg}=Xg;function CP(t,e,r){typeof r!="boolean"&&(r=e instanceof jc()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.readableObjectMode)),this.highWaterMark=t?C4e(this,t,"readableHighWaterMark",r):O4e(!1),this.buffer=new B4e,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[Z0]=null,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new CY(t.encoding),this.encoding=t.encoding)}function Er(t){if(!(this instanceof Er))return new Er(t);let e=this instanceof jc();this._readableState=new CP(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&I4e(t.signal,this)),Bh.call(this,t),Xg.construct(this,()=>{this._readableState.needReadable&&z4(this,this._readableState)})}Er.prototype.destroy=Xg.destroy;Er.prototype._undestroy=Xg.undestroy;Er.prototype._destroy=function(t,e){e(t)};Er.prototype[P4e.captureRejectionSymbol]=function(t){this.destroy(t)};Er.prototype.push=function(t,e){return OY(this,t,e,!1)};Er.prototype.unshift=function(t,e){return OY(this,t,e,!0)};function OY(t,e,r,i){Nr("readableAddChunk",e);let n=t._readableState,s;if(n.objectMode||(typeof e=="string"?(r=r||n.defaultEncoding,n.encoding!==r&&(i&&n.encoding?e=PP.from(e,r).toString(n.encoding):(e=PP.from(e,r),r=""))):e instanceof PP?r="":Bh._isUint8Array(e)?(e=Bh._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new j4e("chunk",["string","Buffer","Uint8Array"],e))),s)Jg(t,s);else if(e===null)n.reading=!1,K4e(t,n);else if(n.objectMode||e&&e.length>0)if(i)if(n.endEmitted)Jg(t,new z4e);else{if(n.destroyed||n.errored)return!1;IP(t,n,e,!0)}else if(n.ended)Jg(t,new q4e);else{if(n.destroyed||n.errored)return!1;n.reading=!1,n.decoder&&!r?(e=n.decoder.write(e),n.objectMode||e.length!==0?IP(t,n,e,!1):z4(t,n)):IP(t,n,e,!1)}else i||(n.reading=!1,z4(t,n));return!n.ended&&(n.length<n.highWaterMark||n.length===0)}function IP(t,e,r,i){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?(e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&F4(t)),z4(t,e)}Er.prototype.isPaused=function(){let t=this._readableState;return t[Z0]===!0||t.flowing===!1};Er.prototype.setEncoding=function(t){let e=new CY(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,i="";for(let n of r)i+=e.write(n);return r.clear(),i!==""&&r.push(i),this._readableState.length=i.length,this};var $4e=1073741824;function V4e(t){if(t>$4e)throw new N4e("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function IY(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:E4e(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}Er.prototype.read=function(t){Nr("read",t),t===void 0?t=NaN:_4e(t)||(t=S4e(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=V4e(t)),t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Nr("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?RP(this):F4(this),null;if(t=IY(t,e),t===0&&e.ended)return e.length===0&&RP(this),null;let i=e.needReadable;if(Nr("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,Nr("length less than watermark",i)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)i=!1,Nr("reading, ended or constructing",i);else if(i){Nr("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0);try{this._read(e.highWaterMark)}catch(s){Jg(this,s)}e.sync=!1,e.reading||(t=IY(r,e))}let n;return t>0?n=zY(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&RP(this)),n!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",n)),n};function K4e(t,e){if(Nr("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?F4(t):(e.needReadable=!1,e.emittedReadable=!0,jY(t))}}function F4(t){let e=t._readableState;Nr("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Nr("emitReadable",e.flowing),e.emittedReadable=!0,Pu.nextTick(jY,t))}function jY(t){let e=t._readableState;Nr("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,NY(t)}function z4(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,Pu.nextTick(H4e,t,e))}function H4e(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(Nr("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Er.prototype._read=function(t){throw new L4e("_read()")};Er.prototype.pipe=function(t,e){let r=this,i=this._readableState;i.pipes.length===1&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new M4e(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(t),Nr("pipe count=%d opts=%j",i.pipes.length,e);let s=(!e||e.end!==!1)&&t!==Pu.stdout&&t!==Pu.stderr?a:x;i.endEmitted?Pu.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(T,M){Nr("onunpipe"),T===r&&M&&M.hasUnpiped===!1&&(M.hasUnpiped=!0,u())}function a(){Nr("onend"),t.end()}let f,c=!1;function u(){Nr("cleanup"),t.removeListener("close",g),t.removeListener("finish",E),f&&t.removeListener("drain",f),t.removeListener("error",m),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",x),r.removeListener("data",y),c=!0,f&&i.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&f()}function l(){c||(i.pipes.length===1&&i.pipes[0]===t?(Nr("false write response, pause",0),i.awaitDrainWriters=t,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(t)&&(Nr("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(t)),r.pause()),f||(f=W4e(r,t),t.on("drain",f))}r.on("data",y);function y(T){Nr("ondata");let M=t.write(T);Nr("dest.write",M),M===!1&&l()}function m(T){if(Nr("onerror",T),x(),t.removeListener("error",m),t.listenerCount("error")===0){let M=t._writableState||t._readableState;M&&!M.errorEmitted?Jg(t,T):t.emit("error",T)}}D4e(t,"error",m);function g(){t.removeListener("finish",E),x()}t.once("close",g);function E(){Nr("onfinish"),t.removeListener("close",g),x()}t.once("finish",E);function x(){Nr("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?i.flowing&&l():i.flowing||(Nr("pipe resume"),r.resume()),t};function W4e(t,e){return function(){let i=t._readableState;i.awaitDrainWriters===e?(Nr("pipeOnDrain",1),i.awaitDrainWriters=null):i.multiAwaitDrain&&(Nr("pipeOnDrain",i.awaitDrainWriters.size),i.awaitDrainWriters.delete(e)),(!i.awaitDrainWriters||i.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}Er.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let n=e.pipes;e.pipes=[],this.pause();for(let s=0;s<n.length;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}let i=w4e(e.pipes,t);return i===-1?this:(e.pipes.splice(i,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};Er.prototype.on=function(t,e){let r=Bh.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,Nr("on readable",i.length,i.reading),i.length?F4(this):i.reading||Pu.nextTick(Y4e,this)),r};Er.prototype.addListener=Er.prototype.on;Er.prototype.removeListener=function(t,e){let r=Bh.prototype.removeListener.call(this,t,e);return t==="readable"&&Pu.nextTick(LY,this),r};Er.prototype.off=Er.prototype.removeListener;Er.prototype.removeAllListeners=function(t){let e=Bh.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&Pu.nextTick(LY,this),e};function LY(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[Z0]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function Y4e(t){Nr("readable nexttick read 0"),t.read(0)}Er.prototype.resume=function(){let t=this._readableState;return t.flowing||(Nr("resume"),t.flowing=!t.readableListening,Z4e(this,t)),t[Z0]=!1,this};function Z4e(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Pu.nextTick(G4e,t,e))}function G4e(t,e){Nr("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),NY(t),e.flowing&&!e.reading&&t.read(0)}Er.prototype.pause=function(){return Nr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Nr("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Z0]=!0,this};function NY(t){let e=t._readableState;for(Nr("flow",e.flowing);e.flowing&&t.read()!==null;);}Er.prototype.wrap=function(t){let e=!1;t.on("data",i=>{!this.push(i)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",i=>{Jg(this,i)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=x4e(t);for(let i=1;i<r.length;i++){let n=r[i];this[n]===void 0&&typeof t[n]=="function"&&(this[n]=t[n].bind(t))}return this};Er.prototype[k4e]=function(){return qY(this)};Er.prototype.iterator=function(t){return t!==void 0&&F4e(t,"options"),qY(this,t)};function qY(t,e){typeof t.read!="function"&&(t=Er.wrap(t,{objectMode:!0}));let r=J4e(t,e);return r.stream=t,r}async function*J4e(t,e){let r=DP;function i(o){this===t?(r(),r=DP):r=o}t.on("readable",i);let n,s=R4e(t,{writable:!1},o=>{n=o?DY(n,o):null,r(),r=DP});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(n)throw n;if(n===null)return;await new A4e(i)}}}catch(o){throw n=DY(n,o),n}finally{(n||e?.destroyOnReturn!==!1)&&(n===void 0||t._readableState.autoDestroy)?Xg.destroyer(t,null):(t.off("readable",i),s())}}RY(Er.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});RY(CP.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Z0]!==!1},set(t){this[Z0]=!!t}}});Er._fromList=zY;function zY(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function RP(t){let e=t._readableState;Nr("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,Pu.nextTick(X4e,e,t))}function X4e(t,e){if(Nr("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)Pu.nextTick(Q4e,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function Q4e(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}Er.from=function(t,e){return U4e(Er,t,e)};var BP;function FY(){return BP===void 0&&(BP={}),BP}Er.fromWeb=function(t,e){return FY().newStreamReadableFromReadableStream(t,e)};Er.toWeb=function(t,e){return FY().newReadableStreamFromStreamReadable(t,e)};Er.wrap=function(t,e){var r,i;return new Er({objectMode:(r=(i=t.readableObjectMode)!==null&&i!==void 0?i:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(n,s){Xg.destroyer(t,n),s(n)}}).wrap(t)}});var FP=de((Dlt,eZ)=>{F();var G0=kl(),{ArrayPrototypeSlice:KY,Error:e5e,FunctionPrototypeSymbolHasInstance:HY,ObjectDefineProperty:WY,ObjectDefineProperties:t5e,ObjectSetPrototypeOf:YY,StringPrototypeToLowerCase:r5e,Symbol:i5e,SymbolHasInstance:n5e}=bo();eZ.exports=Bn;Bn.WritableState=w2;var{EventEmitter:o5e}=Pf(),b2=C4().Stream,{Buffer:U4}=ki(),K4=W0(),{addAbortSignal:s5e}=j4(),{getHighWaterMark:a5e,getDefaultHighWaterMark:f5e}=N4(),{ERR_INVALID_ARG_TYPE:u5e,ERR_METHOD_NOT_IMPLEMENTED:c5e,ERR_MULTIPLE_CALLBACK:ZY,ERR_STREAM_CANNOT_PIPE:l5e,ERR_STREAM_DESTROYED:v2,ERR_STREAM_ALREADY_FINISHED:d5e,ERR_STREAM_NULL_VALUES:h5e,ERR_STREAM_WRITE_AFTER_END:p5e,ERR_UNKNOWN_ENCODING:GY}=la().codes,{errorOrDestroy:Qg}=K4;YY(Bn.prototype,b2.prototype);YY(Bn,b2);function LP(){}var e1=i5e("kOnFinished");function w2(t,e,r){typeof r!="boolean"&&(r=e instanceof jc()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?a5e(this,t,"writableHighWaterMark",r):f5e(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let i=!!(t&&t.decodeStrings===!1);this.decodeStrings=!i,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=m5e.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,V4(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[e1]=[]}function V4(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}w2.prototype.getBuffer=function(){return KY(this.buffered,this.bufferedIndex)};WY(w2.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Bn(t){let e=this instanceof jc();if(!e&&!HY(Bn,this))return new Bn(t);this._writableState=new w2(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&s5e(t.signal,this)),b2.call(this,t),K4.construct(this,()=>{let r=this._writableState;r.writing||qP(this,r),zP(this,r)})}WY(Bn,n5e,{__proto__:null,value:function(t){return HY(this,t)?!0:this!==Bn?!1:t&&t._writableState instanceof w2}});Bn.prototype.pipe=function(){Qg(this,new l5e)};function JY(t,e,r,i){let n=t._writableState;if(typeof r=="function")i=r,r=n.defaultEncoding;else{if(!r)r=n.defaultEncoding;else if(r!=="buffer"&&!U4.isEncoding(r))throw new GY(r);typeof i!="function"&&(i=LP)}if(e===null)throw new h5e;if(!n.objectMode)if(typeof e=="string")n.decodeStrings!==!1&&(e=U4.from(e,r),r="buffer");else if(e instanceof U4)r="buffer";else if(b2._isUint8Array(e))e=b2._uint8ArrayToBuffer(e),r="buffer";else throw new u5e("chunk",["string","Buffer","Uint8Array"],e);let s;return n.ending?s=new p5e:n.destroyed&&(s=new v2("write")),s?(G0.nextTick(i,s),Qg(t,s,!0),s):(n.pendingcb++,y5e(t,n,e,r,i))}Bn.prototype.write=function(t,e,r){return JY(this,t,e,r)===!0};Bn.prototype.cork=function(){this._writableState.corked++};Bn.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||qP(this,t))};Bn.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=r5e(e)),!U4.isEncoding(e))throw new GY(e);return this._writableState.defaultEncoding=e,this};function y5e(t,e,r,i,n){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:i,callback:n}),e.allBuffers&&i!=="buffer"&&(e.allBuffers=!1),e.allNoop&&n!==LP&&(e.allNoop=!1)):(e.writelen=s,e.writecb=n,e.writing=!0,e.sync=!0,t._write(r,i,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function $Y(t,e,r,i,n,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new v2("write")):r?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function VY(t,e,r,i){--e.pendingcb,i(r),NP(e),Qg(t,r)}function m5e(t,e){let r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function"){Qg(t,new ZY);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),i?G0.nextTick(VY,t,r,e,n):VY(t,r,e,n)):(r.buffered.length>r.bufferedIndex&&qP(t,r),i?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===n?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:n,stream:t,state:r},G0.nextTick(g5e,r.afterWriteTickInfo)):XY(t,r,1,n))}function g5e({stream:t,state:e,count:r,cb:i}){return e.afterWriteTickInfo=null,XY(t,e,r,i)}function XY(t,e,r,i){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,i();e.destroyed&&NP(e),zP(t,e)}function NP(t){if(t.writing)return;for(let n=t.bufferedIndex;n<t.buffered.length;++n){var e;let{chunk:s,callback:o}=t.buffered[n],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new v2("write"))}let r=t[e1].splice(0);for(let n=0;n<r.length;n++){var i;r[n]((i=t.errored)!==null&&i!==void 0?i:new v2("end"))}V4(t)}function qP(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:i,objectMode:n}=e,s=r.length-i;if(!s)return;let o=i;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?LP:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},f=e.allNoop&&o===0?r:KY(r,o);f.allBuffers=e.allBuffers,$Y(t,e,!0,e.length,f,"",a),V4(e)}else{do{let{chunk:a,encoding:f,callback:c}=r[o];r[o++]=null;let u=n?1:a.length;$Y(t,e,!1,u,a,f,c)}while(o<r.length&&!e.writing);o===r.length?V4(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}Bn.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new c5e("_write()")};Bn.prototype._writev=null;Bn.prototype.end=function(t,e,r){let i=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let n;if(t!=null){let s=JY(this,t,e);s instanceof e5e&&(n=s)}return i.corked&&(i.corked=1,this.uncork()),n||(!i.errored&&!i.ending?(i.ending=!0,zP(this,i,!0),i.ended=!0):i.finished?n=new d5e("end"):i.destroyed&&(n=new v2("end"))),typeof r=="function"&&(n||i.finished?G0.nextTick(r,n):i[e1].push(r)),this};function $4(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function b5e(t,e){let r=!1;function i(n){if(r){Qg(t,n??ZY());return}if(r=!0,e.pendingcb--,n){let s=e[e1].splice(0);for(let o=0;o<s.length;o++)s[o](n);Qg(t,n,e.sync)}else $4(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,G0.nextTick(jP,t,e))}e.sync=!0,e.pendingcb++;try{t._final(i)}catch(n){i(n)}e.sync=!1}function v5e(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,b5e(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function zP(t,e,r){$4(e)&&(v5e(t,e),e.pendingcb===0&&(r?(e.pendingcb++,G0.nextTick((i,n)=>{$4(n)?jP(i,n):n.pendingcb--},t,e)):$4(e)&&(e.pendingcb++,jP(t,e))))}function jP(t,e){e.pendingcb--,e.finished=!0;let r=e[e1].splice(0);for(let i=0;i<r.length;i++)r[i]();if(t.emit("finish"),e.autoDestroy){let i=t._readableState;(!i||i.autoDestroy&&(i.endEmitted||i.readable===!1))&&t.destroy()}}t5e(Bn.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var w5e=K4.destroy;Bn.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[e1].length)&&G0.nextTick(NP,r),w5e.call(this,t,e),this};Bn.prototype._undestroy=K4.undestroy;Bn.prototype._destroy=function(t,e){e(t)};Bn.prototype[o5e.captureRejectionSymbol]=function(t){this.destroy(t)};var OP;function QY(){return OP===void 0&&(OP={}),OP}Bn.fromWeb=function(t,e){return QY().newStreamWritableFromWritableStream(t,e)};Bn.toWeb=function(t){return QY().newWritableStreamFromStreamWritable(t)}});var dZ=de((Rlt,lZ)=>{F();var UP=kl(),_5e=ki(),{isReadable:E5e,isWritable:S5e,isIterable:tZ,isNodeStream:x5e,isReadableNodeStream:rZ,isWritableNodeStream:iZ,isDuplexNodeStream:A5e}=Dh(),nZ=Ih(),{AbortError:cZ,codes:{ERR_INVALID_ARG_TYPE:M5e,ERR_INVALID_RETURN_VALUE:oZ}}=la(),{destroyer:t1}=W0(),k5e=jc(),T5e=g2(),{createDeferredPromise:sZ}=Bc(),aZ=TP(),fZ=globalThis.Blob||_5e.Blob,P5e=typeof fZ<"u"?function(e){return e instanceof fZ}:function(e){return!1},D5e=globalThis.AbortController||E4().AbortController,{FunctionPrototypeCall:uZ}=bo(),J0=class extends k5e{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};lZ.exports=function t(e,r){if(A5e(e))return e;if(rZ(e))return H4({readable:e});if(iZ(e))return H4({writable:e});if(x5e(e))return H4({writable:!1,readable:!1});if(typeof e=="function"){let{value:n,write:s,final:o,destroy:a}=I5e(e);if(tZ(n))return aZ(J0,n,{objectMode:!0,write:s,final:o,destroy:a});let f=n?.then;if(typeof f=="function"){let c,u=uZ(f,n,l=>{if(l!=null)throw new oZ("nully","body",l)},l=>{t1(c,l)});return c=new J0({objectMode:!0,readable:!1,write:s,final(l){o(async()=>{try{await u,UP.nextTick(l,null)}catch(y){UP.nextTick(l,y)}})},destroy:a})}throw new oZ("Iterable, AsyncIterable or AsyncFunction",r,n)}if(P5e(e))return t(e.arrayBuffer());if(tZ(e))return aZ(J0,e,{objectMode:!0,writable:!1});if(typeof e?.writable=="object"||typeof e?.readable=="object"){let n=e!=null&&e.readable?rZ(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?iZ(e?.writable)?e?.writable:t(e.writable):void 0;return H4({readable:n,writable:s})}let i=e?.then;if(typeof i=="function"){let n;return uZ(i,e,s=>{s!=null&&n.push(s),n.push(null)},s=>{t1(n,s)}),n=new J0({objectMode:!0,writable:!1,read(){}})}throw new M5e(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function I5e(t){let{promise:e,resolve:r}=sZ(),i=new D5e,n=i.signal;return{value:t(async function*(){for(;;){let o=e;e=null;let{chunk:a,done:f,cb:c}=await o;if(UP.nextTick(c),f)return;if(n.aborted)throw new cZ(void 0,{cause:n.reason});({promise:e,resolve:r}=sZ()),yield a}}(),{signal:n}),write(o,a,f){let c=r;r=null,c({chunk:o,done:!1,cb:f})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){i.abort(),a(o)}}}function H4(t){let e=t.readable&&typeof t.readable.read!="function"?T5e.wrap(t.readable):t.readable,r=t.writable,i=!!E5e(e),n=!!S5e(r),s,o,a,f,c;function u(l){let y=f;f=null,y?y(l):l?c.destroy(l):!i&&!n&&c.destroy()}return c=new J0({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:i,writable:n}),n&&(nZ(r,l=>{n=!1,l&&t1(e,l),u(l)}),c._write=function(l,y,m){r.write(l,y)?m():s=m},c._final=function(l){r.end(),o=l},r.on("drain",function(){if(s){let l=s;s=null,l()}}),r.on("finish",function(){if(o){let l=o;o=null,l()}})),i&&(nZ(e,l=>{i=!1,l&&t1(e,l),u(l)}),e.on("readable",function(){if(a){let l=a;a=null,l()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let l=e.read();if(l===null){a=c._read;return}if(!c.push(l))return}}),c._destroy=function(l,y){!l&&f!==null&&(l=new cZ),a=null,s=null,o=null,f===null?y(l):(f=y,t1(r,l),t1(e,l))},c}});var jc=de((Clt,yZ)=>{"use strict";F();var{ObjectDefineProperties:R5e,ObjectGetOwnPropertyDescriptor:Ql,ObjectKeys:B5e,ObjectSetPrototypeOf:hZ}=bo();yZ.exports=Du;var KP=g2(),qf=FP();hZ(Du.prototype,KP.prototype);hZ(Du,KP);{let t=B5e(qf.prototype);for(let e=0;e<t.length;e++){let r=t[e];Du.prototype[r]||(Du.prototype[r]=qf.prototype[r])}}function Du(t){if(!(this instanceof Du))return new Du(t);KP.call(this,t),qf.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}R5e(Du.prototype,{writable:{__proto__:null,...Ql(qf.prototype,"writable")},writableHighWaterMark:{__proto__:null,...Ql(qf.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...Ql(qf.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...Ql(qf.prototype,"writableBuffer")},writableLength:{__proto__:null,...Ql(qf.prototype,"writableLength")},writableFinished:{__proto__:null,...Ql(qf.prototype,"writableFinished")},writableCorked:{__proto__:null,...Ql(qf.prototype,"writableCorked")},writableEnded:{__proto__:null,...Ql(qf.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...Ql(qf.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var $P;function pZ(){return $P===void 0&&($P={}),$P}Du.fromWeb=function(t,e){return pZ().newStreamDuplexFromReadableWritablePair(t,e)};Du.toWeb=function(t){return pZ().newReadableWritablePairFromDuplex(t)};var VP;Du.from=function(t){return VP||(VP=dZ()),VP(t,"body")}});var YP=de((jlt,gZ)=>{"use strict";F();var{ObjectSetPrototypeOf:mZ,Symbol:C5e}=bo();gZ.exports=ed;var{ERR_METHOD_NOT_IMPLEMENTED:O5e}=la().codes,WP=jc(),{getHighWaterMark:j5e}=N4();mZ(ed.prototype,WP.prototype);mZ(ed,WP);var _2=C5e("kCallback");function ed(t){if(!(this instanceof ed))return new ed(t);let e=t?j5e(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),WP.call(this,t),this._readableState.sync=!1,this[_2]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",L5e)}function HP(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function L5e(){this._final!==HP&&HP.call(this)}ed.prototype._final=HP;ed.prototype._transform=function(t,e,r){throw new O5e("_transform()")};ed.prototype._write=function(t,e,r){let i=this._readableState,n=this._writableState,s=i.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),n.ended||s===i.length||i.length<i.highWaterMark?r():this[_2]=r})};ed.prototype._read=function(){if(this[_2]){let t=this[_2];this[_2]=null,t()}}});var GP=de((Nlt,vZ)=>{"use strict";F();var{ObjectSetPrototypeOf:bZ}=bo();vZ.exports=r1;var ZP=YP();bZ(r1.prototype,ZP.prototype);bZ(r1,ZP);function r1(t){if(!(this instanceof r1))return new r1(t);ZP.call(this,t)}r1.prototype._transform=function(t,e,r){r(null,t)}});var Z4=de((zlt,MZ)=>{F();var W4=kl(),{ArrayIsArray:N5e,Promise:q5e,SymbolAsyncIterator:z5e}=bo(),Y4=Ih(),{once:F5e}=Bc(),U5e=W0(),wZ=jc(),{aggregateTwoErrors:$5e,codes:{ERR_INVALID_ARG_TYPE:xZ,ERR_INVALID_RETURN_VALUE:JP,ERR_MISSING_ARGS:V5e,ERR_STREAM_DESTROYED:K5e,ERR_STREAM_PREMATURE_CLOSE:H5e},AbortError:W5e}=la(),{validateFunction:Y5e,validateAbortSignal:Z5e}=p2(),{isIterable:i1,isReadable:XP,isReadableNodeStream:tD,isNodeStream:_Z}=Dh(),G5e=globalThis.AbortController||E4().AbortController,QP,eD;function EZ(t,e,r){let i=!1;t.on("close",()=>{i=!0});let n=Y4(t,{readable:e,writable:r},s=>{i=!s});return{destroy:s=>{i||(i=!0,U5e.destroyer(t,s||new K5e("pipe")))},cleanup:n}}function J5e(t){return Y5e(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function X5e(t){if(i1(t))return t;if(tD(t))return Q5e(t);throw new xZ("val",["Readable","Iterable","AsyncIterable"],t)}async function*Q5e(t){eD||(eD=g2()),yield*eD.prototype[z5e].call(t)}async function SZ(t,e,r,{end:i}){let n,s=null,o=c=>{if(c&&(n=c),s){let u=s;s=null,u()}},a=()=>new q5e((c,u)=>{n?u(n):s=()=>{n?u(n):c()}});e.on("drain",o);let f=Y4(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();i&&e.end(),await a(),r()}catch(c){r(n!==c?$5e(n,c):c)}finally{f(),e.off("drain",o)}}function eEe(...t){return AZ(t,F5e(J5e(t)))}function AZ(t,e,r){if(t.length===1&&N5e(t[0])&&(t=t[0]),t.length<2)throw new V5e("streams");let i=new G5e,n=i.signal,s=r?.signal,o=[];Z5e(s,"options.signal");function a(){m(new W5e)}s?.addEventListener("abort",a);let f,c,u=[],l=0;function y(T){m(T,--l===0)}function m(T,M){if(T&&(!f||f.code==="ERR_STREAM_PREMATURE_CLOSE")&&(f=T),!(!f&&!M)){for(;u.length;)u.shift()(f);s?.removeEventListener("abort",a),i.abort(),M&&(f||o.forEach(I=>I()),W4.nextTick(e,f,c))}}let g;for(let T=0;T<t.length;T++){let M=t[T],I=T<t.length-1,R=T>0,O=I||r?.end!==!1,B=T===t.length-1;if(_Z(M)){let C=function(U){U&&U.name!=="AbortError"&&U.code!=="ERR_STREAM_PREMATURE_CLOSE"&&y(U)};var x=C;if(O){let{destroy:U,cleanup:W}=EZ(M,I,R);u.push(U),XP(M)&&B&&o.push(W)}M.on("error",C),XP(M)&&B&&o.push(()=>{M.removeListener("error",C)})}if(T===0)if(typeof M=="function"){if(g=M({signal:n}),!i1(g))throw new JP("Iterable, AsyncIterable or Stream","source",g)}else i1(M)||tD(M)?g=M:g=wZ.from(M);else if(typeof M=="function")if(g=X5e(g),g=M(g,{signal:n}),I){if(!i1(g,!0))throw new JP("AsyncIterable",`transform[${T-1}]`,g)}else{var E;QP||(QP=GP());let C=new QP({objectMode:!0}),U=(E=g)===null||E===void 0?void 0:E.then;if(typeof U=="function")l++,U.call(g,j=>{c=j,j!=null&&C.write(j),O&&C.end(),W4.nextTick(y)},j=>{C.destroy(j),W4.nextTick(y,j)});else if(i1(g,!0))l++,SZ(g,C,y,{end:O});else throw new JP("AsyncIterable or Promise","destination",g);g=C;let{destroy:W,cleanup:L}=EZ(g,!1,!0);u.push(W),B&&o.push(L)}else if(_Z(M)){if(tD(g)){l+=2;let C=tEe(g,M,y,{end:O});XP(M)&&B&&o.push(C)}else if(i1(g))l++,SZ(g,M,y,{end:O});else throw new xZ("val",["Readable","Iterable","AsyncIterable"],g);g=M}else g=wZ.from(M)}return(n!=null&&n.aborted||s!=null&&s.aborted)&&W4.nextTick(a),g}function tEe(t,e,r,{end:i}){let n=!1;return e.on("close",()=>{n||r(new H5e)}),t.pipe(e,{end:i}),i?t.once("end",()=>{n=!0,e.end()}):r(),Y4(t,{readable:!0,writable:!1},s=>{let o=t._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&o&&o.ended&&!o.errored&&!o.errorEmitted?t.once("end",r).once("error",r):r(s)}),Y4(e,{readable:!1,writable:!0},r)}MZ.exports={pipelineImpl:AZ,pipeline:eEe}});var IZ=de((Ult,DZ)=>{"use strict";F();var{pipeline:rEe}=Z4(),G4=jc(),{destroyer:iEe}=W0(),{isNodeStream:nEe,isReadable:kZ,isWritable:TZ}=Dh(),{AbortError:oEe,codes:{ERR_INVALID_ARG_VALUE:PZ,ERR_MISSING_ARGS:sEe}}=la();DZ.exports=function(...e){if(e.length===0)throw new sEe("streams");if(e.length===1)return G4.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=G4.from(e[0])),typeof e[e.length-1]=="function"){let m=e.length-1;e[m]=G4.from(e[m])}for(let m=0;m<e.length;++m)if(nEe(e[m])){if(m<e.length-1&&!kZ(e[m]))throw new PZ(`streams[${m}]`,r[m],"must be readable");if(m>0&&!TZ(e[m]))throw new PZ(`streams[${m}]`,r[m],"must be writable")}let i,n,s,o,a;function f(m){let g=o;o=null,g?g(m):m?a.destroy(m):!y&&!l&&a.destroy()}let c=e[0],u=rEe(e,f),l=!!TZ(c),y=!!kZ(u);return a=new G4({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.writableObjectMode),writable:l,readable:y}),l&&(a._write=function(m,g,E){c.write(m,g)?E():i=E},a._final=function(m){c.end(),n=m},c.on("drain",function(){if(i){let m=i;i=null,m()}}),u.on("finish",function(){if(n){let m=n;n=null,m()}})),y&&(u.on("readable",function(){if(s){let m=s;s=null,m()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let m=u.read();if(m===null){s=a._read;return}if(!a.push(m))return}}),a._destroy=function(m,g){!m&&o!==null&&(m=new oEe),s=null,i=null,n=null,o===null?g(m):(o=g,iEe(u,m))},a}});var rD=de((Vlt,RZ)=>{"use strict";F();var{ArrayPrototypePop:aEe,Promise:fEe}=bo(),{isIterable:uEe,isNodeStream:cEe}=Dh(),{pipelineImpl:lEe}=Z4(),{finished:dEe}=Ih();function hEe(...t){return new fEe((e,r)=>{let i,n,s=t[t.length-1];if(s&&typeof s=="object"&&!cEe(s)&&!uEe(s)){let o=aEe(t);i=o.signal,n=o.end}lEe(t,(o,a)=>{o?r(o):e(a)},{signal:i,end:n})})}RZ.exports={finished:dEe,pipeline:hEe}});var UZ=de((Hlt,FZ)=>{F();var{Buffer:pEe}=ki(),{ObjectDefineProperty:td,ObjectKeys:OZ,ReflectApply:jZ}=bo(),{promisify:{custom:LZ}}=Bc(),{streamReturningOperators:BZ,promiseReturningOperators:CZ}=nY(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:NZ}}=la(),yEe=IZ(),{pipeline:qZ}=Z4(),{destroyer:mEe}=W0(),zZ=Ih(),iD=rD(),nD=Dh(),ro=FZ.exports=C4().Stream;ro.isDisturbed=nD.isDisturbed;ro.isErrored=nD.isErrored;ro.isReadable=nD.isReadable;ro.Readable=g2();for(let t of OZ(BZ)){let r=function(...i){if(new.target)throw NZ();return ro.Readable.from(jZ(e,this,i))};bEe=r;let e=BZ[t];td(r,"name",{__proto__:null,value:e.name}),td(r,"length",{__proto__:null,value:e.length}),td(ro.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var bEe;for(let t of OZ(CZ)){let r=function(...n){if(new.target)throw NZ();return jZ(e,this,n)};bEe=r;let e=CZ[t];td(r,"name",{__proto__:null,value:e.name}),td(r,"length",{__proto__:null,value:e.length}),td(ro.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var bEe;ro.Writable=FP();ro.Duplex=jc();ro.Transform=YP();ro.PassThrough=GP();ro.pipeline=qZ;var{addAbortSignal:gEe}=j4();ro.addAbortSignal=gEe;ro.finished=zZ;ro.destroy=mEe;ro.compose=yEe;td(ro,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return iD}});td(qZ,LZ,{__proto__:null,enumerable:!0,get(){return iD.pipeline}});td(zZ,LZ,{__proto__:null,enumerable:!0,get(){return iD.finished}});ro.Stream=ro;ro._isUint8Array=function(e){return e instanceof Uint8Array};ro._uint8ArrayToBuffer=function(e){return pEe.from(e.buffer,e.byteOffset,e.byteLength)}});var J4=de((Ylt,io)=>{"use strict";F();var Io=UZ(),vEe=rD(),wEe=Io.Readable.destroy;io.exports=Io.Readable;io.exports._uint8ArrayToBuffer=Io._uint8ArrayToBuffer;io.exports._isUint8Array=Io._isUint8Array;io.exports.isDisturbed=Io.isDisturbed;io.exports.isErrored=Io.isErrored;io.exports.isReadable=Io.isReadable;io.exports.Readable=Io.Readable;io.exports.Writable=Io.Writable;io.exports.Duplex=Io.Duplex;io.exports.Transform=Io.Transform;io.exports.PassThrough=Io.PassThrough;io.exports.addAbortSignal=Io.addAbortSignal;io.exports.finished=Io.finished;io.exports.destroy=Io.destroy;io.exports.destroy=wEe;io.exports.pipeline=Io.pipeline;io.exports.compose=Io.compose;Object.defineProperty(Io,"promises",{configurable:!0,enumerable:!0,get(){return vEe}});io.exports.Stream=Io.Stream;io.exports.default=io.exports});var Vr=de((sD,HZ)=>{F();var e5=ki(),id=e5.Buffer;function KZ(t,e){for(var r in t)e[r]=t[r]}id.from&&id.alloc&&id.allocUnsafe&&id.allocUnsafeSlow?HZ.exports=e5:(KZ(e5,sD),sD.Buffer=n1);function n1(t,e,r){return id(t,e,r)}KZ(id,n1);n1.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return id(t,e,r)};n1.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=id(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};n1.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return id(t)};n1.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return e5.SlowBuffer(t)}});var X0=de((sdt,fD)=>{"use strict";F();var aD=65536,SEe=4294967295;function xEe(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var AEe=Vr().Buffer,t5=globalThis.crypto||globalThis.msCrypto;t5&&t5.getRandomValues?fD.exports=MEe:fD.exports=xEe;function MEe(t,e){if(t>SEe)throw new RangeError("requested too many random bytes");var r=AEe.allocUnsafe(t);if(t>0)if(t>aD)for(var i=0;i<t;i+=aD)t5.getRandomValues(r.slice(i,i+aD));else t5.getRandomValues(r);return typeof e=="function"?J.default.nextTick(function(){e(null,r)}):r}});var qt=de((fdt,uD)=>{F();typeof Object.create=="function"?uD.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:uD.exports=function(e,r){if(r){e.super_=r;var i=function(){};i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e}}});var ZZ=de((cD,YZ)=>{F();var r5=ki(),Lc=r5.Buffer;function WZ(t,e){for(var r in t)e[r]=t[r]}Lc.from&&Lc.alloc&&Lc.allocUnsafe&&Lc.allocUnsafeSlow?YZ.exports=r5:(WZ(r5,cD),cD.Buffer=Q0);function Q0(t,e,r){return Lc(t,e,r)}Q0.prototype=Object.create(Lc.prototype);WZ(Lc,Q0);Q0.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Lc(t,e,r)};Q0.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=Lc(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};Q0.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Lc(t)};Q0.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return r5.SlowBuffer(t)}});var lD=de((ldt,GZ)=>{F();GZ.exports=Pf().EventEmitter});var dD=de((hdt,JZ)=>{"use strict";F();JZ.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),i=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var n=42;e[r]=n;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==n||o.enumerable!==!0)return!1}return!0}});var S2=de((ydt,XZ)=>{"use strict";F();var kEe=dD();XZ.exports=function(){return kEe()&&!!Symbol.toStringTag}});var tG=de((gdt,eG)=>{"use strict";F();var QZ=typeof Symbol<"u"&&Symbol,TEe=dD();eG.exports=function(){return typeof QZ!="function"||typeof Symbol!="function"||typeof QZ("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:TEe()}});var iG=de((vdt,rG)=>{"use strict";F();var PEe="Function.prototype.bind called on incompatible ",hD=Array.prototype.slice,DEe=Object.prototype.toString,IEe="[object Function]";rG.exports=function(e){var r=this;if(typeof r!="function"||DEe.call(r)!==IEe)throw new TypeError(PEe+r);for(var i=hD.call(arguments,1),n,s=function(){if(this instanceof n){var u=r.apply(this,i.concat(hD.call(arguments)));return Object(u)===u?u:this}else return r.apply(e,i.concat(hD.call(arguments)))},o=Math.max(0,r.length-i.length),a=[],f=0;f<o;f++)a.push("$"+f);if(n=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var c=function(){};c.prototype=r.prototype,n.prototype=new c,c.prototype=null}return n}});var i5=de((_dt,nG)=>{"use strict";F();var REe=iG();nG.exports=Function.prototype.bind||REe});var sG=de((Sdt,oG)=>{"use strict";F();var BEe=i5();oG.exports=BEe.call(Function.call,Object.prototype.hasOwnProperty)});var s5=de((Adt,lG)=>{"use strict";F();var qr,f1=SyntaxError,cG=Function,a1=TypeError,pD=function(t){try{return cG('"use strict"; return ('+t+").constructor;")()}catch{}},ey=Object.getOwnPropertyDescriptor;if(ey)try{ey({},"")}catch{ey=null}var yD=function(){throw new a1},CEe=ey?function(){try{return arguments.callee,yD}catch{try{return ey(arguments,"callee").get}catch{return yD}}}():yD,o1=tG()(),Nc=Object.getPrototypeOf||function(t){return t.__proto__},s1={},OEe=typeof Uint8Array>"u"?qr:Nc(Uint8Array),ty={"%AggregateError%":typeof AggregateError>"u"?qr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?qr:ArrayBuffer,"%ArrayIteratorPrototype%":o1?Nc([][Symbol.iterator]()):qr,"%AsyncFromSyncIteratorPrototype%":qr,"%AsyncFunction%":s1,"%AsyncGenerator%":s1,"%AsyncGeneratorFunction%":s1,"%AsyncIteratorPrototype%":s1,"%Atomics%":typeof Atomics>"u"?qr:Atomics,"%BigInt%":typeof BigInt>"u"?qr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?qr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?qr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?qr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?qr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?qr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?qr:FinalizationRegistry,"%Function%":cG,"%GeneratorFunction%":s1,"%Int8Array%":typeof Int8Array>"u"?qr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?qr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?qr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":o1?Nc(Nc([][Symbol.iterator]())):qr,"%JSON%":typeof JSON=="object"?JSON:qr,"%Map%":typeof Map>"u"?qr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!o1?qr:Nc(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?qr:Promise,"%Proxy%":typeof Proxy>"u"?qr:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?qr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?qr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!o1?qr:Nc(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?qr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":o1?Nc(""[Symbol.iterator]()):qr,"%Symbol%":o1?Symbol:qr,"%SyntaxError%":f1,"%ThrowTypeError%":CEe,"%TypedArray%":OEe,"%TypeError%":a1,"%Uint8Array%":typeof Uint8Array>"u"?qr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?qr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?qr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?qr:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?qr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?qr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?qr:WeakSet};try{null.error}catch(t){aG=Nc(Nc(t)),ty["%Error.prototype%"]=aG}var aG,jEe=function t(e){var r;if(e==="%AsyncFunction%")r=pD("async function () {}");else if(e==="%GeneratorFunction%")r=pD("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=pD("async function* () {}");else if(e==="%AsyncGenerator%"){var i=t("%AsyncGeneratorFunction%");i&&(r=i.prototype)}else if(e==="%AsyncIteratorPrototype%"){var n=t("%AsyncGenerator%");n&&(r=Nc(n.prototype))}return ty[e]=r,r},fG={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},x2=i5(),n5=sG(),LEe=x2.call(Function.call,Array.prototype.concat),NEe=x2.call(Function.apply,Array.prototype.splice),uG=x2.call(Function.call,String.prototype.replace),o5=x2.call(Function.call,String.prototype.slice),qEe=x2.call(Function.call,RegExp.prototype.exec),zEe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,FEe=/\\(\\)?/g,UEe=function(e){var r=o5(e,0,1),i=o5(e,-1);if(r==="%"&&i!=="%")throw new f1("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&r!=="%")throw new f1("invalid intrinsic syntax, expected opening `%`");var n=[];return uG(e,zEe,function(s,o,a,f){n[n.length]=a?uG(f,FEe,"$1"):o||s}),n},$Ee=function(e,r){var i=e,n;if(n5(fG,i)&&(n=fG[i],i="%"+n[0]+"%"),n5(ty,i)){var s=ty[i];if(s===s1&&(s=jEe(i)),typeof s>"u"&&!r)throw new a1("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:s}}throw new f1("intrinsic "+e+" does not exist!")};lG.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new a1("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new a1('"allowMissing" argument must be a boolean');if(qEe(/^%?[^%]*%?$/,e)===null)throw new f1("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=UEe(e),n=i.length>0?i[0]:"",s=$Ee("%"+n+"%",r),o=s.name,a=s.value,f=!1,c=s.alias;c&&(n=c[0],NEe(i,LEe([0,1],c)));for(var u=1,l=!0;u<i.length;u+=1){var y=i[u],m=o5(y,0,1),g=o5(y,-1);if((m==='"'||m==="'"||m==="`"||g==='"'||g==="'"||g==="`")&&m!==g)throw new f1("property names with quotes must have matching quotes");if((y==="constructor"||!l)&&(f=!0),n+="."+y,o="%"+n+"%",n5(ty,o))a=ty[o];else if(a!=null){if(!(y in a)){if(!r)throw new a1("base intrinsic for "+e+" exists, but the property is not available.");return}if(ey&&u+1>=i.length){var E=ey(a,y);l=!!E,l&&"get"in E&&!("originalValue"in E.get)?a=E.get:a=a[y]}else l=n5(a,y),a=a[y];l&&!f&&(ty[o]=a)}}return a}});var gG=de((kdt,a5)=>{"use strict";F();var mD=i5(),u1=s5(),pG=u1("%Function.prototype.apply%"),yG=u1("%Function.prototype.call%"),mG=u1("%Reflect.apply%",!0)||mD.call(yG,pG),dG=u1("%Object.getOwnPropertyDescriptor%",!0),ry=u1("%Object.defineProperty%",!0),VEe=u1("%Math.max%");if(ry)try{ry({},"a",{value:1})}catch{ry=null}a5.exports=function(e){var r=mG(mD,yG,arguments);if(dG&&ry){var i=dG(r,"length");i.configurable&&ry(r,"length",{value:1+VEe(0,e.length-(arguments.length-1))})}return r};var hG=function(){return mG(mD,pG,arguments)};ry?ry(a5.exports,"apply",{value:hG}):a5.exports.apply=hG});var f5=de((Pdt,wG)=>{"use strict";F();var bG=s5(),vG=gG(),KEe=vG(bG("String.prototype.indexOf"));wG.exports=function(e,r){var i=bG(e,!!r);return typeof i=="function"&&KEe(e,".prototype.")>-1?vG(i):i}});var SG=de((Idt,EG)=>{"use strict";F();var HEe=S2()(),WEe=f5(),gD=WEe("Object.prototype.toString"),u5=function(e){return HEe&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:gD(e)==="[object Arguments]"},_G=function(e){return u5(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&gD(e)!=="[object Array]"&&gD(e.callee)==="[object Function]"},YEe=function(){return u5(arguments)}();u5.isLegacyArguments=_G;EG.exports=YEe?u5:_G});var MG=de((Bdt,AG)=>{"use strict";F();var ZEe=Object.prototype.toString,GEe=Function.prototype.toString,JEe=/^\s*(?:function)?\*/,xG=S2()(),bD=Object.getPrototypeOf,XEe=function(){if(!xG)return!1;try{return Function("return function*() {}")()}catch{}},vD;AG.exports=function(e){if(typeof e!="function")return!1;if(JEe.test(GEe.call(e)))return!0;if(!xG){var r=ZEe.call(e);return r==="[object GeneratorFunction]"}if(!bD)return!1;if(typeof vD>"u"){var i=XEe();vD=i?bD(i):!1}return bD(e)===vD}});var DG=de((Odt,PG)=>{"use strict";F();var TG=Function.prototype.toString,c1=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,_D,c5;if(typeof c1=="function"&&typeof Object.defineProperty=="function")try{_D=Object.defineProperty({},"length",{get:function(){throw c5}}),c5={},c1(function(){throw 42},null,_D)}catch(t){t!==c5&&(c1=null)}else c1=null;var QEe=/^\s*class\b/,ED=function(e){try{var r=TG.call(e);return QEe.test(r)}catch{return!1}},wD=function(e){try{return ED(e)?!1:(TG.call(e),!0)}catch{return!1}},l5=Object.prototype.toString,e7e="[object Object]",t7e="[object Function]",r7e="[object GeneratorFunction]",i7e="[object HTMLAllCollection]",n7e="[object HTML document.all class]",o7e="[object HTMLCollection]",s7e=typeof Symbol=="function"&&!!Symbol.toStringTag,a7e=!(0 in[,]),SD=function(){return!1};typeof document=="object"&&(kG=document.all,l5.call(kG)===l5.call(document.all)&&(SD=function(e){if((a7e||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=l5.call(e);return(r===i7e||r===n7e||r===o7e||r===e7e)&&e("")==null}catch{}return!1}));var kG;PG.exports=c1?function(e){if(SD(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{c1(e,null,_D)}catch(r){if(r!==c5)return!1}return!ED(e)&&wD(e)}:function(e){if(SD(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(s7e)return wD(e);if(ED(e))return!1;var r=l5.call(e);return r!==t7e&&r!==r7e&&!/^\[object HTML/.test(r)?!1:wD(e)}});var xD=de((Ldt,RG)=>{"use strict";F();var f7e=DG(),u7e=Object.prototype.toString,IG=Object.prototype.hasOwnProperty,c7e=function(e,r,i){for(var n=0,s=e.length;n<s;n++)IG.call(e,n)&&(i==null?r(e[n],n,e):r.call(i,e[n],n,e))},l7e=function(e,r,i){for(var n=0,s=e.length;n<s;n++)i==null?r(e.charAt(n),n,e):r.call(i,e.charAt(n),n,e)},d7e=function(e,r,i){for(var n in e)IG.call(e,n)&&(i==null?r(e[n],n,e):r.call(i,e[n],n,e))},h7e=function(e,r,i){if(!f7e(r))throw new TypeError("iterator must be a function");var n;arguments.length>=3&&(n=i),u7e.call(e)==="[object Array]"?c7e(e,r,n):typeof e=="string"?l7e(e,r,n):d7e(e,r,n)};RG.exports=h7e});var MD=de((qdt,BG)=>{"use strict";F();var AD=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],p7e=globalThis;BG.exports=function(){for(var e=[],r=0;r<AD.length;r++)typeof p7e[AD[r]]=="function"&&(e[e.length]=AD[r]);return e}});var kD=de((Fdt,CG)=>{"use strict";F();var y7e=s5(),d5=y7e("%Object.getOwnPropertyDescriptor%",!0);if(d5)try{d5([],"length")}catch{d5=null}CG.exports=d5});var DD=de(($dt,qG)=>{"use strict";F();var OG=xD(),m7e=MD(),PD=f5(),g7e=PD("Object.prototype.toString"),jG=S2()(),h5=kD(),b7e=globalThis,LG=m7e(),v7e=PD("Array.prototype.indexOf",!0)||function(e,r){for(var i=0;i<e.length;i+=1)if(e[i]===r)return i;return-1},w7e=PD("String.prototype.slice"),NG={},TD=Object.getPrototypeOf;jG&&h5&&TD&&OG(LG,function(t){var e=new b7e[t];if(Symbol.toStringTag in e){var r=TD(e),i=h5(r,Symbol.toStringTag);if(!i){var n=TD(r);i=h5(n,Symbol.toStringTag)}NG[t]=i.get}});var _7e=function(e){var r=!1;return OG(NG,function(i,n){if(!r)try{r=i.call(e)===n}catch{}}),r};qG.exports=function(e){if(!e||typeof e!="object")return!1;if(!jG||!(Symbol.toStringTag in e)){var r=w7e(g7e(e),8,-1);return v7e(LG,r)>-1}return h5?_7e(e):!1}});var HG=de((Kdt,KG)=>{"use strict";F();var FG=xD(),E7e=MD(),UG=f5(),ID=kD(),S7e=UG("Object.prototype.toString"),$G=S2()(),zG=globalThis,x7e=E7e(),A7e=UG("String.prototype.slice"),VG={},RD=Object.getPrototypeOf;$G&&ID&&RD&&FG(x7e,function(t){if(typeof zG[t]=="function"){var e=new zG[t];if(Symbol.toStringTag in e){var r=RD(e),i=ID(r,Symbol.toStringTag);if(!i){var n=RD(r);i=ID(n,Symbol.toStringTag)}VG[t]=i.get}}});var M7e=function(e){var r=!1;return FG(VG,function(i,n){if(!r)try{var s=i.call(e);s===n&&(r=s)}catch{}}),r},k7e=DD();KG.exports=function(e){return k7e(e)?!$G||!(Symbol.toStringTag in e)?A7e(S7e(e),8,-1):M7e(e):!1}});var sJ=de(Or=>{"use strict";F();var T7e=SG(),P7e=MG(),Iu=HG(),WG=DD();function l1(t){return t.call.bind(t)}var YG=typeof BigInt<"u",ZG=typeof Symbol<"u",zf=l1(Object.prototype.toString),D7e=l1(Number.prototype.valueOf),I7e=l1(String.prototype.valueOf),R7e=l1(Boolean.prototype.valueOf);YG&&(GG=l1(BigInt.prototype.valueOf));var GG;ZG&&(JG=l1(Symbol.prototype.valueOf));var JG;function M2(t,e){if(typeof t!="object")return!1;try{return e(t),!0}catch{return!1}}Or.isArgumentsObject=T7e;Or.isGeneratorFunction=P7e;Or.isTypedArray=WG;function B7e(t){return typeof Promise<"u"&&t instanceof Promise||t!==null&&typeof t=="object"&&typeof t.then=="function"&&typeof t.catch=="function"}Or.isPromise=B7e;function C7e(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(t):WG(t)||QG(t)}Or.isArrayBufferView=C7e;function O7e(t){return Iu(t)==="Uint8Array"}Or.isUint8Array=O7e;function j7e(t){return Iu(t)==="Uint8ClampedArray"}Or.isUint8ClampedArray=j7e;function L7e(t){return Iu(t)==="Uint16Array"}Or.isUint16Array=L7e;function N7e(t){return Iu(t)==="Uint32Array"}Or.isUint32Array=N7e;function q7e(t){return Iu(t)==="Int8Array"}Or.isInt8Array=q7e;function z7e(t){return Iu(t)==="Int16Array"}Or.isInt16Array=z7e;function F7e(t){return Iu(t)==="Int32Array"}Or.isInt32Array=F7e;function U7e(t){return Iu(t)==="Float32Array"}Or.isFloat32Array=U7e;function $7e(t){return Iu(t)==="Float64Array"}Or.isFloat64Array=$7e;function V7e(t){return Iu(t)==="BigInt64Array"}Or.isBigInt64Array=V7e;function K7e(t){return Iu(t)==="BigUint64Array"}Or.isBigUint64Array=K7e;function p5(t){return zf(t)==="[object Map]"}p5.working=typeof Map<"u"&&p5(new Map);function H7e(t){return typeof Map>"u"?!1:p5.working?p5(t):t instanceof Map}Or.isMap=H7e;function y5(t){return zf(t)==="[object Set]"}y5.working=typeof Set<"u"&&y5(new Set);function W7e(t){return typeof Set>"u"?!1:y5.working?y5(t):t instanceof Set}Or.isSet=W7e;function m5(t){return zf(t)==="[object WeakMap]"}m5.working=typeof WeakMap<"u"&&m5(new WeakMap);function Y7e(t){return typeof WeakMap>"u"?!1:m5.working?m5(t):t instanceof WeakMap}Or.isWeakMap=Y7e;function CD(t){return zf(t)==="[object WeakSet]"}CD.working=typeof WeakSet<"u"&&CD(new WeakSet);function Z7e(t){return CD(t)}Or.isWeakSet=Z7e;function g5(t){return zf(t)==="[object ArrayBuffer]"}g5.working=typeof ArrayBuffer<"u"&&g5(new ArrayBuffer);function XG(t){return typeof ArrayBuffer>"u"?!1:g5.working?g5(t):t instanceof ArrayBuffer}Or.isArrayBuffer=XG;function b5(t){return zf(t)==="[object DataView]"}b5.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&b5(new DataView(new ArrayBuffer(1),0,1));function QG(t){return typeof DataView>"u"?!1:b5.working?b5(t):t instanceof DataView}Or.isDataView=QG;var BD=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function A2(t){return zf(t)==="[object SharedArrayBuffer]"}function eJ(t){return typeof BD>"u"?!1:(typeof A2.working>"u"&&(A2.working=A2(new BD)),A2.working?A2(t):t instanceof BD)}Or.isSharedArrayBuffer=eJ;function G7e(t){return zf(t)==="[object AsyncFunction]"}Or.isAsyncFunction=G7e;function J7e(t){return zf(t)==="[object Map Iterator]"}Or.isMapIterator=J7e;function X7e(t){return zf(t)==="[object Set Iterator]"}Or.isSetIterator=X7e;function Q7e(t){return zf(t)==="[object Generator]"}Or.isGeneratorObject=Q7e;function e9e(t){return zf(t)==="[object WebAssembly.Module]"}Or.isWebAssemblyCompiledModule=e9e;function tJ(t){return M2(t,D7e)}Or.isNumberObject=tJ;function rJ(t){return M2(t,I7e)}Or.isStringObject=rJ;function iJ(t){return M2(t,R7e)}Or.isBooleanObject=iJ;function nJ(t){return YG&&M2(t,GG)}Or.isBigIntObject=nJ;function oJ(t){return ZG&&M2(t,JG)}Or.isSymbolObject=oJ;function t9e(t){return tJ(t)||rJ(t)||iJ(t)||nJ(t)||oJ(t)}Or.isBoxedPrimitive=t9e;function r9e(t){return typeof Uint8Array<"u"&&(XG(t)||eJ(t))}Or.isAnyArrayBuffer=r9e;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(Or,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})})});var fJ=de((Zdt,aJ)=>{F();aJ.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}});var oy=de(jr=>{F();var uJ=Object.getOwnPropertyDescriptors||function(e){for(var r=Object.keys(e),i={},n=0;n<r.length;n++)i[r[n]]=Object.getOwnPropertyDescriptor(e,r[n]);return i},i9e=/%[sdj%]/g;jr.format=function(t){if(!A5(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(Ch(arguments[r]));return e.join(" ")}for(var r=1,i=arguments,n=i.length,s=String(t).replace(i9e,function(a){if(a==="%%")return"%";if(r>=n)return a;switch(a){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":try{return JSON.stringify(i[r++])}catch{return"[Circular]"}default:return a}}),o=i[r];r<n;o=i[++r])x5(o)||!d1(o)?s+=" "+o:s+=" "+Ch(o);return s};jr.deprecate=function(t,e){if(typeof J.default<"u"&&J.default.noDeprecation===!0)return t;if(typeof J.default>"u")return function(){return jr.deprecate(t,e).apply(this,arguments)};var r=!1;function i(){if(!r){if(J.default.throwDeprecation)throw new Error(e);J.default.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}return i};var v5={},cJ=/^$/;J.default.env.NODE_DEBUG&&(w5=J.default.env.NODE_DEBUG,w5=w5.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),cJ=new RegExp("^"+w5+"$","i"));var w5;jr.debuglog=function(t){if(t=t.toUpperCase(),!v5[t])if(cJ.test(t)){var e=J.default.pid;v5[t]=function(){var r=jr.format.apply(jr,arguments);console.error("%s %d: %s",t,e,r)}}else v5[t]=function(){};return v5[t]};function Ch(t,e){var r={seen:[],stylize:o9e};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),ND(e)?r.showHidden=e:e&&jr._extend(r,e),ny(r.showHidden)&&(r.showHidden=!1),ny(r.depth)&&(r.depth=2),ny(r.colors)&&(r.colors=!1),ny(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=n9e),E5(r,t,r.depth)}jr.inspect=Ch;Ch.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};Ch.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function n9e(t,e){var r=Ch.styles[e];return r?"\x1B["+Ch.colors[r][0]+"m"+t+"\x1B["+Ch.colors[r][1]+"m":t}function o9e(t,e){return t}function s9e(t){var e={};return t.forEach(function(r,i){e[r]=!0}),e}function E5(t,e,r){if(t.customInspect&&e&&_5(e.inspect)&&e.inspect!==jr.inspect&&!(e.constructor&&e.constructor.prototype===e)){var i=e.inspect(r,t);return A5(i)||(i=E5(t,i,r)),i}var n=a9e(t,e);if(n)return n;var s=Object.keys(e),o=s9e(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),T2(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return OD(e);if(s.length===0){if(_5(e)){var a=e.name?": "+e.name:"";return t.stylize("[Function"+a+"]","special")}if(k2(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(S5(e))return t.stylize(Date.prototype.toString.call(e),"date");if(T2(e))return OD(e)}var f="",c=!1,u=["{","}"];if(lJ(e)&&(c=!0,u=["[","]"]),_5(e)){var l=e.name?": "+e.name:"";f=" [Function"+l+"]"}if(k2(e)&&(f=" "+RegExp.prototype.toString.call(e)),S5(e)&&(f=" "+Date.prototype.toUTCString.call(e)),T2(e)&&(f=" "+OD(e)),s.length===0&&(!c||e.length==0))return u[0]+f+u[1];if(r<0)return k2(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var y;return c?y=f9e(t,e,r,o,s):y=s.map(function(m){return LD(t,e,r,o,m,c)}),t.seen.pop(),u9e(y,f,u)}function a9e(t,e){if(ny(e))return t.stylize("undefined","undefined");if(A5(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(dJ(e))return t.stylize(""+e,"number");if(ND(e))return t.stylize(""+e,"boolean");if(x5(e))return t.stylize("null","null")}function OD(t){return"["+Error.prototype.toString.call(t)+"]"}function f9e(t,e,r,i,n){for(var s=[],o=0,a=e.length;o<a;++o)hJ(e,String(o))?s.push(LD(t,e,r,i,String(o),!0)):s.push("");return n.forEach(function(f){f.match(/^\d+$/)||s.push(LD(t,e,r,i,f,!0))}),s}function LD(t,e,r,i,n,s){var o,a,f;if(f=Object.getOwnPropertyDescriptor(e,n)||{value:e[n]},f.get?f.set?a=t.stylize("[Getter/Setter]","special"):a=t.stylize("[Getter]","special"):f.set&&(a=t.stylize("[Setter]","special")),hJ(i,n)||(o="["+n+"]"),a||(t.seen.indexOf(f.value)<0?(x5(r)?a=E5(t,f.value,null):a=E5(t,f.value,r-1),a.indexOf(`
`)>-1&&(s?a=a.split(`
`).map(function(c){return"  "+c}).join(`
`).slice(2):a=`
`+a.split(`
`).map(function(c){return"   "+c}).join(`
`))):a=t.stylize("[Circular]","special")),ny(o)){if(s&&n.match(/^\d+$/))return a;o=JSON.stringify(""+n),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.slice(1,-1),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+a}function u9e(t,e,r){var i=0,n=t.reduce(function(s,o){return i++,o.indexOf(`
`)>=0&&i++,s+o.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}jr.types=sJ();function lJ(t){return Array.isArray(t)}jr.isArray=lJ;function ND(t){return typeof t=="boolean"}jr.isBoolean=ND;function x5(t){return t===null}jr.isNull=x5;function c9e(t){return t==null}jr.isNullOrUndefined=c9e;function dJ(t){return typeof t=="number"}jr.isNumber=dJ;function A5(t){return typeof t=="string"}jr.isString=A5;function l9e(t){return typeof t=="symbol"}jr.isSymbol=l9e;function ny(t){return t===void 0}jr.isUndefined=ny;function k2(t){return d1(t)&&qD(t)==="[object RegExp]"}jr.isRegExp=k2;jr.types.isRegExp=k2;function d1(t){return typeof t=="object"&&t!==null}jr.isObject=d1;function S5(t){return d1(t)&&qD(t)==="[object Date]"}jr.isDate=S5;jr.types.isDate=S5;function T2(t){return d1(t)&&(qD(t)==="[object Error]"||t instanceof Error)}jr.isError=T2;jr.types.isNativeError=T2;function _5(t){return typeof t=="function"}jr.isFunction=_5;function d9e(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}jr.isPrimitive=d9e;jr.isBuffer=fJ();function qD(t){return Object.prototype.toString.call(t)}function jD(t){return t<10?"0"+t.toString(10):t.toString(10)}var h9e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function p9e(){var t=new Date,e=[jD(t.getHours()),jD(t.getMinutes()),jD(t.getSeconds())].join(":");return[t.getDate(),h9e[t.getMonth()],e].join(" ")}jr.log=function(){console.log("%s - %s",p9e(),jr.format.apply(jr,arguments))};jr.inherits=qt();jr._extend=function(t,e){if(!e||!d1(e))return t;for(var r=Object.keys(e),i=r.length;i--;)t[r[i]]=e[r[i]];return t};function hJ(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var iy=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;jr.promisify=function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(iy&&e[iy]){var r=e[iy];if(typeof r!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,iy,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var i,n,s=new Promise(function(f,c){i=f,n=c}),o=[],a=0;a<arguments.length;a++)o.push(arguments[a]);o.push(function(f,c){f?n(f):i(c)});try{e.apply(this,o)}catch(f){n(f)}return s}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),iy&&Object.defineProperty(r,iy,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,uJ(e))};jr.promisify.custom=iy;function y9e(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}function m9e(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var r=[],i=0;i<arguments.length;i++)r.push(arguments[i]);var n=r.pop();if(typeof n!="function")throw new TypeError("The last argument must be of type Function");var s=this,o=function(){return n.apply(s,arguments)};t.apply(this,r).then(function(a){J.default.nextTick(o.bind(null,null,a))},function(a){J.default.nextTick(y9e.bind(null,a,o))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,uJ(t)),e}jr.callbackify=m9e});var vJ=de((Qdt,bJ)=>{"use strict";F();function pJ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function yJ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pJ(Object(r),!0).forEach(function(i){g9e(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pJ(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function g9e(t,e,r){return e=gJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mJ(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,gJ(i.key),i)}}function v9e(t,e,r){return e&&mJ(t.prototype,e),r&&mJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gJ(t){var e=w9e(t,"string");return typeof e=="symbol"?e:String(e)}function w9e(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _9e=ki(),M5=_9e.Buffer,E9e=oy(),zD=E9e.inspect,S9e=zD&&zD.custom||"inspect";function x9e(t,e,r){M5.prototype.copy.call(t,e,r)}bJ.exports=function(){function t(){b9e(this,t),this.head=null,this.tail=null,this.length=0}return v9e(t,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return M5.alloc(0);for(var i=M5.allocUnsafe(r>>>0),n=this.head,s=0;n;)x9e(n.data,i,s),s+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,s=i.data;for(r-=s.length;i=i.next;){var o=i.data,a=r>o.length?o.length:r;if(a===o.length?s+=o:s+=o.slice(0,r),r-=a,r===0){a===o.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(a));break}++n}return this.length-=n,s}},{key:"_getBuffer",value:function(r){var i=M5.allocUnsafe(r),n=this.head,s=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var o=n.data,a=r>o.length?o.length:r;if(o.copy(i,i.length-r,0,a),r-=a,r===0){a===o.length?(++s,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++s}return this.length-=s,i}},{key:S9e,value:function(r,i){return zD(this,yJ(yJ({},i),{},{depth:0,customInspect:!1}))}}]),t}()});var UD=de((tht,_J)=>{"use strict";F();function A9e(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,J.default.nextTick(FD,this,t)):J.default.nextTick(FD,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?J.default.nextTick(k5,r):(r._writableState.errorEmitted=!0,J.default.nextTick(wJ,r,s)):J.default.nextTick(wJ,r,s):e?(J.default.nextTick(k5,r),e(s)):J.default.nextTick(k5,r)}),this)}function wJ(t,e){FD(t,e),k5(t)}function k5(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function M9e(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function FD(t,e){t.emit("error",e)}function k9e(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}_J.exports={destroy:A9e,undestroy:M9e,errorOrDestroy:k9e}});var sy=de((iht,xJ)=>{"use strict";F();function T9e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var SJ={};function Ff(t,e,r){r||(r=Error);function i(s,o,a){return typeof e=="string"?e:e(s,o,a)}var n=function(s){T9e(o,s);function o(a,f,c){return s.call(this,i(a,f,c))||this}return o}(r);n.prototype.name=r.name,n.prototype.code=t,SJ[t]=n}function EJ(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(i){return String(i)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function P9e(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function D9e(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function I9e(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Ff("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Ff("ERR_INVALID_ARG_TYPE",function(t,e,r){var i;typeof e=="string"&&P9e(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";var n;if(D9e(t," argument"))n="The ".concat(t," ").concat(i," ").concat(EJ(e,"type"));else{var s=I9e(t,".")?"property":"argument";n='The "'.concat(t,'" ').concat(s," ").concat(i," ").concat(EJ(e,"type"))}return n+=". Received type ".concat(typeof r),n},TypeError);Ff("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Ff("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Ff("ERR_STREAM_PREMATURE_CLOSE","Premature close");Ff("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Ff("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Ff("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Ff("ERR_STREAM_WRITE_AFTER_END","write after end");Ff("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ff("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Ff("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");xJ.exports.codes=SJ});var $D=de((oht,AJ)=>{"use strict";F();var R9e=sy().codes.ERR_INVALID_OPT_VALUE;function B9e(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function C9e(t,e,r,i){var n=B9e(e,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var s=i?r:"highWaterMark";throw new R9e(s,n)}return Math.floor(n)}return t.objectMode?16:16*1024}AJ.exports={getHighWaterMark:C9e}});var T5=de((aht,MJ)=>{F();MJ.exports=O9e;function O9e(t,e){if(VD("noDeprecation"))return t;var r=!1;function i(){if(!r){if(VD("throwDeprecation"))throw new Error(e);VD("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return i}function VD(t){try{if(!globalThis.localStorage)return!1}catch{return!1}var e=globalThis.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}});var WD=de((uht,RJ)=>{"use strict";F();RJ.exports=qn;function TJ(t){var e=this;this.next=null,this.entry=null,this.finish=function(){fSe(e,t)}}var h1;qn.WritableState=D2;var j9e={deprecate:T5()},PJ=lD(),D5=ki().Buffer,L9e=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function N9e(t){return D5.from(t)}function q9e(t){return D5.isBuffer(t)||t instanceof L9e}var HD=UD(),z9e=$D(),F9e=z9e.getHighWaterMark,Oh=sy().codes,U9e=Oh.ERR_INVALID_ARG_TYPE,$9e=Oh.ERR_METHOD_NOT_IMPLEMENTED,V9e=Oh.ERR_MULTIPLE_CALLBACK,K9e=Oh.ERR_STREAM_CANNOT_PIPE,H9e=Oh.ERR_STREAM_DESTROYED,W9e=Oh.ERR_STREAM_NULL_VALUES,Y9e=Oh.ERR_STREAM_WRITE_AFTER_END,Z9e=Oh.ERR_UNKNOWN_ENCODING,p1=HD.errorOrDestroy;qt()(qn,PJ);function G9e(){}function D2(t,e,r){h1=h1||ay(),t=t||{},typeof r!="boolean"&&(r=e instanceof h1),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=F9e(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=t.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){iSe(e,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new TJ(this)}D2.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(D2.prototype,"buffer",{get:j9e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var P5;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(P5=Function.prototype[Symbol.hasInstance],Object.defineProperty(qn,Symbol.hasInstance,{value:function(e){return P5.call(this,e)?!0:this!==qn?!1:e&&e._writableState instanceof D2}})):P5=function(e){return e instanceof this};function qn(t){h1=h1||ay();var e=this instanceof h1;if(!e&&!P5.call(qn,this))return new qn(t);this._writableState=new D2(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),PJ.call(this)}qn.prototype.pipe=function(){p1(this,new K9e)};function J9e(t,e){var r=new Y9e;p1(t,r),J.default.nextTick(e,r)}function X9e(t,e,r,i){var n;return r===null?n=new W9e:typeof r!="string"&&!e.objectMode&&(n=new U9e("chunk",["string","Buffer"],r)),n?(p1(t,n),J.default.nextTick(i,n),!1):!0}qn.prototype.write=function(t,e,r){var i=this._writableState,n=!1,s=!i.objectMode&&q9e(t);return s&&!D5.isBuffer(t)&&(t=N9e(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=G9e),i.ending?J9e(this,r):(s||X9e(this,i,t,r))&&(i.pendingcb++,n=eSe(this,i,s,t,e,r)),n};qn.prototype.cork=function(){this._writableState.corked++};qn.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&DJ(this,t))};qn.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new Z9e(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(qn.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Q9e(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=D5.from(e,r)),e}Object.defineProperty(qn.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function eSe(t,e,r,i,n,s){if(!r){var o=Q9e(e,i,n);i!==o&&(r=!0,n="buffer",i=o)}var a=e.objectMode?1:i.length;e.length+=a;var f=e.length<e.highWaterMark;if(f||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else KD(t,e,!1,a,i,n,s);return f}function KD(t,e,r,i,n,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new H9e("write")):r?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function tSe(t,e,r,i,n){--e.pendingcb,r?(J.default.nextTick(n,i),J.default.nextTick(P2,t,e),t._writableState.errorEmitted=!0,p1(t,i)):(n(i),t._writableState.errorEmitted=!0,p1(t,i),P2(t,e))}function rSe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function iSe(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new V9e;if(rSe(r),e)tSe(t,r,i,e,n);else{var s=IJ(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&DJ(t,r),i?J.default.nextTick(kJ,t,r,s,n):kJ(t,r,s,n)}}function kJ(t,e,r,i){r||nSe(t,e),e.pendingcb--,i(),P2(t,e)}function nSe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function DJ(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)n[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;n.allBuffers=a,KD(t,e,!0,e.length,n,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new TJ(e),e.bufferedRequestCount=0}else{for(;r;){var f=r.chunk,c=r.encoding,u=r.callback,l=e.objectMode?1:f.length;if(KD(t,e,!1,l,f,c,u),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}qn.prototype._write=function(t,e,r){r(new $9e("_write()"))};qn.prototype._writev=null;qn.prototype.end=function(t,e,r){var i=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||aSe(this,i,r),this};Object.defineProperty(qn.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function IJ(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function oSe(t,e){t._final(function(r){e.pendingcb--,r&&p1(t,r),e.prefinished=!0,t.emit("prefinish"),P2(t,e)})}function sSe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,J.default.nextTick(oSe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function P2(t,e){var r=IJ(e);if(r&&(sSe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}function aSe(t,e,r){e.ending=!0,P2(t,e),r&&(e.finished?J.default.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function fSe(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}Object.defineProperty(qn.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});qn.prototype.destroy=HD.destroy;qn.prototype._undestroy=HD.undestroy;qn.prototype._destroy=function(t,e){e(t)}});var ay=de((lht,CJ)=>{"use strict";F();var uSe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};CJ.exports=qc;var BJ=GD(),ZD=WD();qt()(qc,BJ);for(YD=uSe(ZD.prototype),I5=0;I5<YD.length;I5++)R5=YD[I5],qc.prototype[R5]||(qc.prototype[R5]=ZD.prototype[R5]);var YD,R5,I5;function qc(t){if(!(this instanceof qc))return new qc(t);BJ.call(this,t),ZD.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",cSe)))}Object.defineProperty(qc.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(qc.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(qc.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function cSe(){this._writableState.ended||J.default.nextTick(lSe,this)}function lSe(t){t.end()}Object.defineProperty(qc.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var B5=de((hht,LJ)=>{"use strict";F();var OJ=sy().codes.ERR_STREAM_PREMATURE_CLOSE;function dSe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}function hSe(){}function pSe(t){return t.setHeader&&typeof t.abort=="function"}function jJ(t,e,r){if(typeof e=="function")return jJ(t,null,e);e||(e={}),r=dSe(r||hSe);var i=e.readable||e.readable!==!1&&t.readable,n=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){n=!1,o=!0,i||r.call(t)},f=t._readableState&&t._readableState.endEmitted,c=function(){i=!1,f=!0,n||r.call(t)},u=function(g){r.call(t,g)},l=function(){var g;if(i&&!f)return(!t._readableState||!t._readableState.ended)&&(g=new OJ),r.call(t,g);if(n&&!o)return(!t._writableState||!t._writableState.ended)&&(g=new OJ),r.call(t,g)},y=function(){t.req.on("finish",a)};return pSe(t)?(t.on("complete",a),t.on("abort",l),t.req?y():t.on("request",y)):n&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",c),t.on("finish",a),e.error!==!1&&t.on("error",u),t.on("close",l),function(){t.removeListener("complete",a),t.removeListener("abort",l),t.removeListener("request",y),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",c),t.removeListener("error",u),t.removeListener("close",l)}}LJ.exports=jJ});var qJ=de((yht,NJ)=>{"use strict";F();var C5;function jh(t,e,r){return e=ySe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ySe(t){var e=mSe(t,"string");return typeof e=="symbol"?e:String(e)}function mSe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gSe=B5(),Lh=Symbol("lastResolve"),fy=Symbol("lastReject"),I2=Symbol("error"),O5=Symbol("ended"),uy=Symbol("lastPromise"),JD=Symbol("handlePromise"),cy=Symbol("stream");function Nh(t,e){return{value:t,done:e}}function bSe(t){var e=t[Lh];if(e!==null){var r=t[cy].read();r!==null&&(t[uy]=null,t[Lh]=null,t[fy]=null,e(Nh(r,!1)))}}function vSe(t){J.default.nextTick(bSe,t)}function wSe(t,e){return function(r,i){t.then(function(){if(e[O5]){r(Nh(void 0,!0));return}e[JD](r,i)},i)}}var _Se=Object.getPrototypeOf(function(){}),ESe=Object.setPrototypeOf((C5={get stream(){return this[cy]},next:function(){var e=this,r=this[I2];if(r!==null)return Promise.reject(r);if(this[O5])return Promise.resolve(Nh(void 0,!0));if(this[cy].destroyed)return new Promise(function(o,a){J.default.nextTick(function(){e[I2]?a(e[I2]):o(Nh(void 0,!0))})});var i=this[uy],n;if(i)n=new Promise(wSe(i,this));else{var s=this[cy].read();if(s!==null)return Promise.resolve(Nh(s,!1));n=new Promise(this[JD])}return this[uy]=n,n}},jh(C5,Symbol.asyncIterator,function(){return this}),jh(C5,"return",function(){var e=this;return new Promise(function(r,i){e[cy].destroy(null,function(n){if(n){i(n);return}r(Nh(void 0,!0))})})}),C5),_Se),SSe=function(e){var r,i=Object.create(ESe,(r={},jh(r,cy,{value:e,writable:!0}),jh(r,Lh,{value:null,writable:!0}),jh(r,fy,{value:null,writable:!0}),jh(r,I2,{value:null,writable:!0}),jh(r,O5,{value:e._readableState.endEmitted,writable:!0}),jh(r,JD,{value:function(s,o){var a=i[cy].read();a?(i[uy]=null,i[Lh]=null,i[fy]=null,s(Nh(a,!1))):(i[Lh]=s,i[fy]=o)},writable:!0}),r));return i[uy]=null,gSe(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=i[fy];s!==null&&(i[uy]=null,i[Lh]=null,i[fy]=null,s(n)),i[I2]=n;return}var o=i[Lh];o!==null&&(i[uy]=null,i[Lh]=null,i[fy]=null,o(Nh(void 0,!0))),i[O5]=!0}),e.on("readable",vSe.bind(null,i)),i};NJ.exports=SSe});var FJ=de((ght,zJ)=>{F();zJ.exports=function(){throw new Error("Readable.from is not available in the browser")}});var GD=de((wht,JJ)=>{"use strict";F();JJ.exports=di;var y1;di.ReadableState=KJ;var vht=Pf().EventEmitter,VJ=function(e,r){return e.listeners(r).length},B2=lD(),j5=ki().Buffer,xSe=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function ASe(t){return j5.from(t)}function MSe(t){return j5.isBuffer(t)||t instanceof xSe}var XD=oy(),Ar;XD&&XD.debuglog?Ar=XD.debuglog("stream"):Ar=function(){};var kSe=vJ(),oI=UD(),TSe=$D(),PSe=TSe.getHighWaterMark,L5=sy().codes,DSe=L5.ERR_INVALID_ARG_TYPE,ISe=L5.ERR_STREAM_PUSH_AFTER_EOF,RSe=L5.ERR_METHOD_NOT_IMPLEMENTED,BSe=L5.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,m1,QD,eI;qt()(di,B2);var R2=oI.errorOrDestroy,tI=["error","close","destroy","pause","resume"];function CSe(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function KJ(t,e,r){y1=y1||ay(),t=t||{},typeof r!="boolean"&&(r=e instanceof y1),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=PSe(this,t,"readableHighWaterMark",r),this.buffer=new kSe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(m1||(m1=Xl().StringDecoder),this.decoder=new m1(t.encoding),this.encoding=t.encoding)}function di(t){if(y1=y1||ay(),!(this instanceof di))return new di(t);var e=this instanceof y1;this._readableState=new KJ(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),B2.call(this)}Object.defineProperty(di.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});di.prototype.destroy=oI.destroy;di.prototype._undestroy=oI.undestroy;di.prototype._destroy=function(t,e){e(t)};di.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=j5.from(t,e),e=""),i=!0),HJ(this,t,e,!1,i)};di.prototype.unshift=function(t){return HJ(this,t,null,!0,!1)};function HJ(t,e,r,i,n){Ar("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,LSe(t,s);else{var o;if(n||(o=OSe(s,e)),o)R2(t,o);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==j5.prototype&&(e=ASe(e)),i)s.endEmitted?R2(t,new BSe):rI(t,s,e,!0);else if(s.ended)R2(t,new ISe);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?rI(t,s,e,!1):nI(t,s)):rI(t,s,e,!1)}else i||(s.reading=!1,nI(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function rI(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&N5(t)),nI(t,e)}function OSe(t,e){var r;return!MSe(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new DSe("chunk",["string","Buffer","Uint8Array"],e)),r}di.prototype.isPaused=function(){return this._readableState.flowing===!1};di.prototype.setEncoding=function(t){m1||(m1=Xl().StringDecoder);var e=new m1(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var UJ=1073741824;function jSe(t){return t>=UJ?t=UJ:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function $J(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=jSe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}di.prototype.read=function(t){Ar("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Ar("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?iI(this):N5(this),null;if(t=$J(t,e),t===0&&e.ended)return e.length===0&&iI(this),null;var i=e.needReadable;Ar("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,Ar("length less than watermark",i)),e.ended||e.reading?(i=!1,Ar("reading or ended",i)):i&&(Ar("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=$J(r,e)));var n;return t>0?n=ZJ(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&iI(this)),n!==null&&this.emit("data",n),n};function LSe(t,e){if(Ar("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?N5(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,WJ(t)))}}function N5(t){var e=t._readableState;Ar("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Ar("emitReadable",e.flowing),e.emittedReadable=!0,J.default.nextTick(WJ,t))}function WJ(t){var e=t._readableState;Ar("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,sI(t)}function nI(t,e){e.readingMore||(e.readingMore=!0,J.default.nextTick(NSe,t,e))}function NSe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Ar("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}di.prototype._read=function(t){R2(this,new RSe("_read()"))};di.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,Ar("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==J.default.stdout&&t!==J.default.stderr,s=n?a:E;i.endEmitted?J.default.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(x,T){Ar("onunpipe"),x===r&&T&&T.hasUnpiped===!1&&(T.hasUnpiped=!0,u())}function a(){Ar("onend"),t.end()}var f=qSe(r);t.on("drain",f);var c=!1;function u(){Ar("cleanup"),t.removeListener("close",m),t.removeListener("finish",g),t.removeListener("drain",f),t.removeListener("error",y),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",E),r.removeListener("data",l),c=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&f()}r.on("data",l);function l(x){Ar("ondata");var T=t.write(x);Ar("dest.write",T),T===!1&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&GJ(i.pipes,t)!==-1)&&!c&&(Ar("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function y(x){Ar("onerror",x),E(),t.removeListener("error",y),VJ(t,"error")===0&&R2(t,x)}CSe(t,"error",y);function m(){t.removeListener("finish",g),E()}t.once("close",m);function g(){Ar("onfinish"),t.removeListener("close",m),E()}t.once("finish",g);function E(){Ar("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(Ar("pipe resume"),r.resume()),t};function qSe(t){return function(){var r=t._readableState;Ar("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&VJ(t,"data")&&(r.flowing=!0,sI(t))}}di.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=GJ(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};di.prototype.on=function(t,e){var r=B2.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,Ar("on readable",i.length,i.reading),i.length?N5(this):i.reading||J.default.nextTick(zSe,this)),r};di.prototype.addListener=di.prototype.on;di.prototype.removeListener=function(t,e){var r=B2.prototype.removeListener.call(this,t,e);return t==="readable"&&J.default.nextTick(YJ,this),r};di.prototype.removeAllListeners=function(t){var e=B2.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&J.default.nextTick(YJ,this),e};function YJ(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function zSe(t){Ar("readable nexttick read 0"),t.read(0)}di.prototype.resume=function(){var t=this._readableState;return t.flowing||(Ar("resume"),t.flowing=!t.readableListening,FSe(this,t)),t.paused=!1,this};function FSe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,J.default.nextTick(USe,t,e))}function USe(t,e){Ar("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),sI(t),e.flowing&&!e.reading&&t.read(0)}di.prototype.pause=function(){return Ar("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ar("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function sI(t){var e=t._readableState;for(Ar("flow",e.flowing);e.flowing&&t.read()!==null;);}di.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(Ar("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(Ar("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(a){return function(){return t[a].apply(t,arguments)}}(n));for(var s=0;s<tI.length;s++)t.on(tI[s],this.emit.bind(this,tI[s]));return this._read=function(o){Ar("wrapped _read",o),i&&(i=!1,t.resume())},this};typeof Symbol=="function"&&(di.prototype[Symbol.asyncIterator]=function(){return QD===void 0&&(QD=qJ()),QD(this)});Object.defineProperty(di.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(di.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(di.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});di._fromList=ZJ;Object.defineProperty(di.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ZJ(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function iI(t){var e=t._readableState;Ar("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,J.default.nextTick($Se,e,t))}function $Se(t,e){if(Ar("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(di.from=function(t,e){return eI===void 0&&(eI=FJ()),eI(di,t,e)});function GJ(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var aI=de((Eht,QJ)=>{"use strict";F();QJ.exports=nd;var q5=sy().codes,VSe=q5.ERR_METHOD_NOT_IMPLEMENTED,KSe=q5.ERR_MULTIPLE_CALLBACK,HSe=q5.ERR_TRANSFORM_ALREADY_TRANSFORMING,WSe=q5.ERR_TRANSFORM_WITH_LENGTH_0,z5=ay();qt()(nd,z5);function YSe(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new KSe);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function nd(t){if(!(this instanceof nd))return new nd(t);z5.call(this,t),this._transformState={afterTransform:YSe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",ZSe)}function ZSe(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){XJ(t,e,r)}):XJ(this,null,null)}nd.prototype.push=function(t,e){return this._transformState.needTransform=!1,z5.prototype.push.call(this,t,e)};nd.prototype._transform=function(t,e,r){r(new VSe("_transform()"))};nd.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};nd.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};nd.prototype._destroy=function(t,e){z5.prototype._destroy.call(this,t,function(r){e(r)})};function XJ(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new WSe;if(t._transformState.transforming)throw new HSe;return t.push(null)}});var rX=de((xht,tX)=>{"use strict";F();tX.exports=C2;var eX=aI();qt()(C2,eX);function C2(t){if(!(this instanceof C2))return new C2(t);eX.call(this,t)}C2.prototype._transform=function(t,e,r){r(null,t)}});var aX=de((Mht,sX)=>{"use strict";F();var fI;function GSe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var oX=sy().codes,JSe=oX.ERR_MISSING_ARGS,XSe=oX.ERR_STREAM_DESTROYED;function iX(t){if(t)throw t}function QSe(t){return t.setHeader&&typeof t.abort=="function"}function exe(t,e,r,i){i=GSe(i);var n=!1;t.on("close",function(){n=!0}),fI===void 0&&(fI=B5()),fI(t,{readable:e,writable:r},function(o){if(o)return i(o);n=!0,i()});var s=!1;return function(o){if(!n&&!s){if(s=!0,QSe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();i(o||new XSe("pipe"))}}}function nX(t){t()}function txe(t,e){return t.pipe(e)}function rxe(t){return!t.length||typeof t[t.length-1]!="function"?iX:t.pop()}function ixe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=rxe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new JSe("streams");var n,s=e.map(function(o,a){var f=a<e.length-1,c=a>0;return exe(o,f,c,function(u){n||(n=u),u&&s.forEach(nX),!f&&(s.forEach(nX),i(n))})});return e.reduce(txe)}sX.exports=ixe});var uX=de((Uf,fX)=>{F();Uf=fX.exports=GD();Uf.Stream=Uf;Uf.Readable=Uf;Uf.Writable=WD();Uf.Duplex=ay();Uf.Transform=aI();Uf.PassThrough=rX();Uf.finished=B5();Uf.pipeline=aX()});var uI=de((Pht,lX)=>{"use strict";F();var F5=ZZ().Buffer,cX=uX().Transform,nxe=qt();function oxe(t,e){if(!F5.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}function qh(t){cX.call(this),this._block=F5.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}nxe(qh,cX);qh.prototype._transform=function(t,e,r){var i=null;try{this.update(t,e)}catch(n){i=n}r(i)};qh.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};qh.prototype.update=function(t,e){if(oxe(t,"Data"),this._finalized)throw new Error("Digest already called");F5.isBuffer(t)||(t=F5.from(t,e));for(var r=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var n=this._blockOffset;n<this._blockSize;)r[n++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)r[this._blockOffset++]=t[i++];for(var s=0,o=t.length*8;o>0;++s)this._length[s]+=o,o=this._length[s]/4294967296|0,o>0&&(this._length[s]-=4294967296*o);return this};qh.prototype._update=function(){throw new Error("_update is not implemented")};qh.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};qh.prototype._digest=function(){throw new Error("_digest is not implemented")};lX.exports=qh});var V5=de((Iht,hX)=>{"use strict";F();var sxe=qt(),dX=uI(),axe=Vr().Buffer,fxe=new Array(16);function U5(){dX.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}sxe(U5,dX);U5.prototype._update=function(){for(var t=fxe,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,i=this._b,n=this._c,s=this._d;r=Ws(r,i,n,s,t[0],3614090360,7),s=Ws(s,r,i,n,t[1],3905402710,12),n=Ws(n,s,r,i,t[2],606105819,17),i=Ws(i,n,s,r,t[3],3250441966,22),r=Ws(r,i,n,s,t[4],4118548399,7),s=Ws(s,r,i,n,t[5],1200080426,12),n=Ws(n,s,r,i,t[6],2821735955,17),i=Ws(i,n,s,r,t[7],4249261313,22),r=Ws(r,i,n,s,t[8],1770035416,7),s=Ws(s,r,i,n,t[9],2336552879,12),n=Ws(n,s,r,i,t[10],4294925233,17),i=Ws(i,n,s,r,t[11],2304563134,22),r=Ws(r,i,n,s,t[12],1804603682,7),s=Ws(s,r,i,n,t[13],4254626195,12),n=Ws(n,s,r,i,t[14],2792965006,17),i=Ws(i,n,s,r,t[15],1236535329,22),r=Ys(r,i,n,s,t[1],4129170786,5),s=Ys(s,r,i,n,t[6],3225465664,9),n=Ys(n,s,r,i,t[11],643717713,14),i=Ys(i,n,s,r,t[0],3921069994,20),r=Ys(r,i,n,s,t[5],3593408605,5),s=Ys(s,r,i,n,t[10],38016083,9),n=Ys(n,s,r,i,t[15],3634488961,14),i=Ys(i,n,s,r,t[4],3889429448,20),r=Ys(r,i,n,s,t[9],568446438,5),s=Ys(s,r,i,n,t[14],3275163606,9),n=Ys(n,s,r,i,t[3],4107603335,14),i=Ys(i,n,s,r,t[8],1163531501,20),r=Ys(r,i,n,s,t[13],2850285829,5),s=Ys(s,r,i,n,t[2],4243563512,9),n=Ys(n,s,r,i,t[7],1735328473,14),i=Ys(i,n,s,r,t[12],2368359562,20),r=Zs(r,i,n,s,t[5],4294588738,4),s=Zs(s,r,i,n,t[8],2272392833,11),n=Zs(n,s,r,i,t[11],1839030562,16),i=Zs(i,n,s,r,t[14],4259657740,23),r=Zs(r,i,n,s,t[1],2763975236,4),s=Zs(s,r,i,n,t[4],1272893353,11),n=Zs(n,s,r,i,t[7],4139469664,16),i=Zs(i,n,s,r,t[10],3200236656,23),r=Zs(r,i,n,s,t[13],681279174,4),s=Zs(s,r,i,n,t[0],3936430074,11),n=Zs(n,s,r,i,t[3],3572445317,16),i=Zs(i,n,s,r,t[6],76029189,23),r=Zs(r,i,n,s,t[9],3654602809,4),s=Zs(s,r,i,n,t[12],3873151461,11),n=Zs(n,s,r,i,t[15],530742520,16),i=Zs(i,n,s,r,t[2],3299628645,23),r=Gs(r,i,n,s,t[0],4096336452,6),s=Gs(s,r,i,n,t[7],1126891415,10),n=Gs(n,s,r,i,t[14],2878612391,15),i=Gs(i,n,s,r,t[5],4237533241,21),r=Gs(r,i,n,s,t[12],1700485571,6),s=Gs(s,r,i,n,t[3],2399980690,10),n=Gs(n,s,r,i,t[10],4293915773,15),i=Gs(i,n,s,r,t[1],2240044497,21),r=Gs(r,i,n,s,t[8],1873313359,6),s=Gs(s,r,i,n,t[15],4264355552,10),n=Gs(n,s,r,i,t[6],2734768916,15),i=Gs(i,n,s,r,t[13],1309151649,21),r=Gs(r,i,n,s,t[4],4149444226,6),s=Gs(s,r,i,n,t[11],3174756917,10),n=Gs(n,s,r,i,t[2],718787259,15),i=Gs(i,n,s,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+i|0,this._c=this._c+n|0,this._d=this._d+s|0};U5.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=axe.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function $5(t,e){return t<<e|t>>>32-e}function Ws(t,e,r,i,n,s,o){return $5(t+(e&r|~e&i)+n+s|0,o)+e|0}function Ys(t,e,r,i,n,s,o){return $5(t+(e&i|r&~i)+n+s|0,o)+e|0}function Zs(t,e,r,i,n,s,o){return $5(t+(e^r^i)+n+s|0,o)+e|0}function Gs(t,e,r,i,n,s,o){return $5(t+(r^(e|~i))+n+s|0,o)+e|0}hX.exports=U5});var H5=de((Bht,wX)=>{"use strict";F();var cI=ki().Buffer,uxe=qt(),vX=uI(),cxe=new Array(16),O2=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],j2=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],L2=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],N2=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],q2=[0,1518500249,1859775393,2400959708,2840853838],z2=[1352829926,1548603684,1836072691,2053994217,0];function K5(){vX.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}uxe(K5,vX);K5.prototype._update=function(){for(var t=cxe,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,i=this._b|0,n=this._c|0,s=this._d|0,o=this._e|0,a=this._a|0,f=this._b|0,c=this._c|0,u=this._d|0,l=this._e|0,y=0;y<80;y+=1){var m,g;y<16?(m=pX(r,i,n,s,o,t[O2[y]],q2[0],L2[y]),g=bX(a,f,c,u,l,t[j2[y]],z2[0],N2[y])):y<32?(m=yX(r,i,n,s,o,t[O2[y]],q2[1],L2[y]),g=gX(a,f,c,u,l,t[j2[y]],z2[1],N2[y])):y<48?(m=mX(r,i,n,s,o,t[O2[y]],q2[2],L2[y]),g=mX(a,f,c,u,l,t[j2[y]],z2[2],N2[y])):y<64?(m=gX(r,i,n,s,o,t[O2[y]],q2[3],L2[y]),g=yX(a,f,c,u,l,t[j2[y]],z2[3],N2[y])):(m=bX(r,i,n,s,o,t[O2[y]],q2[4],L2[y]),g=pX(a,f,c,u,l,t[j2[y]],z2[4],N2[y])),r=o,o=s,s=ly(n,10),n=i,i=m,a=l,l=u,u=ly(c,10),c=f,f=g}var E=this._b+n+u|0;this._b=this._c+s+l|0,this._c=this._d+o+a|0,this._d=this._e+r+f|0,this._e=this._a+i+c|0,this._a=E};K5.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=cI.alloc?cI.alloc(20):new cI(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function ly(t,e){return t<<e|t>>>32-e}function pX(t,e,r,i,n,s,o,a){return ly(t+(e^r^i)+s+o|0,a)+n|0}function yX(t,e,r,i,n,s,o,a){return ly(t+(e&r|~e&i)+s+o|0,a)+n|0}function mX(t,e,r,i,n,s,o,a){return ly(t+((e|~r)^i)+s+o|0,a)+n|0}function gX(t,e,r,i,n,s,o,a){return ly(t+(e&i|r&~i)+s+o|0,a)+n|0}function bX(t,e,r,i,n,s,o,a){return ly(t+(e^(r|~i))+s+o|0,a)+n|0}wX.exports=K5});var dy=de((Oht,EX)=>{F();var _X=Vr().Buffer;function W5(t,e){this._block=_X.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}W5.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=_X.from(t,e));for(var r=this._block,i=this._blockSize,n=t.length,s=this._len,o=0;o<n;){for(var a=s%i,f=Math.min(n-o,i-a),c=0;c<f;c++)r[a+c]=t[o+c];s+=f,o+=f,s%i===0&&this._update(r)}return this._len+=n,this};W5.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var i=(r&4294967295)>>>0,n=(r-i)/4294967296;this._block.writeUInt32BE(n,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};W5.prototype._update=function(){throw new Error("_update must be implemented by subclass")};EX.exports=W5});var AX=de((Lht,xX)=>{F();var lxe=qt(),SX=dy(),dxe=Vr().Buffer,hxe=[1518500249,1859775393,-1894007588,-899497514],pxe=new Array(80);function F2(){this.init(),this._w=pxe,SX.call(this,64,56)}lxe(F2,SX);F2.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function yxe(t){return t<<5|t>>>27}function mxe(t){return t<<30|t>>>2}function gxe(t,e,r,i){return t===0?e&r|~e&i:t===2?e&r|e&i|r&i:e^r^i}F2.prototype._update=function(t){for(var e=this._w,r=this._a|0,i=this._b|0,n=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var f=0;f<80;++f){var c=~~(f/20),u=yxe(r)+gxe(c,i,n,s)+o+e[f]+hxe[c]|0;o=s,s=n,n=mxe(i),i=r,r=u}this._a=r+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};F2.prototype._hash=function(){var t=dxe.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};xX.exports=F2});var TX=de((qht,kX)=>{F();var bxe=qt(),MX=dy(),vxe=Vr().Buffer,wxe=[1518500249,1859775393,-1894007588,-899497514],_xe=new Array(80);function U2(){this.init(),this._w=_xe,MX.call(this,64,56)}bxe(U2,MX);U2.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Exe(t){return t<<1|t>>>31}function Sxe(t){return t<<5|t>>>27}function xxe(t){return t<<30|t>>>2}function Axe(t,e,r,i){return t===0?e&r|~e&i:t===2?e&r|e&i|r&i:e^r^i}U2.prototype._update=function(t){for(var e=this._w,r=this._a|0,i=this._b|0,n=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=Exe(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var f=0;f<80;++f){var c=~~(f/20),u=Sxe(r)+Axe(c,i,n,s)+o+e[f]+wxe[c]|0;o=s,s=n,n=xxe(i),i=r,r=u}this._a=r+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};U2.prototype._hash=function(){var t=vxe.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};kX.exports=U2});var lI=de((Fht,DX)=>{F();var Mxe=qt(),PX=dy(),kxe=Vr().Buffer,Txe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Pxe=new Array(64);function $2(){this.init(),this._w=Pxe,PX.call(this,64,56)}Mxe($2,PX);$2.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function Dxe(t,e,r){return r^t&(e^r)}function Ixe(t,e,r){return t&e|r&(t|e)}function Rxe(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function Bxe(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function Cxe(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function Oxe(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}$2.prototype._update=function(t){for(var e=this._w,r=this._a|0,i=this._b|0,n=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,f=this._g|0,c=this._h|0,u=0;u<16;++u)e[u]=t.readInt32BE(u*4);for(;u<64;++u)e[u]=Oxe(e[u-2])+e[u-7]+Cxe(e[u-15])+e[u-16]|0;for(var l=0;l<64;++l){var y=c+Bxe(o)+Dxe(o,a,f)+Txe[l]+e[l]|0,m=Rxe(r)+Ixe(r,i,n)|0;c=f,f=a,a=o,o=s+y|0,s=n,n=i,i=r,r=y+m|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=f+this._g|0,this._h=c+this._h|0};$2.prototype._hash=function(){var t=kxe.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};DX.exports=$2});var RX=de(($ht,IX)=>{F();var jxe=qt(),Lxe=lI(),Nxe=dy(),qxe=Vr().Buffer,zxe=new Array(64);function Y5(){this.init(),this._w=zxe,Nxe.call(this,64,56)}jxe(Y5,Lxe);Y5.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Y5.prototype._hash=function(){var t=qxe.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};IX.exports=Y5});var dI=de((Kht,qX)=>{F();var Fxe=qt(),NX=dy(),Uxe=Vr().Buffer,BX=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],$xe=new Array(160);function V2(){this.init(),this._w=$xe,NX.call(this,128,112)}Fxe(V2,NX);V2.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function CX(t,e,r){return r^t&(e^r)}function OX(t,e,r){return t&e|r&(t|e)}function jX(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function LX(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function Vxe(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function Kxe(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Hxe(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function Wxe(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function Yo(t,e){return t>>>0<e>>>0?1:0}V2.prototype._update=function(t){for(var e=this._w,r=this._ah|0,i=this._bh|0,n=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,f=this._gh|0,c=this._hh|0,u=this._al|0,l=this._bl|0,y=this._cl|0,m=this._dl|0,g=this._el|0,E=this._fl|0,x=this._gl|0,T=this._hl|0,M=0;M<32;M+=2)e[M]=t.readInt32BE(M*4),e[M+1]=t.readInt32BE(M*4+4);for(;M<160;M+=2){var I=e[M-30],R=e[M-15*2+1],O=Vxe(I,R),B=Kxe(R,I);I=e[M-2*2],R=e[M-2*2+1];var C=Hxe(I,R),U=Wxe(R,I),W=e[M-7*2],L=e[M-7*2+1],j=e[M-16*2],k=e[M-16*2+1],P=B+L|0,p=O+W+Yo(P,B)|0;P=P+U|0,p=p+C+Yo(P,U)|0,P=P+k|0,p=p+j+Yo(P,k)|0,e[M]=p,e[M+1]=P}for(var d=0;d<160;d+=2){p=e[d],P=e[d+1];var h=OX(r,i,n),b=OX(u,l,y),v=jX(r,u),w=jX(u,r),_=LX(o,g),D=LX(g,o),S=BX[d],A=BX[d+1],N=CX(o,a,f),G=CX(g,E,x),Q=T+D|0,ne=c+_+Yo(Q,T)|0;Q=Q+G|0,ne=ne+N+Yo(Q,G)|0,Q=Q+A|0,ne=ne+S+Yo(Q,A)|0,Q=Q+P|0,ne=ne+p+Yo(Q,P)|0;var H=w+b|0,Z=v+h+Yo(H,w)|0;c=f,T=x,f=a,x=E,a=o,E=g,g=m+Q|0,o=s+ne+Yo(g,m)|0,s=n,m=y,n=i,y=l,i=r,l=u,u=Q+H|0,r=ne+Z+Yo(u,Q)|0}this._al=this._al+u|0,this._bl=this._bl+l|0,this._cl=this._cl+y|0,this._dl=this._dl+m|0,this._el=this._el+g|0,this._fl=this._fl+E|0,this._gl=this._gl+x|0,this._hl=this._hl+T|0,this._ah=this._ah+r+Yo(this._al,u)|0,this._bh=this._bh+i+Yo(this._bl,l)|0,this._ch=this._ch+n+Yo(this._cl,y)|0,this._dh=this._dh+s+Yo(this._dl,m)|0,this._eh=this._eh+o+Yo(this._el,g)|0,this._fh=this._fh+a+Yo(this._fl,E)|0,this._gh=this._gh+f+Yo(this._gl,x)|0,this._hh=this._hh+c+Yo(this._hl,T)|0};V2.prototype._hash=function(){var t=Uxe.allocUnsafe(64);function e(r,i,n){t.writeInt32BE(r,n),t.writeInt32BE(i,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};qX.exports=V2});var FX=de((Wht,zX)=>{F();var Yxe=qt(),Zxe=dI(),Gxe=dy(),Jxe=Vr().Buffer,Xxe=new Array(160);function Z5(){this.init(),this._w=Xxe,Gxe.call(this,128,112)}Yxe(Z5,Zxe);Z5.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Z5.prototype._hash=function(){var t=Jxe.allocUnsafe(48);function e(r,i,n){t.writeInt32BE(r,n),t.writeInt32BE(i,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};zX.exports=Z5});var G5=de((od,UX)=>{F();var od=UX.exports=function(e){e=e.toLowerCase();var r=od[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};od.sha=AX();od.sha1=TX();od.sha224=RX();od.sha256=lI();od.sha384=FX();od.sha512=dI()});var hI=de((Ght,$X)=>{F();$X.exports=Pf().EventEmitter});var ZX=de((Xht,YX)=>{"use strict";F();function VX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function KX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VX(Object(r),!0).forEach(function(i){Qxe(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VX(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function Qxe(t,e,r){return e=WX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HX(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,WX(i.key),i)}}function tAe(t,e,r){return e&&HX(t.prototype,e),r&&HX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function WX(t){var e=rAe(t,"string");return typeof e=="symbol"?e:String(e)}function rAe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iAe=ki(),J5=iAe.Buffer,nAe=oy(),pI=nAe.inspect,oAe=pI&&pI.custom||"inspect";function sAe(t,e,r){J5.prototype.copy.call(t,e,r)}YX.exports=function(){function t(){eAe(this,t),this.head=null,this.tail=null,this.length=0}return tAe(t,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return J5.alloc(0);for(var i=J5.allocUnsafe(r>>>0),n=this.head,s=0;n;)sAe(n.data,i,s),s+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,s=i.data;for(r-=s.length;i=i.next;){var o=i.data,a=r>o.length?o.length:r;if(a===o.length?s+=o:s+=o.slice(0,r),r-=a,r===0){a===o.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(a));break}++n}return this.length-=n,s}},{key:"_getBuffer",value:function(r){var i=J5.allocUnsafe(r),n=this.head,s=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var o=n.data,a=r>o.length?o.length:r;if(o.copy(i,i.length-r,0,a),r-=a,r===0){a===o.length?(++s,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++s}return this.length-=s,i}},{key:oAe,value:function(r,i){return pI(this,KX(KX({},i),{},{depth:0,customInspect:!1}))}}]),t}()});var mI=de((ept,JX)=>{"use strict";F();function aAe(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,J.default.nextTick(yI,this,t)):J.default.nextTick(yI,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?J.default.nextTick(X5,r):(r._writableState.errorEmitted=!0,J.default.nextTick(GX,r,s)):J.default.nextTick(GX,r,s):e?(J.default.nextTick(X5,r),e(s)):J.default.nextTick(X5,r)}),this)}function GX(t,e){yI(t,e),X5(t)}function X5(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function fAe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function yI(t,e){t.emit("error",e)}function uAe(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}JX.exports={destroy:aAe,undestroy:fAe,errorOrDestroy:uAe}});var hy=de((rpt,eQ)=>{"use strict";F();function cAe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var QX={};function $f(t,e,r){r||(r=Error);function i(s,o,a){return typeof e=="string"?e:e(s,o,a)}var n=function(s){cAe(o,s);function o(a,f,c){return s.call(this,i(a,f,c))||this}return o}(r);n.prototype.name=r.name,n.prototype.code=t,QX[t]=n}function XX(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(i){return String(i)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function lAe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function dAe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function hAe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}$f("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);$f("ERR_INVALID_ARG_TYPE",function(t,e,r){var i;typeof e=="string"&&lAe(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";var n;if(dAe(t," argument"))n="The ".concat(t," ").concat(i," ").concat(XX(e,"type"));else{var s=hAe(t,".")?"property":"argument";n='The "'.concat(t,'" ').concat(s," ").concat(i," ").concat(XX(e,"type"))}return n+=". Received type ".concat(typeof r),n},TypeError);$f("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");$f("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});$f("ERR_STREAM_PREMATURE_CLOSE","Premature close");$f("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});$f("ERR_MULTIPLE_CALLBACK","Callback called multiple times");$f("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");$f("ERR_STREAM_WRITE_AFTER_END","write after end");$f("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);$f("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);$f("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");eQ.exports.codes=QX});var gI=de((npt,tQ)=>{"use strict";F();var pAe=hy().codes.ERR_INVALID_OPT_VALUE;function yAe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function mAe(t,e,r,i){var n=yAe(e,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var s=i?r:"highWaterMark";throw new pAe(s,n)}return Math.floor(n)}return t.objectMode?16:16*1024}tQ.exports={getHighWaterMark:mAe}});var wI=de((spt,aQ)=>{"use strict";F();aQ.exports=zn;function iQ(t){var e=this;this.next=null,this.entry=null,this.finish=function(){$Ae(e,t)}}var g1;zn.WritableState=H2;var gAe={deprecate:T5()},nQ=hI(),eE=ki().Buffer,bAe=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function vAe(t){return eE.from(t)}function wAe(t){return eE.isBuffer(t)||t instanceof bAe}var vI=mI(),_Ae=gI(),EAe=_Ae.getHighWaterMark,zh=hy().codes,SAe=zh.ERR_INVALID_ARG_TYPE,xAe=zh.ERR_METHOD_NOT_IMPLEMENTED,AAe=zh.ERR_MULTIPLE_CALLBACK,MAe=zh.ERR_STREAM_CANNOT_PIPE,kAe=zh.ERR_STREAM_DESTROYED,TAe=zh.ERR_STREAM_NULL_VALUES,PAe=zh.ERR_STREAM_WRITE_AFTER_END,DAe=zh.ERR_UNKNOWN_ENCODING,b1=vI.errorOrDestroy;qt()(zn,nQ);function IAe(){}function H2(t,e,r){g1=g1||py(),t=t||{},typeof r!="boolean"&&(r=e instanceof g1),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=EAe(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=t.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){NAe(e,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new iQ(this)}H2.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(H2.prototype,"buffer",{get:gAe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Q5;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Q5=Function.prototype[Symbol.hasInstance],Object.defineProperty(zn,Symbol.hasInstance,{value:function(e){return Q5.call(this,e)?!0:this!==zn?!1:e&&e._writableState instanceof H2}})):Q5=function(e){return e instanceof this};function zn(t){g1=g1||py();var e=this instanceof g1;if(!e&&!Q5.call(zn,this))return new zn(t);this._writableState=new H2(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),nQ.call(this)}zn.prototype.pipe=function(){b1(this,new MAe)};function RAe(t,e){var r=new PAe;b1(t,r),J.default.nextTick(e,r)}function BAe(t,e,r,i){var n;return r===null?n=new TAe:typeof r!="string"&&!e.objectMode&&(n=new SAe("chunk",["string","Buffer"],r)),n?(b1(t,n),J.default.nextTick(i,n),!1):!0}zn.prototype.write=function(t,e,r){var i=this._writableState,n=!1,s=!i.objectMode&&wAe(t);return s&&!eE.isBuffer(t)&&(t=vAe(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=IAe),i.ending?RAe(this,r):(s||BAe(this,i,t,r))&&(i.pendingcb++,n=OAe(this,i,s,t,e,r)),n};zn.prototype.cork=function(){this._writableState.corked++};zn.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&oQ(this,t))};zn.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new DAe(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(zn.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function CAe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=eE.from(e,r)),e}Object.defineProperty(zn.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function OAe(t,e,r,i,n,s){if(!r){var o=CAe(e,i,n);i!==o&&(r=!0,n="buffer",i=o)}var a=e.objectMode?1:i.length;e.length+=a;var f=e.length<e.highWaterMark;if(f||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else bI(t,e,!1,a,i,n,s);return f}function bI(t,e,r,i,n,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new kAe("write")):r?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function jAe(t,e,r,i,n){--e.pendingcb,r?(J.default.nextTick(n,i),J.default.nextTick(K2,t,e),t._writableState.errorEmitted=!0,b1(t,i)):(n(i),t._writableState.errorEmitted=!0,b1(t,i),K2(t,e))}function LAe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function NAe(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new AAe;if(LAe(r),e)jAe(t,r,i,e,n);else{var s=sQ(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&oQ(t,r),i?J.default.nextTick(rQ,t,r,s,n):rQ(t,r,s,n)}}function rQ(t,e,r,i){r||qAe(t,e),e.pendingcb--,i(),K2(t,e)}function qAe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function oQ(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)n[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;n.allBuffers=a,bI(t,e,!0,e.length,n,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new iQ(e),e.bufferedRequestCount=0}else{for(;r;){var f=r.chunk,c=r.encoding,u=r.callback,l=e.objectMode?1:f.length;if(bI(t,e,!1,l,f,c,u),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}zn.prototype._write=function(t,e,r){r(new xAe("_write()"))};zn.prototype._writev=null;zn.prototype.end=function(t,e,r){var i=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||UAe(this,i,r),this};Object.defineProperty(zn.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function sQ(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function zAe(t,e){t._final(function(r){e.pendingcb--,r&&b1(t,r),e.prefinished=!0,t.emit("prefinish"),K2(t,e)})}function FAe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,J.default.nextTick(zAe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function K2(t,e){var r=sQ(e);if(r&&(FAe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}function UAe(t,e,r){e.ending=!0,K2(t,e),r&&(e.finished?J.default.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function $Ae(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}Object.defineProperty(zn.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});zn.prototype.destroy=vI.destroy;zn.prototype._undestroy=vI.undestroy;zn.prototype._destroy=function(t,e){e(t)}});var py=de((fpt,uQ)=>{"use strict";F();var VAe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};uQ.exports=zc;var fQ=SI(),EI=wI();qt()(zc,fQ);for(_I=VAe(EI.prototype),tE=0;tE<_I.length;tE++)rE=_I[tE],zc.prototype[rE]||(zc.prototype[rE]=EI.prototype[rE]);var _I,rE,tE;function zc(t){if(!(this instanceof zc))return new zc(t);fQ.call(this,t),EI.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",KAe)))}Object.defineProperty(zc.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(zc.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(zc.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function KAe(){this._writableState.ended||J.default.nextTick(HAe,this)}function HAe(t){t.end()}Object.defineProperty(zc.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var iE=de((cpt,dQ)=>{"use strict";F();var cQ=hy().codes.ERR_STREAM_PREMATURE_CLOSE;function WAe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}function YAe(){}function ZAe(t){return t.setHeader&&typeof t.abort=="function"}function lQ(t,e,r){if(typeof e=="function")return lQ(t,null,e);e||(e={}),r=WAe(r||YAe);var i=e.readable||e.readable!==!1&&t.readable,n=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){n=!1,o=!0,i||r.call(t)},f=t._readableState&&t._readableState.endEmitted,c=function(){i=!1,f=!0,n||r.call(t)},u=function(g){r.call(t,g)},l=function(){var g;if(i&&!f)return(!t._readableState||!t._readableState.ended)&&(g=new cQ),r.call(t,g);if(n&&!o)return(!t._writableState||!t._writableState.ended)&&(g=new cQ),r.call(t,g)},y=function(){t.req.on("finish",a)};return ZAe(t)?(t.on("complete",a),t.on("abort",l),t.req?y():t.on("request",y)):n&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",c),t.on("finish",a),e.error!==!1&&t.on("error",u),t.on("close",l),function(){t.removeListener("complete",a),t.removeListener("abort",l),t.removeListener("request",y),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",c),t.removeListener("error",u),t.removeListener("close",l)}}dQ.exports=lQ});var pQ=de((dpt,hQ)=>{"use strict";F();var nE;function Fh(t,e,r){return e=GAe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GAe(t){var e=JAe(t,"string");return typeof e=="symbol"?e:String(e)}function JAe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XAe=iE(),Uh=Symbol("lastResolve"),yy=Symbol("lastReject"),W2=Symbol("error"),oE=Symbol("ended"),my=Symbol("lastPromise"),xI=Symbol("handlePromise"),gy=Symbol("stream");function $h(t,e){return{value:t,done:e}}function QAe(t){var e=t[Uh];if(e!==null){var r=t[gy].read();r!==null&&(t[my]=null,t[Uh]=null,t[yy]=null,e($h(r,!1)))}}function eMe(t){J.default.nextTick(QAe,t)}function tMe(t,e){return function(r,i){t.then(function(){if(e[oE]){r($h(void 0,!0));return}e[xI](r,i)},i)}}var rMe=Object.getPrototypeOf(function(){}),iMe=Object.setPrototypeOf((nE={get stream(){return this[gy]},next:function(){var e=this,r=this[W2];if(r!==null)return Promise.reject(r);if(this[oE])return Promise.resolve($h(void 0,!0));if(this[gy].destroyed)return new Promise(function(o,a){J.default.nextTick(function(){e[W2]?a(e[W2]):o($h(void 0,!0))})});var i=this[my],n;if(i)n=new Promise(tMe(i,this));else{var s=this[gy].read();if(s!==null)return Promise.resolve($h(s,!1));n=new Promise(this[xI])}return this[my]=n,n}},Fh(nE,Symbol.asyncIterator,function(){return this}),Fh(nE,"return",function(){var e=this;return new Promise(function(r,i){e[gy].destroy(null,function(n){if(n){i(n);return}r($h(void 0,!0))})})}),nE),rMe),nMe=function(e){var r,i=Object.create(iMe,(r={},Fh(r,gy,{value:e,writable:!0}),Fh(r,Uh,{value:null,writable:!0}),Fh(r,yy,{value:null,writable:!0}),Fh(r,W2,{value:null,writable:!0}),Fh(r,oE,{value:e._readableState.endEmitted,writable:!0}),Fh(r,xI,{value:function(s,o){var a=i[gy].read();a?(i[my]=null,i[Uh]=null,i[yy]=null,s($h(a,!1))):(i[Uh]=s,i[yy]=o)},writable:!0}),r));return i[my]=null,XAe(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=i[yy];s!==null&&(i[my]=null,i[Uh]=null,i[yy]=null,s(n)),i[W2]=n;return}var o=i[Uh];o!==null&&(i[my]=null,i[Uh]=null,i[yy]=null,o($h(void 0,!0))),i[oE]=!0}),e.on("readable",eMe.bind(null,i)),i};hQ.exports=nMe});var mQ=de((ppt,yQ)=>{F();yQ.exports=function(){throw new Error("Readable.from is not available in the browser")}});var SI=de((gpt,MQ)=>{"use strict";F();MQ.exports=hi;var v1;hi.ReadableState=wQ;var mpt=Pf().EventEmitter,vQ=function(e,r){return e.listeners(r).length},Z2=hI(),sE=ki().Buffer,oMe=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function sMe(t){return sE.from(t)}function aMe(t){return sE.isBuffer(t)||t instanceof oMe}var AI=oy(),Mr;AI&&AI.debuglog?Mr=AI.debuglog("stream"):Mr=function(){};var fMe=ZX(),RI=mI(),uMe=gI(),cMe=uMe.getHighWaterMark,aE=hy().codes,lMe=aE.ERR_INVALID_ARG_TYPE,dMe=aE.ERR_STREAM_PUSH_AFTER_EOF,hMe=aE.ERR_METHOD_NOT_IMPLEMENTED,pMe=aE.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,w1,MI,kI;qt()(hi,Z2);var Y2=RI.errorOrDestroy,TI=["error","close","destroy","pause","resume"];function yMe(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function wQ(t,e,r){v1=v1||py(),t=t||{},typeof r!="boolean"&&(r=e instanceof v1),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=cMe(this,t,"readableHighWaterMark",r),this.buffer=new fMe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(w1||(w1=Xl().StringDecoder),this.decoder=new w1(t.encoding),this.encoding=t.encoding)}function hi(t){if(v1=v1||py(),!(this instanceof hi))return new hi(t);var e=this instanceof v1;this._readableState=new wQ(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Z2.call(this)}Object.defineProperty(hi.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});hi.prototype.destroy=RI.destroy;hi.prototype._undestroy=RI.undestroy;hi.prototype._destroy=function(t,e){e(t)};hi.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=sE.from(t,e),e=""),i=!0),_Q(this,t,e,!1,i)};hi.prototype.unshift=function(t){return _Q(this,t,null,!0,!1)};function _Q(t,e,r,i,n){Mr("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,bMe(t,s);else{var o;if(n||(o=mMe(s,e)),o)Y2(t,o);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==sE.prototype&&(e=sMe(e)),i)s.endEmitted?Y2(t,new pMe):PI(t,s,e,!0);else if(s.ended)Y2(t,new dMe);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?PI(t,s,e,!1):II(t,s)):PI(t,s,e,!1)}else i||(s.reading=!1,II(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function PI(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&fE(t)),II(t,e)}function mMe(t,e){var r;return!aMe(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new lMe("chunk",["string","Buffer","Uint8Array"],e)),r}hi.prototype.isPaused=function(){return this._readableState.flowing===!1};hi.prototype.setEncoding=function(t){w1||(w1=Xl().StringDecoder);var e=new w1(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var gQ=1073741824;function gMe(t){return t>=gQ?t=gQ:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function bQ(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=gMe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}hi.prototype.read=function(t){Mr("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Mr("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?DI(this):fE(this),null;if(t=bQ(t,e),t===0&&e.ended)return e.length===0&&DI(this),null;var i=e.needReadable;Mr("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,Mr("length less than watermark",i)),e.ended||e.reading?(i=!1,Mr("reading or ended",i)):i&&(Mr("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=bQ(r,e)));var n;return t>0?n=xQ(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&DI(this)),n!==null&&this.emit("data",n),n};function bMe(t,e){if(Mr("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?fE(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,EQ(t)))}}function fE(t){var e=t._readableState;Mr("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Mr("emitReadable",e.flowing),e.emittedReadable=!0,J.default.nextTick(EQ,t))}function EQ(t){var e=t._readableState;Mr("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,BI(t)}function II(t,e){e.readingMore||(e.readingMore=!0,J.default.nextTick(vMe,t,e))}function vMe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Mr("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}hi.prototype._read=function(t){Y2(this,new hMe("_read()"))};hi.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,Mr("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==J.default.stdout&&t!==J.default.stderr,s=n?a:E;i.endEmitted?J.default.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(x,T){Mr("onunpipe"),x===r&&T&&T.hasUnpiped===!1&&(T.hasUnpiped=!0,u())}function a(){Mr("onend"),t.end()}var f=wMe(r);t.on("drain",f);var c=!1;function u(){Mr("cleanup"),t.removeListener("close",m),t.removeListener("finish",g),t.removeListener("drain",f),t.removeListener("error",y),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",E),r.removeListener("data",l),c=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&f()}r.on("data",l);function l(x){Mr("ondata");var T=t.write(x);Mr("dest.write",T),T===!1&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&AQ(i.pipes,t)!==-1)&&!c&&(Mr("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function y(x){Mr("onerror",x),E(),t.removeListener("error",y),vQ(t,"error")===0&&Y2(t,x)}yMe(t,"error",y);function m(){t.removeListener("finish",g),E()}t.once("close",m);function g(){Mr("onfinish"),t.removeListener("close",m),E()}t.once("finish",g);function E(){Mr("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(Mr("pipe resume"),r.resume()),t};function wMe(t){return function(){var r=t._readableState;Mr("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&vQ(t,"data")&&(r.flowing=!0,BI(t))}}hi.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=AQ(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};hi.prototype.on=function(t,e){var r=Z2.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,Mr("on readable",i.length,i.reading),i.length?fE(this):i.reading||J.default.nextTick(_Me,this)),r};hi.prototype.addListener=hi.prototype.on;hi.prototype.removeListener=function(t,e){var r=Z2.prototype.removeListener.call(this,t,e);return t==="readable"&&J.default.nextTick(SQ,this),r};hi.prototype.removeAllListeners=function(t){var e=Z2.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&J.default.nextTick(SQ,this),e};function SQ(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function _Me(t){Mr("readable nexttick read 0"),t.read(0)}hi.prototype.resume=function(){var t=this._readableState;return t.flowing||(Mr("resume"),t.flowing=!t.readableListening,EMe(this,t)),t.paused=!1,this};function EMe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,J.default.nextTick(SMe,t,e))}function SMe(t,e){Mr("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),BI(t),e.flowing&&!e.reading&&t.read(0)}hi.prototype.pause=function(){return Mr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Mr("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function BI(t){var e=t._readableState;for(Mr("flow",e.flowing);e.flowing&&t.read()!==null;);}hi.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(Mr("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(Mr("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(a){return function(){return t[a].apply(t,arguments)}}(n));for(var s=0;s<TI.length;s++)t.on(TI[s],this.emit.bind(this,TI[s]));return this._read=function(o){Mr("wrapped _read",o),i&&(i=!1,t.resume())},this};typeof Symbol=="function"&&(hi.prototype[Symbol.asyncIterator]=function(){return MI===void 0&&(MI=pQ()),MI(this)});Object.defineProperty(hi.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(hi.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(hi.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});hi._fromList=xQ;Object.defineProperty(hi.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function xQ(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function DI(t){var e=t._readableState;Mr("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,J.default.nextTick(xMe,e,t))}function xMe(t,e){if(Mr("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(hi.from=function(t,e){return kI===void 0&&(kI=mQ()),kI(hi,t,e)});function AQ(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var CI=de((vpt,TQ)=>{"use strict";F();TQ.exports=sd;var uE=hy().codes,AMe=uE.ERR_METHOD_NOT_IMPLEMENTED,MMe=uE.ERR_MULTIPLE_CALLBACK,kMe=uE.ERR_TRANSFORM_ALREADY_TRANSFORMING,TMe=uE.ERR_TRANSFORM_WITH_LENGTH_0,cE=py();qt()(sd,cE);function PMe(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new MMe);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function sd(t){if(!(this instanceof sd))return new sd(t);cE.call(this,t),this._transformState={afterTransform:PMe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",DMe)}function DMe(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){kQ(t,e,r)}):kQ(this,null,null)}sd.prototype.push=function(t,e){return this._transformState.needTransform=!1,cE.prototype.push.call(this,t,e)};sd.prototype._transform=function(t,e,r){r(new AMe("_transform()"))};sd.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};sd.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};sd.prototype._destroy=function(t,e){cE.prototype._destroy.call(this,t,function(r){e(r)})};function kQ(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new TMe;if(t._transformState.transforming)throw new kMe;return t.push(null)}});var IQ=de((_pt,DQ)=>{"use strict";F();DQ.exports=G2;var PQ=CI();qt()(G2,PQ);function G2(t){if(!(this instanceof G2))return new G2(t);PQ.call(this,t)}G2.prototype._transform=function(t,e,r){r(null,t)}});var jQ=de((Spt,OQ)=>{"use strict";F();var OI;function IMe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var CQ=hy().codes,RMe=CQ.ERR_MISSING_ARGS,BMe=CQ.ERR_STREAM_DESTROYED;function RQ(t){if(t)throw t}function CMe(t){return t.setHeader&&typeof t.abort=="function"}function OMe(t,e,r,i){i=IMe(i);var n=!1;t.on("close",function(){n=!0}),OI===void 0&&(OI=iE()),OI(t,{readable:e,writable:r},function(o){if(o)return i(o);n=!0,i()});var s=!1;return function(o){if(!n&&!s){if(s=!0,CMe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();i(o||new BMe("pipe"))}}}function BQ(t){t()}function jMe(t,e){return t.pipe(e)}function LMe(t){return!t.length||typeof t[t.length-1]!="function"?RQ:t.pop()}function NMe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=LMe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new RMe("streams");var n,s=e.map(function(o,a){var f=a<e.length-1,c=a>0;return OMe(o,f,c,function(u){n||(n=u),u&&s.forEach(BQ),!f&&(s.forEach(BQ),i(n))})});return e.reduce(jMe)}OQ.exports=NMe});var NQ=de((Apt,LQ)=>{F();LQ.exports=Vf;var jI=Pf().EventEmitter,qMe=qt();qMe(Vf,jI);Vf.Readable=SI();Vf.Writable=wI();Vf.Duplex=py();Vf.Transform=CI();Vf.PassThrough=IQ();Vf.finished=iE();Vf.pipeline=jQ();Vf.Stream=Vf;function Vf(){jI.call(this)}Vf.prototype.pipe=function(t,e){var r=this;function i(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",i);function n(){r.readable&&r.resume&&r.resume()}t.on("drain",n),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));var s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function f(u){if(c(),jI.listenerCount(this,"error")===0)throw u}r.on("error",f),t.on("error",f);function c(){r.removeListener("data",i),t.removeListener("drain",n),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",f),t.removeListener("error",f),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t}});var ad=de((kpt,FQ)=>{F();var qQ=Vr().Buffer,zQ=NQ().Transform,zMe=Xl().StringDecoder,FMe=qt();function Ru(t){zQ.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}FMe(Ru,zQ);Ru.prototype.update=function(t,e,r){typeof t=="string"&&(t=qQ.from(t,e));var i=this._update(t);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)};Ru.prototype.setAutoPadding=function(){};Ru.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};Ru.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};Ru.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};Ru.prototype._transform=function(t,e,r){var i;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(n){i=n}finally{r(i)}};Ru.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};Ru.prototype._finalOrDigest=function(t){var e=this.__final()||qQ.alloc(0);return t&&(e=this._toString(e,t,!0)),e};Ru.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new zMe(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var i=this._decoder.write(t);return r&&(i+=this._decoder.end()),i};FQ.exports=Ru});var _1=de((Ppt,$Q)=>{"use strict";F();var UMe=qt(),$Me=V5(),VMe=H5(),KMe=G5(),UQ=ad();function lE(t){UQ.call(this,"digest"),this._hash=t}UMe(lE,UQ);lE.prototype._update=function(t){this._hash.update(t)};lE.prototype._final=function(){return this._hash.digest()};$Q.exports=function(e){return e=e.toLowerCase(),e==="md5"?new $Me:e==="rmd160"||e==="ripemd160"?new VMe:new lE(KMe(e))}});var HQ=de((Ipt,KQ)=>{"use strict";F();var HMe=qt(),by=Vr().Buffer,VQ=ad(),WMe=by.alloc(128),E1=64;function dE(t,e){VQ.call(this,"digest"),typeof e=="string"&&(e=by.from(e)),this._alg=t,this._key=e,e.length>E1?e=t(e):e.length<E1&&(e=by.concat([e,WMe],E1));for(var r=this._ipad=by.allocUnsafe(E1),i=this._opad=by.allocUnsafe(E1),n=0;n<E1;n++)r[n]=e[n]^54,i[n]=e[n]^92;this._hash=[r]}HMe(dE,VQ);dE.prototype._update=function(t){this._hash.push(t)};dE.prototype._final=function(){var t=this._alg(by.concat(this._hash));return this._alg(by.concat([this._opad,t]))};KQ.exports=dE});var LI=de((Bpt,WQ)=>{F();var YMe=V5();WQ.exports=function(t){return new YMe().update(t).digest()}});var zI=de((Opt,ZQ)=>{"use strict";F();var ZMe=qt(),GMe=HQ(),YQ=ad(),J2=Vr().Buffer,JMe=LI(),NI=H5(),qI=G5(),XMe=J2.alloc(128);function X2(t,e){YQ.call(this,"digest"),typeof e=="string"&&(e=J2.from(e));var r=t==="sha512"||t==="sha384"?128:64;if(this._alg=t,this._key=e,e.length>r){var i=t==="rmd160"?new NI:qI(t);e=i.update(e).digest()}else e.length<r&&(e=J2.concat([e,XMe],r));for(var n=this._ipad=J2.allocUnsafe(r),s=this._opad=J2.allocUnsafe(r),o=0;o<r;o++)n[o]=e[o]^54,s[o]=e[o]^92;this._hash=t==="rmd160"?new NI:qI(t),this._hash.update(n)}ZMe(X2,YQ);X2.prototype._update=function(t){this._hash.update(t)};X2.prototype._final=function(){var t=this._hash.digest(),e=this._alg==="rmd160"?new NI:qI(this._alg);return e.update(this._opad).update(t).digest()};ZQ.exports=function(e,r){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new X2("rmd160",r):e==="md5"?new GMe(JMe,r):new X2(e,r)}});var FI=de((Lpt,QMe)=>{QMe.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}});var JQ=de((Npt,GQ)=>{F();GQ.exports=FI()});var UI=de((zpt,XQ)=>{F();var eke=Math.pow(2,30)-1;XQ.exports=function(t,e){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>eke||e!==e)throw new TypeError("Bad key length")}});var $I=de((Upt,eee)=>{F();var hE;globalThis.process&&globalThis.process.browser?hE="utf-8":globalThis.process&&globalThis.process.version?(QQ=parseInt(J.default.version.split(".")[0].slice(1),10),hE=QQ>=6?"utf-8":"binary"):hE="utf-8";var QQ;eee.exports=hE});var KI=de((Vpt,tee)=>{F();var VI=Vr().Buffer;tee.exports=function(t,e,r){if(VI.isBuffer(t))return t;if(typeof t=="string")return VI.from(t,e);if(ArrayBuffer.isView(t))return VI.from(t.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}});var HI=de((Hpt,oee)=>{F();var tke=LI(),rke=H5(),ike=G5(),vy=Vr().Buffer,nke=UI(),ree=$I(),iee=KI(),oke=vy.alloc(128),pE={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function nee(t,e,r){var i=ske(t),n=t==="sha512"||t==="sha384"?128:64;e.length>n?e=i(e):e.length<n&&(e=vy.concat([e,oke],n));for(var s=vy.allocUnsafe(n+pE[t]),o=vy.allocUnsafe(n+pE[t]),a=0;a<n;a++)s[a]=e[a]^54,o[a]=e[a]^92;var f=vy.allocUnsafe(n+r+4);s.copy(f,0,0,n),this.ipad1=f,this.ipad2=s,this.opad=o,this.alg=t,this.blocksize=n,this.hash=i,this.size=pE[t]}nee.prototype.run=function(t,e){t.copy(e,this.blocksize);var r=this.hash(e);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function ske(t){function e(i){return ike(t).update(i).digest()}function r(i){return new rke().update(i).digest()}return t==="rmd160"||t==="ripemd160"?r:t==="md5"?tke:e}function ake(t,e,r,i,n){nke(r,i),t=iee(t,ree,"Password"),e=iee(e,ree,"Salt"),n=n||"sha1";var s=new nee(n,t,e.length),o=vy.allocUnsafe(i),a=vy.allocUnsafe(e.length+4);e.copy(a,0,0,e.length);for(var f=0,c=pE[n],u=Math.ceil(i/c),l=1;l<=u;l++){a.writeUInt32BE(l,e.length);for(var y=s.run(a,s.ipad1),m=y,g=1;g<r;g++){m=s.run(m,s.ipad2);for(var E=0;E<c;E++)y[E]^=m[E]}y.copy(o,f),f+=c}return o}oee.exports=ake});var dee=de((Ypt,lee)=>{F();var uee=Vr().Buffer,fke=UI(),see=$I(),aee=HI(),fee=KI(),yE,Q2=globalThis.crypto&&globalThis.crypto.subtle,uke={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},WI=[];function cke(t){if(globalThis.process&&!globalThis.process.browser||!Q2||!Q2.importKey||!Q2.deriveBits)return Promise.resolve(!1);if(WI[t]!==void 0)return WI[t];yE=yE||uee.alloc(8);var e=cee(yE,yE,10,128,t).then(function(){return!0}).catch(function(){return!1});return WI[t]=e,e}var wy;function YI(){return wy||(globalThis.process&&globalThis.process.nextTick?wy=globalThis.process.nextTick:globalThis.queueMicrotask?wy=globalThis.queueMicrotask:globalThis.setImmediate?wy=globalThis.setImmediate:wy=globalThis.setTimeout,wy)}function cee(t,e,r,i,n){return Q2.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(s){return Q2.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:n}},s,i<<3)}).then(function(s){return uee.from(s)})}function lke(t,e){t.then(function(r){YI()(function(){e(null,r)})},function(r){YI()(function(){e(r)})})}lee.exports=function(t,e,r,i,n,s){typeof n=="function"&&(s=n,n=void 0),n=n||"sha1";var o=uke[n.toLowerCase()];if(!o||typeof globalThis.Promise!="function"){YI()(function(){var a;try{a=aee(t,e,r,i,n)}catch(f){return s(f)}s(null,a)});return}if(fke(r,i),t=fee(t,see,"Password"),e=fee(e,see,"Salt"),typeof s!="function")throw new Error("No callback provided to pbkdf2");lke(cke(o).then(function(a){return a?cee(t,e,r,i,o):aee(t,e,r,i,n)}),s)}});var GI=de(ZI=>{F();ZI.pbkdf2=dee();ZI.pbkdf2Sync=HI()});var JI=de(Kf=>{"use strict";F();Kf.readUInt32BE=function(e,r){var i=e[0+r]<<24|e[1+r]<<16|e[2+r]<<8|e[3+r];return i>>>0};Kf.writeUInt32BE=function(e,r,i){e[0+i]=r>>>24,e[1+i]=r>>>16&255,e[2+i]=r>>>8&255,e[3+i]=r&255};Kf.ip=function(e,r,i,n){for(var s=0,o=0,a=6;a>=0;a-=2){for(var f=0;f<=24;f+=8)s<<=1,s|=r>>>f+a&1;for(var f=0;f<=24;f+=8)s<<=1,s|=e>>>f+a&1}for(var a=6;a>=0;a-=2){for(var f=1;f<=25;f+=8)o<<=1,o|=r>>>f+a&1;for(var f=1;f<=25;f+=8)o<<=1,o|=e>>>f+a&1}i[n+0]=s>>>0,i[n+1]=o>>>0};Kf.rip=function(e,r,i,n){for(var s=0,o=0,a=0;a<4;a++)for(var f=24;f>=0;f-=8)s<<=1,s|=r>>>f+a&1,s<<=1,s|=e>>>f+a&1;for(var a=4;a<8;a++)for(var f=24;f>=0;f-=8)o<<=1,o|=r>>>f+a&1,o<<=1,o|=e>>>f+a&1;i[n+0]=s>>>0,i[n+1]=o>>>0};Kf.pc1=function(e,r,i,n){for(var s=0,o=0,a=7;a>=5;a--){for(var f=0;f<=24;f+=8)s<<=1,s|=r>>f+a&1;for(var f=0;f<=24;f+=8)s<<=1,s|=e>>f+a&1}for(var f=0;f<=24;f+=8)s<<=1,s|=r>>f+a&1;for(var a=1;a<=3;a++){for(var f=0;f<=24;f+=8)o<<=1,o|=r>>f+a&1;for(var f=0;f<=24;f+=8)o<<=1,o|=e>>f+a&1}for(var f=0;f<=24;f+=8)o<<=1,o|=e>>f+a&1;i[n+0]=s>>>0,i[n+1]=o>>>0};Kf.r28shl=function(e,r){return e<<r&268435455|e>>>28-r};var mE=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];Kf.pc2=function(e,r,i,n){for(var s=0,o=0,a=mE.length>>>1,f=0;f<a;f++)s<<=1,s|=e>>>mE[f]&1;for(var f=a;f<mE.length;f++)o<<=1,o|=r>>>mE[f]&1;i[n+0]=s>>>0,i[n+1]=o>>>0};Kf.expand=function(e,r,i){var n=0,s=0;n=(e&1)<<5|e>>>27;for(var o=23;o>=15;o-=4)n<<=6,n|=e>>>o&63;for(var o=11;o>=3;o-=4)s|=e>>>o&63,s<<=6;s|=(e&31)<<1|e>>>31,r[i+0]=n>>>0,r[i+1]=s>>>0};var hee=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];Kf.substitute=function(e,r){for(var i=0,n=0;n<4;n++){var s=e>>>18-n*6&63,o=hee[n*64+s];i<<=4,i|=o}for(var n=0;n<4;n++){var s=r>>>18-n*6&63,o=hee[4*64+n*64+s];i<<=4,i|=o}return i>>>0};var pee=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];Kf.permute=function(e){for(var r=0,i=0;i<pee.length;i++)r<<=1,r|=e>>>pee[i]&1;return r>>>0};Kf.padSplit=function(e,r,i){for(var n=e.toString(2);n.length<r;)n="0"+n;for(var s=[],o=0;o<r;o+=i)s.push(n.slice(o,o+i));return s.join(" ")}});var hf=de((e0t,mee)=>{F();mee.exports=yee;function yee(t,e){if(!t)throw new Error(e||"Assertion failed")}yee.equal=function(e,r,i){if(e!=r)throw new Error(i||"Assertion failed: "+e+" != "+r)}});var gE=de((r0t,gee)=>{"use strict";F();var dke=hf();function Hf(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}gee.exports=Hf;Hf.prototype._init=function(){};Hf.prototype.update=function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)};Hf.prototype._buffer=function(e,r){for(var i=Math.min(this.buffer.length-this.bufferOff,e.length-r),n=0;n<i;n++)this.buffer[this.bufferOff+n]=e[r+n];return this.bufferOff+=i,i};Hf.prototype._flushBuffer=function(e,r){return this._update(this.buffer,0,e,r),this.bufferOff=0,this.blockSize};Hf.prototype._updateEncrypt=function(e){var r=0,i=0,n=(this.bufferOff+e.length)/this.blockSize|0,s=new Array(n*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(e,r),this.bufferOff===this.buffer.length&&(i+=this._flushBuffer(s,i)));for(var o=e.length-(e.length-r)%this.blockSize;r<o;r+=this.blockSize)this._update(e,r,s,i),i+=this.blockSize;for(;r<e.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=e[r];return s};Hf.prototype._updateDecrypt=function(e){for(var r=0,i=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,s=new Array(n*this.blockSize);n>0;n--)r+=this._buffer(e,r),i+=this._flushBuffer(s,i);return r+=this._buffer(e,r),s};Hf.prototype.final=function(e){var r;e&&(r=this.update(e));var i;return this.type==="encrypt"?i=this._finalEncrypt():i=this._finalDecrypt(),r?r.concat(i):i};Hf.prototype._pad=function(e,r){if(r===0)return!1;for(;r<e.length;)e[r++]=0;return!0};Hf.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e};Hf.prototype._unpad=function(e){return e};Hf.prototype._finalDecrypt=function(){dke.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}});var XI=de((n0t,wee)=>{"use strict";F();var bee=hf(),hke=qt(),Ro=JI(),vee=gE();function pke(){this.tmp=new Array(2),this.keys=null}function Fc(t){vee.call(this,t);var e=new pke;this._desState=e,this.deriveKeys(e,t.key)}hke(Fc,vee);wee.exports=Fc;Fc.create=function(e){return new Fc(e)};var yke=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];Fc.prototype.deriveKeys=function(e,r){e.keys=new Array(16*2),bee.equal(r.length,this.blockSize,"Invalid key length");var i=Ro.readUInt32BE(r,0),n=Ro.readUInt32BE(r,4);Ro.pc1(i,n,e.tmp,0),i=e.tmp[0],n=e.tmp[1];for(var s=0;s<e.keys.length;s+=2){var o=yke[s>>>1];i=Ro.r28shl(i,o),n=Ro.r28shl(n,o),Ro.pc2(i,n,e.keys,s)}};Fc.prototype._update=function(e,r,i,n){var s=this._desState,o=Ro.readUInt32BE(e,r),a=Ro.readUInt32BE(e,r+4);Ro.ip(o,a,s.tmp,0),o=s.tmp[0],a=s.tmp[1],this.type==="encrypt"?this._encrypt(s,o,a,s.tmp,0):this._decrypt(s,o,a,s.tmp,0),o=s.tmp[0],a=s.tmp[1],Ro.writeUInt32BE(i,o,n),Ro.writeUInt32BE(i,a,n+4)};Fc.prototype._pad=function(e,r){for(var i=e.length-r,n=r;n<e.length;n++)e[n]=i;return!0};Fc.prototype._unpad=function(e){for(var r=e[e.length-1],i=e.length-r;i<e.length;i++)bee.equal(e[i],r);return e.slice(0,e.length-r)};Fc.prototype._encrypt=function(e,r,i,n,s){for(var o=r,a=i,f=0;f<e.keys.length;f+=2){var c=e.keys[f],u=e.keys[f+1];Ro.expand(a,e.tmp,0),c^=e.tmp[0],u^=e.tmp[1];var l=Ro.substitute(c,u),y=Ro.permute(l),m=a;a=(o^y)>>>0,o=m}Ro.rip(a,o,n,s)};Fc.prototype._decrypt=function(e,r,i,n,s){for(var o=i,a=r,f=e.keys.length-2;f>=0;f-=2){var c=e.keys[f],u=e.keys[f+1];Ro.expand(o,e.tmp,0),c^=e.tmp[0],u^=e.tmp[1];var l=Ro.substitute(c,u),y=Ro.permute(l),m=o;o=(a^y)>>>0,a=m}Ro.rip(o,a,n,s)}});var Eee=de(_ee=>{"use strict";F();var mke=hf(),gke=qt(),bE={};function bke(t){mke.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}function vke(t){function e(s){t.call(this,s),this._cbcInit()}gke(e,t);for(var r=Object.keys(bE),i=0;i<r.length;i++){var n=r[i];e.prototype[n]=bE[n]}return e.create=function(o){return new e(o)},e}_ee.instantiate=vke;bE._cbcInit=function(){var e=new bke(this.options.iv);this._cbcState=e};bE._update=function(e,r,i,n){var s=this._cbcState,o=this.constructor.super_.prototype,a=s.iv;if(this.type==="encrypt"){for(var f=0;f<this.blockSize;f++)a[f]^=e[r+f];o._update.call(this,a,0,i,n);for(var f=0;f<this.blockSize;f++)a[f]=i[n+f]}else{o._update.call(this,e,r,i,n);for(var f=0;f<this.blockSize;f++)i[n+f]^=a[f];for(var f=0;f<this.blockSize;f++)a[f]=e[r+f]}}});var Aee=de((f0t,xee)=>{"use strict";F();var wke=hf(),_ke=qt(),See=gE(),Vh=XI();function Eke(t,e){wke.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),i=e.slice(8,16),n=e.slice(16,24);t==="encrypt"?this.ciphers=[Vh.create({type:"encrypt",key:r}),Vh.create({type:"decrypt",key:i}),Vh.create({type:"encrypt",key:n})]:this.ciphers=[Vh.create({type:"decrypt",key:n}),Vh.create({type:"encrypt",key:i}),Vh.create({type:"decrypt",key:r})]}function _y(t){See.call(this,t);var e=new Eke(this.type,this.options.key);this._edeState=e}_ke(_y,See);xee.exports=_y;_y.create=function(e){return new _y(e)};_y.prototype._update=function(e,r,i,n){var s=this._edeState;s.ciphers[0]._update(e,r,i,n),s.ciphers[1]._update(i,n,i,n),s.ciphers[2]._update(i,n,i,n)};_y.prototype._pad=Vh.prototype._pad;_y.prototype._unpad=Vh.prototype._unpad});var Mee=de(S1=>{"use strict";F();S1.utils=JI();S1.Cipher=gE();S1.DES=XI();S1.CBC=Eee();S1.EDE=Aee()});var Pee=de((d0t,Tee)=>{F();var kee=ad(),fd=Mee(),Ske=qt(),Ey=Vr().Buffer,e3={"des-ede3-cbc":fd.CBC.instantiate(fd.EDE),"des-ede3":fd.EDE,"des-ede-cbc":fd.CBC.instantiate(fd.EDE),"des-ede":fd.EDE,"des-cbc":fd.CBC.instantiate(fd.DES),"des-ecb":fd.DES};e3.des=e3["des-cbc"];e3.des3=e3["des-ede3-cbc"];Tee.exports=vE;Ske(vE,kee);function vE(t){kee.call(this);var e=t.mode.toLowerCase(),r=e3[e],i;t.decrypt?i="decrypt":i="encrypt";var n=t.key;Ey.isBuffer(n)||(n=Ey.from(n)),(e==="des-ede"||e==="des-ede-cbc")&&(n=Ey.concat([n,n.slice(0,8)]));var s=t.iv;Ey.isBuffer(s)||(s=Ey.from(s)),this._des=r.create({key:n,iv:s,type:i})}vE.prototype._update=function(t){return Ey.from(this._des.update(t))};vE.prototype._final=function(){return Ey.from(this._des.final())}});var Dee=de(QI=>{F();QI.encrypt=function(t,e){return t._cipher.encryptBlock(e)};QI.decrypt=function(t,e){return t._cipher.decryptBlock(e)}});var x1=de((m0t,Iee)=>{F();Iee.exports=function(e,r){for(var i=Math.min(e.length,r.length),n=new te.Buffer(i),s=0;s<i;++s)n[s]=e[s]^r[s];return n}});var Bee=de(eR=>{F();var Ree=x1();eR.encrypt=function(t,e){var r=Ree(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev};eR.decrypt=function(t,e){var r=t._prev;t._prev=e;var i=t._cipher.decryptBlock(e);return Ree(i,r)}});var jee=de(Oee=>{F();var t3=Vr().Buffer,xke=x1();function Cee(t,e,r){var i=e.length,n=xke(e,t._cache);return t._cache=t._cache.slice(i),t._prev=t3.concat([t._prev,r?e:n]),n}Oee.encrypt=function(t,e,r){for(var i=t3.allocUnsafe(0),n;e.length;)if(t._cache.length===0&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=t3.allocUnsafe(0)),t._cache.length<=e.length)n=t._cache.length,i=t3.concat([i,Cee(t,e.slice(0,n),r)]),e=e.slice(n);else{i=t3.concat([i,Cee(t,e,r)]);break}return i}});var Nee=de(Lee=>{F();var tR=Vr().Buffer;function Ake(t,e,r){var i=t._cipher.encryptBlock(t._prev),n=i[0]^e;return t._prev=tR.concat([t._prev.slice(1),tR.from([r?e:n])]),n}Lee.encrypt=function(t,e,r){for(var i=e.length,n=tR.allocUnsafe(i),s=-1;++s<i;)n[s]=Ake(t,e[s],r);return n}});var zee=de(qee=>{F();var wE=Vr().Buffer;function Mke(t,e,r){for(var i,n=-1,s=8,o=0,a,f;++n<s;)i=t._cipher.encryptBlock(t._prev),a=e&1<<7-n?128:0,f=i[0]^a,o+=(f&128)>>n%8,t._prev=kke(t._prev,r?a:f);return o}function kke(t,e){var r=t.length,i=-1,n=wE.allocUnsafe(t.length);for(t=wE.concat([t,wE.from([e])]);++i<r;)n[i]=t[i]<<1|t[i+1]>>7;return n}qee.encrypt=function(t,e,r){for(var i=e.length,n=wE.allocUnsafe(i),s=-1;++s<i;)n[s]=Mke(t,e[s],r);return n}});var Uee=de(Fee=>{F();var Tke=x1();function Pke(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}Fee.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=te.Buffer.concat([t._cache,Pke(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),Tke(e,r)}});var rR=de((T0t,$ee)=>{F();function Dke(t){for(var e=t.length,r;e--;)if(r=t.readUInt8(e),r===255)t.writeUInt8(0,e);else{r++,t.writeUInt8(r,e);break}}$ee.exports=Dke});var nR=de(Kee=>{F();var Ike=x1(),Vee=Vr().Buffer,Rke=rR();function Bke(t){var e=t._cipher.encryptBlockRaw(t._prev);return Rke(t._prev),e}var iR=16;Kee.encrypt=function(t,e){var r=Math.ceil(e.length/iR),i=t._cache.length;t._cache=Vee.concat([t._cache,Vee.allocUnsafe(r*iR)]);for(var n=0;n<r;n++){var s=Bke(t),o=i+n*iR;t._cache.writeUInt32BE(s[0],o+0),t._cache.writeUInt32BE(s[1],o+4),t._cache.writeUInt32BE(s[2],o+8),t._cache.writeUInt32BE(s[3],o+12)}var a=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),Ike(e,a)}});var oR=de((R0t,Cke)=>{Cke.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}});var EE=de((B0t,Hee)=>{F();var Oke={ECB:Dee(),CBC:Bee(),CFB:jee(),CFB8:Nee(),CFB1:zee(),OFB:Uee(),CTR:nR(),GCM:nR()},_E=oR();for(sR in _E)_E[sR].module=Oke[_E[sR].mode];var sR;Hee.exports=_E});var r3=de((O0t,Yee)=>{F();var SE=Vr().Buffer;function fR(t){SE.isBuffer(t)||(t=SE.from(t));for(var e=t.length/4|0,r=new Array(e),i=0;i<e;i++)r[i]=t.readUInt32BE(i*4);return r}function aR(t){for(var e=0;e<t.length;t++)t[e]=0}function Wee(t,e,r,i,n){for(var s=r[0],o=r[1],a=r[2],f=r[3],c=t[0]^e[0],u=t[1]^e[1],l=t[2]^e[2],y=t[3]^e[3],m,g,E,x,T=4,M=1;M<n;M++)m=s[c>>>24]^o[u>>>16&255]^a[l>>>8&255]^f[y&255]^e[T++],g=s[u>>>24]^o[l>>>16&255]^a[y>>>8&255]^f[c&255]^e[T++],E=s[l>>>24]^o[y>>>16&255]^a[c>>>8&255]^f[u&255]^e[T++],x=s[y>>>24]^o[c>>>16&255]^a[u>>>8&255]^f[l&255]^e[T++],c=m,u=g,l=E,y=x;return m=(i[c>>>24]<<24|i[u>>>16&255]<<16|i[l>>>8&255]<<8|i[y&255])^e[T++],g=(i[u>>>24]<<24|i[l>>>16&255]<<16|i[y>>>8&255]<<8|i[c&255])^e[T++],E=(i[l>>>24]<<24|i[y>>>16&255]<<16|i[c>>>8&255]<<8|i[u&255])^e[T++],x=(i[y>>>24]<<24|i[c>>>16&255]<<16|i[u>>>8&255]<<8|i[l&255])^e[T++],m=m>>>0,g=g>>>0,E=E>>>0,x=x>>>0,[m,g,E,x]}var jke=[0,1,2,4,8,16,32,64,128,27,54],vo=function(){for(var t=new Array(256),e=0;e<256;e++)e<128?t[e]=e<<1:t[e]=e<<1^283;for(var r=[],i=[],n=[[],[],[],[]],s=[[],[],[],[]],o=0,a=0,f=0;f<256;++f){var c=a^a<<1^a<<2^a<<3^a<<4;c=c>>>8^c&255^99,r[o]=c,i[c]=o;var u=t[o],l=t[u],y=t[l],m=t[c]*257^c*16843008;n[0][o]=m<<24|m>>>8,n[1][o]=m<<16|m>>>16,n[2][o]=m<<8|m>>>24,n[3][o]=m,m=y*16843009^l*65537^u*257^o*16843008,s[0][c]=m<<24|m>>>8,s[1][c]=m<<16|m>>>16,s[2][c]=m<<8|m>>>24,s[3][c]=m,o===0?o=a=1:(o=u^t[t[t[y^u]]],a^=t[t[a]])}return{SBOX:r,INV_SBOX:i,SUB_MIX:n,INV_SUB_MIX:s}}();function Wf(t){this._key=fR(t),this._reset()}Wf.blockSize=4*4;Wf.keySize=256/8;Wf.prototype.blockSize=Wf.blockSize;Wf.prototype.keySize=Wf.keySize;Wf.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,i=(r+1)*4,n=[],s=0;s<e;s++)n[s]=t[s];for(s=e;s<i;s++){var o=n[s-1];s%e===0?(o=o<<8|o>>>24,o=vo.SBOX[o>>>24]<<24|vo.SBOX[o>>>16&255]<<16|vo.SBOX[o>>>8&255]<<8|vo.SBOX[o&255],o^=jke[s/e|0]<<24):e>6&&s%e===4&&(o=vo.SBOX[o>>>24]<<24|vo.SBOX[o>>>16&255]<<16|vo.SBOX[o>>>8&255]<<8|vo.SBOX[o&255]),n[s]=n[s-e]^o}for(var a=[],f=0;f<i;f++){var c=i-f,u=n[c-(f%4?0:4)];f<4||c<=4?a[f]=u:a[f]=vo.INV_SUB_MIX[0][vo.SBOX[u>>>24]]^vo.INV_SUB_MIX[1][vo.SBOX[u>>>16&255]]^vo.INV_SUB_MIX[2][vo.SBOX[u>>>8&255]]^vo.INV_SUB_MIX[3][vo.SBOX[u&255]]}this._nRounds=r,this._keySchedule=n,this._invKeySchedule=a};Wf.prototype.encryptBlockRaw=function(t){return t=fR(t),Wee(t,this._keySchedule,vo.SUB_MIX,vo.SBOX,this._nRounds)};Wf.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=SE.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r};Wf.prototype.decryptBlock=function(t){t=fR(t);var e=t[1];t[1]=t[3],t[3]=e;var r=Wee(t,this._invKeySchedule,vo.INV_SUB_MIX,vo.INV_SBOX,this._nRounds),i=SE.allocUnsafe(16);return i.writeUInt32BE(r[0],0),i.writeUInt32BE(r[3],4),i.writeUInt32BE(r[2],8),i.writeUInt32BE(r[1],12),i};Wf.prototype.scrub=function(){aR(this._keySchedule),aR(this._invKeySchedule),aR(this._key)};Yee.exports.AES=Wf});var Jee=de((L0t,Gee)=>{F();var A1=Vr().Buffer,Lke=A1.alloc(16,0);function Nke(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function Zee(t){var e=A1.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function i3(t){this.h=t,this.state=A1.alloc(16,0),this.cache=A1.allocUnsafe(0)}i3.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()};i3.prototype._multiply=function(){for(var t=Nke(this.h),e=[0,0,0,0],r,i,n,s=-1;++s<128;){for(i=(this.state[~~(s/8)]&1<<7-s%8)!==0,i&&(e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3]),n=(t[3]&1)!==0,r=3;r>0;r--)t[r]=t[r]>>>1|(t[r-1]&1)<<31;t[0]=t[0]>>>1,n&&(t[0]=t[0]^225<<24)}this.state=Zee(e)};i3.prototype.update=function(t){this.cache=A1.concat([this.cache,t]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)};i3.prototype.final=function(t,e){return this.cache.length&&this.ghash(A1.concat([this.cache,Lke],16)),this.ghash(Zee([0,t,0,e])),this.state};Gee.exports=i3});var uR=de((q0t,ete)=>{F();var qke=r3(),Ra=Vr().Buffer,Xee=ad(),zke=qt(),Qee=Jee(),Fke=x1(),Uke=rR();function $ke(t,e){var r=0;t.length!==e.length&&r++;for(var i=Math.min(t.length,e.length),n=0;n<i;++n)r+=t[n]^e[n];return r}function Vke(t,e,r){if(e.length===12)return t._finID=Ra.concat([e,Ra.from([0,0,0,1])]),Ra.concat([e,Ra.from([0,0,0,2])]);var i=new Qee(r),n=e.length,s=n%16;i.update(e),s&&(s=16-s,i.update(Ra.alloc(s,0))),i.update(Ra.alloc(8,0));var o=n*8,a=Ra.alloc(8);a.writeUIntBE(o,0,8),i.update(a),t._finID=i.state;var f=Ra.from(t._finID);return Uke(f),f}function Sy(t,e,r,i){Xee.call(this);var n=Ra.alloc(4,0);this._cipher=new qke.AES(e);var s=this._cipher.encryptBlock(n);this._ghash=new Qee(s),r=Vke(this,r,s),this._prev=Ra.from(r),this._cache=Ra.allocUnsafe(0),this._secCache=Ra.allocUnsafe(0),this._decrypt=i,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}zke(Sy,Xee);Sy.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=Ra.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r};Sy.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=Fke(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&$ke(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()};Sy.prototype.getAuthTag=function(){if(this._decrypt||!Ra.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};Sy.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e};Sy.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length};ete.exports=Sy});var lR=de((F0t,rte)=>{F();var Kke=r3(),cR=Vr().Buffer,tte=ad(),Hke=qt();function xE(t,e,r,i){tte.call(this),this._cipher=new Kke.AES(e),this._prev=cR.from(r),this._cache=cR.allocUnsafe(0),this._secCache=cR.allocUnsafe(0),this._decrypt=i,this._mode=t}Hke(xE,tte);xE.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)};xE.prototype._final=function(){this._cipher.scrub()};rte.exports=xE});var n3=de(($0t,ite)=>{F();var xy=Vr().Buffer,Wke=V5();function Yke(t,e,r,i){if(xy.isBuffer(t)||(t=xy.from(t,"binary")),e&&(xy.isBuffer(e)||(e=xy.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var n=r/8,s=xy.alloc(n),o=xy.alloc(i||0),a=xy.alloc(0);n>0||i>0;){var f=new Wke;f.update(a),f.update(t),e&&f.update(e),a=f.digest();var c=0;if(n>0){var u=s.length-n;c=Math.min(n,a.length),a.copy(s,u,0,c),n-=c}if(c<a.length&&i>0){var l=o.length-i,y=Math.min(i,a.length-c);a.copy(o,l,c,c+y),i-=y}}return a.fill(0),{key:s,iv:o}}ite.exports=Yke});var ate=de(dR=>{F();var nte=EE(),Zke=uR(),ud=Vr().Buffer,Gke=lR(),ote=ad(),Jke=r3(),Xke=n3(),Qke=qt();function o3(t,e,r){ote.call(this),this._cache=new AE,this._cipher=new Jke.AES(e),this._prev=ud.from(r),this._mode=t,this._autopadding=!0}Qke(o3,ote);o3.prototype._update=function(t){this._cache.add(t);for(var e,r,i=[];e=this._cache.get();)r=this._mode.encrypt(this,e),i.push(r);return ud.concat(i)};var eTe=ud.alloc(16,16);o3.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(eTe))throw this._cipher.scrub(),new Error("data not multiple of block length")};o3.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function AE(){this.cache=ud.allocUnsafe(0)}AE.prototype.add=function(t){this.cache=ud.concat([this.cache,t])};AE.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null};AE.prototype.flush=function(){for(var t=16-this.cache.length,e=ud.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return ud.concat([this.cache,e])};function ste(t,e,r){var i=nte[t.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if(typeof e=="string"&&(e=ud.from(e)),e.length!==i.key/8)throw new TypeError("invalid key length "+e.length);if(typeof r=="string"&&(r=ud.from(r)),i.mode!=="GCM"&&r.length!==i.iv)throw new TypeError("invalid iv length "+r.length);return i.type==="stream"?new Gke(i.module,e,r):i.type==="auth"?new Zke(i.module,e,r):new o3(i.module,e,r)}function tTe(t,e){var r=nte[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=Xke(e,!1,r.key,r.iv);return ste(t,i.key,i.iv)}dR.createCipheriv=ste;dR.createCipher=tTe});var lte=de(hR=>{F();var rTe=uR(),M1=Vr().Buffer,fte=EE(),iTe=lR(),ute=ad(),nTe=r3(),oTe=n3(),sTe=qt();function s3(t,e,r){ute.call(this),this._cache=new ME,this._last=void 0,this._cipher=new nTe.AES(e),this._prev=M1.from(r),this._mode=t,this._autopadding=!0}sTe(s3,ute);s3.prototype._update=function(t){this._cache.add(t);for(var e,r,i=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),i.push(r);return M1.concat(i)};s3.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return aTe(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")};s3.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function ME(){this.cache=M1.allocUnsafe(0)}ME.prototype.add=function(t){this.cache=M1.concat([this.cache,t])};ME.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null};ME.prototype.flush=function(){if(this.cache.length)return this.cache};function aTe(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var r=-1;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(e!==16)return t.slice(0,16-e)}function cte(t,e,r){var i=fte[t.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=M1.from(r)),i.mode!=="GCM"&&r.length!==i.iv)throw new TypeError("invalid iv length "+r.length);if(typeof e=="string"&&(e=M1.from(e)),e.length!==i.key/8)throw new TypeError("invalid key length "+e.length);return i.type==="stream"?new iTe(i.module,e,r,!0):i.type==="auth"?new rTe(i.module,e,r,!0):new s3(i.module,e,r)}function fTe(t,e){var r=fte[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=oTe(e,!1,r.key,r.iv);return cte(t,i.key,i.iv)}hR.createDecipher=fTe;hR.createDecipheriv=cte});var kE=de(Bu=>{F();var dte=ate(),hte=lte(),uTe=oR();function cTe(){return Object.keys(uTe)}Bu.createCipher=Bu.Cipher=dte.createCipher;Bu.createCipheriv=Bu.Cipheriv=dte.createCipheriv;Bu.createDecipher=Bu.Decipher=hte.createDecipher;Bu.createDecipheriv=Bu.Decipheriv=hte.createDecipheriv;Bu.listCiphers=Bu.getCiphers=cTe});var pte=de(cd=>{F();cd["des-ecb"]={key:8,iv:0};cd["des-cbc"]=cd.des={key:8,iv:8};cd["des-ede3-cbc"]=cd.des3={key:24,iv:8};cd["des-ede3"]={key:24,iv:0};cd["des-ede-cbc"]={key:16,iv:8};cd["des-ede"]={key:16,iv:0}});var vte=de(Cu=>{F();var yte=Pee(),pR=kE(),Kh=EE(),ld=pte(),mte=n3();function lTe(t,e){t=t.toLowerCase();var r,i;if(Kh[t])r=Kh[t].key,i=Kh[t].iv;else if(ld[t])r=ld[t].key*8,i=ld[t].iv;else throw new TypeError("invalid suite type");var n=mte(e,!1,r,i);return gte(t,n.key,n.iv)}function dTe(t,e){t=t.toLowerCase();var r,i;if(Kh[t])r=Kh[t].key,i=Kh[t].iv;else if(ld[t])r=ld[t].key*8,i=ld[t].iv;else throw new TypeError("invalid suite type");var n=mte(e,!1,r,i);return bte(t,n.key,n.iv)}function gte(t,e,r){if(t=t.toLowerCase(),Kh[t])return pR.createCipheriv(t,e,r);if(ld[t])return new yte({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function bte(t,e,r){if(t=t.toLowerCase(),Kh[t])return pR.createDecipheriv(t,e,r);if(ld[t])return new yte({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}function hTe(){return Object.keys(ld).concat(pR.getCiphers())}Cu.createCipher=Cu.Cipher=lTe;Cu.createCipheriv=Cu.Cipheriv=gte;Cu.createDecipher=Cu.Decipher=dTe;Cu.createDecipheriv=Cu.Decipheriv=bte;Cu.listCiphers=Cu.getCiphers=hTe});var Bo=de((wte,yR)=>{F();(function(t,e){"use strict";function r(L,j){if(!L)throw new Error(j||"Assertion failed")}function i(L,j){L.super_=j;var k=function(){};k.prototype=j.prototype,L.prototype=new k,L.prototype.constructor=L}function n(L,j,k){if(n.isBN(L))return L;this.negative=0,this.words=null,this.length=0,this.red=null,L!==null&&((j==="le"||j==="be")&&(k=j,j=10),this._init(L||0,j||10,k||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=ki().Buffer}catch{}n.isBN=function(j){return j instanceof n?!0:j!==null&&typeof j=="object"&&j.constructor.wordSize===n.wordSize&&Array.isArray(j.words)},n.max=function(j,k){return j.cmp(k)>0?j:k},n.min=function(j,k){return j.cmp(k)<0?j:k},n.prototype._init=function(j,k,P){if(typeof j=="number")return this._initNumber(j,k,P);if(typeof j=="object")return this._initArray(j,k,P);k==="hex"&&(k=16),r(k===(k|0)&&k>=2&&k<=36),j=j.toString().replace(/\s+/g,"");var p=0;j[0]==="-"&&(p++,this.negative=1),p<j.length&&(k===16?this._parseHex(j,p,P):(this._parseBase(j,k,p),P==="le"&&this._initArray(this.toArray(),k,P)))},n.prototype._initNumber=function(j,k,P){j<0&&(this.negative=1,j=-j),j<67108864?(this.words=[j&67108863],this.length=1):j<4503599627370496?(this.words=[j&67108863,j/67108864&67108863],this.length=2):(r(j<9007199254740992),this.words=[j&67108863,j/67108864&67108863,1],this.length=3),P==="le"&&this._initArray(this.toArray(),k,P)},n.prototype._initArray=function(j,k,P){if(r(typeof j.length=="number"),j.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(j.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var d,h,b=0;if(P==="be")for(p=j.length-1,d=0;p>=0;p-=3)h=j[p]|j[p-1]<<8|j[p-2]<<16,this.words[d]|=h<<b&67108863,this.words[d+1]=h>>>26-b&67108863,b+=24,b>=26&&(b-=26,d++);else if(P==="le")for(p=0,d=0;p<j.length;p+=3)h=j[p]|j[p+1]<<8|j[p+2]<<16,this.words[d]|=h<<b&67108863,this.words[d+1]=h>>>26-b&67108863,b+=24,b>=26&&(b-=26,d++);return this.strip()};function o(L,j){var k=L.charCodeAt(j);return k>=65&&k<=70?k-55:k>=97&&k<=102?k-87:k-48&15}function a(L,j,k){var P=o(L,k);return k-1>=j&&(P|=o(L,k-1)<<4),P}n.prototype._parseHex=function(j,k,P){this.length=Math.ceil((j.length-k)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var d=0,h=0,b;if(P==="be")for(p=j.length-1;p>=k;p-=2)b=a(j,k,p)<<d,this.words[h]|=b&67108863,d>=18?(d-=18,h+=1,this.words[h]|=b>>>26):d+=8;else{var v=j.length-k;for(p=v%2===0?k+1:k;p<j.length;p+=2)b=a(j,k,p)<<d,this.words[h]|=b&67108863,d>=18?(d-=18,h+=1,this.words[h]|=b>>>26):d+=8}this.strip()};function f(L,j,k,P){for(var p=0,d=Math.min(L.length,k),h=j;h<d;h++){var b=L.charCodeAt(h)-48;p*=P,b>=49?p+=b-49+10:b>=17?p+=b-17+10:p+=b}return p}n.prototype._parseBase=function(j,k,P){this.words=[0],this.length=1;for(var p=0,d=1;d<=67108863;d*=k)p++;p--,d=d/k|0;for(var h=j.length-P,b=h%p,v=Math.min(h,h-b)+P,w=0,_=P;_<v;_+=p)w=f(j,_,_+p,k),this.imuln(d),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w);if(b!==0){var D=1;for(w=f(j,_,j.length,k),_=0;_<b;_++)D*=k;this.imuln(D),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w)}this.strip()},n.prototype.copy=function(j){j.words=new Array(this.length);for(var k=0;k<this.length;k++)j.words[k]=this.words[k];j.length=this.length,j.negative=this.negative,j.red=this.red},n.prototype.clone=function(){var j=new n(null);return this.copy(j),j},n.prototype._expand=function(j){for(;this.length<j;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(j,k){j=j||10,k=k|0||1;var P;if(j===16||j==="hex"){P="";for(var p=0,d=0,h=0;h<this.length;h++){var b=this.words[h],v=((b<<p|d)&16777215).toString(16);d=b>>>24-p&16777215,d!==0||h!==this.length-1?P=c[6-v.length]+v+P:P=v+P,p+=2,p>=26&&(p-=26,h--)}for(d!==0&&(P=d.toString(16)+P);P.length%k!==0;)P="0"+P;return this.negative!==0&&(P="-"+P),P}if(j===(j|0)&&j>=2&&j<=36){var w=u[j],_=l[j];P="";var D=this.clone();for(D.negative=0;!D.isZero();){var S=D.modn(_).toString(j);D=D.idivn(_),D.isZero()?P=S+P:P=c[w-S.length]+S+P}for(this.isZero()&&(P="0"+P);P.length%k!==0;)P="0"+P;return this.negative!==0&&(P="-"+P),P}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var j=this.words[0];return this.length===2?j+=this.words[1]*67108864:this.length===3&&this.words[2]===1?j+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-j:j},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(j,k){return r(typeof s<"u"),this.toArrayLike(s,j,k)},n.prototype.toArray=function(j,k){return this.toArrayLike(Array,j,k)},n.prototype.toArrayLike=function(j,k,P){var p=this.byteLength(),d=P||Math.max(1,p);r(p<=d,"byte array longer than desired length"),r(d>0,"Requested array length <= 0"),this.strip();var h=k==="le",b=new j(d),v,w,_=this.clone();if(h){for(w=0;!_.isZero();w++)v=_.andln(255),_.iushrn(8),b[w]=v;for(;w<d;w++)b[w]=0}else{for(w=0;w<d-p;w++)b[w]=0;for(w=0;!_.isZero();w++)v=_.andln(255),_.iushrn(8),b[d-w-1]=v}return b},Math.clz32?n.prototype._countBits=function(j){return 32-Math.clz32(j)}:n.prototype._countBits=function(j){var k=j,P=0;return k>=4096&&(P+=13,k>>>=13),k>=64&&(P+=7,k>>>=7),k>=8&&(P+=4,k>>>=4),k>=2&&(P+=2,k>>>=2),P+k},n.prototype._zeroBits=function(j){if(j===0)return 26;var k=j,P=0;return k&8191||(P+=13,k>>>=13),k&127||(P+=7,k>>>=7),k&15||(P+=4,k>>>=4),k&3||(P+=2,k>>>=2),k&1||P++,P},n.prototype.bitLength=function(){var j=this.words[this.length-1],k=this._countBits(j);return(this.length-1)*26+k};function y(L){for(var j=new Array(L.bitLength()),k=0;k<j.length;k++){var P=k/26|0,p=k%26;j[k]=(L.words[P]&1<<p)>>>p}return j}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var j=0,k=0;k<this.length;k++){var P=this._zeroBits(this.words[k]);if(j+=P,P!==26)break}return j},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(j){return this.negative!==0?this.abs().inotn(j).iaddn(1):this.clone()},n.prototype.fromTwos=function(j){return this.testn(j-1)?this.notn(j).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(j){for(;this.length<j.length;)this.words[this.length++]=0;for(var k=0;k<j.length;k++)this.words[k]=this.words[k]|j.words[k];return this.strip()},n.prototype.ior=function(j){return r((this.negative|j.negative)===0),this.iuor(j)},n.prototype.or=function(j){return this.length>j.length?this.clone().ior(j):j.clone().ior(this)},n.prototype.uor=function(j){return this.length>j.length?this.clone().iuor(j):j.clone().iuor(this)},n.prototype.iuand=function(j){var k;this.length>j.length?k=j:k=this;for(var P=0;P<k.length;P++)this.words[P]=this.words[P]&j.words[P];return this.length=k.length,this.strip()},n.prototype.iand=function(j){return r((this.negative|j.negative)===0),this.iuand(j)},n.prototype.and=function(j){return this.length>j.length?this.clone().iand(j):j.clone().iand(this)},n.prototype.uand=function(j){return this.length>j.length?this.clone().iuand(j):j.clone().iuand(this)},n.prototype.iuxor=function(j){var k,P;this.length>j.length?(k=this,P=j):(k=j,P=this);for(var p=0;p<P.length;p++)this.words[p]=k.words[p]^P.words[p];if(this!==k)for(;p<k.length;p++)this.words[p]=k.words[p];return this.length=k.length,this.strip()},n.prototype.ixor=function(j){return r((this.negative|j.negative)===0),this.iuxor(j)},n.prototype.xor=function(j){return this.length>j.length?this.clone().ixor(j):j.clone().ixor(this)},n.prototype.uxor=function(j){return this.length>j.length?this.clone().iuxor(j):j.clone().iuxor(this)},n.prototype.inotn=function(j){r(typeof j=="number"&&j>=0);var k=Math.ceil(j/26)|0,P=j%26;this._expand(k),P>0&&k--;for(var p=0;p<k;p++)this.words[p]=~this.words[p]&67108863;return P>0&&(this.words[p]=~this.words[p]&67108863>>26-P),this.strip()},n.prototype.notn=function(j){return this.clone().inotn(j)},n.prototype.setn=function(j,k){r(typeof j=="number"&&j>=0);var P=j/26|0,p=j%26;return this._expand(P+1),k?this.words[P]=this.words[P]|1<<p:this.words[P]=this.words[P]&~(1<<p),this.strip()},n.prototype.iadd=function(j){var k;if(this.negative!==0&&j.negative===0)return this.negative=0,k=this.isub(j),this.negative^=1,this._normSign();if(this.negative===0&&j.negative!==0)return j.negative=0,k=this.isub(j),j.negative=1,k._normSign();var P,p;this.length>j.length?(P=this,p=j):(P=j,p=this);for(var d=0,h=0;h<p.length;h++)k=(P.words[h]|0)+(p.words[h]|0)+d,this.words[h]=k&67108863,d=k>>>26;for(;d!==0&&h<P.length;h++)k=(P.words[h]|0)+d,this.words[h]=k&67108863,d=k>>>26;if(this.length=P.length,d!==0)this.words[this.length]=d,this.length++;else if(P!==this)for(;h<P.length;h++)this.words[h]=P.words[h];return this},n.prototype.add=function(j){var k;return j.negative!==0&&this.negative===0?(j.negative=0,k=this.sub(j),j.negative^=1,k):j.negative===0&&this.negative!==0?(this.negative=0,k=j.sub(this),this.negative=1,k):this.length>j.length?this.clone().iadd(j):j.clone().iadd(this)},n.prototype.isub=function(j){if(j.negative!==0){j.negative=0;var k=this.iadd(j);return j.negative=1,k._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(j),this.negative=1,this._normSign();var P=this.cmp(j);if(P===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,d;P>0?(p=this,d=j):(p=j,d=this);for(var h=0,b=0;b<d.length;b++)k=(p.words[b]|0)-(d.words[b]|0)+h,h=k>>26,this.words[b]=k&67108863;for(;h!==0&&b<p.length;b++)k=(p.words[b]|0)+h,h=k>>26,this.words[b]=k&67108863;if(h===0&&b<p.length&&p!==this)for(;b<p.length;b++)this.words[b]=p.words[b];return this.length=Math.max(this.length,b),p!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(j){return this.clone().isub(j)};function m(L,j,k){k.negative=j.negative^L.negative;var P=L.length+j.length|0;k.length=P,P=P-1|0;var p=L.words[0]|0,d=j.words[0]|0,h=p*d,b=h&67108863,v=h/67108864|0;k.words[0]=b;for(var w=1;w<P;w++){for(var _=v>>>26,D=v&67108863,S=Math.min(w,j.length-1),A=Math.max(0,w-L.length+1);A<=S;A++){var N=w-A|0;p=L.words[N]|0,d=j.words[A]|0,h=p*d+D,_+=h/67108864|0,D=h&67108863}k.words[w]=D|0,v=_|0}return v!==0?k.words[w]=v|0:k.length--,k.strip()}var g=function(j,k,P){var p=j.words,d=k.words,h=P.words,b=0,v,w,_,D=p[0]|0,S=D&8191,A=D>>>13,N=p[1]|0,G=N&8191,Q=N>>>13,ne=p[2]|0,H=ne&8191,Z=ne>>>13,ie=p[3]|0,fe=ie&8191,ue=ie>>>13,ye=p[4]|0,$=ye&8191,q=ye>>>13,z=p[5]|0,Y=z&8191,X=z>>>13,re=p[6]|0,le=re&8191,pe=re>>>13,_e=p[7]|0,xe=_e&8191,be=_e>>>13,Me=p[8]|0,Le=Me&8191,oe=Me>>>13,ce=p[9]|0,ge=ce&8191,me=ce>>>13,Ee=d[0]|0,$e=Ee&8191,Se=Ee>>>13,We=d[1]|0,it=We&8191,Te=We>>>13,nt=d[2]|0,ot=nt&8191,ke=nt>>>13,tt=d[3]|0,rt=tt&8191,Ae=tt>>>13,Ye=d[4]|0,He=Ye&8191,De=Ye>>>13,ft=d[5]|0,ut=ft&8191,Ie=ft>>>13,ct=d[6]|0,lt=ct&8191,Re=ct>>>13,dt=d[7]|0,ht=dt&8191,Be=dt>>>13,pt=d[8]|0,yt=pt&8191,Ce=pt>>>13,mt=d[9]|0,gt=mt&8191,Oe=mt>>>13;P.negative=j.negative^k.negative,P.length=19,v=Math.imul(S,$e),w=Math.imul(S,Se),w=w+Math.imul(A,$e)|0,_=Math.imul(A,Se);var st=(b+v|0)+((w&8191)<<13)|0;b=(_+(w>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(G,$e),w=Math.imul(G,Se),w=w+Math.imul(Q,$e)|0,_=Math.imul(Q,Se),v=v+Math.imul(S,it)|0,w=w+Math.imul(S,Te)|0,w=w+Math.imul(A,it)|0,_=_+Math.imul(A,Te)|0;var Ct=(b+v|0)+((w&8191)<<13)|0;b=(_+(w>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,v=Math.imul(H,$e),w=Math.imul(H,Se),w=w+Math.imul(Z,$e)|0,_=Math.imul(Z,Se),v=v+Math.imul(G,it)|0,w=w+Math.imul(G,Te)|0,w=w+Math.imul(Q,it)|0,_=_+Math.imul(Q,Te)|0,v=v+Math.imul(S,ot)|0,w=w+Math.imul(S,ke)|0,w=w+Math.imul(A,ot)|0,_=_+Math.imul(A,ke)|0;var Ue=(b+v|0)+((w&8191)<<13)|0;b=(_+(w>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,v=Math.imul(fe,$e),w=Math.imul(fe,Se),w=w+Math.imul(ue,$e)|0,_=Math.imul(ue,Se),v=v+Math.imul(H,it)|0,w=w+Math.imul(H,Te)|0,w=w+Math.imul(Z,it)|0,_=_+Math.imul(Z,Te)|0,v=v+Math.imul(G,ot)|0,w=w+Math.imul(G,ke)|0,w=w+Math.imul(Q,ot)|0,_=_+Math.imul(Q,ke)|0,v=v+Math.imul(S,rt)|0,w=w+Math.imul(S,Ae)|0,w=w+Math.imul(A,rt)|0,_=_+Math.imul(A,Ae)|0;var Pt=(b+v|0)+((w&8191)<<13)|0;b=(_+(w>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,v=Math.imul($,$e),w=Math.imul($,Se),w=w+Math.imul(q,$e)|0,_=Math.imul(q,Se),v=v+Math.imul(fe,it)|0,w=w+Math.imul(fe,Te)|0,w=w+Math.imul(ue,it)|0,_=_+Math.imul(ue,Te)|0,v=v+Math.imul(H,ot)|0,w=w+Math.imul(H,ke)|0,w=w+Math.imul(Z,ot)|0,_=_+Math.imul(Z,ke)|0,v=v+Math.imul(G,rt)|0,w=w+Math.imul(G,Ae)|0,w=w+Math.imul(Q,rt)|0,_=_+Math.imul(Q,Ae)|0,v=v+Math.imul(S,He)|0,w=w+Math.imul(S,De)|0,w=w+Math.imul(A,He)|0,_=_+Math.imul(A,De)|0;var gn=(b+v|0)+((w&8191)<<13)|0;b=(_+(w>>>13)|0)+(gn>>>26)|0,gn&=67108863,v=Math.imul(Y,$e),w=Math.imul(Y,Se),w=w+Math.imul(X,$e)|0,_=Math.imul(X,Se),v=v+Math.imul($,it)|0,w=w+Math.imul($,Te)|0,w=w+Math.imul(q,it)|0,_=_+Math.imul(q,Te)|0,v=v+Math.imul(fe,ot)|0,w=w+Math.imul(fe,ke)|0,w=w+Math.imul(ue,ot)|0,_=_+Math.imul(ue,ke)|0,v=v+Math.imul(H,rt)|0,w=w+Math.imul(H,Ae)|0,w=w+Math.imul(Z,rt)|0,_=_+Math.imul(Z,Ae)|0,v=v+Math.imul(G,He)|0,w=w+Math.imul(G,De)|0,w=w+Math.imul(Q,He)|0,_=_+Math.imul(Q,De)|0,v=v+Math.imul(S,ut)|0,w=w+Math.imul(S,Ie)|0,w=w+Math.imul(A,ut)|0,_=_+Math.imul(A,Ie)|0;var bn=(b+v|0)+((w&8191)<<13)|0;b=(_+(w>>>13)|0)+(bn>>>26)|0,bn&=67108863,v=Math.imul(le,$e),w=Math.imul(le,Se),w=w+Math.imul(pe,$e)|0,_=Math.imul(pe,Se),v=v+Math.imul(Y,it)|0,w=w+Math.imul(Y,Te)|0,w=w+Math.imul(X,it)|0,_=_+Math.imul(X,Te)|0,v=v+Math.imul($,ot)|0,w=w+Math.imul($,ke)|0,w=w+Math.imul(q,ot)|0,_=_+Math.imul(q,ke)|0,v=v+Math.imul(fe,rt)|0,w=w+Math.imul(fe,Ae)|0,w=w+Math.imul(ue,rt)|0,_=_+Math.imul(ue,Ae)|0,v=v+Math.imul(H,He)|0,w=w+Math.imul(H,De)|0,w=w+Math.imul(Z,He)|0,_=_+Math.imul(Z,De)|0,v=v+Math.imul(G,ut)|0,w=w+Math.imul(G,Ie)|0,w=w+Math.imul(Q,ut)|0,_=_+Math.imul(Q,Ie)|0,v=v+Math.imul(S,lt)|0,w=w+Math.imul(S,Re)|0,w=w+Math.imul(A,lt)|0,_=_+Math.imul(A,Re)|0;var vn=(b+v|0)+((w&8191)<<13)|0;b=(_+(w>>>13)|0)+(vn>>>26)|0,vn&=67108863,v=Math.imul(xe,$e),w=Math.imul(xe,Se),w=w+Math.imul(be,$e)|0,_=Math.imul(be,Se),v=v+Math.imul(le,it)|0,w=w+Math.imul(le,Te)|0,w=w+Math.imul(pe,it)|0,_=_+Math.imul(pe,Te)|0,v=v+Math.imul(Y,ot)|0,w=w+Math.imul(Y,ke)|0,w=w+Math.imul(X,ot)|0,_=_+Math.imul(X,ke)|0,v=v+Math.imul($,rt)|0,w=w+Math.imul($,Ae)|0,w=w+Math.imul(q,rt)|0,_=_+Math.imul(q,Ae)|0,v=v+Math.imul(fe,He)|0,w=w+Math.imul(fe,De)|0,w=w+Math.imul(ue,He)|0,_=_+Math.imul(ue,De)|0,v=v+Math.imul(H,ut)|0,w=w+Math.imul(H,Ie)|0,w=w+Math.imul(Z,ut)|0,_=_+Math.imul(Z,Ie)|0,v=v+Math.imul(G,lt)|0,w=w+Math.imul(G,Re)|0,w=w+Math.imul(Q,lt)|0,_=_+Math.imul(Q,Re)|0,v=v+Math.imul(S,ht)|0,w=w+Math.imul(S,Be)|0,w=w+Math.imul(A,ht)|0,_=_+Math.imul(A,Be)|0;var wn=(b+v|0)+((w&8191)<<13)|0;b=(_+(w>>>13)|0)+(wn>>>26)|0,wn&=67108863,v=Math.imul(Le,$e),w=Math.imul(Le,Se),w=w+Math.imul(oe,$e)|0,_=Math.imul(oe,Se),v=v+Math.imul(xe,it)|0,w=w+Math.imul(xe,Te)|0,w=w+Math.imul(be,it)|0,_=_+Math.imul(be,Te)|0,v=v+Math.imul(le,ot)|0,w=w+Math.imul(le,ke)|0,w=w+Math.imul(pe,ot)|0,_=_+Math.imul(pe,ke)|0,v=v+Math.imul(Y,rt)|0,w=w+Math.imul(Y,Ae)|0,w=w+Math.imul(X,rt)|0,_=_+Math.imul(X,Ae)|0,v=v+Math.imul($,He)|0,w=w+Math.imul($,De)|0,w=w+Math.imul(q,He)|0,_=_+Math.imul(q,De)|0,v=v+Math.imul(fe,ut)|0,w=w+Math.imul(fe,Ie)|0,w=w+Math.imul(ue,ut)|0,_=_+Math.imul(ue,Ie)|0,v=v+Math.imul(H,lt)|0,w=w+Math.imul(H,Re)|0,w=w+Math.imul(Z,lt)|0,_=_+Math.imul(Z,Re)|0,v=v+Math.imul(G,ht)|0,w=w+Math.imul(G,Be)|0,w=w+Math.imul(Q,ht)|0,_=_+Math.imul(Q,Be)|0,v=v+Math.imul(S,yt)|0,w=w+Math.imul(S,Ce)|0,w=w+Math.imul(A,yt)|0,_=_+Math.imul(A,Ce)|0;var _n=(b+v|0)+((w&8191)<<13)|0;b=(_+(w>>>13)|0)+(_n>>>26)|0,_n&=67108863,v=Math.imul(ge,$e),w=Math.imul(ge,Se),w=w+Math.imul(me,$e)|0,_=Math.imul(me,Se),v=v+Math.imul(Le,it)|0,w=w+Math.imul(Le,Te)|0,w=w+Math.imul(oe,it)|0,_=_+Math.imul(oe,Te)|0,v=v+Math.imul(xe,ot)|0,w=w+Math.imul(xe,ke)|0,w=w+Math.imul(be,ot)|0,_=_+Math.imul(be,ke)|0,v=v+Math.imul(le,rt)|0,w=w+Math.imul(le,Ae)|0,w=w+Math.imul(pe,rt)|0,_=_+Math.imul(pe,Ae)|0,v=v+Math.imul(Y,He)|0,w=w+Math.imul(Y,De)|0,w=w+Math.imul(X,He)|0,_=_+Math.imul(X,De)|0,v=v+Math.imul($,ut)|0,w=w+Math.imul($,Ie)|0,w=w+Math.imul(q,ut)|0,_=_+Math.imul(q,Ie)|0,v=v+Math.imul(fe,lt)|0,w=w+Math.imul(fe,Re)|0,w=w+Math.imul(ue,lt)|0,_=_+Math.imul(ue,Re)|0,v=v+Math.imul(H,ht)|0,w=w+Math.imul(H,Be)|0,w=w+Math.imul(Z,ht)|0,_=_+Math.imul(Z,Be)|0,v=v+Math.imul(G,yt)|0,w=w+Math.imul(G,Ce)|0,w=w+Math.imul(Q,yt)|0,_=_+Math.imul(Q,Ce)|0,v=v+Math.imul(S,gt)|0,w=w+Math.imul(S,Oe)|0,w=w+Math.imul(A,gt)|0,_=_+Math.imul(A,Oe)|0;var En=(b+v|0)+((w&8191)<<13)|0;b=(_+(w>>>13)|0)+(En>>>26)|0,En&=67108863,v=Math.imul(ge,it),w=Math.imul(ge,Te),w=w+Math.imul(me,it)|0,_=Math.imul(me,Te),v=v+Math.imul(Le,ot)|0,w=w+Math.imul(Le,ke)|0,w=w+Math.imul(oe,ot)|0,_=_+Math.imul(oe,ke)|0,v=v+Math.imul(xe,rt)|0,w=w+Math.imul(xe,Ae)|0,w=w+Math.imul(be,rt)|0,_=_+Math.imul(be,Ae)|0,v=v+Math.imul(le,He)|0,w=w+Math.imul(le,De)|0,w=w+Math.imul(pe,He)|0,_=_+Math.imul(pe,De)|0,v=v+Math.imul(Y,ut)|0,w=w+Math.imul(Y,Ie)|0,w=w+Math.imul(X,ut)|0,_=_+Math.imul(X,Ie)|0,v=v+Math.imul($,lt)|0,w=w+Math.imul($,Re)|0,w=w+Math.imul(q,lt)|0,_=_+Math.imul(q,Re)|0,v=v+Math.imul(fe,ht)|0,w=w+Math.imul(fe,Be)|0,w=w+Math.imul(ue,ht)|0,_=_+Math.imul(ue,Be)|0,v=v+Math.imul(H,yt)|0,w=w+Math.imul(H,Ce)|0,w=w+Math.imul(Z,yt)|0,_=_+Math.imul(Z,Ce)|0,v=v+Math.imul(G,gt)|0,w=w+Math.imul(G,Oe)|0,w=w+Math.imul(Q,gt)|0,_=_+Math.imul(Q,Oe)|0;var Sn=(b+v|0)+((w&8191)<<13)|0;b=(_+(w>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,v=Math.imul(ge,ot),w=Math.imul(ge,ke),w=w+Math.imul(me,ot)|0,_=Math.imul(me,ke),v=v+Math.imul(Le,rt)|0,w=w+Math.imul(Le,Ae)|0,w=w+Math.imul(oe,rt)|0,_=_+Math.imul(oe,Ae)|0,v=v+Math.imul(xe,He)|0,w=w+Math.imul(xe,De)|0,w=w+Math.imul(be,He)|0,_=_+Math.imul(be,De)|0,v=v+Math.imul(le,ut)|0,w=w+Math.imul(le,Ie)|0,w=w+Math.imul(pe,ut)|0,_=_+Math.imul(pe,Ie)|0,v=v+Math.imul(Y,lt)|0,w=w+Math.imul(Y,Re)|0,w=w+Math.imul(X,lt)|0,_=_+Math.imul(X,Re)|0,v=v+Math.imul($,ht)|0,w=w+Math.imul($,Be)|0,w=w+Math.imul(q,ht)|0,_=_+Math.imul(q,Be)|0,v=v+Math.imul(fe,yt)|0,w=w+Math.imul(fe,Ce)|0,w=w+Math.imul(ue,yt)|0,_=_+Math.imul(ue,Ce)|0,v=v+Math.imul(H,gt)|0,w=w+Math.imul(H,Oe)|0,w=w+Math.imul(Z,gt)|0,_=_+Math.imul(Z,Oe)|0;var xn=(b+v|0)+((w&8191)<<13)|0;b=(_+(w>>>13)|0)+(xn>>>26)|0,xn&=67108863,v=Math.imul(ge,rt),w=Math.imul(ge,Ae),w=w+Math.imul(me,rt)|0,_=Math.imul(me,Ae),v=v+Math.imul(Le,He)|0,w=w+Math.imul(Le,De)|0,w=w+Math.imul(oe,He)|0,_=_+Math.imul(oe,De)|0,v=v+Math.imul(xe,ut)|0,w=w+Math.imul(xe,Ie)|0,w=w+Math.imul(be,ut)|0,_=_+Math.imul(be,Ie)|0,v=v+Math.imul(le,lt)|0,w=w+Math.imul(le,Re)|0,w=w+Math.imul(pe,lt)|0,_=_+Math.imul(pe,Re)|0,v=v+Math.imul(Y,ht)|0,w=w+Math.imul(Y,Be)|0,w=w+Math.imul(X,ht)|0,_=_+Math.imul(X,Be)|0,v=v+Math.imul($,yt)|0,w=w+Math.imul($,Ce)|0,w=w+Math.imul(q,yt)|0,_=_+Math.imul(q,Ce)|0,v=v+Math.imul(fe,gt)|0,w=w+Math.imul(fe,Oe)|0,w=w+Math.imul(ue,gt)|0,_=_+Math.imul(ue,Oe)|0;var An=(b+v|0)+((w&8191)<<13)|0;b=(_+(w>>>13)|0)+(An>>>26)|0,An&=67108863,v=Math.imul(ge,He),w=Math.imul(ge,De),w=w+Math.imul(me,He)|0,_=Math.imul(me,De),v=v+Math.imul(Le,ut)|0,w=w+Math.imul(Le,Ie)|0,w=w+Math.imul(oe,ut)|0,_=_+Math.imul(oe,Ie)|0,v=v+Math.imul(xe,lt)|0,w=w+Math.imul(xe,Re)|0,w=w+Math.imul(be,lt)|0,_=_+Math.imul(be,Re)|0,v=v+Math.imul(le,ht)|0,w=w+Math.imul(le,Be)|0,w=w+Math.imul(pe,ht)|0,_=_+Math.imul(pe,Be)|0,v=v+Math.imul(Y,yt)|0,w=w+Math.imul(Y,Ce)|0,w=w+Math.imul(X,yt)|0,_=_+Math.imul(X,Ce)|0,v=v+Math.imul($,gt)|0,w=w+Math.imul($,Oe)|0,w=w+Math.imul(q,gt)|0,_=_+Math.imul(q,Oe)|0;var Mn=(b+v|0)+((w&8191)<<13)|0;b=(_+(w>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,v=Math.imul(ge,ut),w=Math.imul(ge,Ie),w=w+Math.imul(me,ut)|0,_=Math.imul(me,Ie),v=v+Math.imul(Le,lt)|0,w=w+Math.imul(Le,Re)|0,w=w+Math.imul(oe,lt)|0,_=_+Math.imul(oe,Re)|0,v=v+Math.imul(xe,ht)|0,w=w+Math.imul(xe,Be)|0,w=w+Math.imul(be,ht)|0,_=_+Math.imul(be,Be)|0,v=v+Math.imul(le,yt)|0,w=w+Math.imul(le,Ce)|0,w=w+Math.imul(pe,yt)|0,_=_+Math.imul(pe,Ce)|0,v=v+Math.imul(Y,gt)|0,w=w+Math.imul(Y,Oe)|0,w=w+Math.imul(X,gt)|0,_=_+Math.imul(X,Oe)|0;var kn=(b+v|0)+((w&8191)<<13)|0;b=(_+(w>>>13)|0)+(kn>>>26)|0,kn&=67108863,v=Math.imul(ge,lt),w=Math.imul(ge,Re),w=w+Math.imul(me,lt)|0,_=Math.imul(me,Re),v=v+Math.imul(Le,ht)|0,w=w+Math.imul(Le,Be)|0,w=w+Math.imul(oe,ht)|0,_=_+Math.imul(oe,Be)|0,v=v+Math.imul(xe,yt)|0,w=w+Math.imul(xe,Ce)|0,w=w+Math.imul(be,yt)|0,_=_+Math.imul(be,Ce)|0,v=v+Math.imul(le,gt)|0,w=w+Math.imul(le,Oe)|0,w=w+Math.imul(pe,gt)|0,_=_+Math.imul(pe,Oe)|0;var Tn=(b+v|0)+((w&8191)<<13)|0;b=(_+(w>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,v=Math.imul(ge,ht),w=Math.imul(ge,Be),w=w+Math.imul(me,ht)|0,_=Math.imul(me,Be),v=v+Math.imul(Le,yt)|0,w=w+Math.imul(Le,Ce)|0,w=w+Math.imul(oe,yt)|0,_=_+Math.imul(oe,Ce)|0,v=v+Math.imul(xe,gt)|0,w=w+Math.imul(xe,Oe)|0,w=w+Math.imul(be,gt)|0,_=_+Math.imul(be,Oe)|0;var Pn=(b+v|0)+((w&8191)<<13)|0;b=(_+(w>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,v=Math.imul(ge,yt),w=Math.imul(ge,Ce),w=w+Math.imul(me,yt)|0,_=Math.imul(me,Ce),v=v+Math.imul(Le,gt)|0,w=w+Math.imul(Le,Oe)|0,w=w+Math.imul(oe,gt)|0,_=_+Math.imul(oe,Oe)|0;var Dn=(b+v|0)+((w&8191)<<13)|0;b=(_+(w>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,v=Math.imul(ge,gt),w=Math.imul(ge,Oe),w=w+Math.imul(me,gt)|0,_=Math.imul(me,Oe);var In=(b+v|0)+((w&8191)<<13)|0;return b=(_+(w>>>13)|0)+(In>>>26)|0,In&=67108863,h[0]=st,h[1]=Ct,h[2]=Ue,h[3]=Pt,h[4]=gn,h[5]=bn,h[6]=vn,h[7]=wn,h[8]=_n,h[9]=En,h[10]=Sn,h[11]=xn,h[12]=An,h[13]=Mn,h[14]=kn,h[15]=Tn,h[16]=Pn,h[17]=Dn,h[18]=In,b!==0&&(h[19]=b,P.length++),P};Math.imul||(g=m);function E(L,j,k){k.negative=j.negative^L.negative,k.length=L.length+j.length;for(var P=0,p=0,d=0;d<k.length-1;d++){var h=p;p=0;for(var b=P&67108863,v=Math.min(d,j.length-1),w=Math.max(0,d-L.length+1);w<=v;w++){var _=d-w,D=L.words[_]|0,S=j.words[w]|0,A=D*S,N=A&67108863;h=h+(A/67108864|0)|0,N=N+b|0,b=N&67108863,h=h+(N>>>26)|0,p+=h>>>26,h&=67108863}k.words[d]=b,P=h,h=p}return P!==0?k.words[d]=P:k.length--,k.strip()}function x(L,j,k){var P=new T;return P.mulp(L,j,k)}n.prototype.mulTo=function(j,k){var P,p=this.length+j.length;return this.length===10&&j.length===10?P=g(this,j,k):p<63?P=m(this,j,k):p<1024?P=E(this,j,k):P=x(this,j,k),P};function T(L,j){this.x=L,this.y=j}T.prototype.makeRBT=function(j){for(var k=new Array(j),P=n.prototype._countBits(j)-1,p=0;p<j;p++)k[p]=this.revBin(p,P,j);return k},T.prototype.revBin=function(j,k,P){if(j===0||j===P-1)return j;for(var p=0,d=0;d<k;d++)p|=(j&1)<<k-d-1,j>>=1;return p},T.prototype.permute=function(j,k,P,p,d,h){for(var b=0;b<h;b++)p[b]=k[j[b]],d[b]=P[j[b]]},T.prototype.transform=function(j,k,P,p,d,h){this.permute(h,j,k,P,p,d);for(var b=1;b<d;b<<=1)for(var v=b<<1,w=Math.cos(2*Math.PI/v),_=Math.sin(2*Math.PI/v),D=0;D<d;D+=v)for(var S=w,A=_,N=0;N<b;N++){var G=P[D+N],Q=p[D+N],ne=P[D+N+b],H=p[D+N+b],Z=S*ne-A*H;H=S*H+A*ne,ne=Z,P[D+N]=G+ne,p[D+N]=Q+H,P[D+N+b]=G-ne,p[D+N+b]=Q-H,N!==v&&(Z=w*S-_*A,A=w*A+_*S,S=Z)}},T.prototype.guessLen13b=function(j,k){var P=Math.max(k,j)|1,p=P&1,d=0;for(P=P/2|0;P;P=P>>>1)d++;return 1<<d+1+p},T.prototype.conjugate=function(j,k,P){if(!(P<=1))for(var p=0;p<P/2;p++){var d=j[p];j[p]=j[P-p-1],j[P-p-1]=d,d=k[p],k[p]=-k[P-p-1],k[P-p-1]=-d}},T.prototype.normalize13b=function(j,k){for(var P=0,p=0;p<k/2;p++){var d=Math.round(j[2*p+1]/k)*8192+Math.round(j[2*p]/k)+P;j[p]=d&67108863,d<67108864?P=0:P=d/67108864|0}return j},T.prototype.convert13b=function(j,k,P,p){for(var d=0,h=0;h<k;h++)d=d+(j[h]|0),P[2*h]=d&8191,d=d>>>13,P[2*h+1]=d&8191,d=d>>>13;for(h=2*k;h<p;++h)P[h]=0;r(d===0),r((d&-8192)===0)},T.prototype.stub=function(j){for(var k=new Array(j),P=0;P<j;P++)k[P]=0;return k},T.prototype.mulp=function(j,k,P){var p=2*this.guessLen13b(j.length,k.length),d=this.makeRBT(p),h=this.stub(p),b=new Array(p),v=new Array(p),w=new Array(p),_=new Array(p),D=new Array(p),S=new Array(p),A=P.words;A.length=p,this.convert13b(j.words,j.length,b,p),this.convert13b(k.words,k.length,_,p),this.transform(b,h,v,w,p,d),this.transform(_,h,D,S,p,d);for(var N=0;N<p;N++){var G=v[N]*D[N]-w[N]*S[N];w[N]=v[N]*S[N]+w[N]*D[N],v[N]=G}return this.conjugate(v,w,p),this.transform(v,w,A,h,p,d),this.conjugate(A,h,p),this.normalize13b(A,p),P.negative=j.negative^k.negative,P.length=j.length+k.length,P.strip()},n.prototype.mul=function(j){var k=new n(null);return k.words=new Array(this.length+j.length),this.mulTo(j,k)},n.prototype.mulf=function(j){var k=new n(null);return k.words=new Array(this.length+j.length),x(this,j,k)},n.prototype.imul=function(j){return this.clone().mulTo(j,this)},n.prototype.imuln=function(j){r(typeof j=="number"),r(j<67108864);for(var k=0,P=0;P<this.length;P++){var p=(this.words[P]|0)*j,d=(p&67108863)+(k&67108863);k>>=26,k+=p/67108864|0,k+=d>>>26,this.words[P]=d&67108863}return k!==0&&(this.words[P]=k,this.length++),this},n.prototype.muln=function(j){return this.clone().imuln(j)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(j){var k=y(j);if(k.length===0)return new n(1);for(var P=this,p=0;p<k.length&&k[p]===0;p++,P=P.sqr());if(++p<k.length)for(var d=P.sqr();p<k.length;p++,d=d.sqr())k[p]!==0&&(P=P.mul(d));return P},n.prototype.iushln=function(j){r(typeof j=="number"&&j>=0);var k=j%26,P=(j-k)/26,p=67108863>>>26-k<<26-k,d;if(k!==0){var h=0;for(d=0;d<this.length;d++){var b=this.words[d]&p,v=(this.words[d]|0)-b<<k;this.words[d]=v|h,h=b>>>26-k}h&&(this.words[d]=h,this.length++)}if(P!==0){for(d=this.length-1;d>=0;d--)this.words[d+P]=this.words[d];for(d=0;d<P;d++)this.words[d]=0;this.length+=P}return this.strip()},n.prototype.ishln=function(j){return r(this.negative===0),this.iushln(j)},n.prototype.iushrn=function(j,k,P){r(typeof j=="number"&&j>=0);var p;k?p=(k-k%26)/26:p=0;var d=j%26,h=Math.min((j-d)/26,this.length),b=67108863^67108863>>>d<<d,v=P;if(p-=h,p=Math.max(0,p),v){for(var w=0;w<h;w++)v.words[w]=this.words[w];v.length=h}if(h!==0)if(this.length>h)for(this.length-=h,w=0;w<this.length;w++)this.words[w]=this.words[w+h];else this.words[0]=0,this.length=1;var _=0;for(w=this.length-1;w>=0&&(_!==0||w>=p);w--){var D=this.words[w]|0;this.words[w]=_<<26-d|D>>>d,_=D&b}return v&&_!==0&&(v.words[v.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(j,k,P){return r(this.negative===0),this.iushrn(j,k,P)},n.prototype.shln=function(j){return this.clone().ishln(j)},n.prototype.ushln=function(j){return this.clone().iushln(j)},n.prototype.shrn=function(j){return this.clone().ishrn(j)},n.prototype.ushrn=function(j){return this.clone().iushrn(j)},n.prototype.testn=function(j){r(typeof j=="number"&&j>=0);var k=j%26,P=(j-k)/26,p=1<<k;if(this.length<=P)return!1;var d=this.words[P];return!!(d&p)},n.prototype.imaskn=function(j){r(typeof j=="number"&&j>=0);var k=j%26,P=(j-k)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=P)return this;if(k!==0&&P++,this.length=Math.min(P,this.length),k!==0){var p=67108863^67108863>>>k<<k;this.words[this.length-1]&=p}return this.strip()},n.prototype.maskn=function(j){return this.clone().imaskn(j)},n.prototype.iaddn=function(j){return r(typeof j=="number"),r(j<67108864),j<0?this.isubn(-j):this.negative!==0?this.length===1&&(this.words[0]|0)<j?(this.words[0]=j-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(j),this.negative=1,this):this._iaddn(j)},n.prototype._iaddn=function(j){this.words[0]+=j;for(var k=0;k<this.length&&this.words[k]>=67108864;k++)this.words[k]-=67108864,k===this.length-1?this.words[k+1]=1:this.words[k+1]++;return this.length=Math.max(this.length,k+1),this},n.prototype.isubn=function(j){if(r(typeof j=="number"),r(j<67108864),j<0)return this.iaddn(-j);if(this.negative!==0)return this.negative=0,this.iaddn(j),this.negative=1,this;if(this.words[0]-=j,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var k=0;k<this.length&&this.words[k]<0;k++)this.words[k]+=67108864,this.words[k+1]-=1;return this.strip()},n.prototype.addn=function(j){return this.clone().iaddn(j)},n.prototype.subn=function(j){return this.clone().isubn(j)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(j,k,P){var p=j.length+P,d;this._expand(p);var h,b=0;for(d=0;d<j.length;d++){h=(this.words[d+P]|0)+b;var v=(j.words[d]|0)*k;h-=v&67108863,b=(h>>26)-(v/67108864|0),this.words[d+P]=h&67108863}for(;d<this.length-P;d++)h=(this.words[d+P]|0)+b,b=h>>26,this.words[d+P]=h&67108863;if(b===0)return this.strip();for(r(b===-1),b=0,d=0;d<this.length;d++)h=-(this.words[d]|0)+b,b=h>>26,this.words[d]=h&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(j,k){var P=this.length-j.length,p=this.clone(),d=j,h=d.words[d.length-1]|0,b=this._countBits(h);P=26-b,P!==0&&(d=d.ushln(P),p.iushln(P),h=d.words[d.length-1]|0);var v=p.length-d.length,w;if(k!=="mod"){w=new n(null),w.length=v+1,w.words=new Array(w.length);for(var _=0;_<w.length;_++)w.words[_]=0}var D=p.clone()._ishlnsubmul(d,1,v);D.negative===0&&(p=D,w&&(w.words[v]=1));for(var S=v-1;S>=0;S--){var A=(p.words[d.length+S]|0)*67108864+(p.words[d.length+S-1]|0);for(A=Math.min(A/h|0,67108863),p._ishlnsubmul(d,A,S);p.negative!==0;)A--,p.negative=0,p._ishlnsubmul(d,1,S),p.isZero()||(p.negative^=1);w&&(w.words[S]=A)}return w&&w.strip(),p.strip(),k!=="div"&&P!==0&&p.iushrn(P),{div:w||null,mod:p}},n.prototype.divmod=function(j,k,P){if(r(!j.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var p,d,h;return this.negative!==0&&j.negative===0?(h=this.neg().divmod(j,k),k!=="mod"&&(p=h.div.neg()),k!=="div"&&(d=h.mod.neg(),P&&d.negative!==0&&d.iadd(j)),{div:p,mod:d}):this.negative===0&&j.negative!==0?(h=this.divmod(j.neg(),k),k!=="mod"&&(p=h.div.neg()),{div:p,mod:h.mod}):this.negative&j.negative?(h=this.neg().divmod(j.neg(),k),k!=="div"&&(d=h.mod.neg(),P&&d.negative!==0&&d.isub(j)),{div:h.div,mod:d}):j.length>this.length||this.cmp(j)<0?{div:new n(0),mod:this}:j.length===1?k==="div"?{div:this.divn(j.words[0]),mod:null}:k==="mod"?{div:null,mod:new n(this.modn(j.words[0]))}:{div:this.divn(j.words[0]),mod:new n(this.modn(j.words[0]))}:this._wordDiv(j,k)},n.prototype.div=function(j){return this.divmod(j,"div",!1).div},n.prototype.mod=function(j){return this.divmod(j,"mod",!1).mod},n.prototype.umod=function(j){return this.divmod(j,"mod",!0).mod},n.prototype.divRound=function(j){var k=this.divmod(j);if(k.mod.isZero())return k.div;var P=k.div.negative!==0?k.mod.isub(j):k.mod,p=j.ushrn(1),d=j.andln(1),h=P.cmp(p);return h<0||d===1&&h===0?k.div:k.div.negative!==0?k.div.isubn(1):k.div.iaddn(1)},n.prototype.modn=function(j){r(j<=67108863);for(var k=(1<<26)%j,P=0,p=this.length-1;p>=0;p--)P=(k*P+(this.words[p]|0))%j;return P},n.prototype.idivn=function(j){r(j<=67108863);for(var k=0,P=this.length-1;P>=0;P--){var p=(this.words[P]|0)+k*67108864;this.words[P]=p/j|0,k=p%j}return this.strip()},n.prototype.divn=function(j){return this.clone().idivn(j)},n.prototype.egcd=function(j){r(j.negative===0),r(!j.isZero());var k=this,P=j.clone();k.negative!==0?k=k.umod(j):k=k.clone();for(var p=new n(1),d=new n(0),h=new n(0),b=new n(1),v=0;k.isEven()&&P.isEven();)k.iushrn(1),P.iushrn(1),++v;for(var w=P.clone(),_=k.clone();!k.isZero();){for(var D=0,S=1;!(k.words[0]&S)&&D<26;++D,S<<=1);if(D>0)for(k.iushrn(D);D-- >0;)(p.isOdd()||d.isOdd())&&(p.iadd(w),d.isub(_)),p.iushrn(1),d.iushrn(1);for(var A=0,N=1;!(P.words[0]&N)&&A<26;++A,N<<=1);if(A>0)for(P.iushrn(A);A-- >0;)(h.isOdd()||b.isOdd())&&(h.iadd(w),b.isub(_)),h.iushrn(1),b.iushrn(1);k.cmp(P)>=0?(k.isub(P),p.isub(h),d.isub(b)):(P.isub(k),h.isub(p),b.isub(d))}return{a:h,b,gcd:P.iushln(v)}},n.prototype._invmp=function(j){r(j.negative===0),r(!j.isZero());var k=this,P=j.clone();k.negative!==0?k=k.umod(j):k=k.clone();for(var p=new n(1),d=new n(0),h=P.clone();k.cmpn(1)>0&&P.cmpn(1)>0;){for(var b=0,v=1;!(k.words[0]&v)&&b<26;++b,v<<=1);if(b>0)for(k.iushrn(b);b-- >0;)p.isOdd()&&p.iadd(h),p.iushrn(1);for(var w=0,_=1;!(P.words[0]&_)&&w<26;++w,_<<=1);if(w>0)for(P.iushrn(w);w-- >0;)d.isOdd()&&d.iadd(h),d.iushrn(1);k.cmp(P)>=0?(k.isub(P),p.isub(d)):(P.isub(k),d.isub(p))}var D;return k.cmpn(1)===0?D=p:D=d,D.cmpn(0)<0&&D.iadd(j),D},n.prototype.gcd=function(j){if(this.isZero())return j.abs();if(j.isZero())return this.abs();var k=this.clone(),P=j.clone();k.negative=0,P.negative=0;for(var p=0;k.isEven()&&P.isEven();p++)k.iushrn(1),P.iushrn(1);do{for(;k.isEven();)k.iushrn(1);for(;P.isEven();)P.iushrn(1);var d=k.cmp(P);if(d<0){var h=k;k=P,P=h}else if(d===0||P.cmpn(1)===0)break;k.isub(P)}while(!0);return P.iushln(p)},n.prototype.invm=function(j){return this.egcd(j).a.umod(j)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(j){return this.words[0]&j},n.prototype.bincn=function(j){r(typeof j=="number");var k=j%26,P=(j-k)/26,p=1<<k;if(this.length<=P)return this._expand(P+1),this.words[P]|=p,this;for(var d=p,h=P;d!==0&&h<this.length;h++){var b=this.words[h]|0;b+=d,d=b>>>26,b&=67108863,this.words[h]=b}return d!==0&&(this.words[h]=d,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(j){var k=j<0;if(this.negative!==0&&!k)return-1;if(this.negative===0&&k)return 1;this.strip();var P;if(this.length>1)P=1;else{k&&(j=-j),r(j<=67108863,"Number is too big");var p=this.words[0]|0;P=p===j?0:p<j?-1:1}return this.negative!==0?-P|0:P},n.prototype.cmp=function(j){if(this.negative!==0&&j.negative===0)return-1;if(this.negative===0&&j.negative!==0)return 1;var k=this.ucmp(j);return this.negative!==0?-k|0:k},n.prototype.ucmp=function(j){if(this.length>j.length)return 1;if(this.length<j.length)return-1;for(var k=0,P=this.length-1;P>=0;P--){var p=this.words[P]|0,d=j.words[P]|0;if(p!==d){p<d?k=-1:p>d&&(k=1);break}}return k},n.prototype.gtn=function(j){return this.cmpn(j)===1},n.prototype.gt=function(j){return this.cmp(j)===1},n.prototype.gten=function(j){return this.cmpn(j)>=0},n.prototype.gte=function(j){return this.cmp(j)>=0},n.prototype.ltn=function(j){return this.cmpn(j)===-1},n.prototype.lt=function(j){return this.cmp(j)===-1},n.prototype.lten=function(j){return this.cmpn(j)<=0},n.prototype.lte=function(j){return this.cmp(j)<=0},n.prototype.eqn=function(j){return this.cmpn(j)===0},n.prototype.eq=function(j){return this.cmp(j)===0},n.red=function(j){return new U(j)},n.prototype.toRed=function(j){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),j.convertTo(this)._forceRed(j)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(j){return this.red=j,this},n.prototype.forceRed=function(j){return r(!this.red,"Already a number in reduction context"),this._forceRed(j)},n.prototype.redAdd=function(j){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,j)},n.prototype.redIAdd=function(j){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,j)},n.prototype.redSub=function(j){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,j)},n.prototype.redISub=function(j){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,j)},n.prototype.redShl=function(j){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,j)},n.prototype.redMul=function(j){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.mul(this,j)},n.prototype.redIMul=function(j){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.imul(this,j)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(j){return r(this.red&&!j.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,j)};var M={k256:null,p224:null,p192:null,p25519:null};function I(L,j){this.name=L,this.p=new n(j,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}I.prototype._tmp=function(){var j=new n(null);return j.words=new Array(Math.ceil(this.n/13)),j},I.prototype.ireduce=function(j){var k=j,P;do this.split(k,this.tmp),k=this.imulK(k),k=k.iadd(this.tmp),P=k.bitLength();while(P>this.n);var p=P<this.n?-1:k.ucmp(this.p);return p===0?(k.words[0]=0,k.length=1):p>0?k.isub(this.p):k.strip!==void 0?k.strip():k._strip(),k},I.prototype.split=function(j,k){j.iushrn(this.n,0,k)},I.prototype.imulK=function(j){return j.imul(this.k)};function R(){I.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(R,I),R.prototype.split=function(j,k){for(var P=4194303,p=Math.min(j.length,9),d=0;d<p;d++)k.words[d]=j.words[d];if(k.length=p,j.length<=9){j.words[0]=0,j.length=1;return}var h=j.words[9];for(k.words[k.length++]=h&P,d=10;d<j.length;d++){var b=j.words[d]|0;j.words[d-10]=(b&P)<<4|h>>>22,h=b}h>>>=22,j.words[d-10]=h,h===0&&j.length>10?j.length-=10:j.length-=9},R.prototype.imulK=function(j){j.words[j.length]=0,j.words[j.length+1]=0,j.length+=2;for(var k=0,P=0;P<j.length;P++){var p=j.words[P]|0;k+=p*977,j.words[P]=k&67108863,k=p*64+(k/67108864|0)}return j.words[j.length-1]===0&&(j.length--,j.words[j.length-1]===0&&j.length--),j};function O(){I.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(O,I);function B(){I.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(B,I);function C(){I.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(C,I),C.prototype.imulK=function(j){for(var k=0,P=0;P<j.length;P++){var p=(j.words[P]|0)*19+k,d=p&67108863;p>>>=26,j.words[P]=d,k=p}return k!==0&&(j.words[j.length++]=k),j},n._prime=function(j){if(M[j])return M[j];var k;if(j==="k256")k=new R;else if(j==="p224")k=new O;else if(j==="p192")k=new B;else if(j==="p25519")k=new C;else throw new Error("Unknown prime "+j);return M[j]=k,k};function U(L){if(typeof L=="string"){var j=n._prime(L);this.m=j.p,this.prime=j}else r(L.gtn(1),"modulus must be greater than 1"),this.m=L,this.prime=null}U.prototype._verify1=function(j){r(j.negative===0,"red works only with positives"),r(j.red,"red works only with red numbers")},U.prototype._verify2=function(j,k){r((j.negative|k.negative)===0,"red works only with positives"),r(j.red&&j.red===k.red,"red works only with red numbers")},U.prototype.imod=function(j){return this.prime?this.prime.ireduce(j)._forceRed(this):j.umod(this.m)._forceRed(this)},U.prototype.neg=function(j){return j.isZero()?j.clone():this.m.sub(j)._forceRed(this)},U.prototype.add=function(j,k){this._verify2(j,k);var P=j.add(k);return P.cmp(this.m)>=0&&P.isub(this.m),P._forceRed(this)},U.prototype.iadd=function(j,k){this._verify2(j,k);var P=j.iadd(k);return P.cmp(this.m)>=0&&P.isub(this.m),P},U.prototype.sub=function(j,k){this._verify2(j,k);var P=j.sub(k);return P.cmpn(0)<0&&P.iadd(this.m),P._forceRed(this)},U.prototype.isub=function(j,k){this._verify2(j,k);var P=j.isub(k);return P.cmpn(0)<0&&P.iadd(this.m),P},U.prototype.shl=function(j,k){return this._verify1(j),this.imod(j.ushln(k))},U.prototype.imul=function(j,k){return this._verify2(j,k),this.imod(j.imul(k))},U.prototype.mul=function(j,k){return this._verify2(j,k),this.imod(j.mul(k))},U.prototype.isqr=function(j){return this.imul(j,j.clone())},U.prototype.sqr=function(j){return this.mul(j,j)},U.prototype.sqrt=function(j){if(j.isZero())return j.clone();var k=this.m.andln(3);if(r(k%2===1),k===3){var P=this.m.add(new n(1)).iushrn(2);return this.pow(j,P)}for(var p=this.m.subn(1),d=0;!p.isZero()&&p.andln(1)===0;)d++,p.iushrn(1);r(!p.isZero());var h=new n(1).toRed(this),b=h.redNeg(),v=this.m.subn(1).iushrn(1),w=this.m.bitLength();for(w=new n(2*w*w).toRed(this);this.pow(w,v).cmp(b)!==0;)w.redIAdd(b);for(var _=this.pow(w,p),D=this.pow(j,p.addn(1).iushrn(1)),S=this.pow(j,p),A=d;S.cmp(h)!==0;){for(var N=S,G=0;N.cmp(h)!==0;G++)N=N.redSqr();r(G<A);var Q=this.pow(_,new n(1).iushln(A-G-1));D=D.redMul(Q),_=Q.redSqr(),S=S.redMul(_),A=G}return D},U.prototype.invm=function(j){var k=j._invmp(this.m);return k.negative!==0?(k.negative=0,this.imod(k).redNeg()):this.imod(k)},U.prototype.pow=function(j,k){if(k.isZero())return new n(1).toRed(this);if(k.cmpn(1)===0)return j.clone();var P=4,p=new Array(1<<P);p[0]=new n(1).toRed(this),p[1]=j;for(var d=2;d<p.length;d++)p[d]=this.mul(p[d-1],j);var h=p[0],b=0,v=0,w=k.bitLength()%26;for(w===0&&(w=26),d=k.length-1;d>=0;d--){for(var _=k.words[d],D=w-1;D>=0;D--){var S=_>>D&1;if(h!==p[0]&&(h=this.sqr(h)),S===0&&b===0){v=0;continue}b<<=1,b|=S,v++,!(v!==P&&(d!==0||D!==0))&&(h=this.mul(h,p[b]),v=0,b=0)}w=26}return h},U.prototype.convertTo=function(j){var k=j.umod(this.m);return k===j?k.clone():k},U.prototype.convertFrom=function(j){var k=j.clone();return k.red=null,k},n.mont=function(j){return new W(j)};function W(L){U.call(this,L),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(W,U),W.prototype.convertTo=function(j){return this.imod(j.ushln(this.shift))},W.prototype.convertFrom=function(j){var k=this.imod(j.mul(this.rinv));return k.red=null,k},W.prototype.imul=function(j,k){if(j.isZero()||k.isZero())return j.words[0]=0,j.length=1,j;var P=j.imul(k),p=P.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=P.isub(p).iushrn(this.shift),h=d;return d.cmp(this.m)>=0?h=d.isub(this.m):d.cmpn(0)<0&&(h=d.iadd(this.m)),h._forceRed(this)},W.prototype.mul=function(j,k){if(j.isZero()||k.isZero())return new n(0)._forceRed(this);var P=j.mul(k),p=P.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=P.isub(p).iushrn(this.shift),h=d;return d.cmp(this.m)>=0?h=d.isub(this.m):d.cmpn(0)<0&&(h=d.iadd(this.m)),h._forceRed(this)},W.prototype.invm=function(j){var k=this.imod(j._invmp(this.m).mul(this.r2));return k._forceRed(this)}})(typeof yR>"u"||yR,wte)});var TE=de((ryt,bR)=>{F();var mR;bR.exports=function(e){return mR||(mR=new Hh(null)),mR.generate(e)};function Hh(t){this.rand=t}bR.exports.Rand=Hh;Hh.prototype.generate=function(e){return this._rand(e)};Hh.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),i=0;i<r.length;i++)r[i]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Hh.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Hh.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(Hh.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(gR=Ay(),typeof gR.randomBytes!="function")throw new Error("Not supported");Hh.prototype._rand=function(e){return gR.randomBytes(e)}}catch{}var gR});var vR=de((nyt,_te)=>{F();var My=Bo(),pTe=TE();function ky(t){this.rand=t||new pTe.Rand}_te.exports=ky;ky.create=function(e){return new ky(e)};ky.prototype._randbelow=function(e){var r=e.bitLength(),i=Math.ceil(r/8);do var n=new My(this.rand.generate(i));while(n.cmp(e)>=0);return n};ky.prototype._randrange=function(e,r){var i=r.sub(e);return e.add(this._randbelow(i))};ky.prototype.test=function(e,r,i){var n=e.bitLength(),s=My.mont(e),o=new My(1).toRed(s);r||(r=Math.max(1,n/48|0));for(var a=e.subn(1),f=0;!a.testn(f);f++);for(var c=e.shrn(f),u=a.toRed(s),l=!0;r>0;r--){var y=this._randrange(new My(2),a);i&&i(y);var m=y.toRed(s).redPow(c);if(!(m.cmp(o)===0||m.cmp(u)===0)){for(var g=1;g<f;g++){if(m=m.redSqr(),m.cmp(o)===0)return!1;if(m.cmp(u)===0)break}if(g===f)return!1}}return l};ky.prototype.getDivisor=function(e,r){var i=e.bitLength(),n=My.mont(e),s=new My(1).toRed(n);r||(r=Math.max(1,i/48|0));for(var o=e.subn(1),a=0;!o.testn(a);a++);for(var f=e.shrn(a),c=o.toRed(n);r>0;r--){var u=this._randrange(new My(2),o),l=e.gcd(u);if(l.cmpn(1)!==0)return l;var y=u.toRed(n).redPow(f);if(!(y.cmp(s)===0||y.cmp(c)===0)){for(var m=1;m<a;m++){if(y=y.redSqr(),y.cmp(s)===0)return y.fromRed().subn(1).gcd(e);if(y.cmp(c)===0)break}if(m===a)return y=y.redSqr(),y.fromRed().subn(1).gcd(e)}}return!1}});var AR=de((cyt,xte)=>{F();var yTe=X0();xte.exports=xR;xR.simpleSieve=ER;xR.fermatTest=SR;var _s=Bo(),mTe=new _s(24),gTe=vR(),Ete=new gTe,bTe=new _s(1),_R=new _s(2),vTe=new _s(5),syt=new _s(16),ayt=new _s(8),wTe=new _s(10),_Te=new _s(3),fyt=new _s(7),ETe=new _s(11),Ste=new _s(4),uyt=new _s(12),wR=null;function STe(){if(wR!==null)return wR;var t=1048576,e=[];e[0]=2;for(var r=1,i=3;i<t;i+=2){for(var n=Math.ceil(Math.sqrt(i)),s=0;s<r&&e[s]<=n&&i%e[s]!==0;s++);r!==s&&e[s]<=n||(e[r++]=i)}return wR=e,e}function ER(t){for(var e=STe(),r=0;r<e.length;r++)if(t.modn(e[r])===0)return t.cmpn(e[r])===0;return!0}function SR(t){var e=_s.mont(t);return _R.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)===0}function xR(t,e){if(t<16)return e===2||e===5?new _s([140,123]):new _s([140,39]);e=new _s(e);for(var r,i;;){for(r=new _s(yTe(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(bTe),r.testn(1)||r.iadd(_R),e.cmp(_R)){if(!e.cmp(vTe))for(;r.mod(wTe).cmp(_Te);)r.iadd(Ste)}else for(;r.mod(mTe).cmp(ETe);)r.iadd(Ste);if(i=r.shrn(1),ER(i)&&ER(r)&&SR(i)&&SR(r)&&Ete.test(i)&&Ete.test(r))return r}}});var Ate=de((dyt,xTe)=>{xTe.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}});var Pte=de((hyt,Tte)=>{F();var Yf=Bo(),ATe=vR(),Mte=new ATe,MTe=new Yf(24),kTe=new Yf(11),TTe=new Yf(10),PTe=new Yf(3),DTe=new Yf(7),kte=AR(),ITe=X0();Tte.exports=dd;function RTe(t,e){return e=e||"utf8",te.Buffer.isBuffer(t)||(t=new te.Buffer(t,e)),this._pub=new Yf(t),this}function BTe(t,e){return e=e||"utf8",te.Buffer.isBuffer(t)||(t=new te.Buffer(t,e)),this._priv=new Yf(t),this}var PE={};function CTe(t,e){var r=e.toString("hex"),i=[r,t.toString(16)].join("_");if(i in PE)return PE[i];var n=0;if(t.isEven()||!kte.simpleSieve||!kte.fermatTest(t)||!Mte.test(t))return n+=1,r==="02"||r==="05"?n+=8:n+=4,PE[i]=n,n;Mte.test(t.shrn(1))||(n+=2);var s;switch(r){case"02":t.mod(MTe).cmp(kTe)&&(n+=8);break;case"05":s=t.mod(TTe),s.cmp(PTe)&&s.cmp(DTe)&&(n+=8);break;default:n+=4}return PE[i]=n,n}function dd(t,e,r){this.setGenerator(e),this.__prime=new Yf(t),this._prime=Yf.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=RTe,this.setPrivateKey=BTe):this._primeCode=8}Object.defineProperty(dd.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=CTe(this.__prime,this.__gen)),this._primeCode}});dd.prototype.generateKeys=function(){return this._priv||(this._priv=new Yf(ITe(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()};dd.prototype.computeSecret=function(t){t=new Yf(t),t=t.toRed(this._prime);var e=t.redPow(this._priv).fromRed(),r=new te.Buffer(e.toArray()),i=this.getPrime();if(r.length<i.length){var n=new te.Buffer(i.length-r.length);n.fill(0),r=te.Buffer.concat([n,r])}return r};dd.prototype.getPublicKey=function(e){return DE(this._pub,e)};dd.prototype.getPrivateKey=function(e){return DE(this._priv,e)};dd.prototype.getPrime=function(t){return DE(this.__prime,t)};dd.prototype.getGenerator=function(t){return DE(this._gen,t)};dd.prototype.setGenerator=function(t,e){return e=e||"utf8",te.Buffer.isBuffer(t)||(t=new te.Buffer(t,e)),this.__gen=t,this._gen=new Yf(t),this};function DE(t,e){var r=new te.Buffer(t.toArray());return e?r.toString(e):r}});var Rte=de(k1=>{F();var OTe=AR(),Dte=Ate(),MR=Pte();function jTe(t){var e=new te.Buffer(Dte[t].prime,"hex"),r=new te.Buffer(Dte[t].gen,"hex");return new MR(e,r)}var LTe={binary:!0,hex:!0,base64:!0};function Ite(t,e,r,i){return te.Buffer.isBuffer(e)||LTe[e]===void 0?Ite(t,"binary",e,r):(e=e||"binary",i=i||"binary",r=r||new te.Buffer([2]),te.Buffer.isBuffer(r)||(r=new te.Buffer(r,i)),typeof t=="number"?new MR(OTe(t,r),r,!0):(te.Buffer.isBuffer(t)||(t=new te.Buffer(t,e)),new MR(t,r,!0)))}k1.DiffieHellmanGroup=k1.createDiffieHellmanGroup=k1.getDiffieHellman=jTe;k1.createDiffieHellman=k1.DiffieHellman=Ite});var RE=de((kR,Cte)=>{F();var IE=ki(),Uc=IE.Buffer;function Bte(t,e){for(var r in t)e[r]=t[r]}Uc.from&&Uc.alloc&&Uc.allocUnsafe&&Uc.allocUnsafeSlow?Cte.exports=IE:(Bte(IE,kR),kR.Buffer=Ty);function Ty(t,e,r){return Uc(t,e,r)}Ty.prototype=Object.create(Uc.prototype);Bte(Uc,Ty);Ty.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Uc(t,e,r)};Ty.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=Uc(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};Ty.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Uc(t)};Ty.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return IE.SlowBuffer(t)}});var TR=de((byt,Ote)=>{F();Ote.exports=Pf().EventEmitter});var Fte=de((wyt,zte)=>{"use strict";F();function jte(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function Lte(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jte(Object(r),!0).forEach(function(i){NTe(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jte(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function NTe(t,e,r){return e=qte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nte(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,qte(i.key),i)}}function zTe(t,e,r){return e&&Nte(t.prototype,e),r&&Nte(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qte(t){var e=FTe(t,"string");return typeof e=="symbol"?e:String(e)}function FTe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UTe=ki(),BE=UTe.Buffer,$Te=oy(),PR=$Te.inspect,VTe=PR&&PR.custom||"inspect";function KTe(t,e,r){BE.prototype.copy.call(t,e,r)}zte.exports=function(){function t(){qTe(this,t),this.head=null,this.tail=null,this.length=0}return zTe(t,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return BE.alloc(0);for(var i=BE.allocUnsafe(r>>>0),n=this.head,s=0;n;)KTe(n.data,i,s),s+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,s=i.data;for(r-=s.length;i=i.next;){var o=i.data,a=r>o.length?o.length:r;if(a===o.length?s+=o:s+=o.slice(0,r),r-=a,r===0){a===o.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(a));break}++n}return this.length-=n,s}},{key:"_getBuffer",value:function(r){var i=BE.allocUnsafe(r),n=this.head,s=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var o=n.data,a=r>o.length?o.length:r;if(o.copy(i,i.length-r,0,a),r-=a,r===0){a===o.length?(++s,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++s}return this.length-=s,i}},{key:VTe,value:function(r,i){return PR(this,Lte(Lte({},i),{},{depth:0,customInspect:!1}))}}]),t}()});var IR=de((Eyt,$te)=>{"use strict";F();function HTe(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,J.default.nextTick(DR,this,t)):J.default.nextTick(DR,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?J.default.nextTick(CE,r):(r._writableState.errorEmitted=!0,J.default.nextTick(Ute,r,s)):J.default.nextTick(Ute,r,s):e?(J.default.nextTick(CE,r),e(s)):J.default.nextTick(CE,r)}),this)}function Ute(t,e){DR(t,e),CE(t)}function CE(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function WTe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function DR(t,e){t.emit("error",e)}function YTe(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}$te.exports={destroy:HTe,undestroy:WTe,errorOrDestroy:YTe}});var Py=de((xyt,Hte)=>{"use strict";F();function ZTe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Kte={};function Zf(t,e,r){r||(r=Error);function i(s,o,a){return typeof e=="string"?e:e(s,o,a)}var n=function(s){ZTe(o,s);function o(a,f,c){return s.call(this,i(a,f,c))||this}return o}(r);n.prototype.name=r.name,n.prototype.code=t,Kte[t]=n}function Vte(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(i){return String(i)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function GTe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function JTe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function XTe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Zf("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Zf("ERR_INVALID_ARG_TYPE",function(t,e,r){var i;typeof e=="string"&&GTe(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";var n;if(JTe(t," argument"))n="The ".concat(t," ").concat(i," ").concat(Vte(e,"type"));else{var s=XTe(t,".")?"property":"argument";n='The "'.concat(t,'" ').concat(s," ").concat(i," ").concat(Vte(e,"type"))}return n+=". Received type ".concat(typeof r),n},TypeError);Zf("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Zf("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Zf("ERR_STREAM_PREMATURE_CLOSE","Premature close");Zf("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Zf("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Zf("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Zf("ERR_STREAM_WRITE_AFTER_END","write after end");Zf("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Zf("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Zf("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Hte.exports.codes=Kte});var RR=de((Myt,Wte)=>{"use strict";F();var QTe=Py().codes.ERR_INVALID_OPT_VALUE;function ePe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function tPe(t,e,r,i){var n=ePe(e,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var s=i?r:"highWaterMark";throw new QTe(s,n)}return Math.floor(n)}return t.objectMode?16:16*1024}Wte.exports={getHighWaterMark:tPe}});var OR=de((Tyt,Qte)=>{"use strict";F();Qte.exports=Fn;function Zte(t){var e=this;this.next=null,this.entry=null,this.finish=function(){TPe(e,t)}}var T1;Fn.WritableState=f3;var rPe={deprecate:T5()},Gte=TR(),jE=ki().Buffer,iPe=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function nPe(t){return jE.from(t)}function oPe(t){return jE.isBuffer(t)||t instanceof iPe}var CR=IR(),sPe=RR(),aPe=sPe.getHighWaterMark,Wh=Py().codes,fPe=Wh.ERR_INVALID_ARG_TYPE,uPe=Wh.ERR_METHOD_NOT_IMPLEMENTED,cPe=Wh.ERR_MULTIPLE_CALLBACK,lPe=Wh.ERR_STREAM_CANNOT_PIPE,dPe=Wh.ERR_STREAM_DESTROYED,hPe=Wh.ERR_STREAM_NULL_VALUES,pPe=Wh.ERR_STREAM_WRITE_AFTER_END,yPe=Wh.ERR_UNKNOWN_ENCODING,P1=CR.errorOrDestroy;qt()(Fn,Gte);function mPe(){}function f3(t,e,r){T1=T1||Dy(),t=t||{},typeof r!="boolean"&&(r=e instanceof T1),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=aPe(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=t.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){SPe(e,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Zte(this)}f3.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(f3.prototype,"buffer",{get:rPe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var OE;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(OE=Function.prototype[Symbol.hasInstance],Object.defineProperty(Fn,Symbol.hasInstance,{value:function(e){return OE.call(this,e)?!0:this!==Fn?!1:e&&e._writableState instanceof f3}})):OE=function(e){return e instanceof this};function Fn(t){T1=T1||Dy();var e=this instanceof T1;if(!e&&!OE.call(Fn,this))return new Fn(t);this._writableState=new f3(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),Gte.call(this)}Fn.prototype.pipe=function(){P1(this,new lPe)};function gPe(t,e){var r=new pPe;P1(t,r),J.default.nextTick(e,r)}function bPe(t,e,r,i){var n;return r===null?n=new hPe:typeof r!="string"&&!e.objectMode&&(n=new fPe("chunk",["string","Buffer"],r)),n?(P1(t,n),J.default.nextTick(i,n),!1):!0}Fn.prototype.write=function(t,e,r){var i=this._writableState,n=!1,s=!i.objectMode&&oPe(t);return s&&!jE.isBuffer(t)&&(t=nPe(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=mPe),i.ending?gPe(this,r):(s||bPe(this,i,t,r))&&(i.pendingcb++,n=wPe(this,i,s,t,e,r)),n};Fn.prototype.cork=function(){this._writableState.corked++};Fn.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&Jte(this,t))};Fn.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new yPe(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Fn.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function vPe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=jE.from(e,r)),e}Object.defineProperty(Fn.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function wPe(t,e,r,i,n,s){if(!r){var o=vPe(e,i,n);i!==o&&(r=!0,n="buffer",i=o)}var a=e.objectMode?1:i.length;e.length+=a;var f=e.length<e.highWaterMark;if(f||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else BR(t,e,!1,a,i,n,s);return f}function BR(t,e,r,i,n,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new dPe("write")):r?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function _Pe(t,e,r,i,n){--e.pendingcb,r?(J.default.nextTick(n,i),J.default.nextTick(a3,t,e),t._writableState.errorEmitted=!0,P1(t,i)):(n(i),t._writableState.errorEmitted=!0,P1(t,i),a3(t,e))}function EPe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function SPe(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new cPe;if(EPe(r),e)_Pe(t,r,i,e,n);else{var s=Xte(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Jte(t,r),i?J.default.nextTick(Yte,t,r,s,n):Yte(t,r,s,n)}}function Yte(t,e,r,i){r||xPe(t,e),e.pendingcb--,i(),a3(t,e)}function xPe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function Jte(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)n[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;n.allBuffers=a,BR(t,e,!0,e.length,n,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new Zte(e),e.bufferedRequestCount=0}else{for(;r;){var f=r.chunk,c=r.encoding,u=r.callback,l=e.objectMode?1:f.length;if(BR(t,e,!1,l,f,c,u),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Fn.prototype._write=function(t,e,r){r(new uPe("_write()"))};Fn.prototype._writev=null;Fn.prototype.end=function(t,e,r){var i=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||kPe(this,i,r),this};Object.defineProperty(Fn.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Xte(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function APe(t,e){t._final(function(r){e.pendingcb--,r&&P1(t,r),e.prefinished=!0,t.emit("prefinish"),a3(t,e)})}function MPe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,J.default.nextTick(APe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function a3(t,e){var r=Xte(e);if(r&&(MPe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}function kPe(t,e,r){e.ending=!0,a3(t,e),r&&(e.finished?J.default.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function TPe(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}Object.defineProperty(Fn.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});Fn.prototype.destroy=CR.destroy;Fn.prototype._undestroy=CR.undestroy;Fn.prototype._destroy=function(t,e){e(t)}});var Dy=de((Dyt,tre)=>{"use strict";F();var PPe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};tre.exports=$c;var ere=NR(),LR=OR();qt()($c,ere);for(jR=PPe(LR.prototype),LE=0;LE<jR.length;LE++)NE=jR[LE],$c.prototype[NE]||($c.prototype[NE]=LR.prototype[NE]);var jR,NE,LE;function $c(t){if(!(this instanceof $c))return new $c(t);ere.call(this,t),LR.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",DPe)))}Object.defineProperty($c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty($c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty($c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function DPe(){this._writableState.ended||J.default.nextTick(IPe,this)}function IPe(t){t.end()}Object.defineProperty($c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var qE=de((Ryt,nre)=>{"use strict";F();var rre=Py().codes.ERR_STREAM_PREMATURE_CLOSE;function RPe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}function BPe(){}function CPe(t){return t.setHeader&&typeof t.abort=="function"}function ire(t,e,r){if(typeof e=="function")return ire(t,null,e);e||(e={}),r=RPe(r||BPe);var i=e.readable||e.readable!==!1&&t.readable,n=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){n=!1,o=!0,i||r.call(t)},f=t._readableState&&t._readableState.endEmitted,c=function(){i=!1,f=!0,n||r.call(t)},u=function(g){r.call(t,g)},l=function(){var g;if(i&&!f)return(!t._readableState||!t._readableState.ended)&&(g=new rre),r.call(t,g);if(n&&!o)return(!t._writableState||!t._writableState.ended)&&(g=new rre),r.call(t,g)},y=function(){t.req.on("finish",a)};return CPe(t)?(t.on("complete",a),t.on("abort",l),t.req?y():t.on("request",y)):n&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",c),t.on("finish",a),e.error!==!1&&t.on("error",u),t.on("close",l),function(){t.removeListener("complete",a),t.removeListener("abort",l),t.removeListener("request",y),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",c),t.removeListener("error",u),t.removeListener("close",l)}}nre.exports=ire});var sre=de((Cyt,ore)=>{"use strict";F();var zE;function Yh(t,e,r){return e=OPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OPe(t){var e=jPe(t,"string");return typeof e=="symbol"?e:String(e)}function jPe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LPe=qE(),Zh=Symbol("lastResolve"),Iy=Symbol("lastReject"),u3=Symbol("error"),FE=Symbol("ended"),Ry=Symbol("lastPromise"),qR=Symbol("handlePromise"),By=Symbol("stream");function Gh(t,e){return{value:t,done:e}}function NPe(t){var e=t[Zh];if(e!==null){var r=t[By].read();r!==null&&(t[Ry]=null,t[Zh]=null,t[Iy]=null,e(Gh(r,!1)))}}function qPe(t){J.default.nextTick(NPe,t)}function zPe(t,e){return function(r,i){t.then(function(){if(e[FE]){r(Gh(void 0,!0));return}e[qR](r,i)},i)}}var FPe=Object.getPrototypeOf(function(){}),UPe=Object.setPrototypeOf((zE={get stream(){return this[By]},next:function(){var e=this,r=this[u3];if(r!==null)return Promise.reject(r);if(this[FE])return Promise.resolve(Gh(void 0,!0));if(this[By].destroyed)return new Promise(function(o,a){J.default.nextTick(function(){e[u3]?a(e[u3]):o(Gh(void 0,!0))})});var i=this[Ry],n;if(i)n=new Promise(zPe(i,this));else{var s=this[By].read();if(s!==null)return Promise.resolve(Gh(s,!1));n=new Promise(this[qR])}return this[Ry]=n,n}},Yh(zE,Symbol.asyncIterator,function(){return this}),Yh(zE,"return",function(){var e=this;return new Promise(function(r,i){e[By].destroy(null,function(n){if(n){i(n);return}r(Gh(void 0,!0))})})}),zE),FPe),$Pe=function(e){var r,i=Object.create(UPe,(r={},Yh(r,By,{value:e,writable:!0}),Yh(r,Zh,{value:null,writable:!0}),Yh(r,Iy,{value:null,writable:!0}),Yh(r,u3,{value:null,writable:!0}),Yh(r,FE,{value:e._readableState.endEmitted,writable:!0}),Yh(r,qR,{value:function(s,o){var a=i[By].read();a?(i[Ry]=null,i[Zh]=null,i[Iy]=null,s(Gh(a,!1))):(i[Zh]=s,i[Iy]=o)},writable:!0}),r));return i[Ry]=null,LPe(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=i[Iy];s!==null&&(i[Ry]=null,i[Zh]=null,i[Iy]=null,s(n)),i[u3]=n;return}var o=i[Zh];o!==null&&(i[Ry]=null,i[Zh]=null,i[Iy]=null,o(Gh(void 0,!0))),i[FE]=!0}),e.on("readable",qPe.bind(null,i)),i};ore.exports=$Pe});var fre=de((jyt,are)=>{F();are.exports=function(){throw new Error("Readable.from is not available in the browser")}});var NR=de((qyt,bre)=>{"use strict";F();bre.exports=pi;var D1;pi.ReadableState=dre;var Nyt=Pf().EventEmitter,lre=function(e,r){return e.listeners(r).length},l3=TR(),UE=ki().Buffer,VPe=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function KPe(t){return UE.from(t)}function HPe(t){return UE.isBuffer(t)||t instanceof VPe}var zR=oy(),kr;zR&&zR.debuglog?kr=zR.debuglog("stream"):kr=function(){};var WPe=Fte(),WR=IR(),YPe=RR(),ZPe=YPe.getHighWaterMark,$E=Py().codes,GPe=$E.ERR_INVALID_ARG_TYPE,JPe=$E.ERR_STREAM_PUSH_AFTER_EOF,XPe=$E.ERR_METHOD_NOT_IMPLEMENTED,QPe=$E.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,I1,FR,UR;qt()(pi,l3);var c3=WR.errorOrDestroy,$R=["error","close","destroy","pause","resume"];function eDe(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function dre(t,e,r){D1=D1||Dy(),t=t||{},typeof r!="boolean"&&(r=e instanceof D1),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=ZPe(this,t,"readableHighWaterMark",r),this.buffer=new WPe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(I1||(I1=Xl().StringDecoder),this.decoder=new I1(t.encoding),this.encoding=t.encoding)}function pi(t){if(D1=D1||Dy(),!(this instanceof pi))return new pi(t);var e=this instanceof D1;this._readableState=new dre(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),l3.call(this)}Object.defineProperty(pi.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});pi.prototype.destroy=WR.destroy;pi.prototype._undestroy=WR.undestroy;pi.prototype._destroy=function(t,e){e(t)};pi.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=UE.from(t,e),e=""),i=!0),hre(this,t,e,!1,i)};pi.prototype.unshift=function(t){return hre(this,t,null,!0,!1)};function hre(t,e,r,i,n){kr("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,iDe(t,s);else{var o;if(n||(o=tDe(s,e)),o)c3(t,o);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==UE.prototype&&(e=KPe(e)),i)s.endEmitted?c3(t,new QPe):VR(t,s,e,!0);else if(s.ended)c3(t,new JPe);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?VR(t,s,e,!1):HR(t,s)):VR(t,s,e,!1)}else i||(s.reading=!1,HR(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function VR(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&VE(t)),HR(t,e)}function tDe(t,e){var r;return!HPe(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new GPe("chunk",["string","Buffer","Uint8Array"],e)),r}pi.prototype.isPaused=function(){return this._readableState.flowing===!1};pi.prototype.setEncoding=function(t){I1||(I1=Xl().StringDecoder);var e=new I1(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var ure=1073741824;function rDe(t){return t>=ure?t=ure:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function cre(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=rDe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}pi.prototype.read=function(t){kr("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return kr("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?KR(this):VE(this),null;if(t=cre(t,e),t===0&&e.ended)return e.length===0&&KR(this),null;var i=e.needReadable;kr("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,kr("length less than watermark",i)),e.ended||e.reading?(i=!1,kr("reading or ended",i)):i&&(kr("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=cre(r,e)));var n;return t>0?n=mre(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&KR(this)),n!==null&&this.emit("data",n),n};function iDe(t,e){if(kr("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?VE(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,pre(t)))}}function VE(t){var e=t._readableState;kr("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(kr("emitReadable",e.flowing),e.emittedReadable=!0,J.default.nextTick(pre,t))}function pre(t){var e=t._readableState;kr("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,YR(t)}function HR(t,e){e.readingMore||(e.readingMore=!0,J.default.nextTick(nDe,t,e))}function nDe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(kr("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}pi.prototype._read=function(t){c3(this,new XPe("_read()"))};pi.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,kr("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==J.default.stdout&&t!==J.default.stderr,s=n?a:E;i.endEmitted?J.default.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(x,T){kr("onunpipe"),x===r&&T&&T.hasUnpiped===!1&&(T.hasUnpiped=!0,u())}function a(){kr("onend"),t.end()}var f=oDe(r);t.on("drain",f);var c=!1;function u(){kr("cleanup"),t.removeListener("close",m),t.removeListener("finish",g),t.removeListener("drain",f),t.removeListener("error",y),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",E),r.removeListener("data",l),c=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&f()}r.on("data",l);function l(x){kr("ondata");var T=t.write(x);kr("dest.write",T),T===!1&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&gre(i.pipes,t)!==-1)&&!c&&(kr("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function y(x){kr("onerror",x),E(),t.removeListener("error",y),lre(t,"error")===0&&c3(t,x)}eDe(t,"error",y);function m(){t.removeListener("finish",g),E()}t.once("close",m);function g(){kr("onfinish"),t.removeListener("close",m),E()}t.once("finish",g);function E(){kr("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(kr("pipe resume"),r.resume()),t};function oDe(t){return function(){var r=t._readableState;kr("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&lre(t,"data")&&(r.flowing=!0,YR(t))}}pi.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=gre(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};pi.prototype.on=function(t,e){var r=l3.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,kr("on readable",i.length,i.reading),i.length?VE(this):i.reading||J.default.nextTick(sDe,this)),r};pi.prototype.addListener=pi.prototype.on;pi.prototype.removeListener=function(t,e){var r=l3.prototype.removeListener.call(this,t,e);return t==="readable"&&J.default.nextTick(yre,this),r};pi.prototype.removeAllListeners=function(t){var e=l3.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&J.default.nextTick(yre,this),e};function yre(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function sDe(t){kr("readable nexttick read 0"),t.read(0)}pi.prototype.resume=function(){var t=this._readableState;return t.flowing||(kr("resume"),t.flowing=!t.readableListening,aDe(this,t)),t.paused=!1,this};function aDe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,J.default.nextTick(fDe,t,e))}function fDe(t,e){kr("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),YR(t),e.flowing&&!e.reading&&t.read(0)}pi.prototype.pause=function(){return kr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(kr("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function YR(t){var e=t._readableState;for(kr("flow",e.flowing);e.flowing&&t.read()!==null;);}pi.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(kr("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(kr("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(a){return function(){return t[a].apply(t,arguments)}}(n));for(var s=0;s<$R.length;s++)t.on($R[s],this.emit.bind(this,$R[s]));return this._read=function(o){kr("wrapped _read",o),i&&(i=!1,t.resume())},this};typeof Symbol=="function"&&(pi.prototype[Symbol.asyncIterator]=function(){return FR===void 0&&(FR=sre()),FR(this)});Object.defineProperty(pi.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(pi.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(pi.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});pi._fromList=mre;Object.defineProperty(pi.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function mre(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function KR(t){var e=t._readableState;kr("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,J.default.nextTick(uDe,e,t))}function uDe(t,e){if(kr("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(pi.from=function(t,e){return UR===void 0&&(UR=fre()),UR(pi,t,e)});function gre(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var ZR=de((Fyt,wre)=>{"use strict";F();wre.exports=hd;var KE=Py().codes,cDe=KE.ERR_METHOD_NOT_IMPLEMENTED,lDe=KE.ERR_MULTIPLE_CALLBACK,dDe=KE.ERR_TRANSFORM_ALREADY_TRANSFORMING,hDe=KE.ERR_TRANSFORM_WITH_LENGTH_0,HE=Dy();qt()(hd,HE);function pDe(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new lDe);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function hd(t){if(!(this instanceof hd))return new hd(t);HE.call(this,t),this._transformState={afterTransform:pDe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",yDe)}function yDe(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){vre(t,e,r)}):vre(this,null,null)}hd.prototype.push=function(t,e){return this._transformState.needTransform=!1,HE.prototype.push.call(this,t,e)};hd.prototype._transform=function(t,e,r){r(new cDe("_transform()"))};hd.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};hd.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};hd.prototype._destroy=function(t,e){HE.prototype._destroy.call(this,t,function(r){e(r)})};function vre(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new hDe;if(t._transformState.transforming)throw new dDe;return t.push(null)}});var Sre=de(($yt,Ere)=>{"use strict";F();Ere.exports=d3;var _re=ZR();qt()(d3,_re);function d3(t){if(!(this instanceof d3))return new d3(t);_re.call(this,t)}d3.prototype._transform=function(t,e,r){r(null,t)}});var Tre=de((Kyt,kre)=>{"use strict";F();var GR;function mDe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Mre=Py().codes,gDe=Mre.ERR_MISSING_ARGS,bDe=Mre.ERR_STREAM_DESTROYED;function xre(t){if(t)throw t}function vDe(t){return t.setHeader&&typeof t.abort=="function"}function wDe(t,e,r,i){i=mDe(i);var n=!1;t.on("close",function(){n=!0}),GR===void 0&&(GR=qE()),GR(t,{readable:e,writable:r},function(o){if(o)return i(o);n=!0,i()});var s=!1;return function(o){if(!n&&!s){if(s=!0,vDe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();i(o||new bDe("pipe"))}}}function Are(t){t()}function _De(t,e){return t.pipe(e)}function EDe(t){return!t.length||typeof t[t.length-1]!="function"?xre:t.pop()}function SDe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=EDe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new gDe("streams");var n,s=e.map(function(o,a){var f=a<e.length-1,c=a>0;return wDe(o,f,c,function(u){n||(n=u),u&&s.forEach(Are),!f&&(s.forEach(Are),i(n))})});return e.reduce(_De)}kre.exports=SDe});var Dre=de((Gf,Pre)=>{F();Gf=Pre.exports=NR();Gf.Stream=Gf;Gf.Readable=Gf;Gf.Writable=OR();Gf.Duplex=Dy();Gf.Transform=ZR();Gf.PassThrough=Sre();Gf.finished=qE();Gf.pipeline=Tre()});var Rre=de((Ire,JR)=>{F();(function(t,e){"use strict";function r(P,p){if(!P)throw new Error(p||"Assertion failed")}function i(P,p){P.super_=p;var d=function(){};d.prototype=p.prototype,P.prototype=new d,P.prototype.constructor=P}function n(P,p,d){if(n.isBN(P))return P;this.negative=0,this.words=null,this.length=0,this.red=null,P!==null&&((p==="le"||p==="be")&&(d=p,p=10),this._init(P||0,p||10,d||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=ki().Buffer}catch{}n.isBN=function(p){return p instanceof n?!0:p!==null&&typeof p=="object"&&p.constructor.wordSize===n.wordSize&&Array.isArray(p.words)},n.max=function(p,d){return p.cmp(d)>0?p:d},n.min=function(p,d){return p.cmp(d)<0?p:d},n.prototype._init=function(p,d,h){if(typeof p=="number")return this._initNumber(p,d,h);if(typeof p=="object")return this._initArray(p,d,h);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),p=p.toString().replace(/\s+/g,"");var b=0;p[0]==="-"&&(b++,this.negative=1),b<p.length&&(d===16?this._parseHex(p,b,h):(this._parseBase(p,d,b),h==="le"&&this._initArray(this.toArray(),d,h)))},n.prototype._initNumber=function(p,d,h){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[p&67108863],this.length=1):p<4503599627370496?(this.words=[p&67108863,p/67108864&67108863],this.length=2):(r(p<9007199254740992),this.words=[p&67108863,p/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),d,h)},n.prototype._initArray=function(p,d,h){if(r(typeof p.length=="number"),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var v,w,_=0;if(h==="be")for(b=p.length-1,v=0;b>=0;b-=3)w=p[b]|p[b-1]<<8|p[b-2]<<16,this.words[v]|=w<<_&67108863,this.words[v+1]=w>>>26-_&67108863,_+=24,_>=26&&(_-=26,v++);else if(h==="le")for(b=0,v=0;b<p.length;b+=3)w=p[b]|p[b+1]<<8|p[b+2]<<16,this.words[v]|=w<<_&67108863,this.words[v+1]=w>>>26-_&67108863,_+=24,_>=26&&(_-=26,v++);return this._strip()};function o(P,p){var d=P.charCodeAt(p);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;r(!1,"Invalid character in "+P)}function a(P,p,d){var h=o(P,d);return d-1>=p&&(h|=o(P,d-1)<<4),h}n.prototype._parseHex=function(p,d,h){this.length=Math.ceil((p.length-d)/6),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var v=0,w=0,_;if(h==="be")for(b=p.length-1;b>=d;b-=2)_=a(p,d,b)<<v,this.words[w]|=_&67108863,v>=18?(v-=18,w+=1,this.words[w]|=_>>>26):v+=8;else{var D=p.length-d;for(b=D%2===0?d+1:d;b<p.length;b+=2)_=a(p,d,b)<<v,this.words[w]|=_&67108863,v>=18?(v-=18,w+=1,this.words[w]|=_>>>26):v+=8}this._strip()};function f(P,p,d,h){for(var b=0,v=0,w=Math.min(P.length,d),_=p;_<w;_++){var D=P.charCodeAt(_)-48;b*=h,D>=49?v=D-49+10:D>=17?v=D-17+10:v=D,r(D>=0&&v<h,"Invalid character"),b+=v}return b}n.prototype._parseBase=function(p,d,h){this.words=[0],this.length=1;for(var b=0,v=1;v<=67108863;v*=d)b++;b--,v=v/d|0;for(var w=p.length-h,_=w%b,D=Math.min(w,w-_)+h,S=0,A=h;A<D;A+=b)S=f(p,A,A+b,d),this.imuln(v),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S);if(_!==0){var N=1;for(S=f(p,A,p.length,d),A=0;A<_;A++)N*=d;this.imuln(N),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S)}this._strip()},n.prototype.copy=function(p){p.words=new Array(this.length);for(var d=0;d<this.length;d++)p.words[d]=this.words[d];p.length=this.length,p.negative=this.negative,p.red=this.red};function c(P,p){P.words=p.words,P.length=p.length,P.negative=p.negative,P.red=p.red}if(n.prototype._move=function(p){c(p,this)},n.prototype.clone=function(){var p=new n(null);return this.copy(p),p},n.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch{n.prototype.inspect=u}else n.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(p,d){p=p||10,d=d|0||1;var h;if(p===16||p==="hex"){h="";for(var b=0,v=0,w=0;w<this.length;w++){var _=this.words[w],D=((_<<b|v)&16777215).toString(16);v=_>>>24-b&16777215,b+=2,b>=26&&(b-=26,w--),v!==0||w!==this.length-1?h=l[6-D.length]+D+h:h=D+h}for(v!==0&&(h=v.toString(16)+h);h.length%d!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(p===(p|0)&&p>=2&&p<=36){var S=y[p],A=m[p];h="";var N=this.clone();for(N.negative=0;!N.isZero();){var G=N.modrn(A).toString(p);N=N.idivn(A),N.isZero()?h=G+h:h=l[S-G.length]+G+h}for(this.isZero()&&(h="0"+h);h.length%d!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=this.words[1]*67108864:this.length===3&&this.words[2]===1?p+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-p:p},n.prototype.toJSON=function(){return this.toString(16,2)},s&&(n.prototype.toBuffer=function(p,d){return this.toArrayLike(s,p,d)}),n.prototype.toArray=function(p,d){return this.toArrayLike(Array,p,d)};var g=function(p,d){return p.allocUnsafe?p.allocUnsafe(d):new p(d)};n.prototype.toArrayLike=function(p,d,h){this._strip();var b=this.byteLength(),v=h||Math.max(1,b);r(b<=v,"byte array longer than desired length"),r(v>0,"Requested array length <= 0");var w=g(p,v),_=d==="le"?"LE":"BE";return this["_toArrayLike"+_](w,b),w},n.prototype._toArrayLikeLE=function(p,d){for(var h=0,b=0,v=0,w=0;v<this.length;v++){var _=this.words[v]<<w|b;p[h++]=_&255,h<p.length&&(p[h++]=_>>8&255),h<p.length&&(p[h++]=_>>16&255),w===6?(h<p.length&&(p[h++]=_>>24&255),b=0,w=0):(b=_>>>24,w+=2)}if(h<p.length)for(p[h++]=b;h<p.length;)p[h++]=0},n.prototype._toArrayLikeBE=function(p,d){for(var h=p.length-1,b=0,v=0,w=0;v<this.length;v++){var _=this.words[v]<<w|b;p[h--]=_&255,h>=0&&(p[h--]=_>>8&255),h>=0&&(p[h--]=_>>16&255),w===6?(h>=0&&(p[h--]=_>>24&255),b=0,w=0):(b=_>>>24,w+=2)}if(h>=0)for(p[h--]=b;h>=0;)p[h--]=0},Math.clz32?n.prototype._countBits=function(p){return 32-Math.clz32(p)}:n.prototype._countBits=function(p){var d=p,h=0;return d>=4096&&(h+=13,d>>>=13),d>=64&&(h+=7,d>>>=7),d>=8&&(h+=4,d>>>=4),d>=2&&(h+=2,d>>>=2),h+d},n.prototype._zeroBits=function(p){if(p===0)return 26;var d=p,h=0;return d&8191||(h+=13,d>>>=13),d&127||(h+=7,d>>>=7),d&15||(h+=4,d>>>=4),d&3||(h+=2,d>>>=2),d&1||h++,h},n.prototype.bitLength=function(){var p=this.words[this.length-1],d=this._countBits(p);return(this.length-1)*26+d};function E(P){for(var p=new Array(P.bitLength()),d=0;d<p.length;d++){var h=d/26|0,b=d%26;p[d]=P.words[h]>>>b&1}return p}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,d=0;d<this.length;d++){var h=this._zeroBits(this.words[d]);if(p+=h,h!==26)break}return p},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(p){return this.negative!==0?this.abs().inotn(p).iaddn(1):this.clone()},n.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var d=0;d<p.length;d++)this.words[d]=this.words[d]|p.words[d];return this._strip()},n.prototype.ior=function(p){return r((this.negative|p.negative)===0),this.iuor(p)},n.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},n.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},n.prototype.iuand=function(p){var d;this.length>p.length?d=p:d=this;for(var h=0;h<d.length;h++)this.words[h]=this.words[h]&p.words[h];return this.length=d.length,this._strip()},n.prototype.iand=function(p){return r((this.negative|p.negative)===0),this.iuand(p)},n.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},n.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},n.prototype.iuxor=function(p){var d,h;this.length>p.length?(d=this,h=p):(d=p,h=this);for(var b=0;b<h.length;b++)this.words[b]=d.words[b]^h.words[b];if(this!==d)for(;b<d.length;b++)this.words[b]=d.words[b];return this.length=d.length,this._strip()},n.prototype.ixor=function(p){return r((this.negative|p.negative)===0),this.iuxor(p)},n.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},n.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},n.prototype.inotn=function(p){r(typeof p=="number"&&p>=0);var d=Math.ceil(p/26)|0,h=p%26;this._expand(d),h>0&&d--;for(var b=0;b<d;b++)this.words[b]=~this.words[b]&67108863;return h>0&&(this.words[b]=~this.words[b]&67108863>>26-h),this._strip()},n.prototype.notn=function(p){return this.clone().inotn(p)},n.prototype.setn=function(p,d){r(typeof p=="number"&&p>=0);var h=p/26|0,b=p%26;return this._expand(h+1),d?this.words[h]=this.words[h]|1<<b:this.words[h]=this.words[h]&~(1<<b),this._strip()},n.prototype.iadd=function(p){var d;if(this.negative!==0&&p.negative===0)return this.negative=0,d=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,d=this.isub(p),p.negative=1,d._normSign();var h,b;this.length>p.length?(h=this,b=p):(h=p,b=this);for(var v=0,w=0;w<b.length;w++)d=(h.words[w]|0)+(b.words[w]|0)+v,this.words[w]=d&67108863,v=d>>>26;for(;v!==0&&w<h.length;w++)d=(h.words[w]|0)+v,this.words[w]=d&67108863,v=d>>>26;if(this.length=h.length,v!==0)this.words[this.length]=v,this.length++;else if(h!==this)for(;w<h.length;w++)this.words[w]=h.words[w];return this},n.prototype.add=function(p){var d;return p.negative!==0&&this.negative===0?(p.negative=0,d=this.sub(p),p.negative^=1,d):p.negative===0&&this.negative!==0?(this.negative=0,d=p.sub(this),this.negative=1,d):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},n.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var d=this.iadd(p);return p.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var h=this.cmp(p);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var b,v;h>0?(b=this,v=p):(b=p,v=this);for(var w=0,_=0;_<v.length;_++)d=(b.words[_]|0)-(v.words[_]|0)+w,w=d>>26,this.words[_]=d&67108863;for(;w!==0&&_<b.length;_++)d=(b.words[_]|0)+w,w=d>>26,this.words[_]=d&67108863;if(w===0&&_<b.length&&b!==this)for(;_<b.length;_++)this.words[_]=b.words[_];return this.length=Math.max(this.length,_),b!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(p){return this.clone().isub(p)};function x(P,p,d){d.negative=p.negative^P.negative;var h=P.length+p.length|0;d.length=h,h=h-1|0;var b=P.words[0]|0,v=p.words[0]|0,w=b*v,_=w&67108863,D=w/67108864|0;d.words[0]=_;for(var S=1;S<h;S++){for(var A=D>>>26,N=D&67108863,G=Math.min(S,p.length-1),Q=Math.max(0,S-P.length+1);Q<=G;Q++){var ne=S-Q|0;b=P.words[ne]|0,v=p.words[Q]|0,w=b*v+N,A+=w/67108864|0,N=w&67108863}d.words[S]=N|0,D=A|0}return D!==0?d.words[S]=D|0:d.length--,d._strip()}var T=function(p,d,h){var b=p.words,v=d.words,w=h.words,_=0,D,S,A,N=b[0]|0,G=N&8191,Q=N>>>13,ne=b[1]|0,H=ne&8191,Z=ne>>>13,ie=b[2]|0,fe=ie&8191,ue=ie>>>13,ye=b[3]|0,$=ye&8191,q=ye>>>13,z=b[4]|0,Y=z&8191,X=z>>>13,re=b[5]|0,le=re&8191,pe=re>>>13,_e=b[6]|0,xe=_e&8191,be=_e>>>13,Me=b[7]|0,Le=Me&8191,oe=Me>>>13,ce=b[8]|0,ge=ce&8191,me=ce>>>13,Ee=b[9]|0,$e=Ee&8191,Se=Ee>>>13,We=v[0]|0,it=We&8191,Te=We>>>13,nt=v[1]|0,ot=nt&8191,ke=nt>>>13,tt=v[2]|0,rt=tt&8191,Ae=tt>>>13,Ye=v[3]|0,He=Ye&8191,De=Ye>>>13,ft=v[4]|0,ut=ft&8191,Ie=ft>>>13,ct=v[5]|0,lt=ct&8191,Re=ct>>>13,dt=v[6]|0,ht=dt&8191,Be=dt>>>13,pt=v[7]|0,yt=pt&8191,Ce=pt>>>13,mt=v[8]|0,gt=mt&8191,Oe=mt>>>13,st=v[9]|0,Ct=st&8191,Ue=st>>>13;h.negative=p.negative^d.negative,h.length=19,D=Math.imul(G,it),S=Math.imul(G,Te),S=S+Math.imul(Q,it)|0,A=Math.imul(Q,Te);var Pt=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,D=Math.imul(H,it),S=Math.imul(H,Te),S=S+Math.imul(Z,it)|0,A=Math.imul(Z,Te),D=D+Math.imul(G,ot)|0,S=S+Math.imul(G,ke)|0,S=S+Math.imul(Q,ot)|0,A=A+Math.imul(Q,ke)|0;var gn=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(gn>>>26)|0,gn&=67108863,D=Math.imul(fe,it),S=Math.imul(fe,Te),S=S+Math.imul(ue,it)|0,A=Math.imul(ue,Te),D=D+Math.imul(H,ot)|0,S=S+Math.imul(H,ke)|0,S=S+Math.imul(Z,ot)|0,A=A+Math.imul(Z,ke)|0,D=D+Math.imul(G,rt)|0,S=S+Math.imul(G,Ae)|0,S=S+Math.imul(Q,rt)|0,A=A+Math.imul(Q,Ae)|0;var bn=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(bn>>>26)|0,bn&=67108863,D=Math.imul($,it),S=Math.imul($,Te),S=S+Math.imul(q,it)|0,A=Math.imul(q,Te),D=D+Math.imul(fe,ot)|0,S=S+Math.imul(fe,ke)|0,S=S+Math.imul(ue,ot)|0,A=A+Math.imul(ue,ke)|0,D=D+Math.imul(H,rt)|0,S=S+Math.imul(H,Ae)|0,S=S+Math.imul(Z,rt)|0,A=A+Math.imul(Z,Ae)|0,D=D+Math.imul(G,He)|0,S=S+Math.imul(G,De)|0,S=S+Math.imul(Q,He)|0,A=A+Math.imul(Q,De)|0;var vn=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(vn>>>26)|0,vn&=67108863,D=Math.imul(Y,it),S=Math.imul(Y,Te),S=S+Math.imul(X,it)|0,A=Math.imul(X,Te),D=D+Math.imul($,ot)|0,S=S+Math.imul($,ke)|0,S=S+Math.imul(q,ot)|0,A=A+Math.imul(q,ke)|0,D=D+Math.imul(fe,rt)|0,S=S+Math.imul(fe,Ae)|0,S=S+Math.imul(ue,rt)|0,A=A+Math.imul(ue,Ae)|0,D=D+Math.imul(H,He)|0,S=S+Math.imul(H,De)|0,S=S+Math.imul(Z,He)|0,A=A+Math.imul(Z,De)|0,D=D+Math.imul(G,ut)|0,S=S+Math.imul(G,Ie)|0,S=S+Math.imul(Q,ut)|0,A=A+Math.imul(Q,Ie)|0;var wn=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(wn>>>26)|0,wn&=67108863,D=Math.imul(le,it),S=Math.imul(le,Te),S=S+Math.imul(pe,it)|0,A=Math.imul(pe,Te),D=D+Math.imul(Y,ot)|0,S=S+Math.imul(Y,ke)|0,S=S+Math.imul(X,ot)|0,A=A+Math.imul(X,ke)|0,D=D+Math.imul($,rt)|0,S=S+Math.imul($,Ae)|0,S=S+Math.imul(q,rt)|0,A=A+Math.imul(q,Ae)|0,D=D+Math.imul(fe,He)|0,S=S+Math.imul(fe,De)|0,S=S+Math.imul(ue,He)|0,A=A+Math.imul(ue,De)|0,D=D+Math.imul(H,ut)|0,S=S+Math.imul(H,Ie)|0,S=S+Math.imul(Z,ut)|0,A=A+Math.imul(Z,Ie)|0,D=D+Math.imul(G,lt)|0,S=S+Math.imul(G,Re)|0,S=S+Math.imul(Q,lt)|0,A=A+Math.imul(Q,Re)|0;var _n=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(_n>>>26)|0,_n&=67108863,D=Math.imul(xe,it),S=Math.imul(xe,Te),S=S+Math.imul(be,it)|0,A=Math.imul(be,Te),D=D+Math.imul(le,ot)|0,S=S+Math.imul(le,ke)|0,S=S+Math.imul(pe,ot)|0,A=A+Math.imul(pe,ke)|0,D=D+Math.imul(Y,rt)|0,S=S+Math.imul(Y,Ae)|0,S=S+Math.imul(X,rt)|0,A=A+Math.imul(X,Ae)|0,D=D+Math.imul($,He)|0,S=S+Math.imul($,De)|0,S=S+Math.imul(q,He)|0,A=A+Math.imul(q,De)|0,D=D+Math.imul(fe,ut)|0,S=S+Math.imul(fe,Ie)|0,S=S+Math.imul(ue,ut)|0,A=A+Math.imul(ue,Ie)|0,D=D+Math.imul(H,lt)|0,S=S+Math.imul(H,Re)|0,S=S+Math.imul(Z,lt)|0,A=A+Math.imul(Z,Re)|0,D=D+Math.imul(G,ht)|0,S=S+Math.imul(G,Be)|0,S=S+Math.imul(Q,ht)|0,A=A+Math.imul(Q,Be)|0;var En=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(En>>>26)|0,En&=67108863,D=Math.imul(Le,it),S=Math.imul(Le,Te),S=S+Math.imul(oe,it)|0,A=Math.imul(oe,Te),D=D+Math.imul(xe,ot)|0,S=S+Math.imul(xe,ke)|0,S=S+Math.imul(be,ot)|0,A=A+Math.imul(be,ke)|0,D=D+Math.imul(le,rt)|0,S=S+Math.imul(le,Ae)|0,S=S+Math.imul(pe,rt)|0,A=A+Math.imul(pe,Ae)|0,D=D+Math.imul(Y,He)|0,S=S+Math.imul(Y,De)|0,S=S+Math.imul(X,He)|0,A=A+Math.imul(X,De)|0,D=D+Math.imul($,ut)|0,S=S+Math.imul($,Ie)|0,S=S+Math.imul(q,ut)|0,A=A+Math.imul(q,Ie)|0,D=D+Math.imul(fe,lt)|0,S=S+Math.imul(fe,Re)|0,S=S+Math.imul(ue,lt)|0,A=A+Math.imul(ue,Re)|0,D=D+Math.imul(H,ht)|0,S=S+Math.imul(H,Be)|0,S=S+Math.imul(Z,ht)|0,A=A+Math.imul(Z,Be)|0,D=D+Math.imul(G,yt)|0,S=S+Math.imul(G,Ce)|0,S=S+Math.imul(Q,yt)|0,A=A+Math.imul(Q,Ce)|0;var Sn=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,D=Math.imul(ge,it),S=Math.imul(ge,Te),S=S+Math.imul(me,it)|0,A=Math.imul(me,Te),D=D+Math.imul(Le,ot)|0,S=S+Math.imul(Le,ke)|0,S=S+Math.imul(oe,ot)|0,A=A+Math.imul(oe,ke)|0,D=D+Math.imul(xe,rt)|0,S=S+Math.imul(xe,Ae)|0,S=S+Math.imul(be,rt)|0,A=A+Math.imul(be,Ae)|0,D=D+Math.imul(le,He)|0,S=S+Math.imul(le,De)|0,S=S+Math.imul(pe,He)|0,A=A+Math.imul(pe,De)|0,D=D+Math.imul(Y,ut)|0,S=S+Math.imul(Y,Ie)|0,S=S+Math.imul(X,ut)|0,A=A+Math.imul(X,Ie)|0,D=D+Math.imul($,lt)|0,S=S+Math.imul($,Re)|0,S=S+Math.imul(q,lt)|0,A=A+Math.imul(q,Re)|0,D=D+Math.imul(fe,ht)|0,S=S+Math.imul(fe,Be)|0,S=S+Math.imul(ue,ht)|0,A=A+Math.imul(ue,Be)|0,D=D+Math.imul(H,yt)|0,S=S+Math.imul(H,Ce)|0,S=S+Math.imul(Z,yt)|0,A=A+Math.imul(Z,Ce)|0,D=D+Math.imul(G,gt)|0,S=S+Math.imul(G,Oe)|0,S=S+Math.imul(Q,gt)|0,A=A+Math.imul(Q,Oe)|0;var xn=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(xn>>>26)|0,xn&=67108863,D=Math.imul($e,it),S=Math.imul($e,Te),S=S+Math.imul(Se,it)|0,A=Math.imul(Se,Te),D=D+Math.imul(ge,ot)|0,S=S+Math.imul(ge,ke)|0,S=S+Math.imul(me,ot)|0,A=A+Math.imul(me,ke)|0,D=D+Math.imul(Le,rt)|0,S=S+Math.imul(Le,Ae)|0,S=S+Math.imul(oe,rt)|0,A=A+Math.imul(oe,Ae)|0,D=D+Math.imul(xe,He)|0,S=S+Math.imul(xe,De)|0,S=S+Math.imul(be,He)|0,A=A+Math.imul(be,De)|0,D=D+Math.imul(le,ut)|0,S=S+Math.imul(le,Ie)|0,S=S+Math.imul(pe,ut)|0,A=A+Math.imul(pe,Ie)|0,D=D+Math.imul(Y,lt)|0,S=S+Math.imul(Y,Re)|0,S=S+Math.imul(X,lt)|0,A=A+Math.imul(X,Re)|0,D=D+Math.imul($,ht)|0,S=S+Math.imul($,Be)|0,S=S+Math.imul(q,ht)|0,A=A+Math.imul(q,Be)|0,D=D+Math.imul(fe,yt)|0,S=S+Math.imul(fe,Ce)|0,S=S+Math.imul(ue,yt)|0,A=A+Math.imul(ue,Ce)|0,D=D+Math.imul(H,gt)|0,S=S+Math.imul(H,Oe)|0,S=S+Math.imul(Z,gt)|0,A=A+Math.imul(Z,Oe)|0,D=D+Math.imul(G,Ct)|0,S=S+Math.imul(G,Ue)|0,S=S+Math.imul(Q,Ct)|0,A=A+Math.imul(Q,Ue)|0;var An=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(An>>>26)|0,An&=67108863,D=Math.imul($e,ot),S=Math.imul($e,ke),S=S+Math.imul(Se,ot)|0,A=Math.imul(Se,ke),D=D+Math.imul(ge,rt)|0,S=S+Math.imul(ge,Ae)|0,S=S+Math.imul(me,rt)|0,A=A+Math.imul(me,Ae)|0,D=D+Math.imul(Le,He)|0,S=S+Math.imul(Le,De)|0,S=S+Math.imul(oe,He)|0,A=A+Math.imul(oe,De)|0,D=D+Math.imul(xe,ut)|0,S=S+Math.imul(xe,Ie)|0,S=S+Math.imul(be,ut)|0,A=A+Math.imul(be,Ie)|0,D=D+Math.imul(le,lt)|0,S=S+Math.imul(le,Re)|0,S=S+Math.imul(pe,lt)|0,A=A+Math.imul(pe,Re)|0,D=D+Math.imul(Y,ht)|0,S=S+Math.imul(Y,Be)|0,S=S+Math.imul(X,ht)|0,A=A+Math.imul(X,Be)|0,D=D+Math.imul($,yt)|0,S=S+Math.imul($,Ce)|0,S=S+Math.imul(q,yt)|0,A=A+Math.imul(q,Ce)|0,D=D+Math.imul(fe,gt)|0,S=S+Math.imul(fe,Oe)|0,S=S+Math.imul(ue,gt)|0,A=A+Math.imul(ue,Oe)|0,D=D+Math.imul(H,Ct)|0,S=S+Math.imul(H,Ue)|0,S=S+Math.imul(Z,Ct)|0,A=A+Math.imul(Z,Ue)|0;var Mn=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,D=Math.imul($e,rt),S=Math.imul($e,Ae),S=S+Math.imul(Se,rt)|0,A=Math.imul(Se,Ae),D=D+Math.imul(ge,He)|0,S=S+Math.imul(ge,De)|0,S=S+Math.imul(me,He)|0,A=A+Math.imul(me,De)|0,D=D+Math.imul(Le,ut)|0,S=S+Math.imul(Le,Ie)|0,S=S+Math.imul(oe,ut)|0,A=A+Math.imul(oe,Ie)|0,D=D+Math.imul(xe,lt)|0,S=S+Math.imul(xe,Re)|0,S=S+Math.imul(be,lt)|0,A=A+Math.imul(be,Re)|0,D=D+Math.imul(le,ht)|0,S=S+Math.imul(le,Be)|0,S=S+Math.imul(pe,ht)|0,A=A+Math.imul(pe,Be)|0,D=D+Math.imul(Y,yt)|0,S=S+Math.imul(Y,Ce)|0,S=S+Math.imul(X,yt)|0,A=A+Math.imul(X,Ce)|0,D=D+Math.imul($,gt)|0,S=S+Math.imul($,Oe)|0,S=S+Math.imul(q,gt)|0,A=A+Math.imul(q,Oe)|0,D=D+Math.imul(fe,Ct)|0,S=S+Math.imul(fe,Ue)|0,S=S+Math.imul(ue,Ct)|0,A=A+Math.imul(ue,Ue)|0;var kn=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(kn>>>26)|0,kn&=67108863,D=Math.imul($e,He),S=Math.imul($e,De),S=S+Math.imul(Se,He)|0,A=Math.imul(Se,De),D=D+Math.imul(ge,ut)|0,S=S+Math.imul(ge,Ie)|0,S=S+Math.imul(me,ut)|0,A=A+Math.imul(me,Ie)|0,D=D+Math.imul(Le,lt)|0,S=S+Math.imul(Le,Re)|0,S=S+Math.imul(oe,lt)|0,A=A+Math.imul(oe,Re)|0,D=D+Math.imul(xe,ht)|0,S=S+Math.imul(xe,Be)|0,S=S+Math.imul(be,ht)|0,A=A+Math.imul(be,Be)|0,D=D+Math.imul(le,yt)|0,S=S+Math.imul(le,Ce)|0,S=S+Math.imul(pe,yt)|0,A=A+Math.imul(pe,Ce)|0,D=D+Math.imul(Y,gt)|0,S=S+Math.imul(Y,Oe)|0,S=S+Math.imul(X,gt)|0,A=A+Math.imul(X,Oe)|0,D=D+Math.imul($,Ct)|0,S=S+Math.imul($,Ue)|0,S=S+Math.imul(q,Ct)|0,A=A+Math.imul(q,Ue)|0;var Tn=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,D=Math.imul($e,ut),S=Math.imul($e,Ie),S=S+Math.imul(Se,ut)|0,A=Math.imul(Se,Ie),D=D+Math.imul(ge,lt)|0,S=S+Math.imul(ge,Re)|0,S=S+Math.imul(me,lt)|0,A=A+Math.imul(me,Re)|0,D=D+Math.imul(Le,ht)|0,S=S+Math.imul(Le,Be)|0,S=S+Math.imul(oe,ht)|0,A=A+Math.imul(oe,Be)|0,D=D+Math.imul(xe,yt)|0,S=S+Math.imul(xe,Ce)|0,S=S+Math.imul(be,yt)|0,A=A+Math.imul(be,Ce)|0,D=D+Math.imul(le,gt)|0,S=S+Math.imul(le,Oe)|0,S=S+Math.imul(pe,gt)|0,A=A+Math.imul(pe,Oe)|0,D=D+Math.imul(Y,Ct)|0,S=S+Math.imul(Y,Ue)|0,S=S+Math.imul(X,Ct)|0,A=A+Math.imul(X,Ue)|0;var Pn=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,D=Math.imul($e,lt),S=Math.imul($e,Re),S=S+Math.imul(Se,lt)|0,A=Math.imul(Se,Re),D=D+Math.imul(ge,ht)|0,S=S+Math.imul(ge,Be)|0,S=S+Math.imul(me,ht)|0,A=A+Math.imul(me,Be)|0,D=D+Math.imul(Le,yt)|0,S=S+Math.imul(Le,Ce)|0,S=S+Math.imul(oe,yt)|0,A=A+Math.imul(oe,Ce)|0,D=D+Math.imul(xe,gt)|0,S=S+Math.imul(xe,Oe)|0,S=S+Math.imul(be,gt)|0,A=A+Math.imul(be,Oe)|0,D=D+Math.imul(le,Ct)|0,S=S+Math.imul(le,Ue)|0,S=S+Math.imul(pe,Ct)|0,A=A+Math.imul(pe,Ue)|0;var Dn=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,D=Math.imul($e,ht),S=Math.imul($e,Be),S=S+Math.imul(Se,ht)|0,A=Math.imul(Se,Be),D=D+Math.imul(ge,yt)|0,S=S+Math.imul(ge,Ce)|0,S=S+Math.imul(me,yt)|0,A=A+Math.imul(me,Ce)|0,D=D+Math.imul(Le,gt)|0,S=S+Math.imul(Le,Oe)|0,S=S+Math.imul(oe,gt)|0,A=A+Math.imul(oe,Oe)|0,D=D+Math.imul(xe,Ct)|0,S=S+Math.imul(xe,Ue)|0,S=S+Math.imul(be,Ct)|0,A=A+Math.imul(be,Ue)|0;var In=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(In>>>26)|0,In&=67108863,D=Math.imul($e,yt),S=Math.imul($e,Ce),S=S+Math.imul(Se,yt)|0,A=Math.imul(Se,Ce),D=D+Math.imul(ge,gt)|0,S=S+Math.imul(ge,Oe)|0,S=S+Math.imul(me,gt)|0,A=A+Math.imul(me,Oe)|0,D=D+Math.imul(Le,Ct)|0,S=S+Math.imul(Le,Ue)|0,S=S+Math.imul(oe,Ct)|0,A=A+Math.imul(oe,Ue)|0;var Ao=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,D=Math.imul($e,gt),S=Math.imul($e,Oe),S=S+Math.imul(Se,gt)|0,A=Math.imul(Se,Oe),D=D+Math.imul(ge,Ct)|0,S=S+Math.imul(ge,Ue)|0,S=S+Math.imul(me,Ct)|0,A=A+Math.imul(me,Ue)|0;var ta=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(ta>>>26)|0,ta&=67108863,D=Math.imul($e,Ct),S=Math.imul($e,Ue),S=S+Math.imul(Se,Ct)|0,A=Math.imul(Se,Ue);var ra=(_+D|0)+((S&8191)<<13)|0;return _=(A+(S>>>13)|0)+(ra>>>26)|0,ra&=67108863,w[0]=Pt,w[1]=gn,w[2]=bn,w[3]=vn,w[4]=wn,w[5]=_n,w[6]=En,w[7]=Sn,w[8]=xn,w[9]=An,w[10]=Mn,w[11]=kn,w[12]=Tn,w[13]=Pn,w[14]=Dn,w[15]=In,w[16]=Ao,w[17]=ta,w[18]=ra,_!==0&&(w[19]=_,h.length++),h};Math.imul||(T=x);function M(P,p,d){d.negative=p.negative^P.negative,d.length=P.length+p.length;for(var h=0,b=0,v=0;v<d.length-1;v++){var w=b;b=0;for(var _=h&67108863,D=Math.min(v,p.length-1),S=Math.max(0,v-P.length+1);S<=D;S++){var A=v-S,N=P.words[A]|0,G=p.words[S]|0,Q=N*G,ne=Q&67108863;w=w+(Q/67108864|0)|0,ne=ne+_|0,_=ne&67108863,w=w+(ne>>>26)|0,b+=w>>>26,w&=67108863}d.words[v]=_,h=w,w=b}return h!==0?d.words[v]=h:d.length--,d._strip()}function I(P,p,d){return M(P,p,d)}n.prototype.mulTo=function(p,d){var h,b=this.length+p.length;return this.length===10&&p.length===10?h=T(this,p,d):b<63?h=x(this,p,d):b<1024?h=M(this,p,d):h=I(this,p,d),h};function R(P,p){this.x=P,this.y=p}R.prototype.makeRBT=function(p){for(var d=new Array(p),h=n.prototype._countBits(p)-1,b=0;b<p;b++)d[b]=this.revBin(b,h,p);return d},R.prototype.revBin=function(p,d,h){if(p===0||p===h-1)return p;for(var b=0,v=0;v<d;v++)b|=(p&1)<<d-v-1,p>>=1;return b},R.prototype.permute=function(p,d,h,b,v,w){for(var _=0;_<w;_++)b[_]=d[p[_]],v[_]=h[p[_]]},R.prototype.transform=function(p,d,h,b,v,w){this.permute(w,p,d,h,b,v);for(var _=1;_<v;_<<=1)for(var D=_<<1,S=Math.cos(2*Math.PI/D),A=Math.sin(2*Math.PI/D),N=0;N<v;N+=D)for(var G=S,Q=A,ne=0;ne<_;ne++){var H=h[N+ne],Z=b[N+ne],ie=h[N+ne+_],fe=b[N+ne+_],ue=G*ie-Q*fe;fe=G*fe+Q*ie,ie=ue,h[N+ne]=H+ie,b[N+ne]=Z+fe,h[N+ne+_]=H-ie,b[N+ne+_]=Z-fe,ne!==D&&(ue=S*G-A*Q,Q=S*Q+A*G,G=ue)}},R.prototype.guessLen13b=function(p,d){var h=Math.max(d,p)|1,b=h&1,v=0;for(h=h/2|0;h;h=h>>>1)v++;return 1<<v+1+b},R.prototype.conjugate=function(p,d,h){if(!(h<=1))for(var b=0;b<h/2;b++){var v=p[b];p[b]=p[h-b-1],p[h-b-1]=v,v=d[b],d[b]=-d[h-b-1],d[h-b-1]=-v}},R.prototype.normalize13b=function(p,d){for(var h=0,b=0;b<d/2;b++){var v=Math.round(p[2*b+1]/d)*8192+Math.round(p[2*b]/d)+h;p[b]=v&67108863,v<67108864?h=0:h=v/67108864|0}return p},R.prototype.convert13b=function(p,d,h,b){for(var v=0,w=0;w<d;w++)v=v+(p[w]|0),h[2*w]=v&8191,v=v>>>13,h[2*w+1]=v&8191,v=v>>>13;for(w=2*d;w<b;++w)h[w]=0;r(v===0),r((v&-8192)===0)},R.prototype.stub=function(p){for(var d=new Array(p),h=0;h<p;h++)d[h]=0;return d},R.prototype.mulp=function(p,d,h){var b=2*this.guessLen13b(p.length,d.length),v=this.makeRBT(b),w=this.stub(b),_=new Array(b),D=new Array(b),S=new Array(b),A=new Array(b),N=new Array(b),G=new Array(b),Q=h.words;Q.length=b,this.convert13b(p.words,p.length,_,b),this.convert13b(d.words,d.length,A,b),this.transform(_,w,D,S,b,v),this.transform(A,w,N,G,b,v);for(var ne=0;ne<b;ne++){var H=D[ne]*N[ne]-S[ne]*G[ne];S[ne]=D[ne]*G[ne]+S[ne]*N[ne],D[ne]=H}return this.conjugate(D,S,b),this.transform(D,S,Q,w,b,v),this.conjugate(Q,w,b),this.normalize13b(Q,b),h.negative=p.negative^d.negative,h.length=p.length+d.length,h._strip()},n.prototype.mul=function(p){var d=new n(null);return d.words=new Array(this.length+p.length),this.mulTo(p,d)},n.prototype.mulf=function(p){var d=new n(null);return d.words=new Array(this.length+p.length),I(this,p,d)},n.prototype.imul=function(p){return this.clone().mulTo(p,this)},n.prototype.imuln=function(p){var d=p<0;d&&(p=-p),r(typeof p=="number"),r(p<67108864);for(var h=0,b=0;b<this.length;b++){var v=(this.words[b]|0)*p,w=(v&67108863)+(h&67108863);h>>=26,h+=v/67108864|0,h+=w>>>26,this.words[b]=w&67108863}return h!==0&&(this.words[b]=h,this.length++),d?this.ineg():this},n.prototype.muln=function(p){return this.clone().imuln(p)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(p){var d=E(p);if(d.length===0)return new n(1);for(var h=this,b=0;b<d.length&&d[b]===0;b++,h=h.sqr());if(++b<d.length)for(var v=h.sqr();b<d.length;b++,v=v.sqr())d[b]!==0&&(h=h.mul(v));return h},n.prototype.iushln=function(p){r(typeof p=="number"&&p>=0);var d=p%26,h=(p-d)/26,b=67108863>>>26-d<<26-d,v;if(d!==0){var w=0;for(v=0;v<this.length;v++){var _=this.words[v]&b,D=(this.words[v]|0)-_<<d;this.words[v]=D|w,w=_>>>26-d}w&&(this.words[v]=w,this.length++)}if(h!==0){for(v=this.length-1;v>=0;v--)this.words[v+h]=this.words[v];for(v=0;v<h;v++)this.words[v]=0;this.length+=h}return this._strip()},n.prototype.ishln=function(p){return r(this.negative===0),this.iushln(p)},n.prototype.iushrn=function(p,d,h){r(typeof p=="number"&&p>=0);var b;d?b=(d-d%26)/26:b=0;var v=p%26,w=Math.min((p-v)/26,this.length),_=67108863^67108863>>>v<<v,D=h;if(b-=w,b=Math.max(0,b),D){for(var S=0;S<w;S++)D.words[S]=this.words[S];D.length=w}if(w!==0)if(this.length>w)for(this.length-=w,S=0;S<this.length;S++)this.words[S]=this.words[S+w];else this.words[0]=0,this.length=1;var A=0;for(S=this.length-1;S>=0&&(A!==0||S>=b);S--){var N=this.words[S]|0;this.words[S]=A<<26-v|N>>>v,A=N&_}return D&&A!==0&&(D.words[D.length++]=A),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(p,d,h){return r(this.negative===0),this.iushrn(p,d,h)},n.prototype.shln=function(p){return this.clone().ishln(p)},n.prototype.ushln=function(p){return this.clone().iushln(p)},n.prototype.shrn=function(p){return this.clone().ishrn(p)},n.prototype.ushrn=function(p){return this.clone().iushrn(p)},n.prototype.testn=function(p){r(typeof p=="number"&&p>=0);var d=p%26,h=(p-d)/26,b=1<<d;if(this.length<=h)return!1;var v=this.words[h];return!!(v&b)},n.prototype.imaskn=function(p){r(typeof p=="number"&&p>=0);var d=p%26,h=(p-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(d!==0&&h++,this.length=Math.min(h,this.length),d!==0){var b=67108863^67108863>>>d<<d;this.words[this.length-1]&=b}return this._strip()},n.prototype.maskn=function(p){return this.clone().imaskn(p)},n.prototype.iaddn=function(p){return r(typeof p=="number"),r(p<67108864),p<0?this.isubn(-p):this.negative!==0?this.length===1&&(this.words[0]|0)<=p?(this.words[0]=p-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},n.prototype._iaddn=function(p){this.words[0]+=p;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},n.prototype.isubn=function(p){if(r(typeof p=="number"),r(p<67108864),p<0)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},n.prototype.addn=function(p){return this.clone().iaddn(p)},n.prototype.subn=function(p){return this.clone().isubn(p)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(p,d,h){var b=p.length+h,v;this._expand(b);var w,_=0;for(v=0;v<p.length;v++){w=(this.words[v+h]|0)+_;var D=(p.words[v]|0)*d;w-=D&67108863,_=(w>>26)-(D/67108864|0),this.words[v+h]=w&67108863}for(;v<this.length-h;v++)w=(this.words[v+h]|0)+_,_=w>>26,this.words[v+h]=w&67108863;if(_===0)return this._strip();for(r(_===-1),_=0,v=0;v<this.length;v++)w=-(this.words[v]|0)+_,_=w>>26,this.words[v]=w&67108863;return this.negative=1,this._strip()},n.prototype._wordDiv=function(p,d){var h=this.length-p.length,b=this.clone(),v=p,w=v.words[v.length-1]|0,_=this._countBits(w);h=26-_,h!==0&&(v=v.ushln(h),b.iushln(h),w=v.words[v.length-1]|0);var D=b.length-v.length,S;if(d!=="mod"){S=new n(null),S.length=D+1,S.words=new Array(S.length);for(var A=0;A<S.length;A++)S.words[A]=0}var N=b.clone()._ishlnsubmul(v,1,D);N.negative===0&&(b=N,S&&(S.words[D]=1));for(var G=D-1;G>=0;G--){var Q=(b.words[v.length+G]|0)*67108864+(b.words[v.length+G-1]|0);for(Q=Math.min(Q/w|0,67108863),b._ishlnsubmul(v,Q,G);b.negative!==0;)Q--,b.negative=0,b._ishlnsubmul(v,1,G),b.isZero()||(b.negative^=1);S&&(S.words[G]=Q)}return S&&S._strip(),b._strip(),d!=="div"&&h!==0&&b.iushrn(h),{div:S||null,mod:b}},n.prototype.divmod=function(p,d,h){if(r(!p.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var b,v,w;return this.negative!==0&&p.negative===0?(w=this.neg().divmod(p,d),d!=="mod"&&(b=w.div.neg()),d!=="div"&&(v=w.mod.neg(),h&&v.negative!==0&&v.iadd(p)),{div:b,mod:v}):this.negative===0&&p.negative!==0?(w=this.divmod(p.neg(),d),d!=="mod"&&(b=w.div.neg()),{div:b,mod:w.mod}):this.negative&p.negative?(w=this.neg().divmod(p.neg(),d),d!=="div"&&(v=w.mod.neg(),h&&v.negative!==0&&v.isub(p)),{div:w.div,mod:v}):p.length>this.length||this.cmp(p)<0?{div:new n(0),mod:this}:p.length===1?d==="div"?{div:this.divn(p.words[0]),mod:null}:d==="mod"?{div:null,mod:new n(this.modrn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new n(this.modrn(p.words[0]))}:this._wordDiv(p,d)},n.prototype.div=function(p){return this.divmod(p,"div",!1).div},n.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},n.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},n.prototype.divRound=function(p){var d=this.divmod(p);if(d.mod.isZero())return d.div;var h=d.div.negative!==0?d.mod.isub(p):d.mod,b=p.ushrn(1),v=p.andln(1),w=h.cmp(b);return w<0||v===1&&w===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},n.prototype.modrn=function(p){var d=p<0;d&&(p=-p),r(p<=67108863);for(var h=(1<<26)%p,b=0,v=this.length-1;v>=0;v--)b=(h*b+(this.words[v]|0))%p;return d?-b:b},n.prototype.modn=function(p){return this.modrn(p)},n.prototype.idivn=function(p){var d=p<0;d&&(p=-p),r(p<=67108863);for(var h=0,b=this.length-1;b>=0;b--){var v=(this.words[b]|0)+h*67108864;this.words[b]=v/p|0,h=v%p}return this._strip(),d?this.ineg():this},n.prototype.divn=function(p){return this.clone().idivn(p)},n.prototype.egcd=function(p){r(p.negative===0),r(!p.isZero());var d=this,h=p.clone();d.negative!==0?d=d.umod(p):d=d.clone();for(var b=new n(1),v=new n(0),w=new n(0),_=new n(1),D=0;d.isEven()&&h.isEven();)d.iushrn(1),h.iushrn(1),++D;for(var S=h.clone(),A=d.clone();!d.isZero();){for(var N=0,G=1;!(d.words[0]&G)&&N<26;++N,G<<=1);if(N>0)for(d.iushrn(N);N-- >0;)(b.isOdd()||v.isOdd())&&(b.iadd(S),v.isub(A)),b.iushrn(1),v.iushrn(1);for(var Q=0,ne=1;!(h.words[0]&ne)&&Q<26;++Q,ne<<=1);if(Q>0)for(h.iushrn(Q);Q-- >0;)(w.isOdd()||_.isOdd())&&(w.iadd(S),_.isub(A)),w.iushrn(1),_.iushrn(1);d.cmp(h)>=0?(d.isub(h),b.isub(w),v.isub(_)):(h.isub(d),w.isub(b),_.isub(v))}return{a:w,b:_,gcd:h.iushln(D)}},n.prototype._invmp=function(p){r(p.negative===0),r(!p.isZero());var d=this,h=p.clone();d.negative!==0?d=d.umod(p):d=d.clone();for(var b=new n(1),v=new n(0),w=h.clone();d.cmpn(1)>0&&h.cmpn(1)>0;){for(var _=0,D=1;!(d.words[0]&D)&&_<26;++_,D<<=1);if(_>0)for(d.iushrn(_);_-- >0;)b.isOdd()&&b.iadd(w),b.iushrn(1);for(var S=0,A=1;!(h.words[0]&A)&&S<26;++S,A<<=1);if(S>0)for(h.iushrn(S);S-- >0;)v.isOdd()&&v.iadd(w),v.iushrn(1);d.cmp(h)>=0?(d.isub(h),b.isub(v)):(h.isub(d),v.isub(b))}var N;return d.cmpn(1)===0?N=b:N=v,N.cmpn(0)<0&&N.iadd(p),N},n.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var d=this.clone(),h=p.clone();d.negative=0,h.negative=0;for(var b=0;d.isEven()&&h.isEven();b++)d.iushrn(1),h.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;h.isEven();)h.iushrn(1);var v=d.cmp(h);if(v<0){var w=d;d=h,h=w}else if(v===0||h.cmpn(1)===0)break;d.isub(h)}while(!0);return h.iushln(b)},n.prototype.invm=function(p){return this.egcd(p).a.umod(p)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(p){return this.words[0]&p},n.prototype.bincn=function(p){r(typeof p=="number");var d=p%26,h=(p-d)/26,b=1<<d;if(this.length<=h)return this._expand(h+1),this.words[h]|=b,this;for(var v=b,w=h;v!==0&&w<this.length;w++){var _=this.words[w]|0;_+=v,v=_>>>26,_&=67108863,this.words[w]=_}return v!==0&&(this.words[w]=v,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(p){var d=p<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var h;if(this.length>1)h=1;else{d&&(p=-p),r(p<=67108863,"Number is too big");var b=this.words[0]|0;h=b===p?0:b<p?-1:1}return this.negative!==0?-h|0:h},n.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var d=this.ucmp(p);return this.negative!==0?-d|0:d},n.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var d=0,h=this.length-1;h>=0;h--){var b=this.words[h]|0,v=p.words[h]|0;if(b!==v){b<v?d=-1:b>v&&(d=1);break}}return d},n.prototype.gtn=function(p){return this.cmpn(p)===1},n.prototype.gt=function(p){return this.cmp(p)===1},n.prototype.gten=function(p){return this.cmpn(p)>=0},n.prototype.gte=function(p){return this.cmp(p)>=0},n.prototype.ltn=function(p){return this.cmpn(p)===-1},n.prototype.lt=function(p){return this.cmp(p)===-1},n.prototype.lten=function(p){return this.cmpn(p)<=0},n.prototype.lte=function(p){return this.cmp(p)<=0},n.prototype.eqn=function(p){return this.cmpn(p)===0},n.prototype.eq=function(p){return this.cmp(p)===0},n.red=function(p){return new j(p)},n.prototype.toRed=function(p){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(p){return this.red=p,this},n.prototype.forceRed=function(p){return r(!this.red,"Already a number in reduction context"),this._forceRed(p)},n.prototype.redAdd=function(p){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},n.prototype.redIAdd=function(p){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},n.prototype.redSub=function(p){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},n.prototype.redISub=function(p){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},n.prototype.redShl=function(p){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},n.prototype.redMul=function(p){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},n.prototype.redIMul=function(p){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(p){return r(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var O={k256:null,p224:null,p192:null,p25519:null};function B(P,p){this.name=P,this.p=new n(p,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}B.prototype._tmp=function(){var p=new n(null);return p.words=new Array(Math.ceil(this.n/13)),p},B.prototype.ireduce=function(p){var d=p,h;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),h=d.bitLength();while(h>this.n);var b=h<this.n?-1:d.ucmp(this.p);return b===0?(d.words[0]=0,d.length=1):b>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},B.prototype.split=function(p,d){p.iushrn(this.n,0,d)},B.prototype.imulK=function(p){return p.imul(this.k)};function C(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(C,B),C.prototype.split=function(p,d){for(var h=4194303,b=Math.min(p.length,9),v=0;v<b;v++)d.words[v]=p.words[v];if(d.length=b,p.length<=9){p.words[0]=0,p.length=1;return}var w=p.words[9];for(d.words[d.length++]=w&h,v=10;v<p.length;v++){var _=p.words[v]|0;p.words[v-10]=(_&h)<<4|w>>>22,w=_}w>>>=22,p.words[v-10]=w,w===0&&p.length>10?p.length-=10:p.length-=9},C.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var d=0,h=0;h<p.length;h++){var b=p.words[h]|0;d+=b*977,p.words[h]=d&67108863,d=b*64+(d/67108864|0)}return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p};function U(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(U,B);function W(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(W,B);function L(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(L,B),L.prototype.imulK=function(p){for(var d=0,h=0;h<p.length;h++){var b=(p.words[h]|0)*19+d,v=b&67108863;b>>>=26,p.words[h]=v,d=b}return d!==0&&(p.words[p.length++]=d),p},n._prime=function(p){if(O[p])return O[p];var d;if(p==="k256")d=new C;else if(p==="p224")d=new U;else if(p==="p192")d=new W;else if(p==="p25519")d=new L;else throw new Error("Unknown prime "+p);return O[p]=d,d};function j(P){if(typeof P=="string"){var p=n._prime(P);this.m=p.p,this.prime=p}else r(P.gtn(1),"modulus must be greater than 1"),this.m=P,this.prime=null}j.prototype._verify1=function(p){r(p.negative===0,"red works only with positives"),r(p.red,"red works only with red numbers")},j.prototype._verify2=function(p,d){r((p.negative|d.negative)===0,"red works only with positives"),r(p.red&&p.red===d.red,"red works only with red numbers")},j.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):(c(p,p.umod(this.m)._forceRed(this)),p)},j.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},j.prototype.add=function(p,d){this._verify2(p,d);var h=p.add(d);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},j.prototype.iadd=function(p,d){this._verify2(p,d);var h=p.iadd(d);return h.cmp(this.m)>=0&&h.isub(this.m),h},j.prototype.sub=function(p,d){this._verify2(p,d);var h=p.sub(d);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},j.prototype.isub=function(p,d){this._verify2(p,d);var h=p.isub(d);return h.cmpn(0)<0&&h.iadd(this.m),h},j.prototype.shl=function(p,d){return this._verify1(p),this.imod(p.ushln(d))},j.prototype.imul=function(p,d){return this._verify2(p,d),this.imod(p.imul(d))},j.prototype.mul=function(p,d){return this._verify2(p,d),this.imod(p.mul(d))},j.prototype.isqr=function(p){return this.imul(p,p.clone())},j.prototype.sqr=function(p){return this.mul(p,p)},j.prototype.sqrt=function(p){if(p.isZero())return p.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var h=this.m.add(new n(1)).iushrn(2);return this.pow(p,h)}for(var b=this.m.subn(1),v=0;!b.isZero()&&b.andln(1)===0;)v++,b.iushrn(1);r(!b.isZero());var w=new n(1).toRed(this),_=w.redNeg(),D=this.m.subn(1).iushrn(1),S=this.m.bitLength();for(S=new n(2*S*S).toRed(this);this.pow(S,D).cmp(_)!==0;)S.redIAdd(_);for(var A=this.pow(S,b),N=this.pow(p,b.addn(1).iushrn(1)),G=this.pow(p,b),Q=v;G.cmp(w)!==0;){for(var ne=G,H=0;ne.cmp(w)!==0;H++)ne=ne.redSqr();r(H<Q);var Z=this.pow(A,new n(1).iushln(Q-H-1));N=N.redMul(Z),A=Z.redSqr(),G=G.redMul(A),Q=H}return N},j.prototype.invm=function(p){var d=p._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},j.prototype.pow=function(p,d){if(d.isZero())return new n(1).toRed(this);if(d.cmpn(1)===0)return p.clone();var h=4,b=new Array(1<<h);b[0]=new n(1).toRed(this),b[1]=p;for(var v=2;v<b.length;v++)b[v]=this.mul(b[v-1],p);var w=b[0],_=0,D=0,S=d.bitLength()%26;for(S===0&&(S=26),v=d.length-1;v>=0;v--){for(var A=d.words[v],N=S-1;N>=0;N--){var G=A>>N&1;if(w!==b[0]&&(w=this.sqr(w)),G===0&&_===0){D=0;continue}_<<=1,_|=G,D++,!(D!==h&&(v!==0||N!==0))&&(w=this.mul(w,b[_]),D=0,_=0)}S=26}return w},j.prototype.convertTo=function(p){var d=p.umod(this.m);return d===p?d.clone():d},j.prototype.convertFrom=function(p){var d=p.clone();return d.red=null,d},n.mont=function(p){return new k(p)};function k(P){j.call(this,P),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(k,j),k.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},k.prototype.convertFrom=function(p){var d=this.imod(p.mul(this.rinv));return d.red=null,d},k.prototype.imul=function(p,d){if(p.isZero()||d.isZero())return p.words[0]=0,p.length=1,p;var h=p.imul(d),b=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=h.isub(b).iushrn(this.shift),w=v;return v.cmp(this.m)>=0?w=v.isub(this.m):v.cmpn(0)<0&&(w=v.iadd(this.m)),w._forceRed(this)},k.prototype.mul=function(p,d){if(p.isZero()||d.isZero())return new n(0)._forceRed(this);var h=p.mul(d),b=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=h.isub(b).iushrn(this.shift),w=v;return v.cmp(this.m)>=0?w=v.isub(this.m):v.cmpn(0)<0&&(w=v.iadd(this.m)),w._forceRed(this)},k.prototype.invm=function(p){var d=this.imod(p._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(typeof JR>"u"||JR,Ire)});var WE=de((Zyt,Ore)=>{F();var R1=Rre(),xDe=X0();function ADe(t){var e=Bre(t),r=e.toRed(R1.mont(t.modulus)).redPow(new R1(t.publicExponent)).fromRed();return{blinder:r,unblinder:e.invm(t.modulus)}}function Bre(t){var e=t.modulus.byteLength(),r;do r=new R1(xDe(e));while(r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2));return r}function Cre(t,e){var r=ADe(e),i=e.modulus.byteLength(),n=new R1(t).mul(r.blinder).umod(e.modulus),s=n.toRed(R1.mont(e.prime1)),o=n.toRed(R1.mont(e.prime2)),a=e.coefficient,f=e.prime1,c=e.prime2,u=s.redPow(e.exponent1).fromRed(),l=o.redPow(e.exponent2).fromRed(),y=u.isub(l).imul(a).umod(f).imul(c);return l.iadd(y).imul(r.unblinder).umod(e.modulus).toArrayLike(te.Buffer,"be",i)}Cre.getr=Bre;Ore.exports=Cre});var jre=de((Jyt,MDe)=>{MDe.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var XR=de(qre=>{"use strict";F();var YE=qre;function kDe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var i=0;i<t.length;i++)r[i]=t[i]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t);for(var i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var i=0;i<t.length;i++){var n=t.charCodeAt(i),s=n>>8,o=n&255;s?r.push(s,o):r.push(o)}return r}YE.toArray=kDe;function Lre(t){return t.length===1?"0"+t:t}YE.zero2=Lre;function Nre(t){for(var e="",r=0;r<t.length;r++)e+=Lre(t[r].toString(16));return e}YE.toHex=Nre;YE.encode=function(e,r){return r==="hex"?Nre(e):e}});var pf=de(zre=>{"use strict";F();var Ou=zre,TDe=Bo(),PDe=hf(),ZE=XR();Ou.assert=PDe;Ou.toArray=ZE.toArray;Ou.zero2=ZE.zero2;Ou.toHex=ZE.toHex;Ou.encode=ZE.encode;function DDe(t,e,r){var i=new Array(Math.max(t.bitLength(),r)+1);i.fill(0);for(var n=1<<e+1,s=t.clone(),o=0;o<i.length;o++){var a,f=s.andln(n-1);s.isOdd()?(f>(n>>1)-1?a=(n>>1)-f:a=f,s.isubn(a)):a=0,i[o]=a,s.iushrn(1)}return i}Ou.getNAF=DDe;function IDe(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var i=0,n=0,s;t.cmpn(-i)>0||e.cmpn(-n)>0;){var o=t.andln(3)+i&3,a=e.andln(3)+n&3;o===3&&(o=-1),a===3&&(a=-1);var f;o&1?(s=t.andln(7)+i&7,(s===3||s===5)&&a===2?f=-o:f=o):f=0,r[0].push(f);var c;a&1?(s=e.andln(7)+n&7,(s===3||s===5)&&o===2?c=-a:c=a):c=0,r[1].push(c),2*i===f+1&&(i=1-i),2*n===c+1&&(n=1-n),t.iushrn(1),e.iushrn(1)}return r}Ou.getJSF=IDe;function RDe(t,e,r){var i="_"+e;t.prototype[e]=function(){return this[i]!==void 0?this[i]:this[i]=r.call(this)}}Ou.cachedProperty=RDe;function BDe(t){return typeof t=="string"?Ou.toArray(t,"hex"):t}Ou.parseBytes=BDe;function CDe(t){return new TDe(t,"hex","le")}Ou.intFromLE=CDe});var p3=de((rmt,Fre)=>{"use strict";F();var Cy=Bo(),h3=pf(),GE=h3.getNAF,ODe=h3.getJSF,JE=h3.assert;function Jh(t,e){this.type=t,this.p=new Cy(e.p,16),this.red=e.prime?Cy.red(e.prime):Cy.mont(this.p),this.zero=new Cy(0).toRed(this.red),this.one=new Cy(1).toRed(this.red),this.two=new Cy(2).toRed(this.red),this.n=e.n&&new Cy(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}Fre.exports=Jh;Jh.prototype.point=function(){throw new Error("Not implemented")};Jh.prototype.validate=function(){throw new Error("Not implemented")};Jh.prototype._fixedNafMul=function(e,r){JE(e.precomputed);var i=e._getDoubles(),n=GE(r,1,this._bitLength),s=(1<<i.step+1)-(i.step%2===0?2:1);s/=3;var o=[],a,f;for(a=0;a<n.length;a+=i.step){f=0;for(var c=a+i.step-1;c>=a;c--)f=(f<<1)+n[c];o.push(f)}for(var u=this.jpoint(null,null,null),l=this.jpoint(null,null,null),y=s;y>0;y--){for(a=0;a<o.length;a++)f=o[a],f===y?l=l.mixedAdd(i.points[a]):f===-y&&(l=l.mixedAdd(i.points[a].neg()));u=u.add(l)}return u.toP()};Jh.prototype._wnafMul=function(e,r){var i=4,n=e._getNAFPoints(i);i=n.wnd;for(var s=n.points,o=GE(r,i,this._bitLength),a=this.jpoint(null,null,null),f=o.length-1;f>=0;f--){for(var c=0;f>=0&&o[f]===0;f--)c++;if(f>=0&&c++,a=a.dblp(c),f<0)break;var u=o[f];JE(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};Jh.prototype._wnafMulAdd=function(e,r,i,n,s){var o=this._wnafT1,a=this._wnafT2,f=this._wnafT3,c=0,u,l,y;for(u=0;u<n;u++){y=r[u];var m=y._getNAFPoints(e);o[u]=m.wnd,a[u]=m.points}for(u=n-1;u>=1;u-=2){var g=u-1,E=u;if(o[g]!==1||o[E]!==1){f[g]=GE(i[g],o[g],this._bitLength),f[E]=GE(i[E],o[E],this._bitLength),c=Math.max(f[g].length,c),c=Math.max(f[E].length,c);continue}var x=[r[g],null,null,r[E]];r[g].y.cmp(r[E].y)===0?(x[1]=r[g].add(r[E]),x[2]=r[g].toJ().mixedAdd(r[E].neg())):r[g].y.cmp(r[E].y.redNeg())===0?(x[1]=r[g].toJ().mixedAdd(r[E]),x[2]=r[g].add(r[E].neg())):(x[1]=r[g].toJ().mixedAdd(r[E]),x[2]=r[g].toJ().mixedAdd(r[E].neg()));var T=[-3,-1,-5,-7,0,7,5,1,3],M=ODe(i[g],i[E]);for(c=Math.max(M[0].length,c),f[g]=new Array(c),f[E]=new Array(c),l=0;l<c;l++){var I=M[0][l]|0,R=M[1][l]|0;f[g][l]=T[(I+1)*3+(R+1)],f[E][l]=0,a[g]=x}}var O=this.jpoint(null,null,null),B=this._wnafT4;for(u=c;u>=0;u--){for(var C=0;u>=0;){var U=!0;for(l=0;l<n;l++)B[l]=f[l][u]|0,B[l]!==0&&(U=!1);if(!U)break;C++,u--}if(u>=0&&C++,O=O.dblp(C),u<0)break;for(l=0;l<n;l++){var W=B[l];W!==0&&(W>0?y=a[l][W-1>>1]:W<0&&(y=a[l][-W-1>>1].neg()),y.type==="affine"?O=O.mixedAdd(y):O=O.add(y))}}for(u=0;u<n;u++)a[u]=null;return s?O:O.toP()};function Jf(t,e){this.curve=t,this.type=e,this.precomputed=null}Jh.BasePoint=Jf;Jf.prototype.eq=function(){throw new Error("Not implemented")};Jf.prototype.validate=function(){return this.curve.validate(this)};Jh.prototype.decodePoint=function(e,r){e=h3.toArray(e,r);var i=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*i){e[0]===6?JE(e[e.length-1]%2===0):e[0]===7&&JE(e[e.length-1]%2===1);var n=this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));return n}else if((e[0]===2||e[0]===3)&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),e[0]===3);throw new Error("Unknown point format")};Jf.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Jf.prototype._encode=function(e){var r=this.curve.p.byteLength(),i=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",r))};Jf.prototype.encode=function(e,r){return h3.encode(this._encode(r),e)};Jf.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Jf.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Jf.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],n=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)n=n.dbl();i.push(n)}return{step:e,points:i}};Jf.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],i=(1<<e)-1,n=i===1?null:this.dbl(),s=1;s<i;s++)r[s]=r[s-1].add(n);return{wnd:e,points:r}};Jf.prototype._getBeta=function(){return null};Jf.prototype.dblp=function(e){for(var r=this,i=0;i<e;i++)r=r.dbl();return r}});var $re=de((nmt,Ure)=>{"use strict";F();var jDe=pf(),Un=Bo(),QR=qt(),B1=p3(),LDe=jDe.assert;function Xf(t){B1.call(this,"short",t),this.a=new Un(t.a,16).toRed(this.red),this.b=new Un(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}QR(Xf,B1);Ure.exports=Xf;Xf.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,i;if(e.beta)r=new Un(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);r=n[0].cmp(n[1])<0?n[0]:n[1],r=r.toRed(this.red)}if(e.lambda)i=new Un(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?i=s[0]:(i=s[1],LDe(this.g.mul(i).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new Un(a.a,16),b:new Un(a.b,16)}}):o=this._getEndoBasis(i),{beta:r,lambda:i,basis:o}}};Xf.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Un.mont(e),i=new Un(2).toRed(r).redInvm(),n=i.redNeg(),s=new Un(3).toRed(r).redNeg().redSqrt().redMul(i),o=n.redAdd(s).fromRed(),a=n.redSub(s).fromRed();return[o,a]};Xf.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),i=e,n=this.n.clone(),s=new Un(1),o=new Un(0),a=new Un(0),f=new Un(1),c,u,l,y,m,g,E,x=0,T,M;i.cmpn(0)!==0;){var I=n.div(i);T=n.sub(I.mul(i)),M=a.sub(I.mul(s));var R=f.sub(I.mul(o));if(!l&&T.cmp(r)<0)c=E.neg(),u=s,l=T.neg(),y=M;else if(l&&++x===2)break;E=T,n=i,i=T,a=s,s=M,f=o,o=R}m=T.neg(),g=M;var O=l.sqr().add(y.sqr()),B=m.sqr().add(g.sqr());return B.cmp(O)>=0&&(m=c,g=u),l.negative&&(l=l.neg(),y=y.neg()),m.negative&&(m=m.neg(),g=g.neg()),[{a:l,b:y},{a:m,b:g}]};Xf.prototype._endoSplit=function(e){var r=this.endo.basis,i=r[0],n=r[1],s=n.b.mul(e).divRound(this.n),o=i.b.neg().mul(e).divRound(this.n),a=s.mul(i.a),f=o.mul(n.a),c=s.mul(i.b),u=o.mul(n.b),l=e.sub(a).sub(f),y=c.add(u).neg();return{k1:l,k2:y}};Xf.prototype.pointFromX=function(e,r){e=new Un(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=i.redSqrt();if(n.redSqr().redSub(i).cmp(this.zero)!==0)throw new Error("invalid point");var s=n.fromRed().isOdd();return(r&&!s||!r&&s)&&(n=n.redNeg()),this.point(e,n)};Xf.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,i=e.y,n=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(n).redIAdd(this.b);return i.redSqr().redISub(s).cmpn(0)===0};Xf.prototype._endoWnafMulAdd=function(e,r,i){for(var n=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),f=e[o],c=f._getBeta();a.k1.negative&&(a.k1.ineg(),f=f.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),n[o*2]=f,n[o*2+1]=c,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,n,s,o*2,i),l=0;l<o*2;l++)n[l]=null,s[l]=null;return u};function Zo(t,e,r,i){B1.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Un(e,16),this.y=new Un(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}QR(Zo,B1.BasePoint);Xf.prototype.point=function(e,r,i){return new Zo(this,e,r,i)};Xf.prototype.pointFromJSON=function(e,r){return Zo.fromJSON(this,e,r)};Zo.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,n=function(s){return i.point(s.x.redMul(i.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return r}};Zo.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Zo.fromJSON=function(e,r,i){typeof r=="string"&&(r=JSON.parse(r));var n=e.point(r[0],r[1],i);if(!r[2])return n;function s(a){return e.point(a[0],a[1],i)}var o=r[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(s))}},n};Zo.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Zo.prototype.isInfinity=function(){return this.inf};Zo.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var i=r.redSqr().redISub(this.x).redISub(e.x),n=r.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,n)};Zo.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,i=this.x.redSqr(),n=e.redInvm(),s=i.redAdd(i).redIAdd(i).redIAdd(r).redMul(n),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Zo.prototype.getX=function(){return this.x.fromRed()};Zo.prototype.getY=function(){return this.y.fromRed()};Zo.prototype.mul=function(e){return e=new Un(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Zo.prototype.mulAdd=function(e,r,i){var n=[this,r],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,s):this.curve._wnafMulAdd(1,n,s,2)};Zo.prototype.jmulAdd=function(e,r,i){var n=[this,r],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,s,!0):this.curve._wnafMulAdd(1,n,s,2,!0)};Zo.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Zo.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,n=function(s){return s.neg()};r.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(n)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(n)}}}return r};Zo.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Es(t,e,r,i){B1.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Un(0)):(this.x=new Un(e,16),this.y=new Un(r,16),this.z=new Un(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}QR(Es,B1.BasePoint);Xf.prototype.jpoint=function(e,r,i){return new Es(this,e,r,i)};Es.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),i=this.x.redMul(r),n=this.y.redMul(r).redMul(e);return this.curve.point(i,n)};Es.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Es.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),i=this.z.redSqr(),n=this.x.redMul(r),s=e.x.redMul(i),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(i.redMul(this.z)),f=n.redSub(s),c=o.redSub(a);if(f.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=f.redSqr(),l=u.redMul(f),y=n.redMul(u),m=c.redSqr().redIAdd(l).redISub(y).redISub(y),g=c.redMul(y.redISub(m)).redISub(o.redMul(l)),E=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(m,g,E)};Es.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),i=this.x,n=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=i.redSub(n),f=s.redSub(o);if(a.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),l=i.redMul(c),y=f.redSqr().redIAdd(u).redISub(l).redISub(l),m=f.redMul(l.redISub(y)).redISub(s.redMul(u)),g=this.z.redMul(a);return this.curve.jpoint(y,m,g)};Es.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var i=this;for(r=0;r<e;r++)i=i.dbl();return i}var n=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,f=this.z,c=f.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var l=o.redSqr(),y=u.redSqr(),m=y.redSqr(),g=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(c)),E=o.redMul(y),x=g.redSqr().redISub(E.redAdd(E)),T=E.redISub(x),M=g.redMul(T);M=M.redIAdd(M).redISub(m);var I=u.redMul(f);r+1<e&&(c=c.redMul(m)),o=x,f=I,u=M}return this.curve.jpoint(o,u.redMul(s),f)};Es.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Es.prototype._zeroDbl=function(){var e,r,i;if(this.zOne){var n=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var f=n.redAdd(n).redIAdd(n),c=f.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=c,r=f.redMul(a.redISub(c)).redISub(u),i=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),y=this.y.redSqr(),m=y.redSqr(),g=this.x.redAdd(y).redSqr().redISub(l).redISub(m);g=g.redIAdd(g);var E=l.redAdd(l).redIAdd(l),x=E.redSqr(),T=m.redIAdd(m);T=T.redIAdd(T),T=T.redIAdd(T),e=x.redISub(g).redISub(g),r=E.redMul(g.redISub(e)).redISub(T),i=this.y.redMul(this.z),i=i.redIAdd(i)}return this.curve.jpoint(e,r,i)};Es.prototype._threeDbl=function(){var e,r,i;if(this.zOne){var n=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var f=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=f.redSqr().redISub(a).redISub(a);e=c;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),r=f.redMul(a.redISub(c)).redISub(u),i=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),y=this.y.redSqr(),m=this.x.redMul(y),g=this.x.redSub(l).redMul(this.x.redAdd(l));g=g.redAdd(g).redIAdd(g);var E=m.redIAdd(m);E=E.redIAdd(E);var x=E.redAdd(E);e=g.redSqr().redISub(x),i=this.y.redAdd(this.z).redSqr().redISub(y).redISub(l);var T=y.redSqr();T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T),r=g.redMul(E.redISub(e)).redISub(T)}return this.curve.jpoint(e,r,i)};Es.prototype._dbl=function(){var e=this.curve.a,r=this.x,i=this.y,n=this.z,s=n.redSqr().redSqr(),o=r.redSqr(),a=i.redSqr(),f=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),c=r.redAdd(r);c=c.redIAdd(c);var u=c.redMul(a),l=f.redSqr().redISub(u.redAdd(u)),y=u.redISub(l),m=a.redSqr();m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var g=f.redMul(y).redISub(m),E=i.redAdd(i).redMul(n);return this.curve.jpoint(l,g,E)};Es.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),i=this.z.redSqr(),n=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(n);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var f=a.redSqr(),c=n.redIAdd(n);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var u=s.redIAdd(a).redSqr().redISub(o).redISub(f).redISub(c),l=r.redMul(u);l=l.redIAdd(l),l=l.redIAdd(l);var y=this.x.redMul(f).redISub(l);y=y.redIAdd(y),y=y.redIAdd(y);var m=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(f)));m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var g=this.z.redAdd(a).redSqr().redISub(i).redISub(f);return this.curve.jpoint(y,m,g)};Es.prototype.mul=function(e,r){return e=new Un(e,r),this.curve._wnafMul(this,e)};Es.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),i=e.z.redSqr();if(this.x.redMul(i).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var n=r.redMul(this.z),s=i.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(n)).cmpn(0)===0};Es.prototype.eqXToP=function(e){var r=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(i)===0)return!0;for(var n=e.clone(),s=this.curve.redN.redMul(r);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(s),this.x.cmp(i)===0)return!0}};Es.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Es.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var Hre=de((smt,Kre)=>{"use strict";F();var C1=Bo(),Vre=qt(),XE=p3(),NDe=pf();function O1(t){XE.call(this,"mont",t),this.a=new C1(t.a,16).toRed(this.red),this.b=new C1(t.b,16).toRed(this.red),this.i4=new C1(4).toRed(this.red).redInvm(),this.two=new C1(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}Vre(O1,XE);Kre.exports=O1;O1.prototype.validate=function(e){var r=e.normalize().x,i=r.redSqr(),n=i.redMul(r).redAdd(i.redMul(this.a)).redAdd(r),s=n.redSqrt();return s.redSqr().cmp(n)===0};function Go(t,e,r){XE.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new C1(e,16),this.z=new C1(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Vre(Go,XE.BasePoint);O1.prototype.decodePoint=function(e,r){return this.point(NDe.toArray(e,r),1)};O1.prototype.point=function(e,r){return new Go(this,e,r)};O1.prototype.pointFromJSON=function(e){return Go.fromJSON(this,e)};Go.prototype.precompute=function(){};Go.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Go.fromJSON=function(e,r){return new Go(e,r[0],r[1]||e.one)};Go.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Go.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Go.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),i=this.x.redSub(this.z),n=i.redSqr(),s=r.redSub(n),o=r.redMul(n),a=s.redMul(n.redAdd(this.curve.a24.redMul(s)));return this.curve.point(o,a)};Go.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Go.prototype.diffAdd=function(e,r){var i=this.x.redAdd(this.z),n=this.x.redSub(this.z),s=e.x.redAdd(e.z),o=e.x.redSub(e.z),a=o.redMul(i),f=s.redMul(n),c=r.z.redMul(a.redAdd(f).redSqr()),u=r.x.redMul(a.redISub(f).redSqr());return this.curve.point(c,u)};Go.prototype.mul=function(e){for(var r=e.clone(),i=this,n=this.curve.point(null,null),s=this,o=[];r.cmpn(0)!==0;r.iushrn(1))o.push(r.andln(1));for(var a=o.length-1;a>=0;a--)o[a]===0?(i=i.diffAdd(n,s),n=n.dbl()):(n=i.diffAdd(n,s),i=i.dbl());return n};Go.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Go.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Go.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Go.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Go.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var Zre=de((fmt,Yre)=>{"use strict";F();var qDe=pf(),pd=Bo(),Wre=qt(),QE=p3(),zDe=qDe.assert;function Vc(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,QE.call(this,"edwards",t),this.a=new pd(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new pd(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new pd(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),zDe(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}Wre(Vc,QE);Yre.exports=Vc;Vc.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Vc.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Vc.prototype.jpoint=function(e,r,i,n){return this.point(e,r,i,n)};Vc.prototype.pointFromX=function(e,r){e=new pd(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=this.c2.redSub(this.a.redMul(i)),s=this.one.redSub(this.c2.redMul(this.d).redMul(i)),o=n.redMul(s.redInvm()),a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var f=a.fromRed().isOdd();return(r&&!f||!r&&f)&&(a=a.redNeg()),this.point(e,a)};Vc.prototype.pointFromY=function(e,r){e=new pd(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=i.redSub(this.c2),s=i.redMul(this.d).redMul(this.c2).redSub(this.a),o=n.redMul(s.redInvm());if(o.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return a.fromRed().isOdd()!==r&&(a=a.redNeg()),this.point(a,e)};Vc.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),i=e.y.redSqr(),n=r.redMul(this.a).redAdd(i),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(i)));return n.cmp(s)===0};function Wi(t,e,r,i,n){QE.BasePoint.call(this,t,"projective"),e===null&&r===null&&i===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new pd(e,16),this.y=new pd(r,16),this.z=i?new pd(i,16):this.curve.one,this.t=n&&new pd(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Wre(Wi,QE.BasePoint);Vc.prototype.pointFromJSON=function(e){return Wi.fromJSON(this,e)};Vc.prototype.point=function(e,r,i,n){return new Wi(this,e,r,i,n)};Wi.fromJSON=function(e,r){return new Wi(e,r[0],r[1],r[2])};Wi.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Wi.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Wi.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var n=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),o=n.redAdd(r),a=o.redSub(i),f=n.redSub(r),c=s.redMul(a),u=o.redMul(f),l=s.redMul(f),y=a.redMul(o);return this.curve.point(c,u,y,l)};Wi.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),i=this.y.redSqr(),n,s,o,a,f,c;if(this.curve.twisted){a=this.curve._mulA(r);var u=a.redAdd(i);this.zOne?(n=e.redSub(r).redSub(i).redMul(u.redSub(this.curve.two)),s=u.redMul(a.redSub(i)),o=u.redSqr().redSub(u).redSub(u)):(f=this.z.redSqr(),c=u.redSub(f).redISub(f),n=e.redSub(r).redISub(i).redMul(c),s=u.redMul(a.redSub(i)),o=u.redMul(c))}else a=r.redAdd(i),f=this.curve._mulC(this.z).redSqr(),c=a.redSub(f).redSub(f),n=this.curve._mulC(e.redISub(a)).redMul(c),s=this.curve._mulC(a).redMul(r.redISub(i)),o=a.redMul(c);return this.curve.point(n,s,o)};Wi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Wi.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),o=i.redSub(r),a=s.redSub(n),f=s.redAdd(n),c=i.redAdd(r),u=o.redMul(a),l=f.redMul(c),y=o.redMul(c),m=a.redMul(f);return this.curve.point(u,l,m,y)};Wi.prototype._projAdd=function(e){var r=this.z.redMul(e.z),i=r.redSqr(),n=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(n).redMul(s),a=i.redSub(o),f=i.redAdd(o),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(n).redISub(s),u=r.redMul(a).redMul(c),l,y;return this.curve.twisted?(l=r.redMul(f).redMul(s.redSub(this.curve._mulA(n))),y=a.redMul(f)):(l=r.redMul(f).redMul(s.redSub(n)),y=this.curve._mulC(a).redMul(f)),this.curve.point(u,l,y)};Wi.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Wi.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Wi.prototype.mulAdd=function(e,r,i){return this.curve._wnafMulAdd(1,[this,r],[e,i],2,!1)};Wi.prototype.jmulAdd=function(e,r,i){return this.curve._wnafMulAdd(1,[this,r],[e,i],2,!0)};Wi.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Wi.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Wi.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Wi.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Wi.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Wi.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),n=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),this.x.cmp(r)===0)return!0}};Wi.prototype.toP=Wi.prototype.normalize;Wi.prototype.mixedAdd=Wi.prototype.add});var eB=de(Gre=>{"use strict";F();var e7=Gre;e7.base=p3();e7.short=$re();e7.mont=Hre();e7.edwards=Zre()});var ju=de(Fi=>{"use strict";F();var FDe=hf(),UDe=qt();Fi.inherits=UDe;function $De(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function VDe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var i=0,n=0;n<t.length;n++){var s=t.charCodeAt(n);s<128?r[i++]=s:s<2048?(r[i++]=s>>6|192,r[i++]=s&63|128):$De(t,n)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),r[i++]=s>>18|240,r[i++]=s>>12&63|128,r[i++]=s>>6&63|128,r[i++]=s&63|128):(r[i++]=s>>12|224,r[i++]=s>>6&63|128,r[i++]=s&63|128)}else for(n=0;n<t.length;n++)r[n]=t[n]|0;return r}Fi.toArray=VDe;function KDe(t){for(var e="",r=0;r<t.length;r++)e+=Xre(t[r].toString(16));return e}Fi.toHex=KDe;function Jre(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Fi.htonl=Jre;function HDe(t,e){for(var r="",i=0;i<t.length;i++){var n=t[i];e==="little"&&(n=Jre(n)),r+=Qre(n.toString(16))}return r}Fi.toHex32=HDe;function Xre(t){return t.length===1?"0"+t:t}Fi.zero2=Xre;function Qre(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Fi.zero8=Qre;function WDe(t,e,r,i){var n=r-e;FDe(n%4===0);for(var s=new Array(n/4),o=0,a=e;o<s.length;o++,a+=4){var f;i==="big"?f=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:f=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=f>>>0}return s}Fi.join32=WDe;function YDe(t,e){for(var r=new Array(t.length*4),i=0,n=0;i<t.length;i++,n+=4){var s=t[i];e==="big"?(r[n]=s>>>24,r[n+1]=s>>>16&255,r[n+2]=s>>>8&255,r[n+3]=s&255):(r[n+3]=s>>>24,r[n+2]=s>>>16&255,r[n+1]=s>>>8&255,r[n]=s&255)}return r}Fi.split32=YDe;function ZDe(t,e){return t>>>e|t<<32-e}Fi.rotr32=ZDe;function GDe(t,e){return t<<e|t>>>32-e}Fi.rotl32=GDe;function JDe(t,e){return t+e>>>0}Fi.sum32=JDe;function XDe(t,e,r){return t+e+r>>>0}Fi.sum32_3=XDe;function QDe(t,e,r,i){return t+e+r+i>>>0}Fi.sum32_4=QDe;function eIe(t,e,r,i,n){return t+e+r+i+n>>>0}Fi.sum32_5=eIe;function tIe(t,e,r,i){var n=t[e],s=t[e+1],o=i+s>>>0,a=(o<i?1:0)+r+n;t[e]=a>>>0,t[e+1]=o}Fi.sum64=tIe;function rIe(t,e,r,i){var n=e+i>>>0,s=(n<e?1:0)+t+r;return s>>>0}Fi.sum64_hi=rIe;function iIe(t,e,r,i){var n=e+i;return n>>>0}Fi.sum64_lo=iIe;function nIe(t,e,r,i,n,s,o,a){var f=0,c=e;c=c+i>>>0,f+=c<e?1:0,c=c+s>>>0,f+=c<s?1:0,c=c+a>>>0,f+=c<a?1:0;var u=t+r+n+o+f;return u>>>0}Fi.sum64_4_hi=nIe;function oIe(t,e,r,i,n,s,o,a){var f=e+i+s+a;return f>>>0}Fi.sum64_4_lo=oIe;function sIe(t,e,r,i,n,s,o,a,f,c){var u=0,l=e;l=l+i>>>0,u+=l<e?1:0,l=l+s>>>0,u+=l<s?1:0,l=l+a>>>0,u+=l<a?1:0,l=l+c>>>0,u+=l<c?1:0;var y=t+r+n+o+f+u;return y>>>0}Fi.sum64_5_hi=sIe;function aIe(t,e,r,i,n,s,o,a,f,c){var u=e+i+s+a+c;return u>>>0}Fi.sum64_5_lo=aIe;function fIe(t,e,r){var i=e<<32-r|t>>>r;return i>>>0}Fi.rotr64_hi=fIe;function uIe(t,e,r){var i=t<<32-r|e>>>r;return i>>>0}Fi.rotr64_lo=uIe;function cIe(t,e,r){return t>>>r}Fi.shr64_hi=cIe;function lIe(t,e,r){var i=t<<32-r|e>>>r;return i>>>0}Fi.shr64_lo=lIe});var j1=de(tie=>{"use strict";F();var eie=ju(),dIe=hf();function t7(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}tie.BlockHash=t7;t7.prototype.update=function(e,r){if(e=eie.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var i=e.length%this._delta8;this.pending=e.slice(e.length-i,e.length),this.pending.length===0&&(this.pending=null),e=eie.join32(e,0,e.length-i,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this};t7.prototype.digest=function(e){return this.update(this._pad()),dIe(this.pending===null),this._digest(e)};t7.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,i=r-(e+this.padLength)%r,n=new Array(i+this.padLength);n[0]=128;for(var s=1;s<i;s++)n[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)n[s++]=0;n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=e>>>24&255,n[s++]=e>>>16&255,n[s++]=e>>>8&255,n[s++]=e&255}else for(n[s++]=e&255,n[s++]=e>>>8&255,n[s++]=e>>>16&255,n[s++]=e>>>24&255,n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=0,o=8;o<this.padLength;o++)n[s++]=0;return n}});var tB=de(yd=>{"use strict";F();var hIe=ju(),Kc=hIe.rotr32;function pIe(t,e,r,i){if(t===0)return rie(e,r,i);if(t===1||t===3)return nie(e,r,i);if(t===2)return iie(e,r,i)}yd.ft_1=pIe;function rie(t,e,r){return t&e^~t&r}yd.ch32=rie;function iie(t,e,r){return t&e^t&r^e&r}yd.maj32=iie;function nie(t,e,r){return t^e^r}yd.p32=nie;function yIe(t){return Kc(t,2)^Kc(t,13)^Kc(t,22)}yd.s0_256=yIe;function mIe(t){return Kc(t,6)^Kc(t,11)^Kc(t,25)}yd.s1_256=mIe;function gIe(t){return Kc(t,7)^Kc(t,18)^t>>>3}yd.g0_256=gIe;function bIe(t){return Kc(t,17)^Kc(t,19)^t>>>10}yd.g1_256=bIe});var aie=de((bmt,sie)=>{"use strict";F();var L1=ju(),vIe=j1(),wIe=tB(),rB=L1.rotl32,y3=L1.sum32,_Ie=L1.sum32_5,EIe=wIe.ft_1,oie=vIe.BlockHash,SIe=[1518500249,1859775393,2400959708,3395469782];function Hc(){if(!(this instanceof Hc))return new Hc;oie.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}L1.inherits(Hc,oie);sie.exports=Hc;Hc.blockSize=512;Hc.outSize=160;Hc.hmacStrength=80;Hc.padLength=64;Hc.prototype._update=function(e,r){for(var i=this.W,n=0;n<16;n++)i[n]=e[r+n];for(;n<i.length;n++)i[n]=rB(i[n-3]^i[n-8]^i[n-14]^i[n-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],f=this.h[3],c=this.h[4];for(n=0;n<i.length;n++){var u=~~(n/20),l=_Ie(rB(s,5),EIe(u,o,a,f),c,i[n],SIe[u]);c=f,f=a,a=rB(o,30),o=s,s=l}this.h[0]=y3(this.h[0],s),this.h[1]=y3(this.h[1],o),this.h[2]=y3(this.h[2],a),this.h[3]=y3(this.h[3],f),this.h[4]=y3(this.h[4],c)};Hc.prototype._digest=function(e){return e==="hex"?L1.toHex32(this.h,"big"):L1.split32(this.h,"big")}});var iB=de((wmt,uie)=>{"use strict";F();var N1=ju(),xIe=j1(),q1=tB(),AIe=hf(),Lu=N1.sum32,MIe=N1.sum32_4,kIe=N1.sum32_5,TIe=q1.ch32,PIe=q1.maj32,DIe=q1.s0_256,IIe=q1.s1_256,RIe=q1.g0_256,BIe=q1.g1_256,fie=xIe.BlockHash,CIe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Wc(){if(!(this instanceof Wc))return new Wc;fie.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=CIe,this.W=new Array(64)}N1.inherits(Wc,fie);uie.exports=Wc;Wc.blockSize=512;Wc.outSize=256;Wc.hmacStrength=192;Wc.padLength=64;Wc.prototype._update=function(e,r){for(var i=this.W,n=0;n<16;n++)i[n]=e[r+n];for(;n<i.length;n++)i[n]=MIe(BIe(i[n-2]),i[n-7],RIe(i[n-15]),i[n-16]);var s=this.h[0],o=this.h[1],a=this.h[2],f=this.h[3],c=this.h[4],u=this.h[5],l=this.h[6],y=this.h[7];for(AIe(this.k.length===i.length),n=0;n<i.length;n++){var m=kIe(y,IIe(c),TIe(c,u,l),this.k[n],i[n]),g=Lu(DIe(s),PIe(s,o,a));y=l,l=u,u=c,c=Lu(f,m),f=a,a=o,o=s,s=Lu(m,g)}this.h[0]=Lu(this.h[0],s),this.h[1]=Lu(this.h[1],o),this.h[2]=Lu(this.h[2],a),this.h[3]=Lu(this.h[3],f),this.h[4]=Lu(this.h[4],c),this.h[5]=Lu(this.h[5],u),this.h[6]=Lu(this.h[6],l),this.h[7]=Lu(this.h[7],y)};Wc.prototype._digest=function(e){return e==="hex"?N1.toHex32(this.h,"big"):N1.split32(this.h,"big")}});var die=de((Emt,lie)=>{"use strict";F();var nB=ju(),cie=iB();function md(){if(!(this instanceof md))return new md;cie.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}nB.inherits(md,cie);lie.exports=md;md.blockSize=512;md.outSize=224;md.hmacStrength=192;md.padLength=64;md.prototype._digest=function(e){return e==="hex"?nB.toHex32(this.h.slice(0,7),"big"):nB.split32(this.h.slice(0,7),"big")}});var aB=de((xmt,mie)=>{"use strict";F();var Ba=ju(),OIe=j1(),jIe=hf(),Yc=Ba.rotr64_hi,Zc=Ba.rotr64_lo,hie=Ba.shr64_hi,pie=Ba.shr64_lo,Xh=Ba.sum64,oB=Ba.sum64_hi,sB=Ba.sum64_lo,LIe=Ba.sum64_4_hi,NIe=Ba.sum64_4_lo,qIe=Ba.sum64_5_hi,zIe=Ba.sum64_5_lo,yie=OIe.BlockHash,FIe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Nu(){if(!(this instanceof Nu))return new Nu;yie.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=FIe,this.W=new Array(160)}Ba.inherits(Nu,yie);mie.exports=Nu;Nu.blockSize=1024;Nu.outSize=512;Nu.hmacStrength=192;Nu.padLength=128;Nu.prototype._prepareBlock=function(e,r){for(var i=this.W,n=0;n<32;n++)i[n]=e[r+n];for(;n<i.length;n+=2){var s=XIe(i[n-4],i[n-3]),o=QIe(i[n-4],i[n-3]),a=i[n-14],f=i[n-13],c=GIe(i[n-30],i[n-29]),u=JIe(i[n-30],i[n-29]),l=i[n-32],y=i[n-31];i[n]=LIe(s,o,a,f,c,u,l,y),i[n+1]=NIe(s,o,a,f,c,u,l,y)}};Nu.prototype._update=function(e,r){this._prepareBlock(e,r);var i=this.W,n=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],f=this.h[4],c=this.h[5],u=this.h[6],l=this.h[7],y=this.h[8],m=this.h[9],g=this.h[10],E=this.h[11],x=this.h[12],T=this.h[13],M=this.h[14],I=this.h[15];jIe(this.k.length===i.length);for(var R=0;R<i.length;R+=2){var O=M,B=I,C=YIe(y,m),U=ZIe(y,m),W=UIe(y,m,g,E,x,T),L=$Ie(y,m,g,E,x,T),j=this.k[R],k=this.k[R+1],P=i[R],p=i[R+1],d=qIe(O,B,C,U,W,L,j,k,P,p),h=zIe(O,B,C,U,W,L,j,k,P,p);O=HIe(n,s),B=WIe(n,s),C=VIe(n,s,o,a,f,c),U=KIe(n,s,o,a,f,c);var b=oB(O,B,C,U),v=sB(O,B,C,U);M=x,I=T,x=g,T=E,g=y,E=m,y=oB(u,l,d,h),m=sB(l,l,d,h),u=f,l=c,f=o,c=a,o=n,a=s,n=oB(d,h,b,v),s=sB(d,h,b,v)}Xh(this.h,0,n,s),Xh(this.h,2,o,a),Xh(this.h,4,f,c),Xh(this.h,6,u,l),Xh(this.h,8,y,m),Xh(this.h,10,g,E),Xh(this.h,12,x,T),Xh(this.h,14,M,I)};Nu.prototype._digest=function(e){return e==="hex"?Ba.toHex32(this.h,"big"):Ba.split32(this.h,"big")};function UIe(t,e,r,i,n){var s=t&r^~t&n;return s<0&&(s+=4294967296),s}function $Ie(t,e,r,i,n,s){var o=e&i^~e&s;return o<0&&(o+=4294967296),o}function VIe(t,e,r,i,n){var s=t&r^t&n^r&n;return s<0&&(s+=4294967296),s}function KIe(t,e,r,i,n,s){var o=e&i^e&s^i&s;return o<0&&(o+=4294967296),o}function HIe(t,e){var r=Yc(t,e,28),i=Yc(e,t,2),n=Yc(e,t,7),s=r^i^n;return s<0&&(s+=4294967296),s}function WIe(t,e){var r=Zc(t,e,28),i=Zc(e,t,2),n=Zc(e,t,7),s=r^i^n;return s<0&&(s+=4294967296),s}function YIe(t,e){var r=Yc(t,e,14),i=Yc(t,e,18),n=Yc(e,t,9),s=r^i^n;return s<0&&(s+=4294967296),s}function ZIe(t,e){var r=Zc(t,e,14),i=Zc(t,e,18),n=Zc(e,t,9),s=r^i^n;return s<0&&(s+=4294967296),s}function GIe(t,e){var r=Yc(t,e,1),i=Yc(t,e,8),n=hie(t,e,7),s=r^i^n;return s<0&&(s+=4294967296),s}function JIe(t,e){var r=Zc(t,e,1),i=Zc(t,e,8),n=pie(t,e,7),s=r^i^n;return s<0&&(s+=4294967296),s}function XIe(t,e){var r=Yc(t,e,19),i=Yc(e,t,29),n=hie(t,e,6),s=r^i^n;return s<0&&(s+=4294967296),s}function QIe(t,e){var r=Zc(t,e,19),i=Zc(e,t,29),n=pie(t,e,6),s=r^i^n;return s<0&&(s+=4294967296),s}});var vie=de((Mmt,bie)=>{"use strict";F();var fB=ju(),gie=aB();function gd(){if(!(this instanceof gd))return new gd;gie.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}fB.inherits(gd,gie);bie.exports=gd;gd.blockSize=1024;gd.outSize=384;gd.hmacStrength=192;gd.padLength=128;gd.prototype._digest=function(e){return e==="hex"?fB.toHex32(this.h.slice(0,12),"big"):fB.split32(this.h.slice(0,12),"big")}});var wie=de(z1=>{"use strict";F();z1.sha1=aie();z1.sha224=die();z1.sha256=iB();z1.sha384=vie();z1.sha512=aB()});var Mie=de(Aie=>{"use strict";F();var Oy=ju(),eRe=j1(),r7=Oy.rotl32,_ie=Oy.sum32,m3=Oy.sum32_3,Eie=Oy.sum32_4,xie=eRe.BlockHash;function Gc(){if(!(this instanceof Gc))return new Gc;xie.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Oy.inherits(Gc,xie);Aie.ripemd160=Gc;Gc.blockSize=512;Gc.outSize=160;Gc.hmacStrength=192;Gc.padLength=64;Gc.prototype._update=function(e,r){for(var i=this.h[0],n=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],f=i,c=n,u=s,l=o,y=a,m=0;m<80;m++){var g=_ie(r7(Eie(i,Sie(m,n,s,o),e[iRe[m]+r],tRe(m)),oRe[m]),a);i=a,a=o,o=r7(s,10),s=n,n=g,g=_ie(r7(Eie(f,Sie(79-m,c,u,l),e[nRe[m]+r],rRe(m)),sRe[m]),y),f=y,y=l,l=r7(u,10),u=c,c=g}g=m3(this.h[1],s,l),this.h[1]=m3(this.h[2],o,y),this.h[2]=m3(this.h[3],a,f),this.h[3]=m3(this.h[4],i,c),this.h[4]=m3(this.h[0],n,u),this.h[0]=g};Gc.prototype._digest=function(e){return e==="hex"?Oy.toHex32(this.h,"little"):Oy.split32(this.h,"little")};function Sie(t,e,r,i){return t<=15?e^r^i:t<=31?e&r|~e&i:t<=47?(e|~r)^i:t<=63?e&i|r&~i:e^(r|~i)}function tRe(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function rRe(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var iRe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],nRe=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],oRe=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sRe=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var Tie=de((Rmt,kie)=>{"use strict";F();var aRe=ju(),fRe=hf();function F1(t,e,r){if(!(this instanceof F1))return new F1(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(aRe.toArray(e,r))}kie.exports=F1;F1.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),fRe(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};F1.prototype.update=function(e,r){return this.inner.update(e,r),this};F1.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var i7=de(Pie=>{F();var Ss=Pie;Ss.utils=ju();Ss.common=j1();Ss.sha=wie();Ss.ripemd=Mie();Ss.hmac=Tie();Ss.sha1=Ss.sha.sha1;Ss.sha256=Ss.sha.sha256;Ss.sha224=Ss.sha.sha224;Ss.sha384=Ss.sha.sha384;Ss.sha512=Ss.sha.sha512;Ss.ripemd160=Ss.ripemd.ripemd160});var Iie=de((jmt,Die)=>{F();Die.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var n7=de(Cie=>{"use strict";F();var cB=Cie,Qh=i7(),uB=eB(),uRe=pf(),Rie=uRe.assert;function Bie(t){t.type==="short"?this.curve=new uB.short(t):t.type==="edwards"?this.curve=new uB.edwards(t):this.curve=new uB.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,Rie(this.g.validate(),"Invalid curve"),Rie(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}cB.PresetCurve=Bie;function ep(t,e){Object.defineProperty(cB,t,{configurable:!0,enumerable:!0,get:function(){var r=new Bie(e);return Object.defineProperty(cB,t,{configurable:!0,enumerable:!0,value:r}),r}})}ep("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Qh.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});ep("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Qh.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});ep("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Qh.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});ep("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Qh.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});ep("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Qh.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});ep("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Qh.sha256,gRed:!1,g:["9"]});ep("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Qh.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var lB;try{lB=Iie()}catch{lB=void 0}ep("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Qh.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",lB]})});var Lie=de((zmt,jie)=>{"use strict";F();var cRe=i7(),jy=XR(),Oie=hf();function tp(t){if(!(this instanceof tp))return new tp(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=jy.toArray(t.entropy,t.entropyEnc||"hex"),r=jy.toArray(t.nonce,t.nonceEnc||"hex"),i=jy.toArray(t.pers,t.persEnc||"hex");Oie(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,i)}jie.exports=tp;tp.prototype._init=function(e,r,i){var n=e.concat(r).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656};tp.prototype._hmac=function(){return new cRe.hmac(this.hash,this.K)};tp.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};tp.prototype.reseed=function(e,r,i,n){typeof r!="string"&&(n=i,i=r,r=null),e=jy.toArray(e,r),i=jy.toArray(i,n),Oie(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1};tp.prototype.generate=function(e,r,i,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(n=i,i=r,r=null),i&&(i=jy.toArray(i,n||"hex"),this._update(i));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(i),this._reseed++,jy.encode(o,r)}});var qie=de((Umt,Nie)=>{"use strict";F();var lRe=Bo(),dRe=pf(),dB=dRe.assert;function Js(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}Nie.exports=Js;Js.fromPublic=function(e,r,i){return r instanceof Js?r:new Js(e,{pub:r,pubEnc:i})};Js.fromPrivate=function(e,r,i){return r instanceof Js?r:new Js(e,{priv:r,privEnc:i})};Js.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Js.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Js.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Js.prototype._importPrivate=function(e,r){this.priv=new lRe(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Js.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?dB(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&dB(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Js.prototype.derive=function(e){return e.validate()||dB(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Js.prototype.sign=function(e,r,i){return this.ec.sign(e,this,r,i)};Js.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Js.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var Uie=de((Vmt,Fie)=>{"use strict";F();var o7=Bo(),yB=pf(),hRe=yB.assert;function s7(t,e){if(t instanceof s7)return t;this._importDER(t,e)||(hRe(t.r&&t.s,"Signature without r or s"),this.r=new o7(t.r,16),this.s=new o7(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}Fie.exports=s7;function pRe(){this.place=0}function hB(t,e){var r=t[e.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var n=0,s=0,o=e.place;s<i;s++,o++)n<<=8,n|=t[o],n>>>=0;return n<=127?!1:(e.place=o,n)}function zie(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}s7.prototype._importDER=function(e,r){e=yB.toArray(e,r);var i=new pRe;if(e[i.place++]!==48)return!1;var n=hB(e,i);if(n===!1||n+i.place!==e.length||e[i.place++]!==2)return!1;var s=hB(e,i);if(s===!1)return!1;var o=e.slice(i.place,s+i.place);if(i.place+=s,e[i.place++]!==2)return!1;var a=hB(e,i);if(a===!1||e.length!==a+i.place)return!1;var f=e.slice(i.place,a+i.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new o7(o),this.s=new o7(f),this.recoveryParam=null,!0};function pB(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}s7.prototype.toDER=function(e){var r=this.r.toArray(),i=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),i[0]&128&&(i=[0].concat(i)),r=zie(r),i=zie(i);!i[0]&&!(i[1]&128);)i=i.slice(1);var n=[2];pB(n,r.length),n=n.concat(r),n.push(2),pB(n,i.length);var s=n.concat(i),o=[48];return pB(o,s.length),o=o.concat(s),yB.encode(o,e)}});var Hie=de((Hmt,Kie)=>{"use strict";F();var Ly=Bo(),$ie=Lie(),yRe=pf(),mB=n7(),mRe=TE(),Vie=yRe.assert,gB=qie(),a7=Uie();function Qf(t){if(!(this instanceof Qf))return new Qf(t);typeof t=="string"&&(Vie(Object.prototype.hasOwnProperty.call(mB,t),"Unknown curve "+t),t=mB[t]),t instanceof mB.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}Kie.exports=Qf;Qf.prototype.keyPair=function(e){return new gB(this,e)};Qf.prototype.keyFromPrivate=function(e,r){return gB.fromPrivate(this,e,r)};Qf.prototype.keyFromPublic=function(e,r){return gB.fromPublic(this,e,r)};Qf.prototype.genKeyPair=function(e){e||(e={});for(var r=new $ie({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||mRe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),n=this.n.sub(new Ly(2));;){var s=new Ly(r.generate(i));if(!(s.cmp(n)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Qf.prototype._truncateToN=function(e,r){var i=e.byteLength()*8-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Qf.prototype.sign=function(e,r,i,n){typeof i=="object"&&(n=i,i=null),n||(n={}),r=this.keyFromPrivate(r,i),e=this._truncateToN(new Ly(e,16));for(var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),a=e.toArray("be",s),f=new $ie({hash:this.hash,entropy:o,nonce:a,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new Ly(1)),u=0;;u++){var l=n.k?n.k(u):new Ly(f.generate(this.n.byteLength()));if(l=this._truncateToN(l,!0),!(l.cmpn(1)<=0||l.cmp(c)>=0)){var y=this.g.mul(l);if(!y.isInfinity()){var m=y.getX(),g=m.umod(this.n);if(g.cmpn(0)!==0){var E=l.invm(this.n).mul(g.mul(r.getPrivate()).iadd(e));if(E=E.umod(this.n),E.cmpn(0)!==0){var x=(y.getY().isOdd()?1:0)|(m.cmp(g)!==0?2:0);return n.canonical&&E.cmp(this.nh)>0&&(E=this.n.sub(E),x^=1),new a7({r:g,s:E,recoveryParam:x})}}}}}};Qf.prototype.verify=function(e,r,i,n){e=this._truncateToN(new Ly(e,16)),i=this.keyFromPublic(i,n),r=new a7(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),f=a.mul(e).umod(this.n),c=a.mul(s).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(f,i.getPublic(),c),u.isInfinity()?!1:u.eqXToP(s)):(u=this.g.mulAdd(f,i.getPublic(),c),u.isInfinity()?!1:u.getX().umod(this.n).cmp(s)===0)};Qf.prototype.recoverPubKey=function(t,e,r,i){Vie((3&r)===r,"The recovery param is more than two bits"),e=new a7(e,i);var n=this.n,s=new Ly(t),o=e.r,a=e.s,f=r&1,c=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?o=this.curve.pointFromX(o.add(this.curve.n),f):o=this.curve.pointFromX(o,f);var u=e.r.invm(n),l=n.sub(s).mul(u).umod(n),y=a.mul(u).umod(n);return this.g.mulAdd(l,o,y)};Qf.prototype.getKeyRecoveryParam=function(t,e,r,i){if(e=new a7(e,i),e.recoveryParam!==null)return e.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(t,e,n)}catch{continue}if(s.eq(r))return n}throw new Error("Unable to find valid recovery factor")}});var Gie=de((Ymt,Zie)=>{"use strict";F();var g3=pf(),Yie=g3.assert,Wie=g3.parseBytes,U1=g3.cachedProperty;function Jo(t,e){this.eddsa=t,this._secret=Wie(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=Wie(e.pub)}Jo.fromPublic=function(e,r){return r instanceof Jo?r:new Jo(e,{pub:r})};Jo.fromSecret=function(e,r){return r instanceof Jo?r:new Jo(e,{secret:r})};Jo.prototype.secret=function(){return this._secret};U1(Jo,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});U1(Jo,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});U1(Jo,"privBytes",function(){var e=this.eddsa,r=this.hash(),i=e.encodingLength-1,n=r.slice(0,e.encodingLength);return n[0]&=248,n[i]&=127,n[i]|=64,n});U1(Jo,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});U1(Jo,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});U1(Jo,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Jo.prototype.sign=function(e){return Yie(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};Jo.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};Jo.prototype.getSecret=function(e){return Yie(this._secret,"KeyPair is public only"),g3.encode(this.secret(),e)};Jo.prototype.getPublic=function(e){return g3.encode(this.pubBytes(),e)};Zie.exports=Jo});var Xie=de((Gmt,Jie)=>{"use strict";F();var gRe=Bo(),f7=pf(),bRe=f7.assert,u7=f7.cachedProperty,vRe=f7.parseBytes;function Ny(t,e){this.eddsa=t,typeof e!="object"&&(e=vRe(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),bRe(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof gRe&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}u7(Ny,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});u7(Ny,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});u7(Ny,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});u7(Ny,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Ny.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Ny.prototype.toHex=function(){return f7.encode(this.toBytes(),"hex").toUpperCase()};Jie.exports=Ny});var ine=de((Xmt,rne)=>{"use strict";F();var wRe=i7(),_Re=n7(),$1=pf(),ERe=$1.assert,ene=$1.parseBytes,tne=Gie(),Qie=Xie();function Ca(t){if(ERe(t==="ed25519","only tested with ed25519 so far"),!(this instanceof Ca))return new Ca(t);t=_Re[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=wRe.sha512}rne.exports=Ca;Ca.prototype.sign=function(e,r){e=ene(e);var i=this.keyFromSecret(r),n=this.hashInt(i.messagePrefix(),e),s=this.g.mul(n),o=this.encodePoint(s),a=this.hashInt(o,i.pubBytes(),e).mul(i.priv()),f=n.add(a).umod(this.curve.n);return this.makeSignature({R:s,S:f,Rencoded:o})};Ca.prototype.verify=function(e,r,i){e=ene(e),r=this.makeSignature(r);var n=this.keyFromPublic(i),s=this.hashInt(r.Rencoded(),n.pubBytes(),e),o=this.g.mul(r.S()),a=r.R().add(n.pub().mul(s));return a.eq(o)};Ca.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return $1.intFromLE(e.digest()).umod(this.curve.n)};Ca.prototype.keyFromPublic=function(e){return tne.fromPublic(this,e)};Ca.prototype.keyFromSecret=function(e){return tne.fromSecret(this,e)};Ca.prototype.makeSignature=function(e){return e instanceof Qie?e:new Qie(this,e)};Ca.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};Ca.prototype.decodePoint=function(e){e=$1.parseBytes(e);var r=e.length-1,i=e.slice(0,r).concat(e[r]&-129),n=(e[r]&128)!==0,s=$1.intFromLE(i);return this.curve.pointFromY(s,n)};Ca.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Ca.prototype.decodeInt=function(e){return $1.intFromLE(e)};Ca.prototype.isPoint=function(e){return e instanceof this.pointClass}});var V1=de(nne=>{"use strict";F();var qy=nne;qy.version=jre().version;qy.utils=pf();qy.rand=TE();qy.curve=eB();qy.curves=n7();qy.ec=Hie();qy.eddsa=ine()});var vB=de((one,bB)=>{F();(function(t,e){"use strict";function r(P,p){if(!P)throw new Error(p||"Assertion failed")}function i(P,p){P.super_=p;var d=function(){};d.prototype=p.prototype,P.prototype=new d,P.prototype.constructor=P}function n(P,p,d){if(n.isBN(P))return P;this.negative=0,this.words=null,this.length=0,this.red=null,P!==null&&((p==="le"||p==="be")&&(d=p,p=10),this._init(P||0,p||10,d||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=ki().Buffer}catch{}n.isBN=function(p){return p instanceof n?!0:p!==null&&typeof p=="object"&&p.constructor.wordSize===n.wordSize&&Array.isArray(p.words)},n.max=function(p,d){return p.cmp(d)>0?p:d},n.min=function(p,d){return p.cmp(d)<0?p:d},n.prototype._init=function(p,d,h){if(typeof p=="number")return this._initNumber(p,d,h);if(typeof p=="object")return this._initArray(p,d,h);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),p=p.toString().replace(/\s+/g,"");var b=0;p[0]==="-"&&(b++,this.negative=1),b<p.length&&(d===16?this._parseHex(p,b,h):(this._parseBase(p,d,b),h==="le"&&this._initArray(this.toArray(),d,h)))},n.prototype._initNumber=function(p,d,h){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[p&67108863],this.length=1):p<4503599627370496?(this.words=[p&67108863,p/67108864&67108863],this.length=2):(r(p<9007199254740992),this.words=[p&67108863,p/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),d,h)},n.prototype._initArray=function(p,d,h){if(r(typeof p.length=="number"),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var v,w,_=0;if(h==="be")for(b=p.length-1,v=0;b>=0;b-=3)w=p[b]|p[b-1]<<8|p[b-2]<<16,this.words[v]|=w<<_&67108863,this.words[v+1]=w>>>26-_&67108863,_+=24,_>=26&&(_-=26,v++);else if(h==="le")for(b=0,v=0;b<p.length;b+=3)w=p[b]|p[b+1]<<8|p[b+2]<<16,this.words[v]|=w<<_&67108863,this.words[v+1]=w>>>26-_&67108863,_+=24,_>=26&&(_-=26,v++);return this._strip()};function o(P,p){var d=P.charCodeAt(p);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;r(!1,"Invalid character in "+P)}function a(P,p,d){var h=o(P,d);return d-1>=p&&(h|=o(P,d-1)<<4),h}n.prototype._parseHex=function(p,d,h){this.length=Math.ceil((p.length-d)/6),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var v=0,w=0,_;if(h==="be")for(b=p.length-1;b>=d;b-=2)_=a(p,d,b)<<v,this.words[w]|=_&67108863,v>=18?(v-=18,w+=1,this.words[w]|=_>>>26):v+=8;else{var D=p.length-d;for(b=D%2===0?d+1:d;b<p.length;b+=2)_=a(p,d,b)<<v,this.words[w]|=_&67108863,v>=18?(v-=18,w+=1,this.words[w]|=_>>>26):v+=8}this._strip()};function f(P,p,d,h){for(var b=0,v=0,w=Math.min(P.length,d),_=p;_<w;_++){var D=P.charCodeAt(_)-48;b*=h,D>=49?v=D-49+10:D>=17?v=D-17+10:v=D,r(D>=0&&v<h,"Invalid character"),b+=v}return b}n.prototype._parseBase=function(p,d,h){this.words=[0],this.length=1;for(var b=0,v=1;v<=67108863;v*=d)b++;b--,v=v/d|0;for(var w=p.length-h,_=w%b,D=Math.min(w,w-_)+h,S=0,A=h;A<D;A+=b)S=f(p,A,A+b,d),this.imuln(v),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S);if(_!==0){var N=1;for(S=f(p,A,p.length,d),A=0;A<_;A++)N*=d;this.imuln(N),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S)}this._strip()},n.prototype.copy=function(p){p.words=new Array(this.length);for(var d=0;d<this.length;d++)p.words[d]=this.words[d];p.length=this.length,p.negative=this.negative,p.red=this.red};function c(P,p){P.words=p.words,P.length=p.length,P.negative=p.negative,P.red=p.red}if(n.prototype._move=function(p){c(p,this)},n.prototype.clone=function(){var p=new n(null);return this.copy(p),p},n.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch{n.prototype.inspect=u}else n.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(p,d){p=p||10,d=d|0||1;var h;if(p===16||p==="hex"){h="";for(var b=0,v=0,w=0;w<this.length;w++){var _=this.words[w],D=((_<<b|v)&16777215).toString(16);v=_>>>24-b&16777215,b+=2,b>=26&&(b-=26,w--),v!==0||w!==this.length-1?h=l[6-D.length]+D+h:h=D+h}for(v!==0&&(h=v.toString(16)+h);h.length%d!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(p===(p|0)&&p>=2&&p<=36){var S=y[p],A=m[p];h="";var N=this.clone();for(N.negative=0;!N.isZero();){var G=N.modrn(A).toString(p);N=N.idivn(A),N.isZero()?h=G+h:h=l[S-G.length]+G+h}for(this.isZero()&&(h="0"+h);h.length%d!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=this.words[1]*67108864:this.length===3&&this.words[2]===1?p+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-p:p},n.prototype.toJSON=function(){return this.toString(16,2)},s&&(n.prototype.toBuffer=function(p,d){return this.toArrayLike(s,p,d)}),n.prototype.toArray=function(p,d){return this.toArrayLike(Array,p,d)};var g=function(p,d){return p.allocUnsafe?p.allocUnsafe(d):new p(d)};n.prototype.toArrayLike=function(p,d,h){this._strip();var b=this.byteLength(),v=h||Math.max(1,b);r(b<=v,"byte array longer than desired length"),r(v>0,"Requested array length <= 0");var w=g(p,v),_=d==="le"?"LE":"BE";return this["_toArrayLike"+_](w,b),w},n.prototype._toArrayLikeLE=function(p,d){for(var h=0,b=0,v=0,w=0;v<this.length;v++){var _=this.words[v]<<w|b;p[h++]=_&255,h<p.length&&(p[h++]=_>>8&255),h<p.length&&(p[h++]=_>>16&255),w===6?(h<p.length&&(p[h++]=_>>24&255),b=0,w=0):(b=_>>>24,w+=2)}if(h<p.length)for(p[h++]=b;h<p.length;)p[h++]=0},n.prototype._toArrayLikeBE=function(p,d){for(var h=p.length-1,b=0,v=0,w=0;v<this.length;v++){var _=this.words[v]<<w|b;p[h--]=_&255,h>=0&&(p[h--]=_>>8&255),h>=0&&(p[h--]=_>>16&255),w===6?(h>=0&&(p[h--]=_>>24&255),b=0,w=0):(b=_>>>24,w+=2)}if(h>=0)for(p[h--]=b;h>=0;)p[h--]=0},Math.clz32?n.prototype._countBits=function(p){return 32-Math.clz32(p)}:n.prototype._countBits=function(p){var d=p,h=0;return d>=4096&&(h+=13,d>>>=13),d>=64&&(h+=7,d>>>=7),d>=8&&(h+=4,d>>>=4),d>=2&&(h+=2,d>>>=2),h+d},n.prototype._zeroBits=function(p){if(p===0)return 26;var d=p,h=0;return d&8191||(h+=13,d>>>=13),d&127||(h+=7,d>>>=7),d&15||(h+=4,d>>>=4),d&3||(h+=2,d>>>=2),d&1||h++,h},n.prototype.bitLength=function(){var p=this.words[this.length-1],d=this._countBits(p);return(this.length-1)*26+d};function E(P){for(var p=new Array(P.bitLength()),d=0;d<p.length;d++){var h=d/26|0,b=d%26;p[d]=P.words[h]>>>b&1}return p}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,d=0;d<this.length;d++){var h=this._zeroBits(this.words[d]);if(p+=h,h!==26)break}return p},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(p){return this.negative!==0?this.abs().inotn(p).iaddn(1):this.clone()},n.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var d=0;d<p.length;d++)this.words[d]=this.words[d]|p.words[d];return this._strip()},n.prototype.ior=function(p){return r((this.negative|p.negative)===0),this.iuor(p)},n.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},n.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},n.prototype.iuand=function(p){var d;this.length>p.length?d=p:d=this;for(var h=0;h<d.length;h++)this.words[h]=this.words[h]&p.words[h];return this.length=d.length,this._strip()},n.prototype.iand=function(p){return r((this.negative|p.negative)===0),this.iuand(p)},n.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},n.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},n.prototype.iuxor=function(p){var d,h;this.length>p.length?(d=this,h=p):(d=p,h=this);for(var b=0;b<h.length;b++)this.words[b]=d.words[b]^h.words[b];if(this!==d)for(;b<d.length;b++)this.words[b]=d.words[b];return this.length=d.length,this._strip()},n.prototype.ixor=function(p){return r((this.negative|p.negative)===0),this.iuxor(p)},n.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},n.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},n.prototype.inotn=function(p){r(typeof p=="number"&&p>=0);var d=Math.ceil(p/26)|0,h=p%26;this._expand(d),h>0&&d--;for(var b=0;b<d;b++)this.words[b]=~this.words[b]&67108863;return h>0&&(this.words[b]=~this.words[b]&67108863>>26-h),this._strip()},n.prototype.notn=function(p){return this.clone().inotn(p)},n.prototype.setn=function(p,d){r(typeof p=="number"&&p>=0);var h=p/26|0,b=p%26;return this._expand(h+1),d?this.words[h]=this.words[h]|1<<b:this.words[h]=this.words[h]&~(1<<b),this._strip()},n.prototype.iadd=function(p){var d;if(this.negative!==0&&p.negative===0)return this.negative=0,d=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,d=this.isub(p),p.negative=1,d._normSign();var h,b;this.length>p.length?(h=this,b=p):(h=p,b=this);for(var v=0,w=0;w<b.length;w++)d=(h.words[w]|0)+(b.words[w]|0)+v,this.words[w]=d&67108863,v=d>>>26;for(;v!==0&&w<h.length;w++)d=(h.words[w]|0)+v,this.words[w]=d&67108863,v=d>>>26;if(this.length=h.length,v!==0)this.words[this.length]=v,this.length++;else if(h!==this)for(;w<h.length;w++)this.words[w]=h.words[w];return this},n.prototype.add=function(p){var d;return p.negative!==0&&this.negative===0?(p.negative=0,d=this.sub(p),p.negative^=1,d):p.negative===0&&this.negative!==0?(this.negative=0,d=p.sub(this),this.negative=1,d):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},n.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var d=this.iadd(p);return p.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var h=this.cmp(p);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var b,v;h>0?(b=this,v=p):(b=p,v=this);for(var w=0,_=0;_<v.length;_++)d=(b.words[_]|0)-(v.words[_]|0)+w,w=d>>26,this.words[_]=d&67108863;for(;w!==0&&_<b.length;_++)d=(b.words[_]|0)+w,w=d>>26,this.words[_]=d&67108863;if(w===0&&_<b.length&&b!==this)for(;_<b.length;_++)this.words[_]=b.words[_];return this.length=Math.max(this.length,_),b!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(p){return this.clone().isub(p)};function x(P,p,d){d.negative=p.negative^P.negative;var h=P.length+p.length|0;d.length=h,h=h-1|0;var b=P.words[0]|0,v=p.words[0]|0,w=b*v,_=w&67108863,D=w/67108864|0;d.words[0]=_;for(var S=1;S<h;S++){for(var A=D>>>26,N=D&67108863,G=Math.min(S,p.length-1),Q=Math.max(0,S-P.length+1);Q<=G;Q++){var ne=S-Q|0;b=P.words[ne]|0,v=p.words[Q]|0,w=b*v+N,A+=w/67108864|0,N=w&67108863}d.words[S]=N|0,D=A|0}return D!==0?d.words[S]=D|0:d.length--,d._strip()}var T=function(p,d,h){var b=p.words,v=d.words,w=h.words,_=0,D,S,A,N=b[0]|0,G=N&8191,Q=N>>>13,ne=b[1]|0,H=ne&8191,Z=ne>>>13,ie=b[2]|0,fe=ie&8191,ue=ie>>>13,ye=b[3]|0,$=ye&8191,q=ye>>>13,z=b[4]|0,Y=z&8191,X=z>>>13,re=b[5]|0,le=re&8191,pe=re>>>13,_e=b[6]|0,xe=_e&8191,be=_e>>>13,Me=b[7]|0,Le=Me&8191,oe=Me>>>13,ce=b[8]|0,ge=ce&8191,me=ce>>>13,Ee=b[9]|0,$e=Ee&8191,Se=Ee>>>13,We=v[0]|0,it=We&8191,Te=We>>>13,nt=v[1]|0,ot=nt&8191,ke=nt>>>13,tt=v[2]|0,rt=tt&8191,Ae=tt>>>13,Ye=v[3]|0,He=Ye&8191,De=Ye>>>13,ft=v[4]|0,ut=ft&8191,Ie=ft>>>13,ct=v[5]|0,lt=ct&8191,Re=ct>>>13,dt=v[6]|0,ht=dt&8191,Be=dt>>>13,pt=v[7]|0,yt=pt&8191,Ce=pt>>>13,mt=v[8]|0,gt=mt&8191,Oe=mt>>>13,st=v[9]|0,Ct=st&8191,Ue=st>>>13;h.negative=p.negative^d.negative,h.length=19,D=Math.imul(G,it),S=Math.imul(G,Te),S=S+Math.imul(Q,it)|0,A=Math.imul(Q,Te);var Pt=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,D=Math.imul(H,it),S=Math.imul(H,Te),S=S+Math.imul(Z,it)|0,A=Math.imul(Z,Te),D=D+Math.imul(G,ot)|0,S=S+Math.imul(G,ke)|0,S=S+Math.imul(Q,ot)|0,A=A+Math.imul(Q,ke)|0;var gn=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(gn>>>26)|0,gn&=67108863,D=Math.imul(fe,it),S=Math.imul(fe,Te),S=S+Math.imul(ue,it)|0,A=Math.imul(ue,Te),D=D+Math.imul(H,ot)|0,S=S+Math.imul(H,ke)|0,S=S+Math.imul(Z,ot)|0,A=A+Math.imul(Z,ke)|0,D=D+Math.imul(G,rt)|0,S=S+Math.imul(G,Ae)|0,S=S+Math.imul(Q,rt)|0,A=A+Math.imul(Q,Ae)|0;var bn=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(bn>>>26)|0,bn&=67108863,D=Math.imul($,it),S=Math.imul($,Te),S=S+Math.imul(q,it)|0,A=Math.imul(q,Te),D=D+Math.imul(fe,ot)|0,S=S+Math.imul(fe,ke)|0,S=S+Math.imul(ue,ot)|0,A=A+Math.imul(ue,ke)|0,D=D+Math.imul(H,rt)|0,S=S+Math.imul(H,Ae)|0,S=S+Math.imul(Z,rt)|0,A=A+Math.imul(Z,Ae)|0,D=D+Math.imul(G,He)|0,S=S+Math.imul(G,De)|0,S=S+Math.imul(Q,He)|0,A=A+Math.imul(Q,De)|0;var vn=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(vn>>>26)|0,vn&=67108863,D=Math.imul(Y,it),S=Math.imul(Y,Te),S=S+Math.imul(X,it)|0,A=Math.imul(X,Te),D=D+Math.imul($,ot)|0,S=S+Math.imul($,ke)|0,S=S+Math.imul(q,ot)|0,A=A+Math.imul(q,ke)|0,D=D+Math.imul(fe,rt)|0,S=S+Math.imul(fe,Ae)|0,S=S+Math.imul(ue,rt)|0,A=A+Math.imul(ue,Ae)|0,D=D+Math.imul(H,He)|0,S=S+Math.imul(H,De)|0,S=S+Math.imul(Z,He)|0,A=A+Math.imul(Z,De)|0,D=D+Math.imul(G,ut)|0,S=S+Math.imul(G,Ie)|0,S=S+Math.imul(Q,ut)|0,A=A+Math.imul(Q,Ie)|0;var wn=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(wn>>>26)|0,wn&=67108863,D=Math.imul(le,it),S=Math.imul(le,Te),S=S+Math.imul(pe,it)|0,A=Math.imul(pe,Te),D=D+Math.imul(Y,ot)|0,S=S+Math.imul(Y,ke)|0,S=S+Math.imul(X,ot)|0,A=A+Math.imul(X,ke)|0,D=D+Math.imul($,rt)|0,S=S+Math.imul($,Ae)|0,S=S+Math.imul(q,rt)|0,A=A+Math.imul(q,Ae)|0,D=D+Math.imul(fe,He)|0,S=S+Math.imul(fe,De)|0,S=S+Math.imul(ue,He)|0,A=A+Math.imul(ue,De)|0,D=D+Math.imul(H,ut)|0,S=S+Math.imul(H,Ie)|0,S=S+Math.imul(Z,ut)|0,A=A+Math.imul(Z,Ie)|0,D=D+Math.imul(G,lt)|0,S=S+Math.imul(G,Re)|0,S=S+Math.imul(Q,lt)|0,A=A+Math.imul(Q,Re)|0;var _n=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(_n>>>26)|0,_n&=67108863,D=Math.imul(xe,it),S=Math.imul(xe,Te),S=S+Math.imul(be,it)|0,A=Math.imul(be,Te),D=D+Math.imul(le,ot)|0,S=S+Math.imul(le,ke)|0,S=S+Math.imul(pe,ot)|0,A=A+Math.imul(pe,ke)|0,D=D+Math.imul(Y,rt)|0,S=S+Math.imul(Y,Ae)|0,S=S+Math.imul(X,rt)|0,A=A+Math.imul(X,Ae)|0,D=D+Math.imul($,He)|0,S=S+Math.imul($,De)|0,S=S+Math.imul(q,He)|0,A=A+Math.imul(q,De)|0,D=D+Math.imul(fe,ut)|0,S=S+Math.imul(fe,Ie)|0,S=S+Math.imul(ue,ut)|0,A=A+Math.imul(ue,Ie)|0,D=D+Math.imul(H,lt)|0,S=S+Math.imul(H,Re)|0,S=S+Math.imul(Z,lt)|0,A=A+Math.imul(Z,Re)|0,D=D+Math.imul(G,ht)|0,S=S+Math.imul(G,Be)|0,S=S+Math.imul(Q,ht)|0,A=A+Math.imul(Q,Be)|0;var En=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(En>>>26)|0,En&=67108863,D=Math.imul(Le,it),S=Math.imul(Le,Te),S=S+Math.imul(oe,it)|0,A=Math.imul(oe,Te),D=D+Math.imul(xe,ot)|0,S=S+Math.imul(xe,ke)|0,S=S+Math.imul(be,ot)|0,A=A+Math.imul(be,ke)|0,D=D+Math.imul(le,rt)|0,S=S+Math.imul(le,Ae)|0,S=S+Math.imul(pe,rt)|0,A=A+Math.imul(pe,Ae)|0,D=D+Math.imul(Y,He)|0,S=S+Math.imul(Y,De)|0,S=S+Math.imul(X,He)|0,A=A+Math.imul(X,De)|0,D=D+Math.imul($,ut)|0,S=S+Math.imul($,Ie)|0,S=S+Math.imul(q,ut)|0,A=A+Math.imul(q,Ie)|0,D=D+Math.imul(fe,lt)|0,S=S+Math.imul(fe,Re)|0,S=S+Math.imul(ue,lt)|0,A=A+Math.imul(ue,Re)|0,D=D+Math.imul(H,ht)|0,S=S+Math.imul(H,Be)|0,S=S+Math.imul(Z,ht)|0,A=A+Math.imul(Z,Be)|0,D=D+Math.imul(G,yt)|0,S=S+Math.imul(G,Ce)|0,S=S+Math.imul(Q,yt)|0,A=A+Math.imul(Q,Ce)|0;var Sn=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,D=Math.imul(ge,it),S=Math.imul(ge,Te),S=S+Math.imul(me,it)|0,A=Math.imul(me,Te),D=D+Math.imul(Le,ot)|0,S=S+Math.imul(Le,ke)|0,S=S+Math.imul(oe,ot)|0,A=A+Math.imul(oe,ke)|0,D=D+Math.imul(xe,rt)|0,S=S+Math.imul(xe,Ae)|0,S=S+Math.imul(be,rt)|0,A=A+Math.imul(be,Ae)|0,D=D+Math.imul(le,He)|0,S=S+Math.imul(le,De)|0,S=S+Math.imul(pe,He)|0,A=A+Math.imul(pe,De)|0,D=D+Math.imul(Y,ut)|0,S=S+Math.imul(Y,Ie)|0,S=S+Math.imul(X,ut)|0,A=A+Math.imul(X,Ie)|0,D=D+Math.imul($,lt)|0,S=S+Math.imul($,Re)|0,S=S+Math.imul(q,lt)|0,A=A+Math.imul(q,Re)|0,D=D+Math.imul(fe,ht)|0,S=S+Math.imul(fe,Be)|0,S=S+Math.imul(ue,ht)|0,A=A+Math.imul(ue,Be)|0,D=D+Math.imul(H,yt)|0,S=S+Math.imul(H,Ce)|0,S=S+Math.imul(Z,yt)|0,A=A+Math.imul(Z,Ce)|0,D=D+Math.imul(G,gt)|0,S=S+Math.imul(G,Oe)|0,S=S+Math.imul(Q,gt)|0,A=A+Math.imul(Q,Oe)|0;var xn=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(xn>>>26)|0,xn&=67108863,D=Math.imul($e,it),S=Math.imul($e,Te),S=S+Math.imul(Se,it)|0,A=Math.imul(Se,Te),D=D+Math.imul(ge,ot)|0,S=S+Math.imul(ge,ke)|0,S=S+Math.imul(me,ot)|0,A=A+Math.imul(me,ke)|0,D=D+Math.imul(Le,rt)|0,S=S+Math.imul(Le,Ae)|0,S=S+Math.imul(oe,rt)|0,A=A+Math.imul(oe,Ae)|0,D=D+Math.imul(xe,He)|0,S=S+Math.imul(xe,De)|0,S=S+Math.imul(be,He)|0,A=A+Math.imul(be,De)|0,D=D+Math.imul(le,ut)|0,S=S+Math.imul(le,Ie)|0,S=S+Math.imul(pe,ut)|0,A=A+Math.imul(pe,Ie)|0,D=D+Math.imul(Y,lt)|0,S=S+Math.imul(Y,Re)|0,S=S+Math.imul(X,lt)|0,A=A+Math.imul(X,Re)|0,D=D+Math.imul($,ht)|0,S=S+Math.imul($,Be)|0,S=S+Math.imul(q,ht)|0,A=A+Math.imul(q,Be)|0,D=D+Math.imul(fe,yt)|0,S=S+Math.imul(fe,Ce)|0,S=S+Math.imul(ue,yt)|0,A=A+Math.imul(ue,Ce)|0,D=D+Math.imul(H,gt)|0,S=S+Math.imul(H,Oe)|0,S=S+Math.imul(Z,gt)|0,A=A+Math.imul(Z,Oe)|0,D=D+Math.imul(G,Ct)|0,S=S+Math.imul(G,Ue)|0,S=S+Math.imul(Q,Ct)|0,A=A+Math.imul(Q,Ue)|0;var An=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(An>>>26)|0,An&=67108863,D=Math.imul($e,ot),S=Math.imul($e,ke),S=S+Math.imul(Se,ot)|0,A=Math.imul(Se,ke),D=D+Math.imul(ge,rt)|0,S=S+Math.imul(ge,Ae)|0,S=S+Math.imul(me,rt)|0,A=A+Math.imul(me,Ae)|0,D=D+Math.imul(Le,He)|0,S=S+Math.imul(Le,De)|0,S=S+Math.imul(oe,He)|0,A=A+Math.imul(oe,De)|0,D=D+Math.imul(xe,ut)|0,S=S+Math.imul(xe,Ie)|0,S=S+Math.imul(be,ut)|0,A=A+Math.imul(be,Ie)|0,D=D+Math.imul(le,lt)|0,S=S+Math.imul(le,Re)|0,S=S+Math.imul(pe,lt)|0,A=A+Math.imul(pe,Re)|0,D=D+Math.imul(Y,ht)|0,S=S+Math.imul(Y,Be)|0,S=S+Math.imul(X,ht)|0,A=A+Math.imul(X,Be)|0,D=D+Math.imul($,yt)|0,S=S+Math.imul($,Ce)|0,S=S+Math.imul(q,yt)|0,A=A+Math.imul(q,Ce)|0,D=D+Math.imul(fe,gt)|0,S=S+Math.imul(fe,Oe)|0,S=S+Math.imul(ue,gt)|0,A=A+Math.imul(ue,Oe)|0,D=D+Math.imul(H,Ct)|0,S=S+Math.imul(H,Ue)|0,S=S+Math.imul(Z,Ct)|0,A=A+Math.imul(Z,Ue)|0;var Mn=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,D=Math.imul($e,rt),S=Math.imul($e,Ae),S=S+Math.imul(Se,rt)|0,A=Math.imul(Se,Ae),D=D+Math.imul(ge,He)|0,S=S+Math.imul(ge,De)|0,S=S+Math.imul(me,He)|0,A=A+Math.imul(me,De)|0,D=D+Math.imul(Le,ut)|0,S=S+Math.imul(Le,Ie)|0,S=S+Math.imul(oe,ut)|0,A=A+Math.imul(oe,Ie)|0,D=D+Math.imul(xe,lt)|0,S=S+Math.imul(xe,Re)|0,S=S+Math.imul(be,lt)|0,A=A+Math.imul(be,Re)|0,D=D+Math.imul(le,ht)|0,S=S+Math.imul(le,Be)|0,S=S+Math.imul(pe,ht)|0,A=A+Math.imul(pe,Be)|0,D=D+Math.imul(Y,yt)|0,S=S+Math.imul(Y,Ce)|0,S=S+Math.imul(X,yt)|0,A=A+Math.imul(X,Ce)|0,D=D+Math.imul($,gt)|0,S=S+Math.imul($,Oe)|0,S=S+Math.imul(q,gt)|0,A=A+Math.imul(q,Oe)|0,D=D+Math.imul(fe,Ct)|0,S=S+Math.imul(fe,Ue)|0,S=S+Math.imul(ue,Ct)|0,A=A+Math.imul(ue,Ue)|0;var kn=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(kn>>>26)|0,kn&=67108863,D=Math.imul($e,He),S=Math.imul($e,De),S=S+Math.imul(Se,He)|0,A=Math.imul(Se,De),D=D+Math.imul(ge,ut)|0,S=S+Math.imul(ge,Ie)|0,S=S+Math.imul(me,ut)|0,A=A+Math.imul(me,Ie)|0,D=D+Math.imul(Le,lt)|0,S=S+Math.imul(Le,Re)|0,S=S+Math.imul(oe,lt)|0,A=A+Math.imul(oe,Re)|0,D=D+Math.imul(xe,ht)|0,S=S+Math.imul(xe,Be)|0,S=S+Math.imul(be,ht)|0,A=A+Math.imul(be,Be)|0,D=D+Math.imul(le,yt)|0,S=S+Math.imul(le,Ce)|0,S=S+Math.imul(pe,yt)|0,A=A+Math.imul(pe,Ce)|0,D=D+Math.imul(Y,gt)|0,S=S+Math.imul(Y,Oe)|0,S=S+Math.imul(X,gt)|0,A=A+Math.imul(X,Oe)|0,D=D+Math.imul($,Ct)|0,S=S+Math.imul($,Ue)|0,S=S+Math.imul(q,Ct)|0,A=A+Math.imul(q,Ue)|0;var Tn=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,D=Math.imul($e,ut),S=Math.imul($e,Ie),S=S+Math.imul(Se,ut)|0,A=Math.imul(Se,Ie),D=D+Math.imul(ge,lt)|0,S=S+Math.imul(ge,Re)|0,S=S+Math.imul(me,lt)|0,A=A+Math.imul(me,Re)|0,D=D+Math.imul(Le,ht)|0,S=S+Math.imul(Le,Be)|0,S=S+Math.imul(oe,ht)|0,A=A+Math.imul(oe,Be)|0,D=D+Math.imul(xe,yt)|0,S=S+Math.imul(xe,Ce)|0,S=S+Math.imul(be,yt)|0,A=A+Math.imul(be,Ce)|0,D=D+Math.imul(le,gt)|0,S=S+Math.imul(le,Oe)|0,S=S+Math.imul(pe,gt)|0,A=A+Math.imul(pe,Oe)|0,D=D+Math.imul(Y,Ct)|0,S=S+Math.imul(Y,Ue)|0,S=S+Math.imul(X,Ct)|0,A=A+Math.imul(X,Ue)|0;var Pn=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,D=Math.imul($e,lt),S=Math.imul($e,Re),S=S+Math.imul(Se,lt)|0,A=Math.imul(Se,Re),D=D+Math.imul(ge,ht)|0,S=S+Math.imul(ge,Be)|0,S=S+Math.imul(me,ht)|0,A=A+Math.imul(me,Be)|0,D=D+Math.imul(Le,yt)|0,S=S+Math.imul(Le,Ce)|0,S=S+Math.imul(oe,yt)|0,A=A+Math.imul(oe,Ce)|0,D=D+Math.imul(xe,gt)|0,S=S+Math.imul(xe,Oe)|0,S=S+Math.imul(be,gt)|0,A=A+Math.imul(be,Oe)|0,D=D+Math.imul(le,Ct)|0,S=S+Math.imul(le,Ue)|0,S=S+Math.imul(pe,Ct)|0,A=A+Math.imul(pe,Ue)|0;var Dn=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,D=Math.imul($e,ht),S=Math.imul($e,Be),S=S+Math.imul(Se,ht)|0,A=Math.imul(Se,Be),D=D+Math.imul(ge,yt)|0,S=S+Math.imul(ge,Ce)|0,S=S+Math.imul(me,yt)|0,A=A+Math.imul(me,Ce)|0,D=D+Math.imul(Le,gt)|0,S=S+Math.imul(Le,Oe)|0,S=S+Math.imul(oe,gt)|0,A=A+Math.imul(oe,Oe)|0,D=D+Math.imul(xe,Ct)|0,S=S+Math.imul(xe,Ue)|0,S=S+Math.imul(be,Ct)|0,A=A+Math.imul(be,Ue)|0;var In=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(In>>>26)|0,In&=67108863,D=Math.imul($e,yt),S=Math.imul($e,Ce),S=S+Math.imul(Se,yt)|0,A=Math.imul(Se,Ce),D=D+Math.imul(ge,gt)|0,S=S+Math.imul(ge,Oe)|0,S=S+Math.imul(me,gt)|0,A=A+Math.imul(me,Oe)|0,D=D+Math.imul(Le,Ct)|0,S=S+Math.imul(Le,Ue)|0,S=S+Math.imul(oe,Ct)|0,A=A+Math.imul(oe,Ue)|0;var Ao=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,D=Math.imul($e,gt),S=Math.imul($e,Oe),S=S+Math.imul(Se,gt)|0,A=Math.imul(Se,Oe),D=D+Math.imul(ge,Ct)|0,S=S+Math.imul(ge,Ue)|0,S=S+Math.imul(me,Ct)|0,A=A+Math.imul(me,Ue)|0;var ta=(_+D|0)+((S&8191)<<13)|0;_=(A+(S>>>13)|0)+(ta>>>26)|0,ta&=67108863,D=Math.imul($e,Ct),S=Math.imul($e,Ue),S=S+Math.imul(Se,Ct)|0,A=Math.imul(Se,Ue);var ra=(_+D|0)+((S&8191)<<13)|0;return _=(A+(S>>>13)|0)+(ra>>>26)|0,ra&=67108863,w[0]=Pt,w[1]=gn,w[2]=bn,w[3]=vn,w[4]=wn,w[5]=_n,w[6]=En,w[7]=Sn,w[8]=xn,w[9]=An,w[10]=Mn,w[11]=kn,w[12]=Tn,w[13]=Pn,w[14]=Dn,w[15]=In,w[16]=Ao,w[17]=ta,w[18]=ra,_!==0&&(w[19]=_,h.length++),h};Math.imul||(T=x);function M(P,p,d){d.negative=p.negative^P.negative,d.length=P.length+p.length;for(var h=0,b=0,v=0;v<d.length-1;v++){var w=b;b=0;for(var _=h&67108863,D=Math.min(v,p.length-1),S=Math.max(0,v-P.length+1);S<=D;S++){var A=v-S,N=P.words[A]|0,G=p.words[S]|0,Q=N*G,ne=Q&67108863;w=w+(Q/67108864|0)|0,ne=ne+_|0,_=ne&67108863,w=w+(ne>>>26)|0,b+=w>>>26,w&=67108863}d.words[v]=_,h=w,w=b}return h!==0?d.words[v]=h:d.length--,d._strip()}function I(P,p,d){return M(P,p,d)}n.prototype.mulTo=function(p,d){var h,b=this.length+p.length;return this.length===10&&p.length===10?h=T(this,p,d):b<63?h=x(this,p,d):b<1024?h=M(this,p,d):h=I(this,p,d),h};function R(P,p){this.x=P,this.y=p}R.prototype.makeRBT=function(p){for(var d=new Array(p),h=n.prototype._countBits(p)-1,b=0;b<p;b++)d[b]=this.revBin(b,h,p);return d},R.prototype.revBin=function(p,d,h){if(p===0||p===h-1)return p;for(var b=0,v=0;v<d;v++)b|=(p&1)<<d-v-1,p>>=1;return b},R.prototype.permute=function(p,d,h,b,v,w){for(var _=0;_<w;_++)b[_]=d[p[_]],v[_]=h[p[_]]},R.prototype.transform=function(p,d,h,b,v,w){this.permute(w,p,d,h,b,v);for(var _=1;_<v;_<<=1)for(var D=_<<1,S=Math.cos(2*Math.PI/D),A=Math.sin(2*Math.PI/D),N=0;N<v;N+=D)for(var G=S,Q=A,ne=0;ne<_;ne++){var H=h[N+ne],Z=b[N+ne],ie=h[N+ne+_],fe=b[N+ne+_],ue=G*ie-Q*fe;fe=G*fe+Q*ie,ie=ue,h[N+ne]=H+ie,b[N+ne]=Z+fe,h[N+ne+_]=H-ie,b[N+ne+_]=Z-fe,ne!==D&&(ue=S*G-A*Q,Q=S*Q+A*G,G=ue)}},R.prototype.guessLen13b=function(p,d){var h=Math.max(d,p)|1,b=h&1,v=0;for(h=h/2|0;h;h=h>>>1)v++;return 1<<v+1+b},R.prototype.conjugate=function(p,d,h){if(!(h<=1))for(var b=0;b<h/2;b++){var v=p[b];p[b]=p[h-b-1],p[h-b-1]=v,v=d[b],d[b]=-d[h-b-1],d[h-b-1]=-v}},R.prototype.normalize13b=function(p,d){for(var h=0,b=0;b<d/2;b++){var v=Math.round(p[2*b+1]/d)*8192+Math.round(p[2*b]/d)+h;p[b]=v&67108863,v<67108864?h=0:h=v/67108864|0}return p},R.prototype.convert13b=function(p,d,h,b){for(var v=0,w=0;w<d;w++)v=v+(p[w]|0),h[2*w]=v&8191,v=v>>>13,h[2*w+1]=v&8191,v=v>>>13;for(w=2*d;w<b;++w)h[w]=0;r(v===0),r((v&-8192)===0)},R.prototype.stub=function(p){for(var d=new Array(p),h=0;h<p;h++)d[h]=0;return d},R.prototype.mulp=function(p,d,h){var b=2*this.guessLen13b(p.length,d.length),v=this.makeRBT(b),w=this.stub(b),_=new Array(b),D=new Array(b),S=new Array(b),A=new Array(b),N=new Array(b),G=new Array(b),Q=h.words;Q.length=b,this.convert13b(p.words,p.length,_,b),this.convert13b(d.words,d.length,A,b),this.transform(_,w,D,S,b,v),this.transform(A,w,N,G,b,v);for(var ne=0;ne<b;ne++){var H=D[ne]*N[ne]-S[ne]*G[ne];S[ne]=D[ne]*G[ne]+S[ne]*N[ne],D[ne]=H}return this.conjugate(D,S,b),this.transform(D,S,Q,w,b,v),this.conjugate(Q,w,b),this.normalize13b(Q,b),h.negative=p.negative^d.negative,h.length=p.length+d.length,h._strip()},n.prototype.mul=function(p){var d=new n(null);return d.words=new Array(this.length+p.length),this.mulTo(p,d)},n.prototype.mulf=function(p){var d=new n(null);return d.words=new Array(this.length+p.length),I(this,p,d)},n.prototype.imul=function(p){return this.clone().mulTo(p,this)},n.prototype.imuln=function(p){var d=p<0;d&&(p=-p),r(typeof p=="number"),r(p<67108864);for(var h=0,b=0;b<this.length;b++){var v=(this.words[b]|0)*p,w=(v&67108863)+(h&67108863);h>>=26,h+=v/67108864|0,h+=w>>>26,this.words[b]=w&67108863}return h!==0&&(this.words[b]=h,this.length++),d?this.ineg():this},n.prototype.muln=function(p){return this.clone().imuln(p)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(p){var d=E(p);if(d.length===0)return new n(1);for(var h=this,b=0;b<d.length&&d[b]===0;b++,h=h.sqr());if(++b<d.length)for(var v=h.sqr();b<d.length;b++,v=v.sqr())d[b]!==0&&(h=h.mul(v));return h},n.prototype.iushln=function(p){r(typeof p=="number"&&p>=0);var d=p%26,h=(p-d)/26,b=67108863>>>26-d<<26-d,v;if(d!==0){var w=0;for(v=0;v<this.length;v++){var _=this.words[v]&b,D=(this.words[v]|0)-_<<d;this.words[v]=D|w,w=_>>>26-d}w&&(this.words[v]=w,this.length++)}if(h!==0){for(v=this.length-1;v>=0;v--)this.words[v+h]=this.words[v];for(v=0;v<h;v++)this.words[v]=0;this.length+=h}return this._strip()},n.prototype.ishln=function(p){return r(this.negative===0),this.iushln(p)},n.prototype.iushrn=function(p,d,h){r(typeof p=="number"&&p>=0);var b;d?b=(d-d%26)/26:b=0;var v=p%26,w=Math.min((p-v)/26,this.length),_=67108863^67108863>>>v<<v,D=h;if(b-=w,b=Math.max(0,b),D){for(var S=0;S<w;S++)D.words[S]=this.words[S];D.length=w}if(w!==0)if(this.length>w)for(this.length-=w,S=0;S<this.length;S++)this.words[S]=this.words[S+w];else this.words[0]=0,this.length=1;var A=0;for(S=this.length-1;S>=0&&(A!==0||S>=b);S--){var N=this.words[S]|0;this.words[S]=A<<26-v|N>>>v,A=N&_}return D&&A!==0&&(D.words[D.length++]=A),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(p,d,h){return r(this.negative===0),this.iushrn(p,d,h)},n.prototype.shln=function(p){return this.clone().ishln(p)},n.prototype.ushln=function(p){return this.clone().iushln(p)},n.prototype.shrn=function(p){return this.clone().ishrn(p)},n.prototype.ushrn=function(p){return this.clone().iushrn(p)},n.prototype.testn=function(p){r(typeof p=="number"&&p>=0);var d=p%26,h=(p-d)/26,b=1<<d;if(this.length<=h)return!1;var v=this.words[h];return!!(v&b)},n.prototype.imaskn=function(p){r(typeof p=="number"&&p>=0);var d=p%26,h=(p-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(d!==0&&h++,this.length=Math.min(h,this.length),d!==0){var b=67108863^67108863>>>d<<d;this.words[this.length-1]&=b}return this._strip()},n.prototype.maskn=function(p){return this.clone().imaskn(p)},n.prototype.iaddn=function(p){return r(typeof p=="number"),r(p<67108864),p<0?this.isubn(-p):this.negative!==0?this.length===1&&(this.words[0]|0)<=p?(this.words[0]=p-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},n.prototype._iaddn=function(p){this.words[0]+=p;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},n.prototype.isubn=function(p){if(r(typeof p=="number"),r(p<67108864),p<0)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},n.prototype.addn=function(p){return this.clone().iaddn(p)},n.prototype.subn=function(p){return this.clone().isubn(p)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(p,d,h){var b=p.length+h,v;this._expand(b);var w,_=0;for(v=0;v<p.length;v++){w=(this.words[v+h]|0)+_;var D=(p.words[v]|0)*d;w-=D&67108863,_=(w>>26)-(D/67108864|0),this.words[v+h]=w&67108863}for(;v<this.length-h;v++)w=(this.words[v+h]|0)+_,_=w>>26,this.words[v+h]=w&67108863;if(_===0)return this._strip();for(r(_===-1),_=0,v=0;v<this.length;v++)w=-(this.words[v]|0)+_,_=w>>26,this.words[v]=w&67108863;return this.negative=1,this._strip()},n.prototype._wordDiv=function(p,d){var h=this.length-p.length,b=this.clone(),v=p,w=v.words[v.length-1]|0,_=this._countBits(w);h=26-_,h!==0&&(v=v.ushln(h),b.iushln(h),w=v.words[v.length-1]|0);var D=b.length-v.length,S;if(d!=="mod"){S=new n(null),S.length=D+1,S.words=new Array(S.length);for(var A=0;A<S.length;A++)S.words[A]=0}var N=b.clone()._ishlnsubmul(v,1,D);N.negative===0&&(b=N,S&&(S.words[D]=1));for(var G=D-1;G>=0;G--){var Q=(b.words[v.length+G]|0)*67108864+(b.words[v.length+G-1]|0);for(Q=Math.min(Q/w|0,67108863),b._ishlnsubmul(v,Q,G);b.negative!==0;)Q--,b.negative=0,b._ishlnsubmul(v,1,G),b.isZero()||(b.negative^=1);S&&(S.words[G]=Q)}return S&&S._strip(),b._strip(),d!=="div"&&h!==0&&b.iushrn(h),{div:S||null,mod:b}},n.prototype.divmod=function(p,d,h){if(r(!p.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var b,v,w;return this.negative!==0&&p.negative===0?(w=this.neg().divmod(p,d),d!=="mod"&&(b=w.div.neg()),d!=="div"&&(v=w.mod.neg(),h&&v.negative!==0&&v.iadd(p)),{div:b,mod:v}):this.negative===0&&p.negative!==0?(w=this.divmod(p.neg(),d),d!=="mod"&&(b=w.div.neg()),{div:b,mod:w.mod}):this.negative&p.negative?(w=this.neg().divmod(p.neg(),d),d!=="div"&&(v=w.mod.neg(),h&&v.negative!==0&&v.isub(p)),{div:w.div,mod:v}):p.length>this.length||this.cmp(p)<0?{div:new n(0),mod:this}:p.length===1?d==="div"?{div:this.divn(p.words[0]),mod:null}:d==="mod"?{div:null,mod:new n(this.modrn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new n(this.modrn(p.words[0]))}:this._wordDiv(p,d)},n.prototype.div=function(p){return this.divmod(p,"div",!1).div},n.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},n.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},n.prototype.divRound=function(p){var d=this.divmod(p);if(d.mod.isZero())return d.div;var h=d.div.negative!==0?d.mod.isub(p):d.mod,b=p.ushrn(1),v=p.andln(1),w=h.cmp(b);return w<0||v===1&&w===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},n.prototype.modrn=function(p){var d=p<0;d&&(p=-p),r(p<=67108863);for(var h=(1<<26)%p,b=0,v=this.length-1;v>=0;v--)b=(h*b+(this.words[v]|0))%p;return d?-b:b},n.prototype.modn=function(p){return this.modrn(p)},n.prototype.idivn=function(p){var d=p<0;d&&(p=-p),r(p<=67108863);for(var h=0,b=this.length-1;b>=0;b--){var v=(this.words[b]|0)+h*67108864;this.words[b]=v/p|0,h=v%p}return this._strip(),d?this.ineg():this},n.prototype.divn=function(p){return this.clone().idivn(p)},n.prototype.egcd=function(p){r(p.negative===0),r(!p.isZero());var d=this,h=p.clone();d.negative!==0?d=d.umod(p):d=d.clone();for(var b=new n(1),v=new n(0),w=new n(0),_=new n(1),D=0;d.isEven()&&h.isEven();)d.iushrn(1),h.iushrn(1),++D;for(var S=h.clone(),A=d.clone();!d.isZero();){for(var N=0,G=1;!(d.words[0]&G)&&N<26;++N,G<<=1);if(N>0)for(d.iushrn(N);N-- >0;)(b.isOdd()||v.isOdd())&&(b.iadd(S),v.isub(A)),b.iushrn(1),v.iushrn(1);for(var Q=0,ne=1;!(h.words[0]&ne)&&Q<26;++Q,ne<<=1);if(Q>0)for(h.iushrn(Q);Q-- >0;)(w.isOdd()||_.isOdd())&&(w.iadd(S),_.isub(A)),w.iushrn(1),_.iushrn(1);d.cmp(h)>=0?(d.isub(h),b.isub(w),v.isub(_)):(h.isub(d),w.isub(b),_.isub(v))}return{a:w,b:_,gcd:h.iushln(D)}},n.prototype._invmp=function(p){r(p.negative===0),r(!p.isZero());var d=this,h=p.clone();d.negative!==0?d=d.umod(p):d=d.clone();for(var b=new n(1),v=new n(0),w=h.clone();d.cmpn(1)>0&&h.cmpn(1)>0;){for(var _=0,D=1;!(d.words[0]&D)&&_<26;++_,D<<=1);if(_>0)for(d.iushrn(_);_-- >0;)b.isOdd()&&b.iadd(w),b.iushrn(1);for(var S=0,A=1;!(h.words[0]&A)&&S<26;++S,A<<=1);if(S>0)for(h.iushrn(S);S-- >0;)v.isOdd()&&v.iadd(w),v.iushrn(1);d.cmp(h)>=0?(d.isub(h),b.isub(v)):(h.isub(d),v.isub(b))}var N;return d.cmpn(1)===0?N=b:N=v,N.cmpn(0)<0&&N.iadd(p),N},n.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var d=this.clone(),h=p.clone();d.negative=0,h.negative=0;for(var b=0;d.isEven()&&h.isEven();b++)d.iushrn(1),h.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;h.isEven();)h.iushrn(1);var v=d.cmp(h);if(v<0){var w=d;d=h,h=w}else if(v===0||h.cmpn(1)===0)break;d.isub(h)}while(!0);return h.iushln(b)},n.prototype.invm=function(p){return this.egcd(p).a.umod(p)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(p){return this.words[0]&p},n.prototype.bincn=function(p){r(typeof p=="number");var d=p%26,h=(p-d)/26,b=1<<d;if(this.length<=h)return this._expand(h+1),this.words[h]|=b,this;for(var v=b,w=h;v!==0&&w<this.length;w++){var _=this.words[w]|0;_+=v,v=_>>>26,_&=67108863,this.words[w]=_}return v!==0&&(this.words[w]=v,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(p){var d=p<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var h;if(this.length>1)h=1;else{d&&(p=-p),r(p<=67108863,"Number is too big");var b=this.words[0]|0;h=b===p?0:b<p?-1:1}return this.negative!==0?-h|0:h},n.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var d=this.ucmp(p);return this.negative!==0?-d|0:d},n.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var d=0,h=this.length-1;h>=0;h--){var b=this.words[h]|0,v=p.words[h]|0;if(b!==v){b<v?d=-1:b>v&&(d=1);break}}return d},n.prototype.gtn=function(p){return this.cmpn(p)===1},n.prototype.gt=function(p){return this.cmp(p)===1},n.prototype.gten=function(p){return this.cmpn(p)>=0},n.prototype.gte=function(p){return this.cmp(p)>=0},n.prototype.ltn=function(p){return this.cmpn(p)===-1},n.prototype.lt=function(p){return this.cmp(p)===-1},n.prototype.lten=function(p){return this.cmpn(p)<=0},n.prototype.lte=function(p){return this.cmp(p)<=0},n.prototype.eqn=function(p){return this.cmpn(p)===0},n.prototype.eq=function(p){return this.cmp(p)===0},n.red=function(p){return new j(p)},n.prototype.toRed=function(p){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(p){return this.red=p,this},n.prototype.forceRed=function(p){return r(!this.red,"Already a number in reduction context"),this._forceRed(p)},n.prototype.redAdd=function(p){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},n.prototype.redIAdd=function(p){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},n.prototype.redSub=function(p){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},n.prototype.redISub=function(p){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},n.prototype.redShl=function(p){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},n.prototype.redMul=function(p){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},n.prototype.redIMul=function(p){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(p){return r(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var O={k256:null,p224:null,p192:null,p25519:null};function B(P,p){this.name=P,this.p=new n(p,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}B.prototype._tmp=function(){var p=new n(null);return p.words=new Array(Math.ceil(this.n/13)),p},B.prototype.ireduce=function(p){var d=p,h;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),h=d.bitLength();while(h>this.n);var b=h<this.n?-1:d.ucmp(this.p);return b===0?(d.words[0]=0,d.length=1):b>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},B.prototype.split=function(p,d){p.iushrn(this.n,0,d)},B.prototype.imulK=function(p){return p.imul(this.k)};function C(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(C,B),C.prototype.split=function(p,d){for(var h=4194303,b=Math.min(p.length,9),v=0;v<b;v++)d.words[v]=p.words[v];if(d.length=b,p.length<=9){p.words[0]=0,p.length=1;return}var w=p.words[9];for(d.words[d.length++]=w&h,v=10;v<p.length;v++){var _=p.words[v]|0;p.words[v-10]=(_&h)<<4|w>>>22,w=_}w>>>=22,p.words[v-10]=w,w===0&&p.length>10?p.length-=10:p.length-=9},C.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var d=0,h=0;h<p.length;h++){var b=p.words[h]|0;d+=b*977,p.words[h]=d&67108863,d=b*64+(d/67108864|0)}return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p};function U(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(U,B);function W(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(W,B);function L(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(L,B),L.prototype.imulK=function(p){for(var d=0,h=0;h<p.length;h++){var b=(p.words[h]|0)*19+d,v=b&67108863;b>>>=26,p.words[h]=v,d=b}return d!==0&&(p.words[p.length++]=d),p},n._prime=function(p){if(O[p])return O[p];var d;if(p==="k256")d=new C;else if(p==="p224")d=new U;else if(p==="p192")d=new W;else if(p==="p25519")d=new L;else throw new Error("Unknown prime "+p);return O[p]=d,d};function j(P){if(typeof P=="string"){var p=n._prime(P);this.m=p.p,this.prime=p}else r(P.gtn(1),"modulus must be greater than 1"),this.m=P,this.prime=null}j.prototype._verify1=function(p){r(p.negative===0,"red works only with positives"),r(p.red,"red works only with red numbers")},j.prototype._verify2=function(p,d){r((p.negative|d.negative)===0,"red works only with positives"),r(p.red&&p.red===d.red,"red works only with red numbers")},j.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):(c(p,p.umod(this.m)._forceRed(this)),p)},j.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},j.prototype.add=function(p,d){this._verify2(p,d);var h=p.add(d);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},j.prototype.iadd=function(p,d){this._verify2(p,d);var h=p.iadd(d);return h.cmp(this.m)>=0&&h.isub(this.m),h},j.prototype.sub=function(p,d){this._verify2(p,d);var h=p.sub(d);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},j.prototype.isub=function(p,d){this._verify2(p,d);var h=p.isub(d);return h.cmpn(0)<0&&h.iadd(this.m),h},j.prototype.shl=function(p,d){return this._verify1(p),this.imod(p.ushln(d))},j.prototype.imul=function(p,d){return this._verify2(p,d),this.imod(p.imul(d))},j.prototype.mul=function(p,d){return this._verify2(p,d),this.imod(p.mul(d))},j.prototype.isqr=function(p){return this.imul(p,p.clone())},j.prototype.sqr=function(p){return this.mul(p,p)},j.prototype.sqrt=function(p){if(p.isZero())return p.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var h=this.m.add(new n(1)).iushrn(2);return this.pow(p,h)}for(var b=this.m.subn(1),v=0;!b.isZero()&&b.andln(1)===0;)v++,b.iushrn(1);r(!b.isZero());var w=new n(1).toRed(this),_=w.redNeg(),D=this.m.subn(1).iushrn(1),S=this.m.bitLength();for(S=new n(2*S*S).toRed(this);this.pow(S,D).cmp(_)!==0;)S.redIAdd(_);for(var A=this.pow(S,b),N=this.pow(p,b.addn(1).iushrn(1)),G=this.pow(p,b),Q=v;G.cmp(w)!==0;){for(var ne=G,H=0;ne.cmp(w)!==0;H++)ne=ne.redSqr();r(H<Q);var Z=this.pow(A,new n(1).iushln(Q-H-1));N=N.redMul(Z),A=Z.redSqr(),G=G.redMul(A),Q=H}return N},j.prototype.invm=function(p){var d=p._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},j.prototype.pow=function(p,d){if(d.isZero())return new n(1).toRed(this);if(d.cmpn(1)===0)return p.clone();var h=4,b=new Array(1<<h);b[0]=new n(1).toRed(this),b[1]=p;for(var v=2;v<b.length;v++)b[v]=this.mul(b[v-1],p);var w=b[0],_=0,D=0,S=d.bitLength()%26;for(S===0&&(S=26),v=d.length-1;v>=0;v--){for(var A=d.words[v],N=S-1;N>=0;N--){var G=A>>N&1;if(w!==b[0]&&(w=this.sqr(w)),G===0&&_===0){D=0;continue}_<<=1,_|=G,D++,!(D!==h&&(v!==0||N!==0))&&(w=this.mul(w,b[_]),D=0,_=0)}S=26}return w},j.prototype.convertTo=function(p){var d=p.umod(this.m);return d===p?d.clone():d},j.prototype.convertFrom=function(p){var d=p.clone();return d.red=null,d},n.mont=function(p){return new k(p)};function k(P){j.call(this,P),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(k,j),k.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},k.prototype.convertFrom=function(p){var d=this.imod(p.mul(this.rinv));return d.red=null,d},k.prototype.imul=function(p,d){if(p.isZero()||d.isZero())return p.words[0]=0,p.length=1,p;var h=p.imul(d),b=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=h.isub(b).iushrn(this.shift),w=v;return v.cmp(this.m)>=0?w=v.isub(this.m):v.cmpn(0)<0&&(w=v.iadd(this.m)),w._forceRed(this)},k.prototype.mul=function(p,d){if(p.isZero()||d.isZero())return new n(0)._forceRed(this);var h=p.mul(d),b=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=h.isub(b).iushrn(this.shift),w=v;return v.cmp(this.m)>=0?w=v.isub(this.m):v.cmpn(0)<0&&(w=v.iadd(this.m)),w._forceRed(this)},k.prototype.invm=function(p){var d=this.imod(p._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(typeof bB>"u"||bB,one)});var l7=de((igt,sne)=>{"use strict";F();var c7=ki(),K1=c7.Buffer,eu={},tu;for(tu in c7)c7.hasOwnProperty(tu)&&(tu==="SlowBuffer"||tu==="Buffer"||(eu[tu]=c7[tu]));var H1=eu.Buffer={};for(tu in K1)K1.hasOwnProperty(tu)&&(tu==="allocUnsafe"||tu==="allocUnsafeSlow"||(H1[tu]=K1[tu]));eu.Buffer.prototype=K1.prototype;(!H1.from||H1.from===Uint8Array.from)&&(H1.from=function(t,e,r){if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&typeof t.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return K1(t,e,r)});H1.alloc||(H1.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var i=K1(t);return!e||e.length===0?i.fill(0):typeof r=="string"?i.fill(e,r):i.fill(e),i});if(!eu.kStringMaxLength)try{eu.kStringMaxLength=J.default.binding("buffer").kStringMaxLength}catch{}eu.constants||(eu.constants={MAX_LENGTH:eu.kMaxLength},eu.kStringMaxLength&&(eu.constants.MAX_STRING_LENGTH=eu.kStringMaxLength));sne.exports=eu});var d7=de(ane=>{"use strict";F();var SRe=qt();function ru(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}ane.Reporter=ru;ru.prototype.isError=function(e){return e instanceof W1};ru.prototype.save=function(){let e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};ru.prototype.restore=function(e){let r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)};ru.prototype.enterKey=function(e){return this._reporterState.path.push(e)};ru.prototype.exitKey=function(e){let r=this._reporterState;r.path=r.path.slice(0,e-1)};ru.prototype.leaveKey=function(e,r,i){let n=this._reporterState;this.exitKey(e),n.obj!==null&&(n.obj[r]=i)};ru.prototype.path=function(){return this._reporterState.path.join("/")};ru.prototype.enterObject=function(){let e=this._reporterState,r=e.obj;return e.obj={},r};ru.prototype.leaveObject=function(e){let r=this._reporterState,i=r.obj;return r.obj=e,i};ru.prototype.error=function(e){let r,i=this._reporterState,n=e instanceof W1;if(n?r=e:r=new W1(i.path.map(function(s){return"["+JSON.stringify(s)+"]"}).join(""),e.message||e,e.stack),!i.options.partial)throw r;return n||i.errors.push(r),r};ru.prototype.wrapResult=function(e){let r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e};function W1(t,e){this.path=t,this.rethrow(e)}SRe(W1,Error);W1.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,W1),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this}});var G1=de(wB=>{"use strict";F();var xRe=qt(),h7=d7().Reporter,Y1=l7().Buffer;function iu(t,e){if(h7.call(this,e),!Y1.isBuffer(t)){this.error("Input not Buffer");return}this.base=t,this.offset=0,this.length=t.length}xRe(iu,h7);wB.DecoderBuffer=iu;iu.isDecoderBuffer=function(e){return e instanceof iu?!0:typeof e=="object"&&Y1.isBuffer(e.base)&&e.constructor.name==="DecoderBuffer"&&typeof e.offset=="number"&&typeof e.length=="number"&&typeof e.save=="function"&&typeof e.restore=="function"&&typeof e.isEmpty=="function"&&typeof e.readUInt8=="function"&&typeof e.skip=="function"&&typeof e.raw=="function"};iu.prototype.save=function(){return{offset:this.offset,reporter:h7.prototype.save.call(this)}};iu.prototype.restore=function(e){let r=new iu(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,h7.prototype.restore.call(this,e.reporter),r};iu.prototype.isEmpty=function(){return this.offset===this.length};iu.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")};iu.prototype.skip=function(e,r){if(!(this.offset+e<=this.length))return this.error(r||"DecoderBuffer overrun");let i=new iu(this.base);return i._reporterState=this._reporterState,i.offset=this.offset,i.length=this.offset+e,this.offset+=e,i};iu.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)};function Z1(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(r){return Z1.isEncoderBuffer(r)||(r=new Z1(r,e)),this.length+=r.length,r},this);else if(typeof t=="number"){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=Y1.byteLength(t);else if(Y1.isBuffer(t))this.value=t,this.length=t.length;else return e.error("Unsupported type: "+typeof t)}wB.EncoderBuffer=Z1;Z1.isEncoderBuffer=function(e){return e instanceof Z1?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"};Z1.prototype.join=function(e,r){return e||(e=Y1.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(i){i.join(e,r),r+=i.length}):(typeof this.value=="number"?e[r]=this.value:typeof this.value=="string"?e.write(this.value,r):Y1.isBuffer(this.value)&&this.value.copy(e,r),r+=this.length)),e}});var p7=de((ugt,une)=>{"use strict";F();var ARe=d7().Reporter,MRe=G1().EncoderBuffer,kRe=G1().DecoderBuffer,da=hf(),fne=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],TRe=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(fne),PRe=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function qi(t,e,r){let i={};this._baseState=i,i.name=r,i.enc=t,i.parent=e||null,i.children=null,i.tag=null,i.args=null,i.reverseArgs=null,i.choice=null,i.optional=!1,i.any=!1,i.obj=!1,i.use=null,i.useDecoder=null,i.key=null,i.default=null,i.explicit=null,i.implicit=null,i.contains=null,i.parent||(i.children=[],this._wrap())}une.exports=qi;var DRe=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];qi.prototype.clone=function(){let e=this._baseState,r={};DRe.forEach(function(n){r[n]=e[n]});let i=new this.constructor(r.parent);return i._baseState=r,i};qi.prototype._wrap=function(){let e=this._baseState;TRe.forEach(function(r){this[r]=function(){let n=new this.constructor(this);return e.children.push(n),n[r].apply(n,arguments)}},this)};qi.prototype._init=function(e){let r=this._baseState;da(r.parent===null),e.call(this),r.children=r.children.filter(function(i){return i._baseState.parent===this},this),da.equal(r.children.length,1,"Root node can have only one child")};qi.prototype._useArgs=function(e){let r=this._baseState,i=e.filter(function(n){return n instanceof this.constructor},this);e=e.filter(function(n){return!(n instanceof this.constructor)},this),i.length!==0&&(da(r.children===null),r.children=i,i.forEach(function(n){n._baseState.parent=this},this)),e.length!==0&&(da(r.args===null),r.args=e,r.reverseArgs=e.map(function(n){if(typeof n!="object"||n.constructor!==Object)return n;let s={};return Object.keys(n).forEach(function(o){o==(o|0)&&(o|=0);let a=n[o];s[a]=o}),s}))};PRe.forEach(function(t){qi.prototype[t]=function(){let r=this._baseState;throw new Error(t+" not implemented for encoding: "+r.enc)}});fne.forEach(function(t){qi.prototype[t]=function(){let r=this._baseState,i=Array.prototype.slice.call(arguments);return da(r.tag===null),r.tag=t,this._useArgs(i),this}});qi.prototype.use=function(e){da(e);let r=this._baseState;return da(r.use===null),r.use=e,this};qi.prototype.optional=function(){let e=this._baseState;return e.optional=!0,this};qi.prototype.def=function(e){let r=this._baseState;return da(r.default===null),r.default=e,r.optional=!0,this};qi.prototype.explicit=function(e){let r=this._baseState;return da(r.explicit===null&&r.implicit===null),r.explicit=e,this};qi.prototype.implicit=function(e){let r=this._baseState;return da(r.explicit===null&&r.implicit===null),r.implicit=e,this};qi.prototype.obj=function(){let e=this._baseState,r=Array.prototype.slice.call(arguments);return e.obj=!0,r.length!==0&&this._useArgs(r),this};qi.prototype.key=function(e){let r=this._baseState;return da(r.key===null),r.key=e,this};qi.prototype.any=function(){let e=this._baseState;return e.any=!0,this};qi.prototype.choice=function(e){let r=this._baseState;return da(r.choice===null),r.choice=e,this._useArgs(Object.keys(e).map(function(i){return e[i]})),this};qi.prototype.contains=function(e){let r=this._baseState;return da(r.use===null),r.contains=e,this};qi.prototype._decode=function(e,r){let i=this._baseState;if(i.parent===null)return e.wrapResult(i.children[0]._decode(e,r));let n=i.default,s=!0,o=null;if(i.key!==null&&(o=e.enterKey(i.key)),i.optional){let f=null;if(i.explicit!==null?f=i.explicit:i.implicit!==null?f=i.implicit:i.tag!==null&&(f=i.tag),f===null&&!i.any){let c=e.save();try{i.choice===null?this._decodeGeneric(i.tag,e,r):this._decodeChoice(e,r),s=!0}catch{s=!1}e.restore(c)}else if(s=this._peekTag(e,f,i.any),e.isError(s))return s}let a;if(i.obj&&s&&(a=e.enterObject()),s){if(i.explicit!==null){let c=this._decodeTag(e,i.explicit);if(e.isError(c))return c;e=c}let f=e.offset;if(i.use===null&&i.choice===null){let c;i.any&&(c=e.save());let u=this._decodeTag(e,i.implicit!==null?i.implicit:i.tag,i.any);if(e.isError(u))return u;i.any?n=e.raw(c):e=u}if(r&&r.track&&i.tag!==null&&r.track(e.path(),f,e.length,"tagged"),r&&r.track&&i.tag!==null&&r.track(e.path(),e.offset,e.length,"content"),i.any||(i.choice===null?n=this._decodeGeneric(i.tag,e,r):n=this._decodeChoice(e,r)),e.isError(n))return n;if(!i.any&&i.choice===null&&i.children!==null&&i.children.forEach(function(u){u._decode(e,r)}),i.contains&&(i.tag==="octstr"||i.tag==="bitstr")){let c=new kRe(n);n=this._getUse(i.contains,e._reporterState.obj)._decode(c,r)}}return i.obj&&s&&(n=e.leaveObject(a)),i.key!==null&&(n!==null||s===!0)?e.leaveKey(o,i.key,n):o!==null&&e.exitKey(o),n};qi.prototype._decodeGeneric=function(e,r,i){let n=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(r,e,n.args[0],i):/str$/.test(e)?this._decodeStr(r,e,i):e==="objid"&&n.args?this._decodeObjid(r,n.args[0],n.args[1],i):e==="objid"?this._decodeObjid(r,null,null,i):e==="gentime"||e==="utctime"?this._decodeTime(r,e,i):e==="null_"?this._decodeNull(r,i):e==="bool"?this._decodeBool(r,i):e==="objDesc"?this._decodeStr(r,e,i):e==="int"||e==="enum"?this._decodeInt(r,n.args&&n.args[0],i):n.use!==null?this._getUse(n.use,r._reporterState.obj)._decode(r,i):r.error("unknown tag: "+e)};qi.prototype._getUse=function(e,r){let i=this._baseState;return i.useDecoder=this._use(e,r),da(i.useDecoder._baseState.parent===null),i.useDecoder=i.useDecoder._baseState.children[0],i.implicit!==i.useDecoder._baseState.implicit&&(i.useDecoder=i.useDecoder.clone(),i.useDecoder._baseState.implicit=i.implicit),i.useDecoder};qi.prototype._decodeChoice=function(e,r){let i=this._baseState,n=null,s=!1;return Object.keys(i.choice).some(function(o){let a=e.save(),f=i.choice[o];try{let c=f._decode(e,r);if(e.isError(c))return!1;n={type:o,value:c},s=!0}catch{return e.restore(a),!1}return!0},this),s?n:e.error("Choice not matched")};qi.prototype._createEncoderBuffer=function(e){return new MRe(e,this.reporter)};qi.prototype._encode=function(e,r,i){let n=this._baseState;if(n.default!==null&&n.default===e)return;let s=this._encodeValue(e,r,i);if(s!==void 0&&!this._skipDefault(s,r,i))return s};qi.prototype._encodeValue=function(e,r,i){let n=this._baseState;if(n.parent===null)return n.children[0]._encode(e,r||new ARe);let s=null;if(this.reporter=r,n.optional&&e===void 0)if(n.default!==null)e=n.default;else return;let o=null,a=!1;if(n.any)s=this._createEncoderBuffer(e);else if(n.choice)s=this._encodeChoice(e,r);else if(n.contains)o=this._getUse(n.contains,i)._encode(e,r),a=!0;else if(n.children)o=n.children.map(function(f){if(f._baseState.tag==="null_")return f._encode(null,r,e);if(f._baseState.key===null)return r.error("Child should have a key");let c=r.enterKey(f._baseState.key);if(typeof e!="object")return r.error("Child expected, but input is not object");let u=f._encode(e[f._baseState.key],r,e);return r.leaveKey(c),u},this).filter(function(f){return f}),o=this._createEncoderBuffer(o);else if(n.tag==="seqof"||n.tag==="setof"){if(!(n.args&&n.args.length===1))return r.error("Too many args for : "+n.tag);if(!Array.isArray(e))return r.error("seqof/setof, but data is not Array");let f=this.clone();f._baseState.implicit=null,o=this._createEncoderBuffer(e.map(function(c){let u=this._baseState;return this._getUse(u.args[0],e)._encode(c,r)},f))}else n.use!==null?s=this._getUse(n.use,i)._encode(e,r):(o=this._encodePrimitive(n.tag,e),a=!0);if(!n.any&&n.choice===null){let f=n.implicit!==null?n.implicit:n.tag,c=n.implicit===null?"universal":"context";f===null?n.use===null&&r.error("Tag could be omitted only for .use()"):n.use===null&&(s=this._encodeComposite(f,a,c,o))}return n.explicit!==null&&(s=this._encodeComposite(n.explicit,!1,"context",s)),s};qi.prototype._encodeChoice=function(e,r){let i=this._baseState,n=i.choice[e.type];return n||da(!1,e.type+" not found in "+JSON.stringify(Object.keys(i.choice))),n._encode(e.value,r)};qi.prototype._encodePrimitive=function(e,r){let i=this._baseState;if(/str$/.test(e))return this._encodeStr(r,e);if(e==="objid"&&i.args)return this._encodeObjid(r,i.reverseArgs[0],i.args[1]);if(e==="objid")return this._encodeObjid(r,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(r,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(r,i.args&&i.reverseArgs[0]);if(e==="bool")return this._encodeBool(r);if(e==="objDesc")return this._encodeStr(r,e);throw new Error("Unsupported tag: "+e)};qi.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)};qi.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}});var y7=de(zy=>{"use strict";F();function cne(t){let e={};return Object.keys(t).forEach(function(r){(r|0)==r&&(r=r|0);let i=t[r];e[i]=r}),e}zy.tagClass={0:"universal",1:"application",2:"context",3:"private"};zy.tagClassByName=cne(zy.tagClass);zy.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};zy.tagByName=cne(zy.tag)});var EB=de((hgt,hne)=>{"use strict";F();var IRe=qt(),bd=l7().Buffer,lne=p7(),_B=y7();function dne(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new qu,this.tree._init(t.body)}hne.exports=dne;dne.prototype.encode=function(e,r){return this.tree._encode(e,r).join()};function qu(t){lne.call(this,"der",t)}IRe(qu,lne);qu.prototype._encodeComposite=function(e,r,i,n){let s=RRe(e,r,i,this.reporter);if(n.length<128){let f=bd.alloc(2);return f[0]=s,f[1]=n.length,this._createEncoderBuffer([f,n])}let o=1;for(let f=n.length;f>=256;f>>=8)o++;let a=bd.alloc(1+1+o);a[0]=s,a[1]=128|o;for(let f=1+o,c=n.length;c>0;f--,c>>=8)a[f]=c&255;return this._createEncoderBuffer([a,n])};qu.prototype._encodeStr=function(e,r){if(r==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(r==="bmpstr"){let i=bd.alloc(e.length*2);for(let n=0;n<e.length;n++)i.writeUInt16BE(e.charCodeAt(n),n*2);return this._createEncoderBuffer(i)}else return r==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):r==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")};qu.prototype._encodeObjid=function(e,r,i){if(typeof e=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s.]+/g);for(let a=0;a<e.length;a++)e[a]|=0}else if(Array.isArray(e)){e=e.slice();for(let a=0;a<e.length;a++)e[a]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!i){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let n=0;for(let a=0;a<e.length;a++){let f=e[a];for(n++;f>=128;f>>=7)n++}let s=bd.alloc(n),o=s.length-1;for(let a=e.length-1;a>=0;a--){let f=e[a];for(s[o--]=f&127;(f>>=7)>0;)s[o--]=128|f&127}return this._createEncoderBuffer(s)};function nu(t){return t<10?"0"+t:t}qu.prototype._encodeTime=function(e,r){let i,n=new Date(e);return r==="gentime"?i=[nu(n.getUTCFullYear()),nu(n.getUTCMonth()+1),nu(n.getUTCDate()),nu(n.getUTCHours()),nu(n.getUTCMinutes()),nu(n.getUTCSeconds()),"Z"].join(""):r==="utctime"?i=[nu(n.getUTCFullYear()%100),nu(n.getUTCMonth()+1),nu(n.getUTCDate()),nu(n.getUTCHours()),nu(n.getUTCMinutes()),nu(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(i,"octstr")};qu.prototype._encodeNull=function(){return this._createEncoderBuffer("")};qu.prototype._encodeInt=function(e,r){if(typeof e=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if(typeof e!="number"&&!bd.isBuffer(e)){let s=e.toArray();!e.sign&&s[0]&128&&s.unshift(0),e=bd.from(s)}if(bd.isBuffer(e)){let s=e.length;e.length===0&&s++;let o=bd.alloc(s);return e.copy(o),e.length===0&&(o[0]=0),this._createEncoderBuffer(o)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let i=1;for(let s=e;s>=256;s>>=8)i++;let n=new Array(i);for(let s=n.length-1;s>=0;s--)n[s]=e&255,e>>=8;return n[0]&128&&n.unshift(0),this._createEncoderBuffer(bd.from(n))};qu.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)};qu.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getEncoder("der").tree};qu.prototype._skipDefault=function(e,r,i){let n=this._baseState,s;if(n.default===null)return!1;let o=e.join();if(n.defaultBuffer===void 0&&(n.defaultBuffer=this._encodeValue(n.default,r,i).join()),o.length!==n.defaultBuffer.length)return!1;for(s=0;s<o.length;s++)if(o[s]!==n.defaultBuffer[s])return!1;return!0};function RRe(t,e,r,i){let n;if(t==="seqof"?t="seq":t==="setof"&&(t="set"),_B.tagByName.hasOwnProperty(t))n=_B.tagByName[t];else if(typeof t=="number"&&(t|0)===t)n=t;else return i.error("Unknown tag: "+t);return n>=31?i.error("Multi-octet tag encoding unsupported"):(e||(n|=32),n|=_B.tagClassByName[r||"universal"]<<6,n)}});var yne=de((ygt,pne)=>{"use strict";F();var BRe=qt(),SB=EB();function xB(t){SB.call(this,t),this.enc="pem"}BRe(xB,SB);pne.exports=xB;xB.prototype.encode=function(e,r){let n=SB.prototype.encode.call(this,e).toString("base64"),s=["-----BEGIN "+r.label+"-----"];for(let o=0;o<n.length;o+=64)s.push(n.slice(o,o+64));return s.push("-----END "+r.label+"-----"),s.join(`
`)}});var AB=de(gne=>{"use strict";F();var mne=gne;mne.der=EB();mne.pem=yne()});var kB=de((vgt,Sne)=>{"use strict";F();var CRe=qt(),ORe=Bo(),bne=G1().DecoderBuffer,wne=p7(),vne=y7();function _ne(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new yf,this.tree._init(t.body)}Sne.exports=_ne;_ne.prototype.decode=function(e,r){return bne.isDecoderBuffer(e)||(e=new bne(e,r)),this.tree._decode(e,r)};function yf(t){wne.call(this,"der",t)}CRe(yf,wne);yf.prototype._peekTag=function(e,r,i){if(e.isEmpty())return!1;let n=e.save(),s=MB(e,'Failed to peek tag: "'+r+'"');return e.isError(s)?s:(e.restore(n),s.tag===r||s.tagStr===r||s.tagStr+"of"===r||i)};yf.prototype._decodeTag=function(e,r,i){let n=MB(e,'Failed to decode tag of "'+r+'"');if(e.isError(n))return n;let s=Ene(e,n.primitive,'Failed to get length of "'+r+'"');if(e.isError(s))return s;if(!i&&n.tag!==r&&n.tagStr!==r&&n.tagStr+"of"!==r)return e.error('Failed to match tag: "'+r+'"');if(n.primitive||s!==null)return e.skip(s,'Failed to match body of: "'+r+'"');let o=e.save(),a=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(a)?a:(s=e.offset-o.offset,e.restore(o),e.skip(s,'Failed to match body of: "'+r+'"'))};yf.prototype._skipUntilEnd=function(e,r){for(;;){let i=MB(e,r);if(e.isError(i))return i;let n=Ene(e,i.primitive,r);if(e.isError(n))return n;let s;if(i.primitive||n!==null?s=e.skip(n):s=this._skipUntilEnd(e,r),e.isError(s))return s;if(i.tagStr==="end")break}};yf.prototype._decodeList=function(e,r,i,n){let s=[];for(;!e.isEmpty();){let o=this._peekTag(e,"end");if(e.isError(o))return o;let a=i.decode(e,"der",n);if(e.isError(a)&&o)break;s.push(a)}return s};yf.prototype._decodeStr=function(e,r){if(r==="bitstr"){let i=e.readUInt8();return e.isError(i)?i:{unused:i,data:e.raw()}}else if(r==="bmpstr"){let i=e.raw();if(i.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");let n="";for(let s=0;s<i.length/2;s++)n+=String.fromCharCode(i.readUInt16BE(s*2));return n}else if(r==="numstr"){let i=e.raw().toString("ascii");return this._isNumstr(i)?i:e.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return e.raw();if(r==="objDesc")return e.raw();if(r==="printstr"){let i=e.raw().toString("ascii");return this._isPrintstr(i)?i:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?e.raw().toString():e.error("Decoding of string type: "+r+" unsupported")}};yf.prototype._decodeObjid=function(e,r,i){let n,s=[],o=0,a=0;for(;!e.isEmpty();)a=e.readUInt8(),o<<=7,o|=a&127,a&128||(s.push(o),o=0);a&128&&s.push(o);let f=s[0]/40|0,c=s[0]%40;if(i?n=s:n=[f,c].concat(s.slice(1)),r){let u=r[n.join(" ")];u===void 0&&(u=r[n.join(".")]),u!==void 0&&(n=u)}return n};yf.prototype._decodeTime=function(e,r){let i=e.raw().toString(),n,s,o,a,f,c;if(r==="gentime")n=i.slice(0,4)|0,s=i.slice(4,6)|0,o=i.slice(6,8)|0,a=i.slice(8,10)|0,f=i.slice(10,12)|0,c=i.slice(12,14)|0;else if(r==="utctime")n=i.slice(0,2)|0,s=i.slice(2,4)|0,o=i.slice(4,6)|0,a=i.slice(6,8)|0,f=i.slice(8,10)|0,c=i.slice(10,12)|0,n<70?n=2e3+n:n=1900+n;else return e.error("Decoding "+r+" time is not supported yet");return Date.UTC(n,s-1,o,a,f,c,0)};yf.prototype._decodeNull=function(){return null};yf.prototype._decodeBool=function(e){let r=e.readUInt8();return e.isError(r)?r:r!==0};yf.prototype._decodeInt=function(e,r){let i=e.raw(),n=new ORe(i);return r&&(n=r[n.toString(10)]||n),n};yf.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getDecoder("der").tree};function MB(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;let i=vne.tagClass[r>>6],n=(r&32)===0;if((r&31)===31){let o=r;for(r=0;(o&128)===128;){if(o=t.readUInt8(e),t.isError(o))return o;r<<=7,r|=o&127}}else r&=31;let s=vne.tag[r];return{cls:i,primitive:n,tag:r,tagStr:s}}function Ene(t,e,r){let i=t.readUInt8(r);if(t.isError(i))return i;if(!e&&i===128)return null;if(!(i&128))return i;let n=i&127;if(n>4)return t.error("length octect is too long");i=0;for(let s=0;s<n;s++){i<<=8;let o=t.readUInt8(r);if(t.isError(o))return o;i|=o}return i}});var Ane=de((_gt,xne)=>{"use strict";F();var jRe=qt(),LRe=l7().Buffer,TB=kB();function PB(t){TB.call(this,t),this.enc="pem"}jRe(PB,TB);xne.exports=PB;PB.prototype.decode=function(e,r){let i=e.toString().split(/[\r\n]+/g),n=r.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,o=-1,a=-1;for(let u=0;u<i.length;u++){let l=i[u].match(s);if(l!==null&&l[2]===n)if(o===-1){if(l[1]!=="BEGIN")break;o=u}else{if(l[1]!=="END")break;a=u;break}}if(o===-1||a===-1)throw new Error("PEM section not found for: "+n);let f=i.slice(o+1,a).join("");f.replace(/[^a-z0-9+/=]+/gi,"");let c=LRe.from(f,"base64");return TB.prototype.decode.call(this,c,r)}});var DB=de(kne=>{"use strict";F();var Mne=kne;Mne.der=kB();Mne.pem=Ane()});var Pne=de(Tne=>{"use strict";F();var NRe=AB(),qRe=DB(),zRe=qt(),FRe=Tne;FRe.define=function(e,r){return new J1(e,r)};function J1(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}J1.prototype._createNamed=function(e){let r=this.name;function i(n){this._initNamed(n,r)}return zRe(i,e),i.prototype._initNamed=function(s,o){e.call(this,s,o)},new i(this)};J1.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(qRe[e])),this.decoders[e]};J1.prototype.decode=function(e,r,i){return this._getDecoder(r).decode(e,i)};J1.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(NRe[e])),this.encoders[e]};J1.prototype.encode=function(e,r,i){return this._getEncoder(r).encode(e,i)}});var Ine=de(Dne=>{"use strict";F();var m7=Dne;m7.Reporter=d7().Reporter;m7.DecoderBuffer=G1().DecoderBuffer;m7.EncoderBuffer=G1().EncoderBuffer;m7.Node=p7()});var Cne=de(Bne=>{"use strict";F();var Rne=Bne;Rne._reverse=function(e){let r={};return Object.keys(e).forEach(function(i){(i|0)==i&&(i=i|0);let n=e[i];r[n]=i}),r};Rne.der=y7()});var IB=de(One=>{"use strict";F();var X1=One;X1.bignum=Bo();X1.define=Pne().define;X1.base=Ine();X1.constants=Cne();X1.decoders=DB();X1.encoders=AB()});var qne=de((Bgt,Nne)=>{"use strict";F();var zu=IB(),jne=zu.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),URe=zu.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),RB=zu.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),$Re=zu.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(RB),this.key("subjectPublicKey").bitstr())}),VRe=zu.define("RelativeDistinguishedName",function(){this.setof(URe)}),KRe=zu.define("RDNSequence",function(){this.seqof(VRe)}),Lne=zu.define("Name",function(){this.choice({rdnSequence:this.use(KRe)})}),HRe=zu.define("Validity",function(){this.seq().obj(this.key("notBefore").use(jne),this.key("notAfter").use(jne))}),WRe=zu.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),YRe=zu.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(RB),this.key("issuer").use(Lne),this.key("validity").use(HRe),this.key("subject").use(Lne),this.key("subjectPublicKeyInfo").use($Re),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(WRe).optional())}),ZRe=zu.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(YRe),this.key("signatureAlgorithm").use(RB),this.key("signatureValue").bitstr())});Nne.exports=ZRe});var Fne=de(Uu=>{"use strict";F();var Fu=IB();Uu.certificate=qne();var GRe=Fu.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});Uu.RSAPrivateKey=GRe;var JRe=Fu.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});Uu.RSAPublicKey=JRe;var XRe=Fu.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(zne),this.key("subjectPublicKey").bitstr())});Uu.PublicKey=XRe;var zne=Fu.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),QRe=Fu.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(zne),this.key("subjectPrivateKey").octstr())});Uu.PrivateKey=QRe;var eBe=Fu.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});Uu.EncryptedPrivateKey=eBe;var tBe=Fu.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});Uu.DSAPrivateKey=tBe;Uu.DSAparam=Fu.define("DSAparam",function(){this.int()});var rBe=Fu.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(iBe),this.key("publicKey").optional().explicit(1).bitstr())});Uu.ECPrivateKey=rBe;var iBe=Fu.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});Uu.signature=Fu.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})});var Une=de((Lgt,nBe)=>{nBe.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}});var Vne=de((Ngt,$ne)=>{F();var oBe=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,sBe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,aBe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,fBe=n3(),uBe=kE(),g7=Vr().Buffer;$ne.exports=function(t,e){var r=t.toString(),i=r.match(oBe),n;if(i){var o="aes"+i[1],a=g7.from(i[2],"hex"),f=g7.from(i[3].replace(/[\r\n]/g,""),"base64"),c=fBe(e,a.slice(0,8),parseInt(i[1],10)).key,u=[],l=uBe.createDecipheriv(o,c,a);u.push(l.update(f)),u.push(l.final()),n=g7.concat(u)}else{var s=r.match(aBe);n=g7.from(s[2].replace(/[\r\n]/g,""),"base64")}var y=r.match(sBe)[1];return{tag:y,data:n}}});var b3=de((zgt,Hne)=>{F();var Oa=Fne(),cBe=Une(),lBe=Vne(),dBe=kE(),hBe=GI(),BB=Vr().Buffer;Hne.exports=Kne;function Kne(t){var e;typeof t=="object"&&!BB.isBuffer(t)&&(e=t.passphrase,t=t.key),typeof t=="string"&&(t=BB.from(t));var r=lBe(t,e),i=r.tag,n=r.data,s,o;switch(i){case"CERTIFICATE":o=Oa.certificate.decode(n,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(o||(o=Oa.PublicKey.decode(n,"der")),s=o.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return Oa.RSAPublicKey.decode(o.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return o.subjectPrivateKey=o.subjectPublicKey,{type:"ec",data:o};case"1.2.840.10040.4.1":return o.algorithm.params.pub_key=Oa.DSAparam.decode(o.subjectPublicKey.data,"der"),{type:"dsa",data:o.algorithm.params};default:throw new Error("unknown key id "+s)}case"ENCRYPTED PRIVATE KEY":n=Oa.EncryptedPrivateKey.decode(n,"der"),n=pBe(n,e);case"PRIVATE KEY":switch(o=Oa.PrivateKey.decode(n,"der"),s=o.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return Oa.RSAPrivateKey.decode(o.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:o.algorithm.curve,privateKey:Oa.ECPrivateKey.decode(o.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return o.algorithm.params.priv_key=Oa.DSAparam.decode(o.subjectPrivateKey,"der"),{type:"dsa",params:o.algorithm.params};default:throw new Error("unknown key id "+s)}case"RSA PUBLIC KEY":return Oa.RSAPublicKey.decode(n,"der");case"RSA PRIVATE KEY":return Oa.RSAPrivateKey.decode(n,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:Oa.DSAPrivateKey.decode(n,"der")};case"EC PRIVATE KEY":return n=Oa.ECPrivateKey.decode(n,"der"),{curve:n.parameters.value,privateKey:n.privateKey};default:throw new Error("unknown key type "+i)}}Kne.signature=Oa.signature;function pBe(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,i=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),n=cBe[t.algorithm.decrypt.cipher.algo.join(".")],s=t.algorithm.decrypt.cipher.iv,o=t.subjectPrivateKey,a=parseInt(n.split("-")[1],10)/8,f=hBe.pbkdf2Sync(e,r,i,a,"sha1"),c=dBe.createDecipheriv(n,f,s),u=[];return u.push(c.update(o)),u.push(c.final()),BB.concat(u)}});var CB=de((Ugt,yBe)=>{yBe.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}});var Zne=de(($gt,v7)=>{F();var Xs=RE().Buffer,Fy=zI(),mBe=WE(),gBe=V1().ec,b7=vB(),bBe=b3(),vBe=CB();function wBe(t,e,r,i,n){var s=bBe(e);if(s.curve){if(i!=="ecdsa"&&i!=="ecdsa/rsa")throw new Error("wrong private key type");return _Be(t,s)}else if(s.type==="dsa"){if(i!=="dsa")throw new Error("wrong private key type");return EBe(t,s,r)}else if(i!=="rsa"&&i!=="ecdsa/rsa")throw new Error("wrong private key type");t=Xs.concat([n,t]);for(var o=s.modulus.byteLength(),a=[0,1];t.length+a.length+1<o;)a.push(255);a.push(0);for(var f=-1;++f<t.length;)a.push(t[f]);var c=mBe(a,s);return c}function _Be(t,e){var r=vBe[e.curve.join(".")];if(!r)throw new Error("unknown curve "+e.curve.join("."));var i=new gBe(r),n=i.keyFromPrivate(e.privateKey),s=n.sign(t);return Xs.from(s.toDER())}function EBe(t,e,r){for(var i=e.params.priv_key,n=e.params.p,s=e.params.q,o=e.params.g,a=new b7(0),f,c=OB(t,s).mod(s),u=!1,l=Wne(i,s,t,r);u===!1;)f=Yne(s,l,r),a=ABe(o,f,n,s),u=f.invm(s).imul(c.add(i.mul(a))).mod(s),u.cmpn(0)===0&&(u=!1,a=new b7(0));return SBe(a,u)}function SBe(t,e){t=t.toArray(),e=e.toArray(),t[0]&128&&(t=[0].concat(t)),e[0]&128&&(e=[0].concat(e));var r=t.length+e.length+4,i=[48,r,2,t.length];return i=i.concat(t,[2,e.length],e),Xs.from(i)}function Wne(t,e,r,i){if(t=Xs.from(t.toArray()),t.length<e.byteLength()){var n=Xs.alloc(e.byteLength()-t.length);t=Xs.concat([n,t])}var s=r.length,o=xBe(r,e),a=Xs.alloc(s);a.fill(1);var f=Xs.alloc(s);return f=Fy(i,f).update(a).update(Xs.from([0])).update(t).update(o).digest(),a=Fy(i,f).update(a).digest(),f=Fy(i,f).update(a).update(Xs.from([1])).update(t).update(o).digest(),a=Fy(i,f).update(a).digest(),{k:f,v:a}}function OB(t,e){var r=new b7(t),i=(t.length<<3)-e.bitLength();return i>0&&r.ishrn(i),r}function xBe(t,e){t=OB(t,e),t=t.mod(e);var r=Xs.from(t.toArray());if(r.length<e.byteLength()){var i=Xs.alloc(e.byteLength()-r.length);r=Xs.concat([i,r])}return r}function Yne(t,e,r){var i,n;do{for(i=Xs.alloc(0);i.length*8<t.bitLength();)e.v=Fy(r,e.k).update(e.v).digest(),i=Xs.concat([i,e.v]);n=OB(i,t),e.k=Fy(r,e.k).update(e.v).update(Xs.from([0])).digest(),e.v=Fy(r,e.k).update(e.v).digest()}while(n.cmp(t)!==-1);return n}function ABe(t,e,r,i){return t.toRed(b7.mont(r)).redPow(e).fromRed().mod(i)}v7.exports=wBe;v7.exports.getKey=Wne;v7.exports.makeKey=Yne});var Qne=de((Kgt,Xne)=>{F();var jB=RE().Buffer,v3=vB(),MBe=V1().ec,Jne=b3(),kBe=CB();function TBe(t,e,r,i,n){var s=Jne(r);if(s.type==="ec"){if(i!=="ecdsa"&&i!=="ecdsa/rsa")throw new Error("wrong public key type");return PBe(t,e,s)}else if(s.type==="dsa"){if(i!=="dsa")throw new Error("wrong public key type");return DBe(t,e,s)}else if(i!=="rsa"&&i!=="ecdsa/rsa")throw new Error("wrong public key type");e=jB.concat([n,e]);for(var o=s.modulus.byteLength(),a=[1],f=0;e.length+a.length+2<o;)a.push(255),f++;a.push(0);for(var c=-1;++c<e.length;)a.push(e[c]);a=jB.from(a);var u=v3.mont(s.modulus);t=new v3(t).toRed(u),t=t.redPow(new v3(s.publicExponent)),t=jB.from(t.fromRed().toArray());var l=f<8?1:0;for(o=Math.min(t.length,a.length),t.length!==a.length&&(l=1),c=-1;++c<o;)l|=t[c]^a[c];return l===0}function PBe(t,e,r){var i=kBe[r.data.algorithm.curve.join(".")];if(!i)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var n=new MBe(i),s=r.data.subjectPrivateKey.data;return n.verify(e,t,s)}function DBe(t,e,r){var i=r.data.p,n=r.data.q,s=r.data.g,o=r.data.pub_key,a=Jne.signature.decode(t,"der"),f=a.s,c=a.r;Gne(f,n),Gne(c,n);var u=v3.mont(i),l=f.invm(n),y=s.toRed(u).redPow(new v3(e).mul(l).mod(n)).fromRed().mul(o.toRed(u).redPow(c.mul(l).mod(n)).fromRed()).mod(i).mod(n);return y.cmp(c)===0}function Gne(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}Xne.exports=TBe});var ooe=de((Wgt,noe)=>{F();var w7=RE().Buffer,roe=_1(),_7=Dre(),ioe=qt(),IBe=Zne(),RBe=Qne(),Uy=FI();Object.keys(Uy).forEach(function(t){Uy[t].id=w7.from(Uy[t].id,"hex"),Uy[t.toLowerCase()]=Uy[t]});function w3(t){_7.Writable.call(this);var e=Uy[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=roe(e.hash),this._tag=e.id,this._signType=e.sign}ioe(w3,_7.Writable);w3.prototype._write=function(e,r,i){this._hash.update(e),i()};w3.prototype.update=function(e,r){return typeof e=="string"&&(e=w7.from(e,r)),this._hash.update(e),this};w3.prototype.sign=function(e,r){this.end();var i=this._hash.digest(),n=IBe(i,e,this._hashType,this._signType,this._tag);return r?n.toString(r):n};function _3(t){_7.Writable.call(this);var e=Uy[t];if(!e)throw new Error("Unknown message digest");this._hash=roe(e.hash),this._tag=e.id,this._signType=e.sign}ioe(_3,_7.Writable);_3.prototype._write=function(e,r,i){this._hash.update(e),i()};_3.prototype.update=function(e,r){return typeof e=="string"&&(e=w7.from(e,r)),this._hash.update(e),this};_3.prototype.verify=function(e,r,i){typeof r=="string"&&(r=w7.from(r,i)),this.end();var n=this._hash.digest();return RBe(r,n,e,this._signType,this._tag)};function eoe(t){return new w3(t)}function toe(t){return new _3(t)}noe.exports={Sign:eoe,Verify:toe,createSign:eoe,createVerify:toe}});var aoe=de((Zgt,soe)=>{F();var BBe=V1(),CBe=Bo();soe.exports=function(e){return new $y(e)};var mf={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};mf.p224=mf.secp224r1;mf.p256=mf.secp256r1=mf.prime256v1;mf.p192=mf.secp192r1=mf.prime192v1;mf.p384=mf.secp384r1;mf.p521=mf.secp521r1;function $y(t){this.curveType=mf[t],this.curveType||(this.curveType={name:t}),this.curve=new BBe.ec(this.curveType.name),this.keys=void 0}$y.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)};$y.prototype.computeSecret=function(t,e,r){e=e||"utf8",te.Buffer.isBuffer(t)||(t=new te.Buffer(t,e));var i=this.curve.keyFromPublic(t).getPublic(),n=i.mul(this.keys.getPrivate()).getX();return LB(n,r,this.curveType.byteLength)};$y.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic(e==="compressed",!0);return e==="hybrid"&&(r[r.length-1]%2?r[0]=7:r[0]=6),LB(r,t)};$y.prototype.getPrivateKey=function(t){return LB(this.keys.getPrivate(),t)};$y.prototype.setPublicKey=function(t,e){return e=e||"utf8",te.Buffer.isBuffer(t)||(t=new te.Buffer(t,e)),this.keys._importPublic(t),this};$y.prototype.setPrivateKey=function(t,e){e=e||"utf8",te.Buffer.isBuffer(t)||(t=new te.Buffer(t,e));var r=new CBe(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this};function LB(t,e,r){Array.isArray(t)||(t=t.toArray());var i=new te.Buffer(t);if(r&&i.length<r){var n=new te.Buffer(r-i.length);n.fill(0),i=te.Buffer.concat([n,i])}return e?i.toString(e):i}});var qB=de((Jgt,foe)=>{F();var OBe=_1(),NB=Vr().Buffer;foe.exports=function(t,e){for(var r=NB.alloc(0),i=0,n;r.length<e;)n=jBe(i++),r=NB.concat([r,OBe("sha1").update(t).update(n).digest()]);return r.slice(0,e)};function jBe(t){var e=NB.allocUnsafe(4);return e.writeUInt32BE(t,0),e}});var zB=de((Qgt,uoe)=>{F();uoe.exports=function(e,r){for(var i=e.length,n=-1;++n<i;)e[n]^=r[n];return e}});var FB=de((t1t,loe)=>{F();var coe=Bo(),LBe=Vr().Buffer;function NBe(t,e){return LBe.from(t.toRed(coe.mont(e.modulus)).redPow(new coe(e.publicExponent)).fromRed().toArray())}loe.exports=NBe});var yoe=de((i1t,poe)=>{F();var qBe=b3(),UB=X0(),zBe=_1(),doe=qB(),hoe=zB(),$B=Bo(),FBe=FB(),UBe=WE(),$u=Vr().Buffer;poe.exports=function(e,r,i){var n;e.padding?n=e.padding:i?n=1:n=4;var s=qBe(e),o;if(n===4)o=$Be(s,r);else if(n===1)o=VBe(s,r,i);else if(n===3){if(o=new $B(r),o.cmp(s.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return i?UBe(o,s):FBe(o,s)};function $Be(t,e){var r=t.modulus.byteLength(),i=e.length,n=zBe("sha1").update($u.alloc(0)).digest(),s=n.length,o=2*s;if(i>r-o-2)throw new Error("message too long");var a=$u.alloc(r-i-o-2),f=r-s-1,c=UB(s),u=hoe($u.concat([n,a,$u.alloc(1,1),e],f),doe(c,f)),l=hoe(c,doe(u,s));return new $B($u.concat([$u.alloc(1),l,u],r))}function VBe(t,e,r){var i=e.length,n=t.modulus.byteLength();if(i>n-11)throw new Error("message too long");var s;return r?s=$u.alloc(n-i-3,255):s=KBe(n-i-3),new $B($u.concat([$u.from([0,r?1:2]),s,$u.alloc(1),e],n))}function KBe(t){for(var e=$u.allocUnsafe(t),r=0,i=UB(t*2),n=0,s;r<t;)n===i.length&&(i=UB(t*2),n=0),s=i[n++],s&&(e[r++]=s);return e}});var woe=de((o1t,voe)=>{F();var HBe=b3(),moe=qB(),goe=zB(),boe=Bo(),WBe=WE(),YBe=_1(),ZBe=FB(),E3=Vr().Buffer;voe.exports=function(e,r,i){var n;e.padding?n=e.padding:i?n=1:n=4;var s=HBe(e),o=s.modulus.byteLength();if(r.length>o||new boe(r).cmp(s.modulus)>=0)throw new Error("decryption error");var a;i?a=ZBe(new boe(r),s):a=WBe(r,s);var f=E3.alloc(o-a.length);if(a=E3.concat([f,a],o),n===4)return GBe(s,a);if(n===1)return JBe(s,a,i);if(n===3)return a;throw new Error("unknown padding")};function GBe(t,e){var r=t.modulus.byteLength(),i=YBe("sha1").update(E3.alloc(0)).digest(),n=i.length;if(e[0]!==0)throw new Error("decryption error");var s=e.slice(1,n+1),o=e.slice(n+1),a=goe(s,moe(o,n)),f=goe(o,moe(a,r-n-1));if(XBe(i,f.slice(0,n)))throw new Error("decryption error");for(var c=n;f[c]===0;)c++;if(f[c++]!==1)throw new Error("decryption error");return f.slice(c)}function JBe(t,e,r){for(var i=e.slice(0,2),n=2,s=0;e[n++]!==0;)if(n>=e.length){s++;break}var o=e.slice(2,n-1);if((i.toString("hex")!=="0002"&&!r||i.toString("hex")!=="0001"&&r)&&s++,o.length<8&&s++,s)throw new Error("decryption error");return e.slice(n)}function XBe(t,e){t=E3.from(t),e=E3.from(e);var r=0,i=t.length;t.length!==e.length&&(r++,i=Math.min(t.length,e.length));for(var n=-1;++n<i;)r+=t[n]^e[n];return r}});var _oe=de(Vy=>{F();Vy.publicEncrypt=yoe();Vy.privateDecrypt=woe();Vy.privateEncrypt=function(e,r){return Vy.publicEncrypt(e,r,!0)};Vy.publicDecrypt=function(e,r){return Vy.privateDecrypt(e,r,!0)}});var Ioe=de(S3=>{"use strict";F();function Eoe(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var xoe=Vr(),Soe=X0(),Aoe=xoe.Buffer,Moe=xoe.kMaxLength,VB=globalThis.crypto||globalThis.msCrypto,koe=Math.pow(2,32)-1;function Toe(t,e){if(typeof t!="number"||t!==t)throw new TypeError("offset must be a number");if(t>koe||t<0)throw new TypeError("offset must be a uint32");if(t>Moe||t>e)throw new RangeError("offset out of range")}function Poe(t,e,r){if(typeof t!="number"||t!==t)throw new TypeError("size must be a number");if(t>koe||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>Moe)throw new RangeError("buffer too small")}VB&&VB.getRandomValues||!J.default.browser?(S3.randomFill=QBe,S3.randomFillSync=eCe):(S3.randomFill=Eoe,S3.randomFillSync=Eoe);function QBe(t,e,r,i){if(!Aoe.isBuffer(t)&&!(t instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof e=="function")i=e,e=0,r=t.length;else if(typeof r=="function")i=r,r=t.length-e;else if(typeof i!="function")throw new TypeError('"cb" argument must be a function');return Toe(e,t.length),Poe(r,e,t.length),Doe(t,e,r,i)}function Doe(t,e,r,i){if(J.default.browser){var n=t.buffer,s=new Uint8Array(n,e,r);if(VB.getRandomValues(s),i){J.default.nextTick(function(){i(null,t)});return}return t}if(i){Soe(r,function(a,f){if(a)return i(a);f.copy(t,e),i(null,t)});return}var o=Soe(r);return o.copy(t,e),t}function eCe(t,e,r){if(typeof e>"u"&&(e=0),!Aoe.isBuffer(t)&&!(t instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return Toe(e,t.length),r===void 0&&(r=t.length-e),Poe(r,e,t.length),Doe(t,e,r)}});var Ay=de(_r=>{"use strict";F();_r.randomBytes=_r.rng=_r.pseudoRandomBytes=_r.prng=X0();_r.createHash=_r.Hash=_1();_r.createHmac=_r.Hmac=zI();var tCe=JQ(),rCe=Object.keys(tCe),iCe=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(rCe);_r.getHashes=function(){return iCe};var Roe=GI();_r.pbkdf2=Roe.pbkdf2;_r.pbkdf2Sync=Roe.pbkdf2Sync;var Jc=vte();_r.Cipher=Jc.Cipher;_r.createCipher=Jc.createCipher;_r.Cipheriv=Jc.Cipheriv;_r.createCipheriv=Jc.createCipheriv;_r.Decipher=Jc.Decipher;_r.createDecipher=Jc.createDecipher;_r.Decipheriv=Jc.Decipheriv;_r.createDecipheriv=Jc.createDecipheriv;_r.getCiphers=Jc.getCiphers;_r.listCiphers=Jc.listCiphers;var x3=Rte();_r.DiffieHellmanGroup=x3.DiffieHellmanGroup;_r.createDiffieHellmanGroup=x3.createDiffieHellmanGroup;_r.getDiffieHellman=x3.getDiffieHellman;_r.createDiffieHellman=x3.createDiffieHellman;_r.DiffieHellman=x3.DiffieHellman;var E7=ooe();_r.createSign=E7.createSign;_r.Sign=E7.Sign;_r.createVerify=E7.createVerify;_r.Verify=E7.Verify;_r.createECDH=aoe();var S7=_oe();_r.publicEncrypt=S7.publicEncrypt;_r.privateEncrypt=S7.privateEncrypt;_r.publicDecrypt=S7.publicDecrypt;_r.privateDecrypt=S7.privateDecrypt;var Boe=Ioe();_r.randomFill=Boe.randomFill;_r.randomFillSync=Boe.randomFillSync;_r.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))};_r.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}});var ase=de((v1t,sse)=>{F();var Ei={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function su(t,e){if(!t)throw new Error(e)}function ti(t,e,r){if(su(e instanceof Uint8Array,`Expected ${t} to be an Uint8Array`),r!==void 0)if(Array.isArray(r)){let i=r.join(", "),n=`Expected ${t} to be an Uint8Array with length [${i}]`;su(r.includes(e.length),n)}else{let i=`Expected ${t} to be an Uint8Array with length ${r}`;su(e.length===r,i)}}function Wy(t){su(sb(t)==="Boolean","Expected compressed to be a Boolean")}function Hu(t=r=>new Uint8Array(r),e){return typeof t=="function"&&(t=t(e)),ti("output",t,e),t}function sb(t){return Object.prototype.toString.call(t).slice(8,-1)}sse.exports=t=>({contextRandomize(e){switch(su(e===null||e instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),e!==null&&ti("seed",e,32),t.contextRandomize(e)){case 1:throw new Error(Ei.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(e){return ti("private key",e,32),t.privateKeyVerify(e)===0},privateKeyNegate(e){switch(ti("private key",e,32),t.privateKeyNegate(e)){case 0:return e;case 1:throw new Error(Ei.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(e,r){switch(ti("private key",e,32),ti("tweak",r,32),t.privateKeyTweakAdd(e,r)){case 0:return e;case 1:throw new Error(Ei.TWEAK_ADD)}},privateKeyTweakMul(e,r){switch(ti("private key",e,32),ti("tweak",r,32),t.privateKeyTweakMul(e,r)){case 0:return e;case 1:throw new Error(Ei.TWEAK_MUL)}},publicKeyVerify(e){return ti("public key",e,[33,65]),t.publicKeyVerify(e)===0},publicKeyCreate(e,r=!0,i){switch(ti("private key",e,32),Wy(r),i=Hu(i,r?33:65),t.publicKeyCreate(i,e)){case 0:return i;case 1:throw new Error(Ei.SECKEY_INVALID);case 2:throw new Error(Ei.PUBKEY_SERIALIZE)}},publicKeyConvert(e,r=!0,i){switch(ti("public key",e,[33,65]),Wy(r),i=Hu(i,r?33:65),t.publicKeyConvert(i,e)){case 0:return i;case 1:throw new Error(Ei.PUBKEY_PARSE);case 2:throw new Error(Ei.PUBKEY_SERIALIZE)}},publicKeyNegate(e,r=!0,i){switch(ti("public key",e,[33,65]),Wy(r),i=Hu(i,r?33:65),t.publicKeyNegate(i,e)){case 0:return i;case 1:throw new Error(Ei.PUBKEY_PARSE);case 2:throw new Error(Ei.IMPOSSIBLE_CASE);case 3:throw new Error(Ei.PUBKEY_SERIALIZE)}},publicKeyCombine(e,r=!0,i){su(Array.isArray(e),"Expected public keys to be an Array"),su(e.length>0,"Expected public keys array will have more than zero items");for(let n of e)ti("public key",n,[33,65]);switch(Wy(r),i=Hu(i,r?33:65),t.publicKeyCombine(i,e)){case 0:return i;case 1:throw new Error(Ei.PUBKEY_PARSE);case 2:throw new Error(Ei.PUBKEY_COMBINE);case 3:throw new Error(Ei.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(e,r,i=!0,n){switch(ti("public key",e,[33,65]),ti("tweak",r,32),Wy(i),n=Hu(n,i?33:65),t.publicKeyTweakAdd(n,e,r)){case 0:return n;case 1:throw new Error(Ei.PUBKEY_PARSE);case 2:throw new Error(Ei.TWEAK_ADD)}},publicKeyTweakMul(e,r,i=!0,n){switch(ti("public key",e,[33,65]),ti("tweak",r,32),Wy(i),n=Hu(n,i?33:65),t.publicKeyTweakMul(n,e,r)){case 0:return n;case 1:throw new Error(Ei.PUBKEY_PARSE);case 2:throw new Error(Ei.TWEAK_MUL)}},signatureNormalize(e){switch(ti("signature",e,64),t.signatureNormalize(e)){case 0:return e;case 1:throw new Error(Ei.SIG_PARSE)}},signatureExport(e,r){ti("signature",e,64),r=Hu(r,72);let i={output:r,outputlen:72};switch(t.signatureExport(i,e)){case 0:return r.slice(0,i.outputlen);case 1:throw new Error(Ei.SIG_PARSE);case 2:throw new Error(Ei.IMPOSSIBLE_CASE)}},signatureImport(e,r){switch(ti("signature",e),r=Hu(r,64),t.signatureImport(r,e)){case 0:return r;case 1:throw new Error(Ei.SIG_PARSE);case 2:throw new Error(Ei.IMPOSSIBLE_CASE)}},ecdsaSign(e,r,i={},n){ti("message",e,32),ti("private key",r,32),su(sb(i)==="Object","Expected options to be an Object"),i.data!==void 0&&ti("options.data",i.data),i.noncefn!==void 0&&su(sb(i.noncefn)==="Function","Expected options.noncefn to be a Function"),n=Hu(n,64);let s={signature:n,recid:null};switch(t.ecdsaSign(s,e,r,i.data,i.noncefn)){case 0:return s;case 1:throw new Error(Ei.SIGN);case 2:throw new Error(Ei.IMPOSSIBLE_CASE)}},ecdsaVerify(e,r,i){switch(ti("signature",e,64),ti("message",r,32),ti("public key",i,[33,65]),t.ecdsaVerify(e,r,i)){case 0:return!0;case 3:return!1;case 1:throw new Error(Ei.SIG_PARSE);case 2:throw new Error(Ei.PUBKEY_PARSE)}},ecdsaRecover(e,r,i,n=!0,s){switch(ti("signature",e,64),su(sb(r)==="Number"&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),ti("message",i,32),Wy(n),s=Hu(s,n?33:65),t.ecdsaRecover(s,e,r,i)){case 0:return s;case 1:throw new Error(Ei.SIG_PARSE);case 2:throw new Error(Ei.RECOVER);case 3:throw new Error(Ei.IMPOSSIBLE_CASE)}},ecdh(e,r,i={},n){switch(ti("public key",e,[33,65]),ti("private key",r,32),su(sb(i)==="Object","Expected options to be an Object"),i.data!==void 0&&ti("options.data",i.data),i.hashfn!==void 0?(su(sb(i.hashfn)==="Function","Expected options.hashfn to be a Function"),i.xbuf!==void 0&&ti("options.xbuf",i.xbuf,32),i.ybuf!==void 0&&ti("options.ybuf",i.ybuf,32),ti("output",n)):n=Hu(n,32),t.ecdh(n,e,r,i.data,i.hashfn,i.xbuf,i.ybuf)){case 0:return n;case 1:throw new Error(Ei.PUBKEY_PARSE);case 2:throw new Error(Ei.ECDH)}}})});var use=de((_1t,fse)=>{F();var OCe=V1().ec,el=new OCe("secp256k1"),Kr=el.curve,Ui=Kr.n.constructor;function jCe(t,e){let r=new Ui(e);if(r.cmp(Kr.p)>=0)return null;r=r.toRed(Kr.red);let i=r.redSqr().redIMul(r).redIAdd(Kr.b).redSqrt();return t===3!==i.isOdd()&&(i=i.redNeg()),el.keyPair({pub:{x:r,y:i}})}function LCe(t,e,r){let i=new Ui(e),n=new Ui(r);if(i.cmp(Kr.p)>=0||n.cmp(Kr.p)>=0||(i=i.toRed(Kr.red),n=n.toRed(Kr.red),(t===6||t===7)&&n.isOdd()!==(t===7)))return null;let s=i.redSqr().redIMul(i);return n.redSqr().redISub(s.redIAdd(Kr.b)).isZero()?el.keyPair({pub:{x:i,y:n}}):null}function up(t){let e=t[0];switch(e){case 2:case 3:return t.length!==33?null:jCe(e,t.subarray(1,33));case 4:case 6:case 7:return t.length!==65?null:LCe(e,t.subarray(1,33),t.subarray(33,65));default:return null}}function Yy(t,e){let r=e.encode(null,t.length===33);for(let i=0;i<t.length;++i)t[i]=r[i]}fse.exports={contextRandomize(){return 0},privateKeyVerify(t){let e=new Ui(t);return e.cmp(Kr.n)<0&&!e.isZero()?0:1},privateKeyNegate(t){let e=new Ui(t),r=Kr.n.sub(e).umod(Kr.n).toArrayLike(Uint8Array,"be",32);return t.set(r),0},privateKeyTweakAdd(t,e){let r=new Ui(e);if(r.cmp(Kr.n)>=0||(r.iadd(new Ui(t)),r.cmp(Kr.n)>=0&&r.isub(Kr.n),r.isZero()))return 1;let i=r.toArrayLike(Uint8Array,"be",32);return t.set(i),0},privateKeyTweakMul(t,e){let r=new Ui(e);if(r.cmp(Kr.n)>=0||r.isZero())return 1;r.imul(new Ui(t)),r.cmp(Kr.n)>=0&&(r=r.umod(Kr.n));let i=r.toArrayLike(Uint8Array,"be",32);return t.set(i),0},publicKeyVerify(t){return up(t)===null?1:0},publicKeyCreate(t,e){let r=new Ui(e);if(r.cmp(Kr.n)>=0||r.isZero())return 1;let i=el.keyFromPrivate(e).getPublic();return Yy(t,i),0},publicKeyConvert(t,e){let r=up(e);if(r===null)return 1;let i=r.getPublic();return Yy(t,i),0},publicKeyNegate(t,e){let r=up(e);if(r===null)return 1;let i=r.getPublic();return i.y=i.y.redNeg(),Yy(t,i),0},publicKeyCombine(t,e){let r=new Array(e.length);for(let n=0;n<e.length;++n)if(r[n]=up(e[n]),r[n]===null)return 1;let i=r[0].getPublic();for(let n=1;n<r.length;++n)i=i.add(r[n].pub);return i.isInfinity()?2:(Yy(t,i),0)},publicKeyTweakAdd(t,e,r){let i=up(e);if(i===null)return 1;if(r=new Ui(r),r.cmp(Kr.n)>=0)return 2;let n=i.getPublic().add(Kr.g.mul(r));return n.isInfinity()?2:(Yy(t,n),0)},publicKeyTweakMul(t,e,r){let i=up(e);if(i===null)return 1;if(r=new Ui(r),r.cmp(Kr.n)>=0||r.isZero())return 2;let n=i.getPublic().mul(r);return Yy(t,n),0},signatureNormalize(t){let e=new Ui(t.subarray(0,32)),r=new Ui(t.subarray(32,64));return e.cmp(Kr.n)>=0||r.cmp(Kr.n)>=0?1:(r.cmp(el.nh)===1&&t.set(Kr.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(t,e){let r=e.subarray(0,32),i=e.subarray(32,64);if(new Ui(r).cmp(Kr.n)>=0||new Ui(i).cmp(Kr.n)>=0)return 1;let{output:n}=t,s=n.subarray(4,4+33);s[0]=0,s.set(r,1);let o=33,a=0;for(;o>1&&s[a]===0&&!(s[a+1]&128);--o,++a);if(s=s.subarray(a),s[0]&128||o>1&&s[0]===0&&!(s[1]&128))return 1;let f=n.subarray(6+33,6+33+33);f[0]=0,f.set(i,1);let c=33,u=0;for(;c>1&&f[u]===0&&!(f[u+1]&128);--c,++u);return f=f.subarray(u),f[0]&128||c>1&&f[0]===0&&!(f[1]&128)?1:(t.outputlen=6+o+c,n[0]=48,n[1]=t.outputlen-2,n[2]=2,n[3]=s.length,n.set(s,4),n[4+o]=2,n[5+o]=f.length,n.set(f,6+o),0)},signatureImport(t,e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return 1;let r=e[3];if(r===0||5+r>=e.length||e[4+r]!==2)return 1;let i=e[5+r];if(i===0||6+r+i!==e.length||e[4]&128||r>1&&e[4]===0&&!(e[5]&128)||e[r+6]&128||i>1&&e[r+6]===0&&!(e[r+7]&128))return 1;let n=e.subarray(4,4+r);if(n.length===33&&n[0]===0&&(n=n.subarray(1)),n.length>32)return 1;let s=e.subarray(6+r);if(s.length===33&&s[0]===0&&(s=s.slice(1)),s.length>32)throw new Error("S length is too long");let o=new Ui(n);o.cmp(Kr.n)>=0&&(o=new Ui(0));let a=new Ui(e.subarray(6+r));return a.cmp(Kr.n)>=0&&(a=new Ui(0)),t.set(o.toArrayLike(Uint8Array,"be",32),0),t.set(a.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(t,e,r,i,n){if(n){let a=n;n=f=>{let c=a(e,r,null,i,f);if(!(c instanceof Uint8Array&&c.length===32))throw new Error("This is the way");return new Ui(c)}}let s=new Ui(r);if(s.cmp(Kr.n)>=0||s.isZero())return 1;let o;try{o=el.sign(e,r,{canonical:!0,k:n,pers:i})}catch{return 1}return t.signature.set(o.r.toArrayLike(Uint8Array,"be",32),0),t.signature.set(o.s.toArrayLike(Uint8Array,"be",32),32),t.recid=o.recoveryParam,0},ecdsaVerify(t,e,r){let i={r:t.subarray(0,32),s:t.subarray(32,64)},n=new Ui(i.r),s=new Ui(i.s);if(n.cmp(Kr.n)>=0||s.cmp(Kr.n)>=0)return 1;if(s.cmp(el.nh)===1||n.isZero()||s.isZero())return 3;let o=up(r);if(o===null)return 2;let a=o.getPublic();return el.verify(e,i,a)?0:3},ecdsaRecover(t,e,r,i){let n={r:e.slice(0,32),s:e.slice(32,64)},s=new Ui(n.r),o=new Ui(n.s);if(s.cmp(Kr.n)>=0||o.cmp(Kr.n)>=0)return 1;if(s.isZero()||o.isZero())return 2;let a;try{a=el.recoverPubKey(i,n,r)}catch{return 2}return Yy(t,a),0},ecdh(t,e,r,i,n,s,o){let a=up(e);if(a===null)return 1;let f=new Ui(r);if(f.cmp(Kr.n)>=0||f.isZero())return 2;let c=a.getPublic().mul(f);if(n===void 0){let u=c.encode(null,!0),l=el.hash().update(u).digest();for(let y=0;y<32;++y)t[y]=l[y]}else{s||(s=new Uint8Array(32));let u=c.getX().toArray("be",32);for(let g=0;g<32;++g)s[g]=u[g];o||(o=new Uint8Array(32));let l=c.getY().toArray("be",32);for(let g=0;g<32;++g)o[g]=l[g];let y=n(s,o,i);if(!(y instanceof Uint8Array&&y.length===t.length))return 2;t.set(y)}return 0}}});var lse=de((S1t,cse)=>{F();cse.exports=ase()(use())});var pse=de((z1t,hse)=>{F();var NCe=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;hse.exports=NCe});var mse=de((U1t,yse)=>{F();var qCe=pse(),zCe=typeof self=="object"&&self&&self.Object===Object&&self,FCe=qCe||zCe||Function("return this")();yse.exports=FCe});var nC=de((V1t,gse)=>{F();var UCe=mse(),$Ce=UCe.Symbol;gse.exports=$Ce});var _se=de((H1t,wse)=>{F();var bse=nC(),vse=Object.prototype,VCe=vse.hasOwnProperty,KCe=vse.toString,O3=bse?bse.toStringTag:void 0;function HCe(t){var e=VCe.call(t,O3),r=t[O3];try{t[O3]=void 0;var i=!0}catch{}var n=KCe.call(t);return i&&(e?t[O3]=r:delete t[O3]),n}wse.exports=HCe});var Sse=de((Y1t,Ese)=>{F();var WCe=Object.prototype,YCe=WCe.toString;function ZCe(t){return YCe.call(t)}Ese.exports=ZCe});var kse=de((G1t,Mse)=>{F();var xse=nC(),GCe=_se(),JCe=Sse(),XCe="[object Null]",QCe="[object Undefined]",Ase=xse?xse.toStringTag:void 0;function eOe(t){return t==null?t===void 0?QCe:XCe:Ase&&Ase in Object(t)?GCe(t):JCe(t)}Mse.exports=eOe});var Pse=de((X1t,Tse)=>{F();function tOe(t,e){return function(r){return t(e(r))}}Tse.exports=tOe});var Ise=de((ebt,Dse)=>{F();var rOe=Pse(),iOe=rOe(Object.getPrototypeOf,Object);Dse.exports=iOe});var Bse=de((rbt,Rse)=>{F();function nOe(t){return t!=null&&typeof t=="object"}Rse.exports=nOe});var jse=de((nbt,Ose)=>{F();var oOe=kse(),sOe=Ise(),aOe=Bse(),fOe="[object Object]",uOe=Function.prototype,cOe=Object.prototype,Cse=uOe.toString,lOe=cOe.hasOwnProperty,dOe=Cse.call(Object);function hOe(t){if(!aOe(t)||oOe(t)!=fOe)return!1;var e=sOe(t);if(e===null)return!0;var r=lOe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Cse.call(r)==dOe}Ose.exports=hOe});var eae=de((Mbt,Qse)=>{F();var j3=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,OOe=typeof AbortController=="function",q7=OOe?AbortController:class{constructor(){this.signal=new Gse}abort(){this.signal.dispatchEvent("abort")}},jOe=typeof AbortSignal=="function",LOe=typeof q7.AbortSignal=="function",Gse=jOe?AbortSignal:LOe?q7.AbortController:class{constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(e){if(e==="abort"){this.aborted=!0;let r={type:e,target:this};this.onabort(r),this._listeners.forEach(i=>i(r),this)}}onabort(){}addEventListener(e,r){e==="abort"&&this._listeners.push(r)}removeEventListener(e,r){e==="abort"&&(this._listeners=this._listeners.filter(i=>i!==r))}},mC=new Set,hC=(t,e)=>{let r=`LRU_CACHE_OPTION_${t}`;z7(r)&&gC(r,`${t} option`,`options.${e}`,xd)},pC=(t,e)=>{let r=`LRU_CACHE_METHOD_${t}`;if(z7(r)){let{prototype:i}=xd,{get:n}=Object.getOwnPropertyDescriptor(i,t);gC(r,`${t} method`,`cache.${e}()`,n)}},NOe=(t,e)=>{let r=`LRU_CACHE_PROPERTY_${t}`;if(z7(r)){let{prototype:i}=xd,{get:n}=Object.getOwnPropertyDescriptor(i,t);gC(r,`${t} property`,`cache.${e}`,n)}},Jse=(...t)=>{typeof J.default=="object"&&J.default&&typeof J.default.emitWarning=="function"?J.default.emitWarning(...t):console.error(...t)},z7=t=>!mC.has(t),gC=(t,e,r,i)=>{mC.add(t);let n=`The ${e} is deprecated. Please use ${r} instead.`;Jse(n,"DeprecationWarning",t,i)},Jy=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),Xse=t=>Jy(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?fb:null:null,fb=class extends Array{constructor(e){super(e),this.fill(0)}},yC=class{constructor(e){if(e===0)return[];let r=Xse(e);this.heap=new r(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},xd=class{constructor(e={}){let{max:r=0,ttl:i,ttlResolution:n=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:f,dispose:c,disposeAfter:u,noDisposeOnSet:l,noUpdateTTL:y,maxSize:m=0,sizeCalculation:g,fetchMethod:E,fetchContext:x,noDeleteOnFetchRejection:T,noDeleteOnStaleGet:M}=e,{length:I,maxAge:R,stale:O}=e instanceof xd?{}:e;if(r!==0&&!Jy(r))throw new TypeError("max option must be a nonnegative integer");let B=r?Xse(r):Array;if(!B)throw new Error("invalid max value: "+r);if(this.max=r,this.maxSize=m,this.sizeCalculation=g||I,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=E||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=x,!this.fetchMethod&&x!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(r).fill(null),this.valList=new Array(r).fill(null),this.next=new B(r),this.prev=new B(r),this.head=0,this.tail=0,this.free=new yC(r),this.initialFill=1,this.size=0,typeof c=="function"&&(this.dispose=c),typeof u=="function"?(this.disposeAfter=u,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!l,this.noUpdateTTL=!!y,this.noDeleteOnFetchRejection=!!T,this.maxSize!==0){if(!Jy(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!f||!!O,this.noDeleteOnStaleGet=!!M,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=Jy(n)||n===0?n:1,this.ttlAutopurge=!!s,this.ttl=i||R||0,this.ttl){if(!Jy(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let C="LRU_CACHE_UNBOUNDED";z7(C)&&(mC.add(C),Jse("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",C,xd))}O&&hC("stale","allowStale"),R&&hC("maxAge","ttl"),I&&hC("length","sizeCalculation")}getRemainingTTL(e){return this.has(e,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new fb(this.max),this.starts=new fb(this.max),this.setItemTTL=(i,n,s=j3.now())=>{if(this.starts[i]=n!==0?s:0,this.ttls[i]=n,n!==0&&this.ttlAutopurge){let o=setTimeout(()=>{this.isStale(i)&&this.delete(this.keyList[i])},n+1);o.unref&&o.unref()}},this.updateItemAge=i=>{this.starts[i]=this.ttls[i]!==0?j3.now():0};let e=0,r=()=>{let i=j3.now();if(this.ttlResolution>0){e=i;let n=setTimeout(()=>e=0,this.ttlResolution);n.unref&&n.unref()}return i};this.getRemainingTTL=i=>{let n=this.keyMap.get(i);return n===void 0?0:this.ttls[n]===0||this.starts[n]===0?1/0:this.starts[n]+this.ttls[n]-(e||r())},this.isStale=i=>this.ttls[i]!==0&&this.starts[i]!==0&&(e||r())-this.starts[i]>this.ttls[i]}updateItemAge(e){}setItemTTL(e,r,i){}isStale(e){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new fb(this.max),this.removeItemSize=e=>this.calculatedSize-=this.sizes[e],this.requireSize=(e,r,i,n)=>{if(!Jy(i))if(n){if(typeof n!="function")throw new TypeError("sizeCalculation must be a function");if(i=n(r,e),!Jy(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return i},this.addItemSize=(e,r,i,n)=>{this.sizes[e]=n;let s=this.maxSize-this.sizes[e];for(;this.calculatedSize>s;)this.evict(!0);this.calculatedSize+=this.sizes[e]}}removeItemSize(e){}addItemSize(e,r,i,n){}requireSize(e,r,i,n){if(i||n)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:e=this.allowStale}={}){if(this.size)for(let r=this.tail;!(!this.isValidIndex(r)||((e||!this.isStale(r))&&(yield r),r===this.head));)r=this.prev[r]}*rindexes({allowStale:e=this.allowStale}={}){if(this.size)for(let r=this.head;!(!this.isValidIndex(r)||((e||!this.isStale(r))&&(yield r),r===this.tail));)r=this.next[r]}isValidIndex(e){return this.keyMap.get(this.keyList[e])===e}*entries(){for(let e of this.indexes())yield[this.keyList[e],this.valList[e]]}*rentries(){for(let e of this.rindexes())yield[this.keyList[e],this.valList[e]]}*keys(){for(let e of this.indexes())yield this.keyList[e]}*rkeys(){for(let e of this.rindexes())yield this.keyList[e]}*values(){for(let e of this.indexes())yield this.valList[e]}*rvalues(){for(let e of this.rindexes())yield this.valList[e]}[Symbol.iterator](){return this.entries()}find(e,r={}){for(let i of this.indexes())if(e(this.valList[i],this.keyList[i],this))return this.get(this.keyList[i],r)}forEach(e,r=this){for(let i of this.indexes())e.call(r,this.valList[i],this.keyList[i],this)}rforEach(e,r=this){for(let i of this.rindexes())e.call(r,this.valList[i],this.keyList[i],this)}get prune(){return pC("prune","purgeStale"),this.purgeStale}purgeStale(){let e=!1;for(let r of this.rindexes({allowStale:!0}))this.isStale(r)&&(this.delete(this.keyList[r]),e=!0);return e}dump(){let e=[];for(let r of this.indexes({allowStale:!0})){let i=this.keyList[r],n=this.valList[r],o={value:this.isBackgroundFetch(n)?n.__staleWhileFetching:n};if(this.ttls){o.ttl=this.ttls[r];let a=j3.now()-this.starts[r];o.start=Math.floor(Date.now()-a)}this.sizes&&(o.size=this.sizes[r]),e.unshift([i,o])}return e}load(e){this.clear();for(let[r,i]of e){if(i.start){let n=Date.now()-i.start;i.start=j3.now()-n}this.set(r,i.value,i)}}dispose(e,r,i){}set(e,r,{ttl:i=this.ttl,start:n,noDisposeOnSet:s=this.noDisposeOnSet,size:o=0,sizeCalculation:a=this.sizeCalculation,noUpdateTTL:f=this.noUpdateTTL}={}){o=this.requireSize(e,r,o,a);let c=this.size===0?void 0:this.keyMap.get(e);if(c===void 0)c=this.newIndex(),this.keyList[c]=e,this.valList[c]=r,this.keyMap.set(e,c),this.next[this.tail]=c,this.prev[c]=this.tail,this.tail=c,this.size++,this.addItemSize(c,r,e,o),f=!1;else{let u=this.valList[c];r!==u&&(this.isBackgroundFetch(u)?u.__abortController.abort():s||(this.dispose(u,e,"set"),this.disposeAfter&&this.disposed.push([u,e,"set"])),this.removeItemSize(c),this.valList[c]=r,this.addItemSize(c,r,e,o)),this.moveToTail(c)}if(i!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),f||this.setItemTTL(c,i,n),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let e=this.valList[this.head];return this.evict(!0),e}}evict(e){let r=this.head,i=this.keyList[r],n=this.valList[r];return this.isBackgroundFetch(n)?n.__abortController.abort():(this.dispose(n,i,"evict"),this.disposeAfter&&this.disposed.push([n,i,"evict"])),this.removeItemSize(r),e&&(this.keyList[r]=null,this.valList[r]=null,this.free.push(r)),this.head=this.next[r],this.keyMap.delete(i),this.size--,r}has(e,{updateAgeOnHas:r=this.updateAgeOnHas}={}){let i=this.keyMap.get(e);return i!==void 0&&!this.isStale(i)?(r&&this.updateItemAge(i),!0):!1}peek(e,{allowStale:r=this.allowStale}={}){let i=this.keyMap.get(e);if(i!==void 0&&(r||!this.isStale(i)))return this.valList[i]}backgroundFetch(e,r,i,n){let s=r===void 0?void 0:this.valList[r];if(this.isBackgroundFetch(s))return s;let o=new q7,a={signal:o.signal,options:i,context:n},f=y=>(o.signal.aborted||this.set(e,y,a.options),y),c=y=>{if(this.valList[r]===l&&(!i.noDeleteOnFetchRejection||l.__staleWhileFetching===void 0?this.delete(e):this.valList[r]=l.__staleWhileFetching),l.__returned===l)throw y},u=y=>y(this.fetchMethod(e,s,a)),l=new Promise(u).then(f,c);return l.__abortController=o,l.__staleWhileFetching=s,l.__returned=null,r===void 0?(this.set(e,l,a.options),r=this.keyMap.get(e)):this.valList[r]=l,l}isBackgroundFetch(e){return e&&typeof e=="object"&&typeof e.then=="function"&&Object.prototype.hasOwnProperty.call(e,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(e,"__returned")&&(e.__returned===e||e.__returned===null)}async fetch(e,{allowStale:r=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:f=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,noDeleteOnFetchRejection:u=this.noDeleteOnFetchRejection,fetchContext:l=this.fetchContext}={}){if(!this.fetchMethod)return this.get(e,{allowStale:r,updateAgeOnGet:i,noDeleteOnStaleGet:n});let y={allowStale:r,updateAgeOnGet:i,noDeleteOnStaleGet:n,ttl:s,noDisposeOnSet:o,size:a,sizeCalculation:f,noUpdateTTL:c,noDeleteOnFetchRejection:u},m=this.keyMap.get(e);if(m===void 0){let g=this.backgroundFetch(e,m,y,l);return g.__returned=g}else{let g=this.valList[m];if(this.isBackgroundFetch(g))return r&&g.__staleWhileFetching!==void 0?g.__staleWhileFetching:g.__returned=g;if(!this.isStale(m))return this.moveToTail(m),i&&this.updateItemAge(m),g;let E=this.backgroundFetch(e,m,y,l);return r&&E.__staleWhileFetching!==void 0?E.__staleWhileFetching:E.__returned=E}}get(e,{allowStale:r=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet}={}){let s=this.keyMap.get(e);if(s!==void 0){let o=this.valList[s],a=this.isBackgroundFetch(o);return this.isStale(s)?a?r?o.__staleWhileFetching:void 0:(n||this.delete(e),r?o:void 0):a?void 0:(this.moveToTail(s),i&&this.updateItemAge(s),o)}}connect(e,r){this.prev[r]=e,this.next[e]=r}moveToTail(e){e!==this.tail&&(e===this.head?this.head=this.next[e]:this.connect(this.prev[e],this.next[e]),this.connect(this.tail,e),this.tail=e)}get del(){return pC("del","delete"),this.delete}delete(e){let r=!1;if(this.size!==0){let i=this.keyMap.get(e);if(i!==void 0)if(r=!0,this.size===1)this.clear();else{this.removeItemSize(i);let n=this.valList[i];this.isBackgroundFetch(n)?n.__abortController.abort():(this.dispose(n,e,"delete"),this.disposeAfter&&this.disposed.push([n,e,"delete"])),this.keyMap.delete(e),this.keyList[i]=null,this.valList[i]=null,i===this.tail?this.tail=this.prev[i]:i===this.head?this.head=this.next[i]:(this.next[this.prev[i]]=this.next[i],this.prev[this.next[i]]=this.prev[i]),this.size--,this.free.push(i)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return r}clear(){for(let e of this.rindexes({allowStale:!0})){let r=this.valList[e];if(this.isBackgroundFetch(r))r.__abortController.abort();else{let i=this.keyList[e];this.dispose(r,i,"delete"),this.disposeAfter&&this.disposed.push([r,i,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return pC("reset","clear"),this.clear}get length(){return NOe("length","size"),this.size}static get AbortController(){return q7}static get AbortSignal(){return Gse}};Qse.exports=xd});var sae=de((evt,oae)=>{F();oae.exports=wC;var nae=128,zOe=127,FOe=~zOe,UOe=Math.pow(2,31);function wC(t,e,r){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw wC.bytes=0,new RangeError("Could not encode varint");e=e||[],r=r||0;for(var i=r;t>=UOe;)e[r++]=t&255|nae,t/=128;for(;t&FOe;)e[r++]=t&255|nae,t>>>=7;return e[r]=t|0,wC.bytes=r-i+1,e}});var uae=de((rvt,fae)=>{F();fae.exports=_C;var $Oe=128,aae=127;function _C(t,i){var r=0,i=i||0,n=0,s=i,o,a=t.length;do{if(s>=a||n>49)throw _C.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=n<28?(o&aae)<<n:(o&aae)*Math.pow(2,n),n+=7}while(o>=$Oe);return _C.bytes=s-i,r}});var lae=de((nvt,cae)=>{F();var VOe=Math.pow(2,7),KOe=Math.pow(2,14),HOe=Math.pow(2,21),WOe=Math.pow(2,28),YOe=Math.pow(2,35),ZOe=Math.pow(2,42),GOe=Math.pow(2,49),JOe=Math.pow(2,56),XOe=Math.pow(2,63);cae.exports=function(t){return t<VOe?1:t<KOe?2:t<HOe?3:t<WOe?4:t<YOe?5:t<ZOe?6:t<GOe?7:t<JOe?8:t<XOe?9:10}});var hae=de((svt,dae)=>{F();dae.exports={encode:sae(),decode:uae(),encodingLength:lae()}});var mae=de((Md,yae)=>{F();var pae=typeof self<"u"?self:Md,U7=function(){function t(){this.fetch=!1,this.DOMException=pae.DOMException}return t.prototype=pae,new t}();(function(t){var e=function(r){var i={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};function n(L){return L&&DataView.prototype.isPrototypeOf(L)}if(i.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(L){return L&&s.indexOf(Object.prototype.toString.call(L))>-1};function a(L){if(typeof L!="string"&&(L=String(L)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(L))throw new TypeError("Invalid character in header field name");return L.toLowerCase()}function f(L){return typeof L!="string"&&(L=String(L)),L}function c(L){var j={next:function(){var k=L.shift();return{done:k===void 0,value:k}}};return i.iterable&&(j[Symbol.iterator]=function(){return j}),j}function u(L){this.map={},L instanceof u?L.forEach(function(j,k){this.append(k,j)},this):Array.isArray(L)?L.forEach(function(j){this.append(j[0],j[1])},this):L&&Object.getOwnPropertyNames(L).forEach(function(j){this.append(j,L[j])},this)}u.prototype.append=function(L,j){L=a(L),j=f(j);var k=this.map[L];this.map[L]=k?k+", "+j:j},u.prototype.delete=function(L){delete this.map[a(L)]},u.prototype.get=function(L){return L=a(L),this.has(L)?this.map[L]:null},u.prototype.has=function(L){return this.map.hasOwnProperty(a(L))},u.prototype.set=function(L,j){this.map[a(L)]=f(j)},u.prototype.forEach=function(L,j){for(var k in this.map)this.map.hasOwnProperty(k)&&L.call(j,this.map[k],k,this)},u.prototype.keys=function(){var L=[];return this.forEach(function(j,k){L.push(k)}),c(L)},u.prototype.values=function(){var L=[];return this.forEach(function(j){L.push(j)}),c(L)},u.prototype.entries=function(){var L=[];return this.forEach(function(j,k){L.push([k,j])}),c(L)},i.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);function l(L){if(L.bodyUsed)return Promise.reject(new TypeError("Already read"));L.bodyUsed=!0}function y(L){return new Promise(function(j,k){L.onload=function(){j(L.result)},L.onerror=function(){k(L.error)}})}function m(L){var j=new FileReader,k=y(j);return j.readAsArrayBuffer(L),k}function g(L){var j=new FileReader,k=y(j);return j.readAsText(L),k}function E(L){for(var j=new Uint8Array(L),k=new Array(j.length),P=0;P<j.length;P++)k[P]=String.fromCharCode(j[P]);return k.join("")}function x(L){if(L.slice)return L.slice(0);var j=new Uint8Array(L.byteLength);return j.set(new Uint8Array(L)),j.buffer}function T(){return this.bodyUsed=!1,this._initBody=function(L){this._bodyInit=L,L?typeof L=="string"?this._bodyText=L:i.blob&&Blob.prototype.isPrototypeOf(L)?this._bodyBlob=L:i.formData&&FormData.prototype.isPrototypeOf(L)?this._bodyFormData=L:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(L)?this._bodyText=L.toString():i.arrayBuffer&&i.blob&&n(L)?(this._bodyArrayBuffer=x(L.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(L)||o(L))?this._bodyArrayBuffer=x(L):this._bodyText=L=Object.prototype.toString.call(L):this._bodyText="",this.headers.get("content-type")||(typeof L=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(L)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var L=l(this);if(L)return L;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var L=l(this);if(L)return L;if(this._bodyBlob)return g(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(O)}),this.json=function(){return this.text().then(JSON.parse)},this}var M=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function I(L){var j=L.toUpperCase();return M.indexOf(j)>-1?j:L}function R(L,j){j=j||{};var k=j.body;if(L instanceof R){if(L.bodyUsed)throw new TypeError("Already read");this.url=L.url,this.credentials=L.credentials,j.headers||(this.headers=new u(L.headers)),this.method=L.method,this.mode=L.mode,this.signal=L.signal,!k&&L._bodyInit!=null&&(k=L._bodyInit,L.bodyUsed=!0)}else this.url=String(L);if(this.credentials=j.credentials||this.credentials||"same-origin",(j.headers||!this.headers)&&(this.headers=new u(j.headers)),this.method=I(j.method||this.method||"GET"),this.mode=j.mode||this.mode||null,this.signal=j.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&k)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(k)}R.prototype.clone=function(){return new R(this,{body:this._bodyInit})};function O(L){var j=new FormData;return L.trim().split("&").forEach(function(k){if(k){var P=k.split("="),p=P.shift().replace(/\+/g," "),d=P.join("=").replace(/\+/g," ");j.append(decodeURIComponent(p),decodeURIComponent(d))}}),j}function B(L){var j=new u,k=L.replace(/\r?\n[\t ]+/g," ");return k.split(/\r?\n/).forEach(function(P){var p=P.split(":"),d=p.shift().trim();if(d){var h=p.join(":").trim();j.append(d,h)}}),j}T.call(R.prototype);function C(L,j){j||(j={}),this.type="default",this.status=j.status===void 0?200:j.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in j?j.statusText:"OK",this.headers=new u(j.headers),this.url=j.url||"",this._initBody(L)}T.call(C.prototype),C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},C.error=function(){var L=new C(null,{status:0,statusText:""});return L.type="error",L};var U=[301,302,303,307,308];C.redirect=function(L,j){if(U.indexOf(j)===-1)throw new RangeError("Invalid status code");return new C(null,{status:j,headers:{location:L}})},r.DOMException=t.DOMException;try{new r.DOMException}catch{r.DOMException=function(j,k){this.message=j,this.name=k;var P=Error(j);this.stack=P.stack},r.DOMException.prototype=Object.create(Error.prototype),r.DOMException.prototype.constructor=r.DOMException}function W(L,j){return new Promise(function(k,P){var p=new R(L,j);if(p.signal&&p.signal.aborted)return P(new r.DOMException("Aborted","AbortError"));var d=new XMLHttpRequest;function h(){d.abort()}d.onload=function(){var b={status:d.status,statusText:d.statusText,headers:B(d.getAllResponseHeaders()||"")};b.url="responseURL"in d?d.responseURL:b.headers.get("X-Request-URL");var v="response"in d?d.response:d.responseText;k(new C(v,b))},d.onerror=function(){P(new TypeError("Network request failed"))},d.ontimeout=function(){P(new TypeError("Network request failed"))},d.onabort=function(){P(new r.DOMException("Aborted","AbortError"))},d.open(p.method,p.url,!0),p.credentials==="include"?d.withCredentials=!0:p.credentials==="omit"&&(d.withCredentials=!1),"responseType"in d&&i.blob&&(d.responseType="blob"),p.headers.forEach(function(b,v){d.setRequestHeader(v,b)}),p.signal&&(p.signal.addEventListener("abort",h),d.onreadystatechange=function(){d.readyState===4&&p.signal.removeEventListener("abort",h)}),d.send(typeof p._bodyInit>"u"?null:p._bodyInit)})}return W.polyfill=!0,t.fetch||(t.fetch=W,t.Headers=u,t.Request=R,t.Response=C),r.Headers=u,r.Request=R,r.Response=C,r.fetch=W,Object.defineProperty(r,"__esModule",{value:!0}),r}({})})(U7);U7.fetch.ponyfill=!0;delete U7.fetch.polyfill;var hb=U7;Md=hb.fetch;Md.default=hb.fetch;Md.fetch=hb.fetch;Md.Headers=hb.Headers;Md.Request=hb.Request;Md.Response=hb.Response;yae.exports=Md});var mye=de(Hd=>{"use strict";F();var sGe=V1().ec,mv=new sGe("secp256k1"),ix=globalThis.crypto||globalThis.msCrypto||{},QL=ix.subtle||ix.webkitSubtle,gv=Ay(),aGe=te.Buffer.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),fGe=te.Buffer.alloc(32,0);function lo(t,e){if(!t)throw new Error(e||"Assertion failed")}function uGe(t){return te.Buffer.isBuffer(t)&&t.length===32}function bv(t){return uGe(t)?t.compare(fGe)>0&&t.compare(aGe)<0:!1}function cGe(t,e){if(t.length!==e.length)return!1;for(var r=0,i=0;i<t.length;i++)r|=t[i]^e[i];return r===0}function X_(t){var e=new Uint8Array(t);return typeof ix.getRandomValues>"u"?te.Buffer.from(gv.randomBytes(t)):(ix.getRandomValues(e),te.Buffer.from(e))}function hye(t){return new Promise(function(e){var r=gv.createHash("sha512"),i=r.update(t).digest();e(new Uint8Array(i))})}function pye(t){return function(e,r,i){return new Promise(function(n){if(QL){var s={name:"AES-CBC"},o=QL.importKey("raw",r,s,!1,[t]);return o.then(function(c){var u={name:"AES-CBC",iv:e};return QL[t](u,c,i)}).then(function(c){n(te.Buffer.from(new Uint8Array(c)))})}else if(t==="encrypt"){var a=gv.createCipheriv("aes-256-cbc",r,e);let c=a.update(i),u=a.final();n(te.Buffer.concat([c,u]))}else if(t==="decrypt"){var f=gv.createDecipheriv("aes-256-cbc",r,e);let c=f.update(i),u=f.final();n(te.Buffer.concat([c,u]))}})}}var lGe=pye("encrypt"),dGe=pye("decrypt");function hGe(t,e){return new Promise(function(r){var i=gv.createHmac("sha256",te.Buffer.from(t));i.update(e);var n=i.digest();r(n)})}function pGe(t,e,r){return new Promise(function(i){var n=gv.createHmac("sha256",te.Buffer.from(t));n.update(e);var s=n.digest();i(cGe(s,r))})}Hd.generatePrivate=function(){for(var t=X_(32);!bv(t);)t=X_(32);return t};var yGe=Hd.getPublic=function(t){return lo(t.length===32,"Bad private key"),lo(bv(t),"Bad private key"),te.Buffer.from(mv.keyFromPrivate(t).getPublic("arr"))},z8t=Hd.getPublicCompressed=function(t){lo(t.length===32,"Bad private key"),lo(bv(t),"Bad private key");let e=!0;return te.Buffer.from(mv.keyFromPrivate(t).getPublic(e,"arr"))};Hd.sign=function(t,e){return new Promise(function(r){lo(t.length===32,"Bad private key"),lo(bv(t),"Bad private key"),lo(e.length>0,"Message should not be empty"),lo(e.length<=32,"Message is too long"),r(te.Buffer.from(mv.sign(e,t,{canonical:!0}).toDER()))})};Hd.verify=function(t,e,r){return new Promise(function(i,n){lo(t.length===65||t.length===33,"Bad public key"),t.length===65&&lo(t[0]===4,"Bad public key"),t.length===33&&lo(t[0]===2||t[0]===3,"Bad public key"),lo(e.length>0,"Message should not be empty"),lo(e.length<=32,"Message is too long"),mv.verify(e,r,t)?i(null):n(new Error("Bad signature"))})};var yye=Hd.derive=function(t,e){return new Promise(function(r){lo(te.Buffer.isBuffer(t),"Bad private key"),lo(te.Buffer.isBuffer(e),"Bad public key"),lo(t.length===32,"Bad private key"),lo(bv(t),"Bad private key"),lo(e.length===65||e.length===33,"Bad public key"),e.length===65&&lo(e[0]===4,"Bad public key"),e.length===33&&lo(e[0]===2||e[0]===3,"Bad public key");var i=mv.keyFromPrivate(t),n=mv.keyFromPublic(e),s=i.derive(n.getPublic());r(te.Buffer.from(s.toArray()))})};Hd.encrypt=function(t,e,r){r=r||{};var i,n,s,o;return new Promise(function(a){for(var f=r.ephemPrivateKey||X_(32);!bv(f);)f=r.ephemPrivateKey||X_(32);n=yGe(f),a(yye(f,t))}).then(function(a){return hye(a)}).then(function(a){i=r.iv||X_(16);var f=a.slice(0,32);return o=a.slice(32),lGe(i,f,e)}).then(function(a){s=a;var f=te.Buffer.concat([i,n,s]);return hGe(o,f)}).then(function(a){return{iv:i,ephemPublicKey:n,ciphertext:s,mac:a}})};Hd.decrypt=function(t,e){var r;return yye(t,e.ephemPublicKey).then(function(i){return hye(i)}).then(function(i){r=i.slice(0,32);var n=i.slice(32),s=te.Buffer.concat([e.iv,e.ephemPublicKey,e.ciphertext]);return pGe(n,s,e.mac)}).then(function(i){return lo(i,"Bad MAC"),dGe(e.iv,r,e.ciphertext)}).then(function(i){return te.Buffer.from(new Uint8Array(i))})}});F();F();F();F();var Kq=yr(I6(),1);F();var $q=yr(I6(),1),Vq=yr(mA(),1),{flatten:age}=Vq.default,R6=class{constructor(e="data/agent/profiles-index"){this.location=e;this.level=new $q.Level(e)}async delete(e){let r=[],i=await this.level.get(`__${e}__meta`);if(i){i=i.split("@");for(let n of i){let s={type:"del",key:`${n}~${e}`};r.push(s)}r.push({type:"del",key:`__${e}__meta`}),await this.level.batch(r)}}async put(e){let r=age(e),{id:i}=r,n=[],s=[];for(let o in r){if(o==="id")continue;let a=r[o],f=`${o}~${a}`,c=`${f}~${i}`;s.push({type:"put",key:c,value:i}),n.push(f)}s.push({type:"put",key:`__${i}__meta`,value:n.join("@")}),await this.level.batch(s)}async query(e){let r={},i=[];for(let o in e){let a=e[o];if(typeof a=="object"&&a!==null)if(Array.isArray(a))for(let f of a){let c=this.buildTermQuery(o,f,r);i.push(c)}else{let f=this.buildRangeQuery(o,a,r);i.push(f)}else{let f=this.buildTermQuery(o,a,r);i.push(f)}}let n=Object.keys(e).length,s=[];await Promise.all(i);for(let o in r)r[o]===n&&s.push(o);return s}async buildTermQuery(e,r,i){let n=`${e}~${r}`,s={gt:`${n}~`};for await(let o of this.level.iterator(s)){let[a,f]=o;if(!a.includes(n))break;f in i?i[f]+=1:i[f]=1}}async buildRangeQuery(e,r,i){let n=`${e}`,s={};for(let o in r)s[o]=`${e}~${r[o]}`;for await(let o of this.level.iterator(s)){let[a,f]=o;if(!a.includes(n))break;f in i?i[f]+=1:i[f]=1}}async clear(){this.level.clear()}async close(){return this.level.close()}};var gA=class{constructor(e={}){e={...gA._defaultOptions,...e},this.db=new Kq.Level(e.location),this.index=new R6(e.indexLocation)}async put(e){let r=this.generateKey(e.id),i=JSON.stringify(e);await this.db.put(r,i),await this.index.put(e)}async get(e){let r=this.generateKey(e);try{let i=await this.db.get(r);return JSON.parse(i)}catch(i){if(i.code==="LEVEL_NOT_FOUND")return}}async query(e){let r=await this.index.query(e),i=[],n=await this.db.getMany(r);for(let s of n)i.push(JSON.parse(s));return i}async all(){let e=await this.db.values().all(),r=[];for(let i of e)r.push(JSON.parse(i));return r}async delete(){throw new Error("Method not implemented.")}async clear(){await this.index.clear(),await this.db.clear()}async close(){await this.index.close(),await this.db.close()}generateKey(e){return`PROFILE_${e}`}},Fv=gA;Fv._defaultOptions={location:"data/agent/profiles",indexLocation:"data/agent/profiles-index"};var B6=class{constructor(e){this.store=e||=new Fv}async createProfile(e){if(!e.did&&!e.didMethod)throw new Error("must provide did or didMethod");let r={name:e.name,icon:e.icon,dateCreated:new Date};return e.did&&(r.did=e.did),r.id=e.did?.id,await this.store.put(r),r}getProfile(e){return this.store.get(e)}listProfiles(){return this.store.all()}};F();F();var fge=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},Uv=class{isTenant(e){return fge(this,void 0,void 0,function*(){return!0})}};F();var ag={};ai(ag,{code:()=>H6,decode:()=>I1e,encode:()=>D1e,name:()=>P1e});F();F();F();F();var uge=["string","number","bigint","symbol"],cge=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function Hq(t){if(t===null)return"null";if(t===void 0)return"undefined";if(t===!0||t===!1)return"boolean";let e=typeof t;if(uge.includes(e))return e;if(e==="function")return"Function";if(Array.isArray(t))return"Array";if(lge(t))return"Buffer";let r=dge(t);return r||"Object"}function lge(t){return t&&t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer.call(null,t)}function dge(t){let e=Object.prototype.toString.call(t).slice(8,-1);if(cge.includes(e))return e}F();var Pe=class{constructor(e,r,i){this.major=e,this.majorEncoded=e<<5,this.name=r,this.terminal=i}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};Pe.uint=new Pe(0,"uint",!0);Pe.negint=new Pe(1,"negint",!0);Pe.bytes=new Pe(2,"bytes",!0);Pe.string=new Pe(3,"string",!0);Pe.array=new Pe(4,"array",!1);Pe.map=new Pe(5,"map",!1);Pe.tag=new Pe(6,"tag",!1);Pe.float=new Pe(7,"float",!0);Pe.false=new Pe(7,"false",!0);Pe.true=new Pe(7,"true",!0);Pe.null=new Pe(7,"null",!0);Pe.undefined=new Pe(7,"undefined",!0);Pe.break=new Pe(7,"break",!0);var bt=class{constructor(e,r,i){this.type=e,this.value=r,this.encodedLength=i,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};F();F();var Gm=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",hge=new TextDecoder,pge=new TextEncoder;function C6(t){return Gm&&globalThis.Buffer.isBuffer(t)}function bA(t){return t instanceof Uint8Array?C6(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t:Uint8Array.from(t)}var Gq=Gm?(t,e,r)=>r-e>64?globalThis.Buffer.from(t.subarray(e,r)).toString("utf8"):Yq(t,e,r):(t,e,r)=>r-e>64?hge.decode(t.subarray(e,r)):Yq(t,e,r),Jq=Gm?t=>t.length>64?globalThis.Buffer.from(t):Wq(t):t=>t.length>64?pge.encode(t):Wq(t),dc=t=>Uint8Array.from(t),Jm=Gm?(t,e,r)=>C6(t)?new Uint8Array(t.subarray(e,r)):t.slice(e,r):(t,e,r)=>t.slice(e,r),Xq=Gm?(t,e)=>(t=t.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),bA(globalThis.Buffer.concat(t,e))):(t,e)=>{let r=new Uint8Array(e),i=0;for(let n of t)i+n.length>r.length&&(n=n.subarray(0,r.length-i)),r.set(n,i),i+=n.length;return r},Qq=Gm?t=>globalThis.Buffer.allocUnsafe(t):t=>new Uint8Array(t);function ez(t,e){if(C6(t)&&C6(e))return t.compare(e);for(let r=0;r<t.length;r++)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function Wq(t,e=1/0){let r,i=t.length,n=null,s=[];for(let o=0;o<i;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function Yq(t,e,r){let i=[];for(;e<r;){let n=t[e],s=null,o=n>239?4:n>223?3:n>191?2:1;if(e+o<=r){let a,f,c,u;switch(o){case 1:n<128&&(s=n);break;case 2:a=t[e+1],(a&192)===128&&(u=(n&31)<<6|a&63,u>127&&(s=u));break;case 3:a=t[e+1],f=t[e+2],(a&192)===128&&(f&192)===128&&(u=(n&15)<<12|(a&63)<<6|f&63,u>2047&&(u<55296||u>57343)&&(s=u));break;case 4:a=t[e+1],f=t[e+2],c=t[e+3],(a&192)===128&&(f&192)===128&&(c&192)===128&&(u=(n&15)<<18|(a&63)<<12|(f&63)<<6|c&63,u>65535&&u<1114112&&(s=u))}}s===null?(s=65533,o=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|s&1023),i.push(s),e+=o}return yge(i)}var Zq=4096;function yge(t){let e=t.length;if(e<=Zq)return String.fromCharCode.apply(String,t);let r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=Zq));return r}var mge=256,$v=class{constructor(e=mge){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let r=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let n=r.length-(this.maxCursor-this.cursor)-1;r.set(e,n)}else{if(r){let n=r.length-(this.maxCursor-this.cursor)-1;n<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,n),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(r=Qq(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let r;if(this.chunks.length===1){let i=this.chunks[0];e&&this.cursor>i.length/2?(r=this.cursor===i.length?i:i.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=Jm(i,0,this.cursor)}else r=Xq(this.chunks,this.cursor);return e&&this.reset(),r}};F();var mr="CBOR decode error:",vA="CBOR encode error:",Vv=[];Vv[23]=1;Vv[24]=2;Vv[25]=3;Vv[26]=5;Vv[27]=9;function Ol(t,e,r){if(t.length-e<r)throw new Error(`${mr} not enough data for type`)}F();F();var Uo=[24,256,65536,4294967296,BigInt("18446744073709551616")];function tf(t,e,r){Ol(t,e,1);let i=t[e];if(r.strict===!0&&i<Uo[0])throw new Error(`${mr} integer encoded in more bytes than necessary (strict decode)`);return i}function rf(t,e,r){Ol(t,e,2);let i=t[e]<<8|t[e+1];if(r.strict===!0&&i<Uo[1])throw new Error(`${mr} integer encoded in more bytes than necessary (strict decode)`);return i}function nf(t,e,r){Ol(t,e,4);let i=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];if(r.strict===!0&&i<Uo[2])throw new Error(`${mr} integer encoded in more bytes than necessary (strict decode)`);return i}function of(t,e,r){Ol(t,e,8);let i=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3],n=t[e+4]*16777216+(t[e+5]<<16)+(t[e+6]<<8)+t[e+7],s=(BigInt(i)<<BigInt(32))+BigInt(n);if(r.strict===!0&&s<Uo[3])throw new Error(`${mr} integer encoded in more bytes than necessary (strict decode)`);if(s<=Number.MAX_SAFE_INTEGER)return Number(s);if(r.allowBigInt===!0)return s;throw new Error(`${mr} integers outside of the safe integer range are not supported`)}function tz(t,e,r,i){return new bt(Pe.uint,tf(t,e+1,i),2)}function rz(t,e,r,i){return new bt(Pe.uint,rf(t,e+1,i),3)}function iz(t,e,r,i){return new bt(Pe.uint,nf(t,e+1,i),5)}function nz(t,e,r,i){return new bt(Pe.uint,of(t,e+1,i),9)}function Rf(t,e){return as(t,0,e.value)}function as(t,e,r){if(r<Uo[0]){let i=Number(r);t.push([e|i])}else if(r<Uo[1]){let i=Number(r);t.push([e|24,i])}else if(r<Uo[2]){let i=Number(r);t.push([e|25,i>>>8,i&255])}else if(r<Uo[3]){let i=Number(r);t.push([e|26,i>>>24&255,i>>>16&255,i>>>8&255,i&255])}else{let i=BigInt(r);if(i<Uo[4]){let n=[e|27,0,0,0,0,0,0,0],s=Number(i&BigInt(4294967295)),o=Number(i>>BigInt(32)&BigInt(4294967295));n[8]=s&255,s=s>>8,n[7]=s&255,s=s>>8,n[6]=s&255,s=s>>8,n[5]=s&255,n[4]=o&255,o=o>>8,n[3]=o&255,o=o>>8,n[2]=o&255,o=o>>8,n[1]=o&255,t.push(n)}else throw new Error(`${mr} encountered BigInt larger than allowable range`)}}Rf.encodedSize=function(e){return as.encodedSize(e.value)};as.encodedSize=function(e){return e<Uo[0]?1:e<Uo[1]?2:e<Uo[2]?3:e<Uo[3]?5:9};Rf.compareTokens=function(e,r){return e.value<r.value?-1:e.value>r.value?1:0};F();function oz(t,e,r,i){return new bt(Pe.negint,-1-tf(t,e+1,i),2)}function sz(t,e,r,i){return new bt(Pe.negint,-1-rf(t,e+1,i),3)}function az(t,e,r,i){return new bt(Pe.negint,-1-nf(t,e+1,i),5)}var wA=BigInt(-1),fz=BigInt(1);function uz(t,e,r,i){let n=of(t,e+1,i);if(typeof n!="bigint"){let s=-1-n;if(s>=Number.MIN_SAFE_INTEGER)return new bt(Pe.negint,s,9)}if(i.allowBigInt!==!0)throw new Error(`${mr} integers outside of the safe integer range are not supported`);return new bt(Pe.negint,wA-BigInt(n),9)}function O6(t,e){let r=e.value,i=typeof r=="bigint"?r*wA-fz:r*-1-1;as(t,e.type.majorEncoded,i)}O6.encodedSize=function(e){let r=e.value,i=typeof r=="bigint"?r*wA-fz:r*-1-1;return i<Uo[0]?1:i<Uo[1]?2:i<Uo[2]?3:i<Uo[3]?5:9};O6.compareTokens=function(e,r){return e.value<r.value?1:e.value>r.value?-1:0};F();function Kv(t,e,r,i){Ol(t,e,r+i);let n=Jm(t,e+r,e+r+i);return new bt(Pe.bytes,n,r+i)}function cz(t,e,r,i){return Kv(t,e,1,r)}function lz(t,e,r,i){return Kv(t,e,2,tf(t,e+1,i))}function dz(t,e,r,i){return Kv(t,e,3,rf(t,e+1,i))}function hz(t,e,r,i){return Kv(t,e,5,nf(t,e+1,i))}function pz(t,e,r,i){let n=of(t,e+1,i);if(typeof n=="bigint")throw new Error(`${mr} 64-bit integer bytes lengths not supported`);return Kv(t,e,9,n)}function j6(t){return t.encodedBytes===void 0&&(t.encodedBytes=t.type===Pe.string?Jq(t.value):t.value),t.encodedBytes}function Xm(t,e){let r=j6(e);as(t,e.type.majorEncoded,r.length),t.push(r)}Xm.encodedSize=function(e){let r=j6(e);return as.encodedSize(r.length)+r.length};Xm.compareTokens=function(e,r){return bge(j6(e),j6(r))};function bge(t,e){return t.length<e.length?-1:t.length>e.length?1:ez(t,e)}F();function Hv(t,e,r,i,n){let s=r+i;Ol(t,e,s);let o=new bt(Pe.string,Gq(t,e+r,e+s),s);return n.retainStringBytes===!0&&(o.byteValue=Jm(t,e+r,e+s)),o}function yz(t,e,r,i){return Hv(t,e,1,r,i)}function mz(t,e,r,i){return Hv(t,e,2,tf(t,e+1,i),i)}function gz(t,e,r,i){return Hv(t,e,3,rf(t,e+1,i),i)}function bz(t,e,r,i){return Hv(t,e,5,nf(t,e+1,i),i)}function vz(t,e,r,i){let n=of(t,e+1,i);if(typeof n=="bigint")throw new Error(`${mr} 64-bit integer string lengths not supported`);return Hv(t,e,9,n,i)}var wz=Xm;F();function Qm(t,e,r,i){return new bt(Pe.array,i,r)}function _z(t,e,r,i){return Qm(t,e,1,r)}function Ez(t,e,r,i){return Qm(t,e,2,tf(t,e+1,i))}function Sz(t,e,r,i){return Qm(t,e,3,rf(t,e+1,i))}function xz(t,e,r,i){return Qm(t,e,5,nf(t,e+1,i))}function Az(t,e,r,i){let n=of(t,e+1,i);if(typeof n=="bigint")throw new Error(`${mr} 64-bit integer array lengths not supported`);return Qm(t,e,9,n)}function Mz(t,e,r,i){if(i.allowIndefinite===!1)throw new Error(`${mr} indefinite length items not allowed`);return Qm(t,e,1,1/0)}function L6(t,e){as(t,Pe.array.majorEncoded,e.value)}L6.compareTokens=Rf.compareTokens;L6.encodedSize=function(e){return as.encodedSize(e.value)};F();function eg(t,e,r,i){return new bt(Pe.map,i,r)}function kz(t,e,r,i){return eg(t,e,1,r)}function Tz(t,e,r,i){return eg(t,e,2,tf(t,e+1,i))}function Pz(t,e,r,i){return eg(t,e,3,rf(t,e+1,i))}function Dz(t,e,r,i){return eg(t,e,5,nf(t,e+1,i))}function Iz(t,e,r,i){let n=of(t,e+1,i);if(typeof n=="bigint")throw new Error(`${mr} 64-bit integer map lengths not supported`);return eg(t,e,9,n)}function Rz(t,e,r,i){if(i.allowIndefinite===!1)throw new Error(`${mr} indefinite length items not allowed`);return eg(t,e,1,1/0)}function N6(t,e){as(t,Pe.map.majorEncoded,e.value)}N6.compareTokens=Rf.compareTokens;N6.encodedSize=function(e){return as.encodedSize(e.value)};F();function Bz(t,e,r,i){return new bt(Pe.tag,r,1)}function Cz(t,e,r,i){return new bt(Pe.tag,tf(t,e+1,i),2)}function Oz(t,e,r,i){return new bt(Pe.tag,rf(t,e+1,i),3)}function jz(t,e,r,i){return new bt(Pe.tag,nf(t,e+1,i),5)}function Lz(t,e,r,i){return new bt(Pe.tag,of(t,e+1,i),9)}function q6(t,e){as(t,Pe.tag.majorEncoded,e.value)}q6.compareTokens=Rf.compareTokens;q6.encodedSize=function(e){return as.encodedSize(e.value)};F();var xge=20,Age=21,Mge=22,kge=23;function Nz(t,e,r,i){if(i.allowUndefined===!1)throw new Error(`${mr} undefined values are not supported`);return i.coerceUndefinedToNull===!0?new bt(Pe.null,null,1):new bt(Pe.undefined,void 0,1)}function qz(t,e,r,i){if(i.allowIndefinite===!1)throw new Error(`${mr} indefinite length items not allowed`);return new bt(Pe.break,void 0,1)}function _A(t,e,r){if(r){if(r.allowNaN===!1&&Number.isNaN(t))throw new Error(`${mr} NaN values are not supported`);if(r.allowInfinity===!1&&(t===1/0||t===-1/0))throw new Error(`${mr} Infinity values are not supported`)}return new bt(Pe.float,t,e)}function zz(t,e,r,i){return _A(EA(t,e+1),3,i)}function Fz(t,e,r,i){return _A(SA(t,e+1),5,i)}function Uz(t,e,r,i){return _A(Hz(t,e+1),9,i)}function z6(t,e,r){let i=e.value;if(i===!1)t.push([Pe.float.majorEncoded|xge]);else if(i===!0)t.push([Pe.float.majorEncoded|Age]);else if(i===null)t.push([Pe.float.majorEncoded|Mge]);else if(i===void 0)t.push([Pe.float.majorEncoded|kge]);else{let n,s=!1;(!r||r.float64!==!0)&&(Vz(i),n=EA(mu,1),i===n||Number.isNaN(i)?(mu[0]=249,t.push(mu.slice(0,3)),s=!0):(Kz(i),n=SA(mu,1),i===n&&(mu[0]=250,t.push(mu.slice(0,5)),s=!0))),s||(Tge(i),n=Hz(mu,1),mu[0]=251,t.push(mu.slice(0,9)))}}z6.encodedSize=function(e,r){let i=e.value;if(i===!1||i===!0||i===null||i===void 0)return 1;if(!r||r.float64!==!0){Vz(i);let n=EA(mu,1);if(i===n||Number.isNaN(i))return 3;if(Kz(i),n=SA(mu,1),i===n)return 5}return 9};var $z=new ArrayBuffer(9),Bf=new DataView($z,1),mu=new Uint8Array($z,0);function Vz(t){if(t===1/0)Bf.setUint16(0,31744,!1);else if(t===-1/0)Bf.setUint16(0,64512,!1);else if(Number.isNaN(t))Bf.setUint16(0,32256,!1);else{Bf.setFloat32(0,t);let e=Bf.getUint32(0),r=(e&2139095040)>>23,i=e&8388607;if(r===255)Bf.setUint16(0,31744,!1);else if(r===0)Bf.setUint16(0,(t&2147483648)>>16|i>>13,!1);else{let n=r-127;n<-24?Bf.setUint16(0,0):n<-14?Bf.setUint16(0,(e&2147483648)>>16|1<<24+n,!1):Bf.setUint16(0,(e&2147483648)>>16|n+15<<10|i>>13,!1)}}}function EA(t,e){if(t.length-e<2)throw new Error(`${mr} not enough data for float16`);let r=(t[e]<<8)+t[e+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let i=r>>10&31,n=r&1023,s;return i===0?s=n*2**-24:i!==31?s=(n+1024)*2**(i-25):s=n===0?1/0:NaN,r&32768?-s:s}function Kz(t){Bf.setFloat32(0,t,!1)}function SA(t,e){if(t.length-e<4)throw new Error(`${mr} not enough data for float32`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,4).getFloat32(0,!1)}function Tge(t){Bf.setFloat64(0,t,!1)}function Hz(t,e){if(t.length-e<8)throw new Error(`${mr} not enough data for float64`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,8).getFloat64(0,!1)}z6.compareTokens=Rf.compareTokens;function _i(t,e,r){throw new Error(`${mr} encountered invalid minor (${r}) for major ${t[e]>>>5}`)}function F6(t){return()=>{throw new Error(`${mr} ${t}`)}}var Ze=[];for(let t=0;t<=23;t++)Ze[t]=_i;Ze[24]=tz;Ze[25]=rz;Ze[26]=iz;Ze[27]=nz;Ze[28]=_i;Ze[29]=_i;Ze[30]=_i;Ze[31]=_i;for(let t=32;t<=55;t++)Ze[t]=_i;Ze[56]=oz;Ze[57]=sz;Ze[58]=az;Ze[59]=uz;Ze[60]=_i;Ze[61]=_i;Ze[62]=_i;Ze[63]=_i;for(let t=64;t<=87;t++)Ze[t]=cz;Ze[88]=lz;Ze[89]=dz;Ze[90]=hz;Ze[91]=pz;Ze[92]=_i;Ze[93]=_i;Ze[94]=_i;Ze[95]=F6("indefinite length bytes/strings are not supported");for(let t=96;t<=119;t++)Ze[t]=yz;Ze[120]=mz;Ze[121]=gz;Ze[122]=bz;Ze[123]=vz;Ze[124]=_i;Ze[125]=_i;Ze[126]=_i;Ze[127]=F6("indefinite length bytes/strings are not supported");for(let t=128;t<=151;t++)Ze[t]=_z;Ze[152]=Ez;Ze[153]=Sz;Ze[154]=xz;Ze[155]=Az;Ze[156]=_i;Ze[157]=_i;Ze[158]=_i;Ze[159]=Mz;for(let t=160;t<=183;t++)Ze[t]=kz;Ze[184]=Tz;Ze[185]=Pz;Ze[186]=Dz;Ze[187]=Iz;Ze[188]=_i;Ze[189]=_i;Ze[190]=_i;Ze[191]=Rz;for(let t=192;t<=215;t++)Ze[t]=Bz;Ze[216]=Cz;Ze[217]=Oz;Ze[218]=jz;Ze[219]=Lz;Ze[220]=_i;Ze[221]=_i;Ze[222]=_i;Ze[223]=_i;for(let t=224;t<=243;t++)Ze[t]=F6("simple values are not supported");Ze[244]=_i;Ze[245]=_i;Ze[246]=_i;Ze[247]=Nz;Ze[248]=F6("simple values are not supported");Ze[249]=zz;Ze[250]=Fz;Ze[251]=Uz;Ze[252]=_i;Ze[253]=_i;Ze[254]=_i;Ze[255]=qz;var gu=[];for(let t=0;t<24;t++)gu[t]=new bt(Pe.uint,t,1);for(let t=-1;t>=-24;t--)gu[31-t]=new bt(Pe.negint,t,1);gu[64]=new bt(Pe.bytes,new Uint8Array(0),1);gu[96]=new bt(Pe.string,"",1);gu[128]=new bt(Pe.array,0,1);gu[160]=new bt(Pe.map,0,1);gu[244]=new bt(Pe.false,!1,1);gu[245]=new bt(Pe.true,!0,1);gu[246]=new bt(Pe.null,null,1);function Wz(t){switch(t.type){case Pe.false:return dc([244]);case Pe.true:return dc([245]);case Pe.null:return dc([246]);case Pe.bytes:return t.value.length?void 0:dc([64]);case Pe.string:return t.value===""?dc([96]):void 0;case Pe.array:return t.value===0?dc([128]):void 0;case Pe.map:return t.value===0?dc([160]):void 0;case Pe.uint:return t.value<24?dc([Number(t.value)]):void 0;case Pe.negint:if(t.value>=-24)return dc([31-Number(t.value)])}}var Dge={float64:!1,mapSorter:Bge,quickEncodeToken:Wz};function Ige(){let t=[];return t[Pe.uint.major]=Rf,t[Pe.negint.major]=O6,t[Pe.bytes.major]=Xm,t[Pe.string.major]=wz,t[Pe.array.major]=L6,t[Pe.map.major]=N6,t[Pe.tag.major]=q6,t[Pe.float.major]=z6,t}var Yz=Ige(),xA=new $v,tg=class{constructor(e,r){this.obj=e,this.parent=r}includes(e){let r=this;do if(r.obj===e)return!0;while(r=r.parent);return!1}static createCheck(e,r){if(e&&e.includes(r))throw new Error(`${vA} object contains circular references`);return new tg(r,e)}},ih={null:new bt(Pe.null,null),undefined:new bt(Pe.undefined,void 0),true:new bt(Pe.true,!0),false:new bt(Pe.false,!1),emptyArray:new bt(Pe.array,0),emptyMap:new bt(Pe.map,0)},nh={number(t,e,r,i){return!Number.isInteger(t)||!Number.isSafeInteger(t)?new bt(Pe.float,t):t>=0?new bt(Pe.uint,t):new bt(Pe.negint,t)},bigint(t,e,r,i){return t>=BigInt(0)?new bt(Pe.uint,t):new bt(Pe.negint,t)},Uint8Array(t,e,r,i){return new bt(Pe.bytes,t)},string(t,e,r,i){return new bt(Pe.string,t)},boolean(t,e,r,i){return t?ih.true:ih.false},null(t,e,r,i){return ih.null},undefined(t,e,r,i){return ih.undefined},ArrayBuffer(t,e,r,i){return new bt(Pe.bytes,new Uint8Array(t))},DataView(t,e,r,i){return new bt(Pe.bytes,new Uint8Array(t.buffer,t.byteOffset,t.byteLength))},Array(t,e,r,i){if(!t.length)return r.addBreakTokens===!0?[ih.emptyArray,new bt(Pe.break)]:ih.emptyArray;i=tg.createCheck(i,t);let n=[],s=0;for(let o of t)n[s++]=U6(o,r,i);return r.addBreakTokens?[new bt(Pe.array,t.length),n,new bt(Pe.break)]:[new bt(Pe.array,t.length),n]},Object(t,e,r,i){let n=e!=="Object",s=n?t.keys():Object.keys(t),o=n?t.size:s.length;if(!o)return r.addBreakTokens===!0?[ih.emptyMap,new bt(Pe.break)]:ih.emptyMap;i=tg.createCheck(i,t);let a=[],f=0;for(let c of s)a[f++]=[U6(c,r,i),U6(n?t.get(c):t[c],r,i)];return Rge(a,r),r.addBreakTokens?[new bt(Pe.map,o),a,new bt(Pe.break)]:[new bt(Pe.map,o),a]}};nh.Map=nh.Object;nh.Buffer=nh.Uint8Array;for(let t of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))nh[`${t}Array`]=nh.DataView;function U6(t,e={},r){let i=Hq(t),n=e&&e.typeEncoders&&e.typeEncoders[i]||nh[i];if(typeof n=="function"){let o=n(t,i,e,r);if(o!=null)return o}let s=nh[i];if(!s)throw new Error(`${vA} unsupported type: ${i}`);return s(t,i,e,r)}function Rge(t,e){e.mapSorter&&t.sort(e.mapSorter)}function Bge(t,e){let r=Array.isArray(t[0])?t[0][0]:t[0],i=Array.isArray(e[0])?e[0][0]:e[0];if(r.type!==i.type)return r.type.compare(i.type);let n=r.type.major,s=Yz[n].compareTokens(r,i);return s===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),s}function Zz(t,e,r,i){if(Array.isArray(e))for(let n of e)Zz(t,n,r,i);else r[e.type.major](t,e,i)}function Cge(t,e,r){let i=U6(t,r);if(!Array.isArray(i)&&r.quickEncodeToken){let n=r.quickEncodeToken(i);if(n)return n;let s=e[i.type.major];if(s.encodedSize){let o=s.encodedSize(i,r),a=new $v(o);if(s(a,i,r),a.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${i} was wrong`);return bA(a.chunks[0])}}return xA.reset(),Zz(xA,i,e,r),xA.toBytes(!0)}function $6(t,e){return e=Object.assign({},Dge,e),Cge(t,Yz,e)}F();var Oge={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},AA=class{constructor(e,r={}){this.pos=0,this.data=e,this.options=r}done(){return this.pos>=this.data.length}next(){let e=this.data[this.pos],r=gu[e];if(r===void 0){let i=Ze[e];if(!i)throw new Error(`${mr} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);let n=e&31;r=i(this.data,this.pos,n,this.options)}return this.pos+=r.encodedLength,r}},Wv=Symbol.for("DONE"),V6=Symbol.for("BREAK");function jge(t,e,r){let i=[];for(let n=0;n<t.value;n++){let s=Yv(e,r);if(s===V6){if(t.value===1/0)break;throw new Error(`${mr} got unexpected break to lengthed array`)}if(s===Wv)throw new Error(`${mr} found array but not enough entries (got ${n}, expected ${t.value})`);i[n]=s}return i}function Lge(t,e,r){let i=r.useMaps===!0,n=i?void 0:{},s=i?new Map:void 0;for(let o=0;o<t.value;o++){let a=Yv(e,r);if(a===V6){if(t.value===1/0)break;throw new Error(`${mr} got unexpected break to lengthed map`)}if(a===Wv)throw new Error(`${mr} found map but not enough entries (got ${o} [no key], expected ${t.value})`);if(i!==!0&&typeof a!="string")throw new Error(`${mr} non-string keys not supported (got ${typeof a})`);if(r.rejectDuplicateMapKeys===!0&&(i&&s.has(a)||!i&&a in n))throw new Error(`${mr} found repeat map key "${a}"`);let f=Yv(e,r);if(f===Wv)throw new Error(`${mr} found map but not enough entries (got ${o} [no value], expected ${t.value})`);i?s.set(a,f):n[a]=f}return i?s:n}function Yv(t,e){if(t.done())return Wv;let r=t.next();if(r.type===Pe.break)return V6;if(r.type.terminal)return r.value;if(r.type===Pe.array)return jge(r,t,e);if(r.type===Pe.map)return Lge(r,t,e);if(r.type===Pe.tag){if(e.tags&&typeof e.tags[r.value]=="function"){let i=Yv(t,e);return e.tags[r.value](i)}throw new Error(`${mr} tag not supported (${r.value})`)}throw new Error("unsupported")}function Zv(t,e){if(!(t instanceof Uint8Array))throw new Error(`${mr} data to decode must be a Uint8Array`);e=Object.assign({},Oge,e);let r=e.tokenizer||new AA(t,e),i=Yv(r,e);if(i===Wv)throw new Error(`${mr} did not find any content to decode`);if(i===V6)throw new Error(`${mr} got unexpected break`);if(!r.done())throw new Error(`${mr} too many terminals, data makes no sense`);return i}F();F();F();var Nge=Qz,Jz=128,qge=127,zge=~qge,Fge=Math.pow(2,31);function Qz(t,e,r){e=e||[],r=r||0;for(var i=r;t>=Fge;)e[r++]=t&255|Jz,t/=128;for(;t&zge;)e[r++]=t&255|Jz,t>>>=7;return e[r]=t|0,Qz.bytes=r-i+1,e}var Uge=MA,$ge=128,Xz=127;function MA(t,i){var r=0,i=i||0,n=0,s=i,o,a=t.length;do{if(s>=a)throw MA.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=n<28?(o&Xz)<<n:(o&Xz)*Math.pow(2,n),n+=7}while(o>=$ge);return MA.bytes=s-i,r}var Vge=Math.pow(2,7),Kge=Math.pow(2,14),Hge=Math.pow(2,21),Wge=Math.pow(2,28),Yge=Math.pow(2,35),Zge=Math.pow(2,42),Gge=Math.pow(2,49),Jge=Math.pow(2,56),Xge=Math.pow(2,63),Qge=function(t){return t<Vge?1:t<Kge?2:t<Hge?3:t<Wge?4:t<Yge?5:t<Zge?6:t<Gge?7:t<Jge?8:t<Xge?9:10},e1e={encode:Nge,decode:Uge,encodingLength:Qge},t1e=e1e,Gv=t1e;var Jv=(t,e=0)=>[Gv.decode(t,e),Gv.decode.bytes],rg=(t,e,r=0)=>(Gv.encode(t,e,r),e),ig=t=>Gv.encodingLength(t);F();var p0={};ai(p0,{coerce:()=>Cf,empty:()=>eF,equals:()=>kA,fromHex:()=>i1e,fromString:()=>TA,isBinary:()=>n1e,toHex:()=>r1e,toString:()=>PA});F();var eF=new Uint8Array(0),r1e=t=>t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),""),i1e=t=>{let e=t.match(/../g);return e?new Uint8Array(e.map(r=>parseInt(r,16))):eF},kA=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},Cf=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},n1e=t=>t instanceof ArrayBuffer||ArrayBuffer.isView(t),TA=t=>new TextEncoder().encode(t),PA=t=>new TextDecoder().decode(t);var y0=(t,e)=>{let r=e.byteLength,i=ig(t),n=i+ig(r),s=new Uint8Array(n+r);return rg(t,s,0),rg(r,s,i),s.set(e,n),new ng(t,r,e,s)},Xv=t=>{let e=Cf(t),[r,i]=Jv(e),[n,s]=Jv(e.subarray(i)),o=e.subarray(i+s);if(o.byteLength!==n)throw new Error("Incorrect length");return new ng(r,n,o,e)},tF=(t,e)=>{if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&kA(t.bytes,r.bytes)}},ng=class{constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}};var CA={};ai(CA,{base58btc:()=>sf,base58flickr:()=>c1e});F();F();F();function o1e(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var s=t.charAt(n),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=n}var a=t.length,f=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function l(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var E=0,x=0,T=0,M=g.length;T!==M&&g[T]===0;)T++,E++;for(var I=(M-T)*u+1>>>0,R=new Uint8Array(I);T!==M;){for(var O=g[T],B=0,C=I-1;(O!==0||B<x)&&C!==-1;C--,B++)O+=256*R[C]>>>0,R[C]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");x=B,T++}for(var U=I-x;U!==I&&R[U]===0;)U++;for(var W=f.repeat(E);U<I;++U)W+=t.charAt(R[U]);return W}function y(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var E=0;if(g[E]!==" "){for(var x=0,T=0;g[E]===f;)x++,E++;for(var M=(g.length-E)*c+1>>>0,I=new Uint8Array(M);g[E];){var R=r[g.charCodeAt(E)];if(R===255)return;for(var O=0,B=M-1;(R!==0||O<T)&&B!==-1;B--,O++)R+=a*I[B]>>>0,I[B]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");T=O,E++}if(g[E]!==" "){for(var C=M-T;C!==M&&I[C]===0;)C++;for(var U=new Uint8Array(x+(M-C)),W=x;C!==M;)U[W++]=I[C++];return U}}}function m(g){var E=y(g);if(E)return E;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:y,decode:m}}var s1e=o1e,a1e=s1e,rF=a1e;F();var DA=class{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},IA=class{constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return iF(this,e)}},RA=class{constructor(e){this.decoders=e}or(e){return iF(this,e)}decode(e){let r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},iF=(t,e)=>new RA({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),BA=class{constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new DA(e,r,i),this.decoder=new IA(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},sg=({name:t,prefix:e,encode:r,decode:i})=>new BA(t,e,r,i),oh=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=rF(r,e);return sg({prefix:t,name:e,encode:i,decode:s=>Cf(n(s))})},f1e=(t,e,r,i)=>{let n={};for(let u=0;u<e.length;++u)n[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),a=0,f=0,c=0;for(let u=0;u<s;++u){let l=n[t[u]];if(l===void 0)throw new SyntaxError(`Non-${i} character`);f=f<<r|l,a+=r,a>=8&&(a-=8,o[c++]=255&f>>a)}if(a>=r||255&f<<8-a)throw new SyntaxError("Unexpected end of data");return o},u1e=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,s="",o=0,a=0;for(let f=0;f<t.length;++f)for(a=a<<8|t[f],o+=8;o>r;)o-=r,s+=e[n&a>>o];if(o&&(s+=e[n&a<<r-o]),i)for(;s.length*r&7;)s+="=";return s},jn=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>sg({prefix:e,name:t,encode(n){return u1e(n,i,r)},decode(n){return f1e(n,i,r,t)}});var sf=oh({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),c1e=oh({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var OA={};ai(OA,{base32:()=>af,base32hex:()=>p1e,base32hexpad:()=>m1e,base32hexpadupper:()=>g1e,base32hexupper:()=>y1e,base32pad:()=>d1e,base32padupper:()=>h1e,base32upper:()=>l1e,base32z:()=>b1e});F();var af=jn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),l1e=jn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),d1e=jn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),h1e=jn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),p1e=jn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),y1e=jn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),m1e=jn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),g1e=jn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),b1e=jn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});F();var nF=(t,e)=>{let{bytes:r,version:i}=t;switch(i){case 0:return w1e(r,jA(t),e||sf.encoder);default:return _1e(r,jA(t),e||af.encoder)}};var oF=new WeakMap,jA=t=>{let e=oF.get(t);if(e==null){let r=new Map;return oF.set(t,r),r}return e},jt=class{constructor(e,r,i,n){this.code=r,this.version=e,this.multihash=i,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==Qv)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==E1e)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return jt.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,i=y0(e,r);return jt.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return jt.equals(this,e)}static equals(e,r){let i=r;return i&&e.code===i.code&&e.version===i.version&&tF(e.multihash,i.multihash)}toString(e){return nF(this,e)}toJSON(){return{"/":nF(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof jt)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:i,code:n,multihash:s,bytes:o}=r;return new jt(i,n,s,o||sF(i,n,s.bytes))}else if(r[S1e]===!0){let{version:i,multihash:n,code:s}=r,o=Xv(n);return jt.create(i,s,o)}else return null}static create(e,r,i){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==Qv)throw new Error(`Version 0 CID must use dag-pb (code: ${Qv}) block encoding`);return new jt(e,r,i,i.bytes)}case 1:{let n=sF(e,r,i.bytes);return new jt(e,r,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return jt.create(0,Qv,e)}static createV1(e,r){return jt.create(1,e,r)}static decode(e){let[r,i]=jt.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=jt.inspectBytes(e),i=r.size-r.multihashSize,n=Cf(e.subarray(i,i+r.multihashSize));if(n.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=n.subarray(r.multihashSize-r.digestSize),o=new ng(r.multihashCode,r.digestSize,s,n);return[r.version===0?jt.createV0(o):jt.createV1(r.codec,o),e.subarray(r.size)]}static inspectBytes(e){let r=0,i=()=>{let[l,y]=Jv(e.subarray(r));return r+=y,l},n=i(),s=Qv;if(n===18?(n=0,r=0):s=i(),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let o=r,a=i(),f=i(),c=r+f,u=c-o;return{version:n,codec:s,multihashCode:a,digestSize:f,multihashSize:u,size:c}}static parse(e,r){let[i,n]=v1e(e,r),s=jt.decode(n);if(s.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return jA(s).set(i,e),s}},v1e=(t,e)=>{switch(t[0]){case"Q":{let r=e||sf;return[sf.prefix,r.decode(`${sf.prefix}${t}`)]}case sf.prefix:{let r=e||sf;return[sf.prefix,r.decode(t)]}case af.prefix:{let r=e||af;return[af.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},w1e=(t,e,r)=>{let{prefix:i}=r;if(i!==sf.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let s=r.encode(t).slice(1);return e.set(i,s),s}else return n},_1e=(t,e,r)=>{let{prefix:i}=r,n=e.get(i);if(n==null){let s=r.encode(t);return e.set(i,s),s}else return n},Qv=112,E1e=18,sF=(t,e,r)=>{let i=ig(t),n=i+ig(e),s=new Uint8Array(n+r.byteLength);return rg(t,s,0),rg(e,s,i),s.set(r,n),s},S1e=Symbol.for("@ipld/js-cid/CID");var aF=42;function x1e(t){if(t.asCID!==t&&t["/"]!==t.bytes)return null;let e=jt.asCID(t);if(!e)return null;let r=new Uint8Array(e.bytes.byteLength+1);return r.set(e.bytes,1),[new bt(Pe.tag,aF),new bt(Pe.bytes,r)]}function A1e(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function M1e(t){if(Number.isNaN(t))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(t===1/0||t===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var k1e={float64:!0,typeEncoders:{Object:x1e,undefined:A1e,number:M1e}};function T1e(t){if(t[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return jt.decode(t.subarray(1))}var fF={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};fF.tags[aF]=T1e;var P1e="dag-cbor",H6=113,D1e=t=>$6(t,k1e),I1e=t=>Zv(t,fF);F();F();F();async function*fg(t,e=1){let r=[];e<1&&(e=1);for await(let i of t)for(r.push(i);r.length>=e;)yield r.slice(0,e),r=r.slice(e);for(;r.length>0;)yield r.slice(0,e),r=r.slice(e)}async function*ew(t,e=1){for await(let r of fg(t,e)){let i=r.map(async n=>await n().then(s=>({ok:!0,value:s}),s=>({ok:!1,err:s})));for(let n=0;n<i.length;n++){let s=await i[n];if(s.ok)yield s.value;else throw s.err}}}F();F();F();var aM=yr(ia(),1);F();F();F();F();var rM=yr(YA(),1),VF=yr(jF(),1),KF=yr(g0(),1),iM=yr(tM(),1),HF=yr($F(),1);function F1e(){KF.default._configure(),rM.default._configure(VF.default),iM.default._configure(HF.default)}F1e();var WF=["uint64","int64","sint64","fixed64","sfixed64"];function U1e(t){for(let e of WF){if(t[e]==null)continue;let r=t[e];t[e]=function(){return BigInt(r.call(this).toString())}}return t}function nM(t){return U1e(new rM.default(t))}function $1e(t){for(let e of WF){if(t[e]==null)continue;let r=t[e];t[e]=function(i){return r.call(this,i.toString())}}return t}function oM(){return $1e(iM.default.create())}function iw(t,e){let r=nM(t instanceof Uint8Array?t:t.subarray());return e.decode(r)}F();function nw(t,e){let r=oM();return e.encode(t,r,{lengthDelimited:!1}),r.finish()}F();F();var cg;(function(t){t[t.VARINT=0]="VARINT",t[t.BIT64=1]="BIT64",t[t.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",t[t.START_GROUP=3]="START_GROUP",t[t.END_GROUP=4]="END_GROUP",t[t.BIT32=5]="BIT32"})(cg||(cg={}));function J6(t,e,r,i){return{name:t,type:e,encode:r,decode:i}}function sM(t){function e(n){if(t[n.toString()]==null)throw new Error("Invalid enum value");return t[n]}let r=function(s,o){let a=e(s);o.int32(a)},i=function(s){let o=s.int32();return e(o)};return J6("enum",cg.VARINT,r,i)}F();function ow(t,e){return J6("message",cg.LENGTH_DELIMITED,t,e)}var wu;(function(t){let e;(function(n){n.Raw="Raw",n.Directory="Directory",n.File="File",n.Metadata="Metadata",n.Symlink="Symlink",n.HAMTShard="HAMTShard"})(e=t.DataType||(t.DataType={}));let r;(function(n){n[n.Raw=0]="Raw",n[n.Directory=1]="Directory",n[n.File=2]="File",n[n.Metadata=3]="Metadata",n[n.Symlink=4]="Symlink",n[n.HAMTShard=5]="HAMTShard"})(r||(r={})),function(n){n.codec=()=>sM(r)}(e=t.DataType||(t.DataType={}));let i;t.codec=()=>(i==null&&(i=ow((n,s,o={})=>{if(o.lengthDelimited!==!1&&s.fork(),n.Type!=null&&(s.uint32(8),t.DataType.codec().encode(n.Type,s)),n.Data!=null&&(s.uint32(18),s.bytes(n.Data)),n.filesize!=null&&(s.uint32(24),s.uint64(n.filesize)),n.blocksizes!=null)for(let a of n.blocksizes)s.uint32(32),s.uint64(a);n.hashType!=null&&(s.uint32(40),s.uint64(n.hashType)),n.fanout!=null&&(s.uint32(48),s.uint64(n.fanout)),n.mode!=null&&(s.uint32(56),s.uint32(n.mode)),n.mtime!=null&&(s.uint32(66),X6.codec().encode(n.mtime,s)),o.lengthDelimited!==!1&&s.ldelim()},(n,s)=>{let o={blocksizes:[]},a=s==null?n.len:n.pos+s;for(;n.pos<a;){let f=n.uint32();switch(f>>>3){case 1:o.Type=t.DataType.codec().decode(n);break;case 2:o.Data=n.bytes();break;case 3:o.filesize=n.uint64();break;case 4:o.blocksizes.push(n.uint64());break;case 5:o.hashType=n.uint64();break;case 6:o.fanout=n.uint64();break;case 7:o.mode=n.uint32();break;case 8:o.mtime=X6.codec().decode(n,n.uint32());break;default:n.skipType(f&7);break}}return o})),i),t.encode=n=>nw(n,t.codec()),t.decode=n=>iw(n,t.codec())})(wu||(wu={}));var X6;(function(t){let e;t.codec=()=>(e==null&&(e=ow((r,i,n={})=>{n.lengthDelimited!==!1&&i.fork(),r.Seconds!=null&&(i.uint32(8),i.int64(r.Seconds)),r.FractionalNanoseconds!=null&&(i.uint32(21),i.fixed32(r.FractionalNanoseconds)),n.lengthDelimited!==!1&&i.ldelim()},(r,i)=>{let n={},s=i==null?r.len:r.pos+i;for(;r.pos<s;){let o=r.uint32();switch(o>>>3){case 1:n.Seconds=r.int64();break;case 2:n.FractionalNanoseconds=r.fixed32();break;default:r.skipType(o&7);break}}return n})),e),t.encode=r=>nw(r,t.codec()),t.decode=r=>iw(r,t.codec())})(X6||(X6={}));var YF;(function(t){let e;t.codec=()=>(e==null&&(e=ow((r,i,n={})=>{n.lengthDelimited!==!1&&i.fork(),r.MimeType!=null&&(i.uint32(10),i.string(r.MimeType)),n.lengthDelimited!==!1&&i.ldelim()},(r,i)=>{let n={},s=i==null?r.len:r.pos+i;for(;r.pos<s;){let o=r.uint32();switch(o>>>3){case 1:n.MimeType=r.string();break;default:r.skipType(o&7);break}}return n})),e),t.encode=r=>nw(r,t.codec()),t.decode=r=>iw(r,t.codec())})(YF||(YF={}));var ZF={Raw:"raw",Directory:"directory",File:"file",Metadata:"metadata",Symlink:"symlink",HAMTShard:"hamt-sharded-directory"},V1e=["directory","hamt-sharded-directory"],GF=parseInt("0644",8),JF=parseInt("0755",8),Us=class{static unmarshal(e){let r=wu.decode(e),i=new Us({type:ZF[r.Type!=null?r.Type.toString():"File"],data:r.Data,blockSizes:r.blocksizes,mode:r.mode,mtime:r.mtime!=null?{secs:r.mtime.Seconds??0n,nsecs:r.mtime.FractionalNanoseconds}:void 0});return i._originalMode=r.mode??0,i}constructor(e={type:"file"}){let{type:r,data:i,blockSizes:n,hashType:s,fanout:o,mtime:a,mode:f}=e;if(r!=null&&!Object.values(ZF).includes(r))throw(0,aM.default)(new Error("Type: "+r+" is not valid"),"ERR_INVALID_TYPE");this.type=r??"file",this.data=i,this.hashType=s,this.fanout=o,this.blockSizes=n??[],this._originalMode=0,this.mode=f,this.mtime=a}set mode(e){e==null?this._mode=this.isDirectory()?JF:GF:this._mode=e&4095}get mode(){return this._mode}isDirectory(){return V1e.includes(this.type)}addBlockSize(e){this.blockSizes.push(e)}removeBlockSize(e){this.blockSizes.splice(e,1)}fileSize(){if(this.isDirectory())return 0n;let e=0n;return this.blockSizes.forEach(r=>{e+=r}),this.data!=null&&(e+=BigInt(this.data.length)),e}marshal(){let e;switch(this.type){case"raw":e=wu.DataType.Raw;break;case"directory":e=wu.DataType.Directory;break;case"file":e=wu.DataType.File;break;case"metadata":e=wu.DataType.Metadata;break;case"symlink":e=wu.DataType.Symlink;break;case"hamt-sharded-directory":e=wu.DataType.HAMTShard;break;default:throw(0,aM.default)(new Error(`Type: ${e} is not valid`),"ERR_INVALID_TYPE")}let r=this.data;(this.data==null||this.data.length===0)&&(r=void 0);let i;this.mode!=null&&(i=this._originalMode&4294963200|(this.mode??0),i===GF&&!this.isDirectory()&&(i=void 0),i===JF&&this.isDirectory()&&(i=void 0));let n;return this.mtime!=null&&(n={Seconds:this.mtime.secs,FractionalNanoseconds:this.mtime.nsecs}),wu.encode({Type:e,Data:r,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:i,mtime:n})}};F();var aw={};ai(aw,{code:()=>rbe,createLink:()=>aU,createNode:()=>sU,decode:()=>ibe,encode:()=>uf,name:()=>tbe,prepare:()=>ff,validate:()=>cM});F();F();var K1e=new TextDecoder;function fM(t,e){let r=0;for(let i=0;;i+=7){if(i>=64)throw new Error("protobuf: varint overflow");if(e>=t.length)throw new Error("protobuf: unexpected end of data");let n=t[e++];if(r+=i<28?(n&127)<<i:(n&127)*2**i,n<128)break}return[r,e]}function Q6(t,e){let r;[r,e]=fM(t,e);let i=e+r;if(r<0||i<0)throw new Error("protobuf: invalid length");if(i>t.length)throw new Error("protobuf: unexpected end of data");return[t.subarray(e,i),i]}function XF(t,e){let r;return[r,e]=fM(t,e),[r&7,r>>3,e]}function H1e(t){let e={},r=t.length,i=0;for(;i<r;){let n,s;if([n,s,i]=XF(t,i),s===1){if(e.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(n!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Hash`);if(e.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[e.Hash,i]=Q6(t,i)}else if(s===2){if(e.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(n!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Name`);if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let o;[o,i]=Q6(t,i),e.Name=K1e.decode(o)}else if(s===3){if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(n!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Tsize`);[e.Tsize,i]=fM(t,i)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${s}`)}if(i>r)throw new Error("protobuf: (PBLink) unexpected end of data");return e}function QF(t){let e=t.length,r=0,i,n=!1,s;for(;r<e;){let a,f;if([a,f,r]=XF(t,r),a!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${a}`);if(f===1){if(s)throw new Error("protobuf: (PBNode) duplicate Data section");[s,r]=Q6(t,r),i&&(n=!0)}else if(f===2){if(n)throw new Error("protobuf: (PBNode) duplicate Links section");i||(i=[]);let c;[c,r]=Q6(t,r),i.push(H1e(c))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${f}`)}if(r>e)throw new Error("protobuf: (PBNode) unexpected end of data");let o={};return s&&(o.Data=s),o.Links=i||[],o}F();var tU=new TextEncoder,eU=2**32,W1e=2**31;function Y1e(t,e){let r=e.length;if(typeof t.Tsize=="number"){if(t.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(t.Tsize))throw new Error("Tsize too large for encoding");r=sw(e,r,t.Tsize)-1,e[r]=24}if(typeof t.Name=="string"){let i=tU.encode(t.Name);r-=i.length,e.set(i,r),r=sw(e,r,i.length)-1,e[r]=18}return t.Hash&&(r-=t.Hash.length,e.set(t.Hash,r),r=sw(e,r,t.Hash.length)-1,e[r]=10),e.length-r}function rU(t){let e=G1e(t),r=new Uint8Array(e),i=e;if(t.Data&&(i-=t.Data.length,r.set(t.Data,i),i=sw(r,i,t.Data.length)-1,r[i]=10),t.Links)for(let n=t.Links.length-1;n>=0;n--){let s=Y1e(t.Links[n],r.subarray(0,i));i-=s,i=sw(r,i,s)-1,r[i]=18}return r}function Z1e(t){let e=0;if(t.Hash){let r=t.Hash.length;e+=1+r+lg(r)}if(typeof t.Name=="string"){let r=tU.encode(t.Name).length;e+=1+r+lg(r)}return typeof t.Tsize=="number"&&(e+=1+lg(t.Tsize)),e}function G1e(t){let e=0;if(t.Data){let r=t.Data.length;e+=1+r+lg(r)}if(t.Links)for(let r of t.Links){let i=Z1e(r);e+=1+i+lg(i)}return e}function sw(t,e,r){e-=lg(r);let i=e;for(;r>=W1e;)t[e++]=r&127|128,r/=128;for(;r>=128;)t[e++]=r&127|128,r>>>=7;return t[e]=r,i}function lg(t){return t%2===0&&t++,Math.floor((J1e(t)+6)/7)}function J1e(t){let e=0;return t>=eU&&(t=Math.floor(t/eU),e=32),t>=1<<16&&(t>>>=16,e+=16),t>=1<<8&&(t>>>=8,e+=8),e+X1e[t]}var X1e=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8];F();var Q1e=["Data","Links"],ebe=["Hash","Name","Tsize"],uM=new TextEncoder;function nU(t,e){if(t===e)return 0;let r=t.Name?uM.encode(t.Name):[],i=e.Name?uM.encode(e.Name):[],n=r.length,s=i.length;for(let o=0,a=Math.min(n,s);o<a;++o)if(r[o]!==i[o]){n=r[o],s=i[o];break}return n<s?-1:s<n?1:0}function iU(t,e){return!Object.keys(t).some(r=>!e.includes(r))}function oU(t){if(typeof t.asCID=="object"){let r=jt.asCID(t);if(!r)throw new TypeError("Invalid DAG-PB form");return{Hash:r}}if(typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");let e={};if(t.Hash){let r=jt.asCID(t.Hash);try{r||(typeof t.Hash=="string"?r=jt.parse(t.Hash):t.Hash instanceof Uint8Array&&(r=jt.decode(t.Hash)))}catch(i){throw new TypeError(`Invalid DAG-PB form: ${i.message}`)}r&&(e.Hash=r)}if(!e.Hash)throw new TypeError("Invalid DAG-PB form");return typeof t.Name=="string"&&(e.Name=t.Name),typeof t.Tsize=="number"&&(e.Tsize=t.Tsize),e}function ff(t){if((t instanceof Uint8Array||typeof t=="string")&&(t={Data:t}),typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");let e={};if(t.Data!==void 0)if(typeof t.Data=="string")e.Data=uM.encode(t.Data);else if(t.Data instanceof Uint8Array)e.Data=t.Data;else throw new TypeError("Invalid DAG-PB form");if(t.Links!==void 0)if(Array.isArray(t.Links))e.Links=t.Links.map(oU),e.Links.sort(nU);else throw new TypeError("Invalid DAG-PB form");else e.Links=[];return e}function cM(t){if(!t||typeof t!="object"||Array.isArray(t)||t instanceof Uint8Array||t["/"]&&t["/"]===t.bytes)throw new TypeError("Invalid DAG-PB form");if(!iU(t,Q1e))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(t.Data!==void 0&&!(t.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(t.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(let e=0;e<t.Links.length;e++){let r=t.Links[e];if(!r||typeof r!="object"||Array.isArray(r)||r instanceof Uint8Array||r["/"]&&r["/"]===r.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!iU(r,ebe))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(r.Hash===void 0)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(r.Hash==null||!r.Hash["/"]||r.Hash["/"]!==r.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(r.Name!==void 0&&typeof r.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(r.Tsize!==void 0){if(typeof r.Tsize!="number"||r.Tsize%1!==0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(r.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(e>0&&nU(r,t.Links[e-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function sU(t,e=[]){return ff({Data:t,Links:e})}function aU(t,e,r){return oU({Hash:r,Name:t,Tsize:e})}var tbe="dag-pb",rbe=112;function uf(t){cM(t);let e={};return t.Links&&(e.Links=t.Links.map(r=>{let i={};return r.Hash&&(i.Hash=r.Hash.bytes),r.Name!==void 0&&(i.Name=r.Name),r.Tsize!==void 0&&(i.Tsize=r.Tsize),i})),t.Data&&(e.Data=t.Data),rU(e)}function ibe(t){let e=QF(t),r={};return e.Data&&(r.Data=e.Data),e.Links&&(r.Links=e.Links.map(i=>{let n={};try{n.Hash=jt.decode(i.Hash)}catch{}if(!n.Hash)throw new Error("Invalid Hash field found in link, expected CID");return i.Name!==void 0&&(n.Name=i.Name),i.Tsize!==void 0&&(n.Tsize=i.Tsize),n})),r}var dM={};ai(dM,{sha256:()=>na,sha512:()=>nbe});F();F();var v0=({name:t,code:e,encode:r})=>new lM(t,e,r),lM=class{constructor(e,r,i){this.name=e,this.code=r,this.encode=i}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?y0(this.code,r):r.then(i=>y0(this.code,i))}else throw Error("Unknown type, must be binary type")}};var uU=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),na=v0({name:"sha2-256",code:18,encode:uU("SHA-256")}),nbe=v0({name:"sha2-512",code:19,encode:uU("SHA-512")});var _u=async(t,e,r)=>{r.codec==null&&(r.codec=aw);let i=await na.digest(t),n=jt.create(r.cidVersion,r.codec.code,i);return await e.put(n,t,{signal:r.signal}),n};var cU=async(t,e,r)=>{let i=new Us({type:"directory",mtime:t.mtime,mode:t.mode}),n=uf(ff({Data:i.marshal()})),s=await _u(n,e,r),o=t.path;return{cid:s,path:o,unixfs:i,size:BigInt(n.length),originalPath:t.originalPath}};F();var dg={};ai(dg,{code:()=>w0,decode:()=>abe,encode:()=>sbe,name:()=>obe});F();var obe="raw",w0=85,sbe=t=>Cf(t),abe=t=>Cf(t);async function*fbe(t,e,r){let i=-1,n;for await(let s of ew(r.bufferImporter(t,e),r.blockWriteConcurrency)){if(i++,i===0){n=s;continue}else i===1&&n!=null&&(yield n,n=void 0);yield s}n!=null&&(n.single=!0,yield n)}var ube=(t,e,r)=>async function(n){if(n.length===1&&n[0]?.single===!0&&r.reduceSingleLeafToSelf){let u=n[0];if(t.mtime!==void 0||t.mode!==void 0){let l=await e.get(u.cid);u.unixfs=new Us({type:"file",mtime:t.mtime,mode:t.mode,data:l}),l=uf(ff({Data:u.unixfs.marshal()})),u.cid=await _u(l,e,{...r,cidVersion:r.cidVersion}),u.size=BigInt(l.length)}return{cid:u.cid,path:t.path,unixfs:u.unixfs,size:u.size,originalPath:u.originalPath}}let s=new Us({type:"file",mtime:t.mtime,mode:t.mode}),o=n.filter(u=>u.cid.code===w0&&u.size>0||u.unixfs!=null&&u.unixfs.data==null&&u.unixfs.fileSize()>0n?!0:Boolean(u.unixfs?.data?.length)).map(u=>u.cid.code===w0?(s.addBlockSize(u.size),{Name:"",Tsize:Number(u.size),Hash:u.cid}):(u.unixfs==null||u.unixfs.data==null?s.addBlockSize(u.unixfs?.fileSize()??0n):s.addBlockSize(BigInt(u.unixfs.data.length)),{Name:"",Tsize:Number(u.size),Hash:u.cid})),a={Data:s.marshal(),Links:o},f=uf(ff(a));return{cid:await _u(f,e,r),path:t.path,unixfs:s,size:BigInt(f.length+a.Links.reduce((u,l)=>u+(l.Tsize??0),0)),originalPath:t.originalPath}},lU=async(t,e,r)=>await r.layout(fbe(t,e,r),ube(t,e,r));var hM=yr(ia(),1);function cbe(t){return Symbol.iterator in t}function lbe(t){return Symbol.asyncIterator in t}function dbe(t){try{if(t instanceof Uint8Array)return async function*(){yield t}();if(cbe(t))return async function*(){yield*t}();if(lbe(t))return t}catch{throw(0,hM.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw(0,hM.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}function dU(t){return async function*(r,i){for await(let n of r){let s;if(n.path!=null&&(s=n.path,n.path=n.path.split("/").filter(o=>o!=null&&o!==".").join("/")),hbe(n)){let o={path:n.path,mtime:n.mtime,mode:n.mode,content:t.chunker(t.chunkValidator(dbe(n.content))),originalPath:s};yield async()=>await lU(o,i,t)}else if(n.path!=null){let o={path:n.path,mtime:n.mtime,mode:n.mode,originalPath:s};yield async()=>await cU(o,i,t)}else throw new Error("Import candidate must have content or path or both")}}}function hbe(t){return t.content!=null}F();F();F();var yc=class{constructor(e,r){this.options=r??{},this.root=e.root,this.dir=e.dir,this.path=e.path,this.dirty=e.dirty,this.flat=e.flat,this.parent=e.parent,this.parentKey=e.parentKey,this.unixfs=e.unixfs,this.mode=e.mode,this.mtime=e.mtime}},fw=jt.parse("QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn"),uw=jt.parse("zdj7WbTaiJT1fgatdet9Ei9iDB5hdCxkbVyhyh8YTUnXMiwYi");var _0=class extends yc{constructor(e,r){super(e,r),this._children=new Map}async put(e,r){this.cid=void 0,this.size=void 0,this.nodeSize=void 0,this._children.set(e,r)}async get(e){return await Promise.resolve(this._children.get(e))}childCount(){return this._children.size}directChildrenCount(){return this.childCount()}onlyChild(){return this._children.values().next().value}async*eachChildSeries(){for(let[e,r]of this._children.entries())yield{key:e,child:r}}estimateNodeSize(){if(this.nodeSize!==void 0)return this.nodeSize;this.nodeSize=0;for(let[e,r]of this._children.entries())r.size!=null&&r.cid!=null&&(this.nodeSize+=e.length+(this.options.cidVersion===1?uw.bytes.byteLength:fw.bytes.byteLength));return this.nodeSize}async*flush(e){let r=[];for(let[f,c]of this._children.entries()){if(c instanceof yc)for await(let u of c.flush(e))c=u,yield c;c.size!=null&&c.cid!=null&&r.push({Name:f,Tsize:Number(c.size),Hash:c.cid})}let i=new Us({type:"directory",mtime:this.mtime,mode:this.mode}),n={Data:i.marshal(),Links:r},s=uf(ff(n)),o=await _u(s,e,this.options),a=s.length+n.Links.reduce((f,c)=>f+(c.Tsize==null?0:c.Tsize),0);this.cid=o,this.size=a,yield{cid:o,unixfs:i,path:this.path,size:BigInt(a)}}};F();F();F();F();var _U=yr(pM(),1);F();F();F();var yM={};ai(yM,{identity:()=>gbe});F();var gbe=sg({prefix:"\0",name:"identity",encode:t=>PA(t),decode:t=>TA(t)});var mM={};ai(mM,{base2:()=>bbe});F();var bbe=jn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var gM={};ai(gM,{base8:()=>vbe});F();var vbe=jn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var bM={};ai(bM,{base10:()=>wbe});F();var wbe=oh({prefix:"9",name:"base10",alphabet:"0123456789"});var vM={};ai(vM,{base16:()=>_be,base16upper:()=>Ebe});F();var _be=jn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Ebe=jn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var wM={};ai(wM,{base36:()=>Sbe,base36upper:()=>xbe});F();var Sbe=oh({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),xbe=oh({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var _M={};ai(_M,{base64:()=>Abe,base64pad:()=>Mbe,base64url:()=>hg,base64urlpad:()=>kbe});F();var Abe=jn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Mbe=jn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),hg=jn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),kbe=jn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var EM={};ai(EM,{base256emoji:()=>Rbe});F();var yU=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Tbe=yU.reduce((t,e,r)=>(t[r]=e,t),[]),Pbe=yU.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Dbe(t){return t.reduce((e,r)=>(e+=Tbe[r],e),"")}function Ibe(t){let e=[];for(let r of t){let i=Pbe[r.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(i)}return new Uint8Array(e)}var Rbe=sg({prefix:"\u{1F680}",name:"base256emoji",encode:Dbe,decode:Ibe});var SM={};ai(SM,{identity:()=>Obe});F();var mU=0,Bbe="identity",gU=Cf,Cbe=t=>y0(mU,gU(t)),Obe={code:mU,name:Bbe,encode:gU,digest:Cbe};F();var lrt=new TextEncoder,drt=new TextDecoder;F();F();var xM={...yM,...mM,...gM,...bM,...vM,...OA,...wM,...CA,..._M,...EM},wrt={...dM,...SM};F();F();function pg(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function e8(t=0){return globalThis.Buffer?.allocUnsafe!=null?pg(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function vU(t,e,r,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:i}}}var bU=vU("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),AM=vU("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=e8(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Lbe={utf8:bU,"utf-8":bU,hex:xM.base16,latin1:AM,ascii:AM,binary:AM,...xM},wU=Lbe;function t8(t,e="utf8"){let r=wU[e];if(r==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?pg(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var $s=class{constructor(e,r,i=0){this._options=e,this._popCount=0,this._parent=r,this._posAtParent=i,this._children=new _U.default,this.key=null}async put(e,r){let i=await this._findNewBucketAndPos(e);await i.bucket._putAt(i,e,r)}async get(e){let r=await this._findChild(e);if(r!=null)return r.value}async del(e){let r=await this._findPlace(e),i=r.bucket._at(r.pos);i!=null&&i.key===e&&r.bucket._delAt(r.pos)}leafCount(){return this._children.compactArray().reduce((r,i)=>i instanceof $s?r+i.leafCount():r+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){let e=this._children.compactArray();for(let r of e)r instanceof $s?yield*r.eachLeafSeries():yield r}serialize(e,r){let i=[];return r(this._children.reduce((n,s,o)=>(s!=null&&(s instanceof $s?n.push(s.serialize(e,r)):n.push(e(s,o))),n),i))}async asyncTransform(e,r){return await EU(this,e,r)}toJSON(){return this.serialize(qbe,zbe)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(e){let r=await this._findPlace(e),i=r.bucket._at(r.pos);if(!(i instanceof $s)&&i!=null&&i.key===e)return i}async _findPlace(e){let r=this._options.hash(typeof e=="string"?t8(e):e),i=await r.take(this._options.bits),n=this._children.get(i);return n instanceof $s?await n._findPlace(r):{bucket:this,pos:i,hash:r,existingChild:n}}async _findNewBucketAndPos(e){let r=await this._findPlace(e);if(r.existingChild!=null&&r.existingChild.key!==e){let i=new $s(this._options,r.bucket,r.pos);r.bucket._putObjectAt(r.pos,i);let n=await i._findPlace(r.existingChild.hash);return n.bucket._putAt(n,r.existingChild.key,r.existingChild.value),await i._findNewBucketAndPos(r.hash)}return r}_putAt(e,r,i){this._putObjectAt(e.pos,{key:r,value:i,hash:e.hash})}_putObjectAt(e,r){this._children.get(e)==null&&this._popCount++,this._children.set(e,r)}_delAt(e){if(e===-1)throw new Error("Invalid position");this._children.get(e)!=null&&this._popCount--,this._children.unset(e),this._level()}_level(){if(this._parent!=null&&this._popCount<=1)if(this._popCount===1){let e=this._children.find(Nbe);if(e!=null&&!(e instanceof $s)){let r=e.hash;r.untake(this._options.bits);let i={pos:this._posAtParent,hash:r,bucket:this._parent};this._parent._putAt(i,e.key,e.value)}}else this._parent._delAt(this._posAtParent)}_at(e){return this._children.get(e)}};function Nbe(t){return Boolean(t)}function qbe(t,e){return t.key}function zbe(t){return t}async function EU(t,e,r){let i=[];for(let n of t._children.compactArray())if(n instanceof $s)await EU(n,e,r);else{let s=await e(n);i.push({bitField:t._children.bitField(),children:s})}return await r(i)}F();F();var Fbe=[255,254,252,248,240,224,192,128],Ube=[1,3,7,15,31,63,127,255],r8=class{constructor(e){this._value=e,this._currentBytePos=e.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+this._currentBytePos*8}totalBits(){return this._value.length*8}take(e){let r=e,i=0;for(;r>0&&this._haveBits();){let n=this._value[this._currentBytePos],s=this._currentBitPos+1,o=Math.min(s,r),a=$be(n,s-o,o);i=(i<<o)+a,r-=o,this._currentBitPos-=o,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return i}untake(e){for(this._currentBitPos+=e;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}};function $be(t,e,r){let i=Vbe(e,r);return(t&i)>>>e}function Vbe(t,e){return Fbe[t]&Ube[Math.min(e+t-1,7)]}F();function SU(t,e){e==null&&(e=t.reduce((n,s)=>n+s.length,0));let r=e8(e),i=0;for(let n of t)r.set(n,i),i+=n.length;return pg(r)}function xU(t){function e(r){return r instanceof i8?r:new i8(r,t)}return e}var i8=class{constructor(e,r){if(!(e instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=e,this._hashFn=r,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(e){let r=e;for(;this._availableBits<r;)await this._produceMoreBits();let i=0;for(;r>0;){let n=this._buffers[this._currentBufferIndex],s=Math.min(n.availableBits(),r),o=n.take(s);i=(i<<s)+o,r-=s,this._availableBits-=s,n.availableBits()===0&&this._currentBufferIndex++}return i}untake(e){let r=e;for(;r>0;){let i=this._buffers[this._currentBufferIndex],n=Math.min(i.totalBits()-i.availableBits(),r);i.untake(n),r-=n,this._availableBits+=n,this._currentBufferIndex>0&&i.totalBits()===i.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;let e=this._depth>0?SU([this._value,Uint8Array.from([this._depth])]):this._value,r=await this._hashFn(e),i=new r8(r);this._buffers.push(i),this._availableBits+=i.availableBits()}};function AU(t){if(t==null||t.hashFn==null)throw new Error("please define an options.hashFn");let e={bits:t.bits??8,hash:xU(t.hashFn)};return new $s(e)}F();var o8=yr(MM(),1);function Kbe(t){let e=new Array(4);for(let r=0;r<4;r++)e[r]=t&255,t=t>>8;return new Uint8Array(e)}var nit=v0({name:"murmur3-32",code:35,encode:t=>Kbe(o8.default.x86.hash32(t))}),TU=v0({name:"murmur3-128",code:34,encode:t=>p0.fromHex(o8.default.x64.hash128(t))}),oit=v0({name:"murmur3-x64-64",code:34,encode:t=>p0.fromHex(o8.default.x64.hash128(t)).subarray(0,8)});async function Hbe(t){return(await TU.encode(t)).slice(0,8).reverse()}var PU=BigInt(34),kM=class extends yc{constructor(e,r){super(e,r),this._bucket=AU({hashFn:Hbe,bits:8})}async put(e,r){this.cid=void 0,this.size=void 0,this.nodeSize=void 0,await this._bucket.put(e,r)}async get(e){return await this._bucket.get(e)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async*eachChildSeries(){for await(let{key:e,value:r}of this._bucket.eachLeafSeries())yield{key:e,child:r}}estimateNodeSize(){return this.nodeSize!==void 0?this.nodeSize:(this.nodeSize=RU(this._bucket,this,this.options),this.nodeSize)}async*flush(e){for await(let r of IU(this._bucket,e,this,this.options))yield{...r,path:this.path}}},DU=kM;async function*IU(t,e,r,i){let n=t._children,s=[],o=0n;for(let m=0;m<n.length;m++){let g=n.get(m);if(g==null)continue;let E=m.toString(16).toUpperCase().padStart(2,"0");if(g instanceof $s){let x;for await(let T of IU(g,e,null,i))x=T;if(x==null)throw new Error("Could not flush sharded directory, no subshard found");s.push({Name:E,Tsize:Number(x.size),Hash:x.cid}),o+=x.size}else if(Wbe(g.value)){let x=g.value,T;for await(let I of x.flush(e))T=I,yield T;if(T==null)throw new Error("Did not flush dir");let M=E+g.key;s.push({Name:M,Tsize:Number(T.size),Hash:T.cid}),o+=T.size}else{let x=g.value;if(x.cid==null)continue;let T=E+g.key,M=x.size;s.push({Name:T,Tsize:Number(M),Hash:x.cid}),o+=BigInt(M??0)}}let a=Uint8Array.from(n.bitField().reverse()),f=new Us({type:"hamt-sharded-directory",data:a,fanout:BigInt(t.tableSize()),hashType:PU,mtime:r?.mtime,mode:r?.mode}),c={Data:f.marshal(),Links:s},u=uf(ff(c)),l=await _u(u,e,i),y=BigInt(u.byteLength)+o;yield{cid:l,unixfs:f,size:y}}function Wbe(t){return typeof t.flush=="function"}function RU(t,e,r){let i=t._children,n=[];for(let f=0;f<i.length;f++){let c=i.get(f);if(c==null)continue;let u=f.toString(16).toUpperCase().padStart(2,"0");if(c instanceof $s){let l=RU(c,null,r);n.push({Name:u,Tsize:Number(l),Hash:r.cidVersion===0?fw:uw})}else if(typeof c.value.flush=="function"){let y=c.value.nodeSize();n.push({Name:u+c.key,Tsize:Number(y),Hash:r.cidVersion===0?fw:uw})}else{let l=c.value;if(l.cid==null)continue;let y=u+c.key,m=l.size;n.push({Name:y,Tsize:Number(m),Hash:l.cid})}}let s=Uint8Array.from(i.bitField().reverse()),o=new Us({type:"hamt-sharded-directory",data:s,fanout:BigInt(t.tableSize()),hashType:PU,mtime:e?.mtime,mode:e?.mode});return uf(ff({Data:o.marshal(),Links:n})).length}async function TM(t,e,r,i){let n=e;e instanceof _0&&e.estimateNodeSize()>r&&(n=await Ybe(e,i));let s=n.parent;if(s!=null){if(n!==e){if(t!=null&&(t.parent=n),n.parentKey==null)throw new Error("No parent key found");await s.put(n.parentKey,n)}return await TM(n,s,r,i)}return n}async function Ybe(t,e){let r=new DU({root:t.root,dir:!0,parent:t.parent,parentKey:t.parentKey,path:t.path,dirty:t.dirty,flat:!1,mtime:t.mtime,mode:t.mode},e);for await(let{key:i,child:n}of t.eachChildSeries())await r.put(i,n);return r}F();var BU=(t="")=>(t.trim().match(/([^\\/]|\\\/)+/g)??[]).filter(Boolean);async function Zbe(t,e,r){let i=BU(t.path??""),n=i.length-1,s=e,o="";for(let a=0;a<i.length;a++){let f=i[a];o+=`${o!==""?"/":""}${f}`;let c=a===n;if(s.dirty=!0,s.cid=void 0,s.size=void 0,c)await s.put(f,t),e=await TM(null,s,r.shardSplitThresholdBytes,r);else{let u=await s.get(f);(u==null||!(u instanceof yc))&&(u=new _0({root:!1,dir:!0,parent:s,parentKey:f,path:o,dirty:!0,flat:!0,mtime:u?.unixfs?.mtime,mode:u?.unixfs?.mode},r)),await s.put(f,u),s=u}}return e}async function*CU(t,e){if(!(t instanceof yc)){t.unixfs?.isDirectory()===!0&&(yield t);return}yield*t.flush(e)}function OU(t){return async function*(r,i){let n=new _0({root:!0,dir:!0,path:"",dirty:!0,flat:!0},t),s,o=!1;for await(let a of r){if(a==null)continue;let f=`${a.originalPath??""}`.split("/")[0];f!=null&&f!==""&&(s==null?(s=f,o=!0):s!==f&&(o=!1)),n=await Zbe(a,n,t),(a.unixfs==null||!a.unixfs.isDirectory())&&(yield a)}if(t.wrapWithDirectory||o&&n.childCount()>1)yield*CU(n,i);else for await(let a of n.eachChildSeries())a!=null&&(yield*CU(a.child,i))}}F();var PM=yr(ia(),1);var jU=()=>async function*(e){for await(let r of e){if(r.length===void 0)throw(0,PM.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if(typeof r=="string"||r instanceof String)yield t8(r.toString());else if(Array.isArray(r))yield Uint8Array.from(r);else if(r instanceof Uint8Array)yield r;else throw(0,PM.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}};F();F();F();F();F();function lw(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function jl(t=0){return globalThis.Buffer?.alloc!=null?lw(globalThis.Buffer.alloc(t)):new Uint8Array(t)}function dw(t=0){return globalThis.Buffer?.allocUnsafe!=null?lw(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function DM(t,e){e==null&&(e=t.reduce((n,s)=>n+s.length,0));let r=dw(e),i=0;for(let n of t)r.set(n,i),i+=n.length;return lw(r)}F();function LU(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var qU=Symbol.for("@achingbrain/uint8arraylist");function NU(t,e){if(e==null||e<0)throw new RangeError("index is out of bounds");let r=0;for(let i of t){let n=r+i.byteLength;if(e<n)return{buf:i,index:e-r};r=n}throw new RangeError("index is out of bounds")}function s8(t){return Boolean(t?.[qU])}var mc=class{constructor(...e){Object.defineProperty(this,qU,{value:!0}),this.bufs=[],this.length=0,e.length>0&&this.appendAll(e)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...e){this.appendAll(e)}appendAll(e){let r=0;for(let i of e)if(i instanceof Uint8Array)r+=i.byteLength,this.bufs.push(i);else if(s8(i))r+=i.byteLength,this.bufs.push(...i.bufs);else throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");this.length+=r}prepend(...e){this.prependAll(e)}prependAll(e){let r=0;for(let i of e.reverse())if(i instanceof Uint8Array)r+=i.byteLength,this.bufs.unshift(i);else if(s8(i))r+=i.byteLength,this.bufs.unshift(...i.bufs);else throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");this.length+=r}get(e){let r=NU(this.bufs,e);return r.buf[r.index]}set(e,r){let i=NU(this.bufs,e);i.buf[i.index]=r}write(e,r=0){if(e instanceof Uint8Array)for(let i=0;i<e.length;i++)this.set(r+i,e[i]);else if(s8(e))for(let i=0;i<e.length;i++)this.set(r+i,e.get(i));else throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList")}consume(e){if(e=Math.trunc(e),!(Number.isNaN(e)||e<=0)){if(e===this.byteLength){this.bufs=[],this.length=0;return}for(;this.bufs.length>0;)if(e>=this.bufs[0].byteLength)e-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift();else{this.bufs[0]=this.bufs[0].subarray(e),this.length-=e;break}}}slice(e,r){let{bufs:i,length:n}=this._subList(e,r);return DM(i,n)}subarray(e,r){let{bufs:i,length:n}=this._subList(e,r);return i.length===1?i[0]:DM(i,n)}sublist(e,r){let{bufs:i,length:n}=this._subList(e,r),s=new mc;return s.length=n,s.bufs=i,s}_subList(e,r){if(e=e??0,r=r??this.length,e<0&&(e=this.length+e),r<0&&(r=this.length+r),e<0||r>this.length)throw new RangeError("index is out of bounds");if(e===r)return{bufs:[],length:0};if(e===0&&r===this.length)return{bufs:[...this.bufs],length:this.length};let i=[],n=0;for(let s=0;s<this.bufs.length;s++){let o=this.bufs[s],a=n,f=a+o.byteLength;if(n=f,e>=f)continue;let c=e>=a&&e<f,u=r>a&&r<=f;if(c&&u){if(e===a&&r===f){i.push(o);break}let l=e-a;i.push(o.subarray(l,l+(r-e)));break}if(c){if(e===0){i.push(o);continue}i.push(o.subarray(e-a));continue}if(u){if(r===f){i.push(o);break}i.push(o.subarray(0,r-a));break}i.push(o)}return{bufs:i,length:r-e}}indexOf(e,r=0){if(!s8(e)&&!(e instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');let i=e instanceof Uint8Array?e:e.subarray();if(r=Number(r??0),isNaN(r)&&(r=0),r<0&&(r=this.length+r),r<0&&(r=0),e.length===0)return r>this.length?this.length:r;let n=i.byteLength;if(n===0)throw new TypeError("search must be at least 1 byte long");let s=256,o=new Int32Array(s);for(let l=0;l<s;l++)o[l]=-1;for(let l=0;l<n;l++)o[i[l]]=l;let a=o,f=this.byteLength-i.byteLength,c=i.byteLength-1,u;for(let l=r;l<=f;l+=u){u=0;for(let y=c;y>=0;y--){let m=this.get(l+y);if(i[y]!==m){u=Math.max(1,y-a[m]);break}}if(u===0)return l}return-1}getInt8(e){let r=this.subarray(e,e+1);return new DataView(r.buffer,r.byteOffset,r.byteLength).getInt8(0)}setInt8(e,r){let i=dw(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setInt8(0,r),this.write(i,e)}getInt16(e,r){let i=this.subarray(e,e+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt16(0,r)}setInt16(e,r,i){let n=jl(2);new DataView(n.buffer,n.byteOffset,n.byteLength).setInt16(0,r,i),this.write(n,e)}getInt32(e,r){let i=this.subarray(e,e+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt32(0,r)}setInt32(e,r,i){let n=jl(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setInt32(0,r,i),this.write(n,e)}getBigInt64(e,r){let i=this.subarray(e,e+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigInt64(0,r)}setBigInt64(e,r,i){let n=jl(8);new DataView(n.buffer,n.byteOffset,n.byteLength).setBigInt64(0,r,i),this.write(n,e)}getUint8(e){let r=this.subarray(e,e+1);return new DataView(r.buffer,r.byteOffset,r.byteLength).getUint8(0)}setUint8(e,r){let i=dw(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint8(0,r),this.write(i,e)}getUint16(e,r){let i=this.subarray(e,e+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint16(0,r)}setUint16(e,r,i){let n=jl(2);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint16(0,r,i),this.write(n,e)}getUint32(e,r){let i=this.subarray(e,e+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint32(0,r)}setUint32(e,r,i){let n=jl(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,r,i),this.write(n,e)}getBigUint64(e,r){let i=this.subarray(e,e+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigUint64(0,r)}setBigUint64(e,r,i){let n=jl(8);new DataView(n.buffer,n.byteOffset,n.byteLength).setBigUint64(0,r,i),this.write(n,e)}getFloat32(e,r){let i=this.subarray(e,e+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat32(0,r)}setFloat32(e,r,i){let n=jl(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setFloat32(0,r,i),this.write(n,e)}getFloat64(e,r){let i=this.subarray(e,e+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat64(0,r)}setFloat64(e,r,i){let n=jl(8);new DataView(n.buffer,n.byteOffset,n.byteLength).setFloat64(0,r,i),this.write(n,e)}equals(e){if(e==null||!(e instanceof mc)||e.bufs.length!==this.bufs.length)return!1;for(let r=0;r<this.bufs.length;r++)if(!LU(this.bufs[r],e.bufs[r]))return!1;return!0}static fromUint8Arrays(e,r){let i=new mc;return i.bufs=e,r==null&&(r=e.reduce((n,s)=>n+s.byteLength,0)),i.length=r,i}};var Gbe=262144,zU=(t={})=>{let e=t.chunkSize??Gbe;return async function*(i){let n=new mc,s=0,o=!1;for await(let a of i)for(n.append(a),s+=a.length;s>=e;)if(yield n.slice(0,e),o=!0,e===n.length)n=new mc,s=0;else{let f=new mc;f.append(n.sublist(e)),n=f,s-=e}(!o||s>0)&&(yield n.subarray(0,s))}};F();F();var Jbe=174;function IM(t){let e=t?.maxChildrenPerNode??Jbe;return async function r(i,n){let s=[];for await(let o of fg(i,e))s.push(await n(o));return s.length>1?await r(s,n):s[0]}}F();F();async function a8(t){let e=[];for await(let r of t)e.push(r);return e}F();F();function FU(t){return async function*(r,i){for await(let n of r.content)yield async()=>{t.progress?.(n.length,r.path);let s,o={codec:aw,cidVersion:t.cidVersion};return t.rawLeaves?(o.codec=dg,o.cidVersion=1):(s=new Us({type:t.leafType,data:n}),n=uf({Data:s.marshal(),Links:[]})),{cid:await _u(n,i,o),unixfs:s,size:BigInt(n.length)}}}}F();var Xbe=yr(ia(),1);async function*hw(t,e,r={}){let i;Symbol.asyncIterator in t||Symbol.iterator in t?i=t:i=[t];let n=r.wrapWithDirectory??!1,s=r.shardSplitThresholdBytes??262144,o=r.cidVersion??1,a=r.rawLeaves??!0,f=r.leafType??"file",c=r.fileImportConcurrency??50,u=r.blockWriteConcurrency??10,l=r.reduceSingleLeafToSelf??!0,y=r.chunker??zU(),m=r.chunkValidator??jU(),g=r.dagBuilder??dU({chunker:y,chunkValidator:m,wrapWithDirectory:n,layout:r.layout??IM(),bufferImporter:r.bufferImporter??FU({cidVersion:o,rawLeaves:a,leafType:f,progress:r.progress}),blockWriteConcurrency:u,reduceSingleLeafToSelf:l,cidVersion:o}),E=r.treeBuilder??OU({wrapWithDirectory:n,shardSplitThresholdBytes:s,cidVersion:o});for await(let x of E(ew(g(i,e),c),e))yield{cid:x.cid,path:x.path,unixfs:x.unixfs,size:x.size}}F();var f8={};ai(f8,{abortedError:()=>Qbe,notFoundError:()=>BM});F();var RM=yr(ia(),1);function BM(t){return t=t||new Error("Not Found"),(0,RM.default)(t,"ERR_NOT_FOUND")}function Qbe(t){return t=t||new Error("Aborted"),(0,RM.default)(t,"ERR_ABORTED")}F();F();async function u8(t){for await(let e of t);}F();async function*fh(t,e){for await(let r of t)await e(r)&&(yield r)}F();async function*c8(t,e){let r=0;if(!(e<1)){for await(let i of t)if(yield i,r++,r===e)return}}var UU=(t,e)=>async function*(){yield*(await a8(t)).sort(e)}(),pw=class{open(){return Promise.reject(new Error(".open is not implemented"))}close(){return Promise.reject(new Error(".close is not implemented"))}put(e,r,i){return Promise.reject(new Error(".put is not implemented"))}get(e,r){return Promise.reject(new Error(".get is not implemented"))}has(e,r){return Promise.reject(new Error(".has is not implemented"))}delete(e,r){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(e,r={}){for await(let{key:i,value:n}of e)await this.put(i,n,r),yield{key:i,value:n}}async*getMany(e,r={}){for await(let i of e)yield this.get(i,r)}async*deleteMany(e,r={}){for await(let i of e)await this.delete(i,r),yield i}batch(){let e=[],r=[];return{put(i,n){e.push({key:i,value:n})},delete(i){r.push(i)},commit:async i=>{await u8(this.putMany(e,i)),e=[],await u8(this.deleteMany(r,i)),r=[]}}}async*_all(e,r){throw new Error("._all is not implemented")}async*_allKeys(e,r){throw new Error("._allKeys is not implemented")}query(e,r){let i=this._all(e,r);if(e.prefix!=null&&(i=fh(i,n=>n.key.toString().startsWith(e.prefix||""))),Array.isArray(e.filters)&&(i=e.filters.reduce((n,s)=>fh(n,s),i)),Array.isArray(e.orders)&&(i=e.orders.reduce((n,s)=>UU(n,s),i)),e.offset!=null){let n=0;i=fh(i,()=>n++>=(e.offset||0))}return e.limit!=null&&(i=c8(i,e.limit)),i}queryKeys(e,r){let i=this._allKeys(e,r);if(e.prefix!=null&&(i=fh(i,n=>n.toString().startsWith(e.prefix||""))),Array.isArray(e.filters)&&(i=e.filters.reduce((n,s)=>fh(n,s),i)),Array.isArray(e.orders)&&(i=e.orders.reduce((n,s)=>UU(n,s),i)),e.offset!=null){let n=0;i=fh(i,()=>n++>=e.offset)}return e.limit!=null&&(i=c8(i,e.limit)),i}};F();var yg=class extends pw{constructor(){super(),this.data={}}open(){return Promise.resolve()}close(){return Promise.resolve()}async put(e,r){this.data[af.encode(e.multihash.bytes)]=r}async get(e){if(!await this.has(e))throw BM();return this.data[af.encode(e.multihash.bytes)]}async has(e){return this.data[af.encode(e.multihash.bytes)]!==void 0}async delete(e){delete this.data[af.encode(e.multihash.bytes)]}async*_all(){yield*Object.entries(this.data).map(([e,r])=>({key:jt.createV1(w0,Xv(af.decode(e))),value:r}))}async*_allKeys(){yield*Object.entries(this.data).map(([e])=>jt.createV1(w0,Xv(af.decode(e))))}};var Znt={...f8};var CM=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},$U=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(s){r[s]=t[s]&&function(o){return new Promise(function(a,f){o=t[s](o),n(a,f,o.done,o.value)})}}function n(s,o,a,f){Promise.resolve(f).then(function(c){s({value:c,done:a})},o)}},VU={[na.code]:na},KU={[H6]:ag};function oa(t,e=H6,r=na.code){return CM(this,void 0,void 0,function*(){let i=KU[e];if(!i)throw new Error(`codec [${e}] not supported`);let n=VU[r];if(!n)throw new Error(`multihash code [${r}] not supported`);let s=i.encode(t),o=yield n.digest(s);return(yield jt.createV1(i.code,o)).toString()})}function l8(t){let e=jt.parse(t).toV1();if(!KU[e.code])throw new Error(`codec [${e.code}] not supported`);if(!VU[e.multihash.code])throw new Error(`multihash code [${e.multihash.code}] not supported`);return e}var yw=class{static computeDagPbCidFromBytes(e){var r,i;return CM(this,void 0,void 0,function*(){let n=hw([{content:e}],new yg,{cidVersion:1}),s;try{for(var o=$U(n),a;a=yield o.next(),!a.done;)s=a.value}catch(f){r={error:f}}finally{try{a&&!a.done&&(i=o.return)&&(yield i.call(o))}finally{if(r)throw r.error}}return s?s.cid.toString():""})}static computeDagPbCidFromStream(e){var r,i;return CM(this,void 0,void 0,function*(){let n=hw([{content:e}],new yg,{cidVersion:1}),s;try{for(var o=$U(n),a;a=yield o.next(),!a.done;)s=a.value}catch(f){r={error:f}}finally{try{a&&!a.done&&(i=o.return)&&(yield i.call(o))}finally{if(r)throw r.error}}return s?s.cid.toString():""})}};F();F();F();F();var eve=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})};function tve(t){return new Promise((e,r)=>{if(t.aborted){r(t.reason);return}t.addEventListener("abort",()=>{r(t.reason)})})}function Mo(t,e){return eve(this,void 0,void 0,function*(){return t?Promise.race([e,tve(t)]):e})}F();F();var se=yr(HU(),1),$M={};function Sc(t,e){Object.defineProperty(t.prototype,Symbol.toStringTag,{value:e,writable:!1,enumerable:!1,configurable:!0});for(let r of Object.getOwnPropertyNames(t)){let i=Object.getOwnPropertyDescriptor(t,r);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(t,r,i))}for(let r of Object.getOwnPropertyNames(t.prototype)){let i=Object.getOwnPropertyDescriptor(t.prototype,r);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(t.prototype,r,i))}VM(e,t),VM(`${e}.prototype`,t.prototype)}function VM(t,e){let r=`%${t}%`;if($M[r]!==void 0)throw new Error(`intrinsic ${t} already exists`);$M[r]=e}function Mt(t){return $M[t]}var At="slot-epochNanoSeconds",uh="slot-timezone-identifier",Ve="slot-year",Ge="slot-month",Qe="slot-day",zt="slot-hour",Ft="slot-minute",Ut="slot-second",$t="slot-millisecond",Vt="slot-microsecond",Kt="slot-nanosecond",ve="slot-calendar",Ko="slot-cached-instant",Fr="slot-time-zone",fs="slot-years",ho="slot-months",Vs="slot-weeks",us="slot-days",cs="slot-hours",ls="slot-minutes",ds="slot-seconds",hs="slot-milliseconds",ps="slot-microseconds",ys="slot-nanoseconds",sn="slot-calendar-identifier",x$=new WeakMap;function xc(t){x$.set(t,Object.create(null))}function vk(t){return x$.get(t)}function eo(t,...e){if(!t||typeof t!="object")return!1;let r=vk(t);return!!r&&e.reduce((i,n)=>i&&n in r,!0)}function V(t,e){let r=vk(t)[e];if(r===void 0)throw new TypeError(`Missing internal slot ${e}`);return r}function nr(t,e,r){vk(t)[e]=r}var WU=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,rve=new RegExp(`(?:(?:${WU.source})(?:\\/(?:${WU.source}))*|Etc/GMT[-+]\\d{1,2}|${/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source})`),YU=/[A-Za-z0-9]{3,8}/,ive=new RegExp(`(?:${YU.source}(?:-${YU.source})*)`),A$=/(?:[+\u2212-]\d{6}|\d{4})/,b8=/(?:0[1-9]|1[0-2])/,KM=/(?:0[1-9]|[12]\d|3[01])/,nve=new RegExp(`(${A$.source})(?:-(${b8.source})-(${KM.source})|(${b8.source})(${KM.source}))`),M$=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,k$=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,T$=new RegExp(`(?:([zZ])|(?:${k$.source})?)(?:\\[(${rve.source})\\])?`),P$=new RegExp(`\\[u-ca=(${ive.source})\\]`),ove=new RegExp(`^${nve.source}(?:(?:T|\\s+)${M$.source})?${T$.source}(?:${P$.source})?$`,"i"),sve=new RegExp(`^T?${M$.source}(?:${T$.source})?(?:${P$.source})?$`,"i"),ave=new RegExp(`^(${A$.source})-?(${b8.source})$`),fve=new RegExp(`^(?:--)?(${b8.source})-?(${KM.source})$`),LM=/(\d+)(?:[.,](\d{1,9}))?/,uve=new RegExp(`(?:${LM.source}H)?(?:${LM.source}M)?(?:${LM.source}S)?`),cve=new RegExp(`^([+\u2212-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${uve.source})?$`,"i"),D$=Array.prototype.includes,wk=Array.prototype.push,I$=globalThis.Intl.DateTimeFormat,lve=Math.min,dve=Math.max,xr=Math.abs,Xn=Math.floor,Ew=Math.sign,gg=Math.trunc,Ow=Number.isNaN,yo=Number.isFinite,hve=Number,jw=String,pve=Number.MAX_SAFE_INTEGER,R$=Object.assign,Po=Object.create,yve=Object.getOwnPropertyDescriptor,mve=Object.is,_k=Reflect.apply,an=se.default.BigInt(0),Ek=se.default.BigInt(1),A0=se.default.BigInt(60),Ur=se.default.BigInt(1e3),lf=se.default.BigInt(1e6),zl=se.default.BigInt(1e9),gve=se.default.BigInt(-1),hh=se.default.multiply(se.default.BigInt(86400),zl),Sw=se.default.multiply(se.default.BigInt(-86400),se.default.BigInt(1e17)),xw=se.default.multiply(se.default.BigInt(86400),se.default.BigInt(1e17)),B$=se.default.multiply(se.default.BigInt(-388152),se.default.BigInt(1e13)),bve=se.default.multiply(hh,se.default.BigInt(3660)),C$=se.default.multiply(hh,se.default.BigInt(366)),O$=se.default.multiply(hh,se.default.BigInt(14)),vve=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function j$(t){if(typeof t!="number"||!yo(t))return!1;let e=xr(t);return Xn(e)===e}function Ti(t){return typeof t=="object"&&t!==null||typeof t=="function"}function Aw(t){if(typeof t=="bigint")throw new TypeError("Cannot convert BigInt to number");return hve(t)}function $r(t){let e=Aw(t);if(Ow(e))return 0;let r=gg(e);return e===0?0:r}function Lt(t){if(typeof t=="symbol")throw new TypeError("Cannot convert a Symbol value to a String");return jw(t)}function ci(t){let e=$r(t);if(!yo(e))throw new RangeError("infinity is out of range");return e}function Mw(t,e){let r=$r(t);if(!yo(r))throw new RangeError("infinity is out of range");if(r<1)throw e!==void 0?new RangeError(`property '${e}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return r}function Jn(t){let e=Aw(t);if(Ow(e))return 0;if(!yo(e))throw new RangeError("infinity is out of range");if(!j$(e))throw new RangeError(`unsupported fractional value ${e}`);return $r(e)}function Gn(t,e){return{quotient:se.default.divide(t,e),remainder:se.default.remainder(t,e)}}function Sk(t){return se.default.lessThan(t,an)?se.default.multiply(t,gve):t}function HM(t,...e){return wk.apply(t,e),t}var ZU=new Map([["year",ci],["month",Mw],["monthCode",Lt],["day",Mw],["hour",ci],["minute",ci],["second",ci],["millisecond",ci],["microsecond",ci],["nanosecond",ci],["years",Jn],["months",Jn],["weeks",Jn],["days",Jn],["hours",Jn],["minutes",Jn],["seconds",Jn],["milliseconds",Jn],["microseconds",Jn],["nanoseconds",Jn],["era",Lt],["eraYear",$r],["offset",Lt]]),wve=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),kg=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],v8=new Map(kg.map(t=>[t[0],t[1]])),_ve=new Map(kg.map(([t,e])=>[e,t])),GU=kg.map(([,t])=>t),JU=Array.from(v8.keys()).sort(),XU=new Map;function L$(t){let e=XU.get(t);return e===void 0&&(e=new I$("en-us",{timeZone:jw(t),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),XU.set(t,e)),e}function Ln(t){return eo(t,At)&&!eo(t,Fr,ve)}function gc(t){return eo(t,uh)}function on(t){return eo(t,sn)}function Vi(t){return eo(t,fs,ho,us,cs,ls,ds,hs,ps,ys)}function gr(t){return eo(t,"slot-date-brand")}function Ki(t){return eo(t,zt,Ft,Ut,$t,Vt,Kt)&&!eo(t,Ve,Ge,Qe)}function ir(t){return eo(t,Ve,Ge,Qe,zt,Ft,Ut,$t,Vt,Kt)}function Cr(t){return eo(t,"slot-year-month-brand")}function po(t){return eo(t,"slot-month-day-brand")}function vt(t){return eo(t,At,Fr,ve)}function Tg(t){if(eo(t,ve)||eo(t,Fr))throw new TypeError("with() does not support a calendar or timeZone property");if(t.calendar!==void 0)throw new TypeError("with() does not support a calendar property");if(t.timeZone!==void 0)throw new TypeError("with() does not support a timeZone property")}function N$(t){let{ianaName:e,offset:r,z:i}=function(s){try{let o=Dk(s);if(o)return{ianaName:o.toString()}}catch{}try{let o=Ac(s);if(o.z||o.offset||o.ianaName)return o}catch{}throw new RangeError(`Invalid time zone: ${s}`)}(t);return e||(i?"UTC":r)}function Lw(t,e){return e==="never"||e==="auto"&&t==="iso8601"?"":`[u-ca=${t}]`}function Ac(t){let e=ove.exec(t);if(!e)throw new RangeError(`invalid ISO 8601 string: ${t}`);let r=e[1];if(r[0]==="\u2212"&&(r=`-${r.slice(1)}`),r==="-000000")throw new RangeError(`invalid ISO 8601 string: ${t}`);let i=$r(r),n=$r(e[2]||e[4]),s=$r(e[3]||e[5]),o=$r(e[6]),a=e[6]!==void 0,f=$r(e[7]||e[10]),c=$r(e[8]||e[11]);c===60&&(c=59);let u=(e[9]||e[12])+"000000000",l=$r(u.slice(0,3)),y=$r(u.slice(3,6)),m=$r(u.slice(6,9)),g,E=!1;if(e[13])g=void 0,E=!0;else if(e[14]&&e[15]){let M=e[14]==="-"||e[14]==="\u2212"?"-":"+",I=e[15]||"00",R=e[16]||"00",O=e[17]||"00",B=e[18]||"0";if(g=`${M}${I}:${R}`,+B){for(;B.endsWith("0");)B=B.slice(0,-1);g+=`:${O}.${B}`}else+O&&(g+=`:${O}`);g==="-00:00"&&(g="+00:00")}let x=e[19];if(x)try{x=Dk(x).toString()}catch{}let T=e[20];return Ck(i,n,s,o,f,c,l,y,m),{year:i,month:n,day:s,hasTime:a,hour:o,minute:f,second:c,millisecond:l,microsecond:y,nanosecond:m,ianaName:x,offset:g,z:E,calendar:T}}function q$(t){let e=ave.exec(t),r,i,n,s;if(e){let o=e[1];if(o[0]==="\u2212"&&(o=`-${o.slice(1)}`),o==="-000000")throw new RangeError(`invalid ISO 8601 string: ${t}`);r=$r(o),i=$r(e[2]),n=e[3]}else{let o;if({year:r,month:i,calendar:n,day:s,z:o}=Ac(t),o)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:r,month:i,calendar:n,referenceISODay:s}}function z$(t){let e=fve.exec(t),r,i,n,s;if(e)r=$r(e[1]),i=$r(e[2]);else{let o;if({month:r,day:i,calendar:n,year:s,z:o}=Ac(t),o)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:r,day:i,calendar:n,referenceISOYear:s}}function Eve(t){let e=cve.exec(t);if(!e)throw new RangeError(`invalid duration: ${t}`);if(e.slice(2).every(x=>x===void 0))throw new RangeError(`invalid duration: ${t}`);let r=e[1]==="-"||e[1]==="\u2212"?-1:1,i=$r(e[2])*r,n=$r(e[3])*r,s=$r(e[4])*r,o=$r(e[5])*r,a=$r(e[6])*r,f=e[7],c=$r(e[8])*r,u=e[9],l=$r(e[10])*r,y=e[11]+"000000000",m=$r(y.slice(0,3))*r,g=$r(y.slice(3,6))*r,E=$r(y.slice(6,9))*r;return f=f?r*$r(f)/10**f.length:0,u=u?r*$r(u)/10**u.length:0,{minutes:c,seconds:l,milliseconds:m,microseconds:g,nanoseconds:E}=function(T,M,I,R,O,B,C){let U=T,W=M,L=I,j=R,k=O,P=B,p=C;if(U!==0){[W,L,j,k,P,p].forEach(h=>{if(h!==0)throw new RangeError("only the smallest unit can be fractional")});let d=60*U;W=gg(d),L=d%1}if(L!==0){[j,k,P,p].forEach(b=>{if(b!==0)throw new RangeError("only the smallest unit can be fractional")});let d=60*L;j=gg(d);let h=d%1;if(h!==0){let b=1e3*h;k=gg(b);let v=b%1;if(v!==0){let w=1e3*v;P=gg(w);let _=w%1;_!==0&&(p=gg(1e3*_))}}}return{minutes:W,seconds:j,milliseconds:k,microseconds:P,nanoseconds:p}}(f,c,u,l,m,g,E),V8(i,n,s,o,a,c,l,m,g,E),{years:i,months:n,weeks:s,days:o,hours:a,minutes:c,seconds:l,milliseconds:m,microseconds:g,nanoseconds:E}}function Sve(t){let{year:e,month:r,day:i,hour:n,minute:s,second:o,millisecond:a,microsecond:f,nanosecond:c,offset:u,z:l}=function(E){let x=Ac(E);if(!x.z&&!x.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return x}(t);if(!l&&!u)throw new RangeError("Temporal.Instant requires a time zone offset");let y=l?0:R0(u);({year:e,month:r,day:i,hour:n,minute:s,second:o,millisecond:a,microsecond:f,nanosecond:c}=Rk(e,r,i,n,s,o,a,f,c-y));let m=mh(e,r,i,n,s,o,a,f,c);if(m===null)throw new RangeError("DateTime outside of supported range");return m}function w8(t,e,r,i){let n=t,s=e,o=r;switch(i){case"reject":_c(n,s,o);break;case"constrain":({year:n,month:s,day:o}=tV(n,s,o))}return{year:n,month:s,day:o}}function I8(t,e,r,i,n,s,o){let a=t,f=e,c=r,u=i,l=n,y=s;switch(o){case"reject":$8(a,f,c,u,l,y);break;case"constrain":({hour:a,minute:f,second:c,millisecond:u,microsecond:l,nanosecond:y}=function(g,E,x,T,M,I){let R=fa(g,0,23),O=fa(E,0,59),B=fa(x,0,59),C=fa(T,0,999),U=fa(M,0,999),W=fa(I,0,999);return{hour:R,minute:O,second:B,millisecond:C,microsecond:U,nanosecond:W}}(a,f,c,u,l,y))}return{hour:a,minute:f,second:c,millisecond:u,microsecond:l,nanosecond:y}}function L0(t){if(!Ti(t))return Eve(Lt(t));if(Vi(t))return{years:V(t,fs),months:V(t,ho),weeks:V(t,Vs),days:V(t,us),hours:V(t,cs),minutes:V(t,ls),seconds:V(t,ds),milliseconds:V(t,hs),microseconds:V(t,ps),nanoseconds:V(t,ys)};let e={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0},r=function(g){if(!Ti(g))throw new TypeError("invalid duration-like");let E={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0},x=!1;for(let T of JU){let M=g[T];M!==void 0&&(x=!0,E[T]=Jn(M))}if(!x)throw new TypeError("invalid duration-like");return E}(t);for(let m of JU){let g=r[m];g!==void 0&&(e[m]=g)}let{years:i,months:n,weeks:s,days:o,hours:a,minutes:f,seconds:c,milliseconds:u,microseconds:l,nanoseconds:y}=e;return V8(i,n,s,o,a,f,c,u,l,y),{years:i,months:n,weeks:s,days:o,hours:a,minutes:f,seconds:c,milliseconds:u,microseconds:l,nanoseconds:y}}function fn(t){return t===void 0?"constrain":bh(t,"overflow",["constrain","reject"],"constrain")}function kw(t){return t===void 0?"compatible":bh(t,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function Ks(t,e){return bh(t,"roundingMode",["ceil","floor","trunc","halfExpand"],e)}function Nw(t){switch(t){case"ceil":return"floor";case"floor":return"ceil";default:return t}}function WM(t,e){return t===void 0?e:bh(t,"offset",["prefer","use","ignore","reject"],e)}function qw(t){return bh(t,"calendarName",["auto","always","never"],"auto")}function Vl(t,e,r){let i=1/0;e!==void 0&&(i=e),r||e===void 0||(i=e>1?e-1:1);let n=function(o,a,f,c,u){let l=o[a];if(l===void 0)return u;let y=Aw(l);if(Ow(y)||y<f||y>c)throw new RangeError(`${String(a)} must be between ${f} and ${c}, not ${y}`);return Xn(y)}(t,"roundingIncrement",1,i,1);if(e!==void 0&&e%n!=0)throw new RangeError(`Rounding increment must divide evenly into ${e}`);return n}function xk(t,e){return Vl(t,{year:void 0,month:void 0,week:void 0,day:void 0,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[e],!1)}function zw(t){let e=Qn(t,"smallestUnit","time",void 0);if(e==="hour"){let n=kg.reduce((s,[o,a,f])=>(f==="time"&&a!=="hour"&&s.push(a,o),s),[]);throw new RangeError(`smallestUnit must be one of ${n.join(", ")}, not ${e}`)}switch(e){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}let r=t.fractionalSecondDigits;if(r===void 0&&(r="auto"),typeof r!="number"){let n=Lt(r);if(n==="auto")return{precision:"auto",unit:"nanosecond",increment:1};throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${n}`)}if(Ow(r)||r<0||r>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${r}`);let i=Xn(r);switch(i){case 0:return{precision:i,unit:"second",increment:1};case 1:case 2:case 3:return{precision:i,unit:"millisecond",increment:10**(3-i)};case 4:case 5:case 6:return{precision:i,unit:"microsecond",increment:10**(6-i)};case 7:case 8:case 9:return{precision:i,unit:"nanosecond",increment:10**(9-i)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${r}`)}}var P0=Symbol("~required~");function Qn(t,e,r,i,n=[]){let s=[];for(let[,c,u]of kg)r!=="datetime"&&r!==u||s.push(c);s.push(...n);let o=i;o===P0?o=void 0:o!==void 0&&s.push(o);let a=[...s];for(let c of s){let u=_ve.get(c);u!==void 0&&a.push(u)}let f=bh(t,e,a,o);if(f===void 0&&i===P0)throw new RangeError(`${e} is required`);return v8.has(f)?v8.get(f):f}function h8(t){let e=t.relativeTo;if(e===void 0)return e;let r,i,n,s,o,a,f,c,u,l,y,m,g="option",E=!1;if(Ti(e)){if(vt(e)||gr(e))return e;if(ir(e))return Eg(e);l=Pg(e);let x=lr(e,Rn(l,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]),T=Po(null);T.overflow="constrain",{year:r,month:i,day:n,hour:s,minute:o,second:a,millisecond:f,microsecond:c,nanosecond:u}=Fw(l,x,T),m=e.offset,m===void 0&&(g="wall"),y=e.timeZone}else{let x,T;({year:r,month:i,day:n,hour:s,minute:o,second:a,millisecond:f,microsecond:c,nanosecond:u,calendar:l,ianaName:x,offset:m,z:T}=Ac(Lt(e))),x&&(y=x),T?g="exact":m||(g="wall"),l||(l=un()),l=mo(l),E=!0}if(y!==void 0){y=bs(y);let x=0;return g==="option"&&(x=R0(Lt(m))),ko(E8(r,i,n,s,o,a,f,c,u,g,x,y,"compatible","reject",E),y,l)}return jf(r,i,n,l)}function YM(t,e,r,i,n,s,o,a,f,c){for(let[u,l]of[["years",t],["months",e],["weeks",r],["days",i],["hours",n],["minutes",s],["seconds",o],["milliseconds",a],["microseconds",f],["nanoseconds",c]])if(l!==0)return v8.get(u);return"nanosecond"}function ca(t,e){return GU.indexOf(t)>GU.indexOf(e)?e:t}function R8(t,e){let r=t;return r===void 0&&(r=Po(null)),R$(Po(null),r,{largestUnit:e})}function lr(t,e,r,{emptySourceErrorMessage:i}={emptySourceErrorMessage:"no supported properties found"}){let n=Po(null),s=!1;for(let o of e){let a=t[o];if(a!==void 0)s=!0,ZU.has(o)&&(a=ZU.get(o)(a)),n[o]=a;else if(r!=="partial"){if(D$.call(r,o))throw new TypeError(`required property '${o}' missing or undefined`);a=wve.get(o),n[o]=a}}if(r==="partial"&&!s)throw new TypeError(i);if(n.era===void 0!=(n.eraYear===void 0))throw new RangeError("properties 'era' and 'eraYear' must be provided together");return n}function _8(t,e="complete"){let r=["hour","microsecond","millisecond","minute","nanosecond","second"],i=lr(t,r,"partial",{emptySourceErrorMessage:"invalid time-like"}),n={};for(let s of r){let o=yve(i,s);o!==void 0?n[s]=o.value:e==="complete"&&(n[s]=0)}return n}function ui(t,e){let r=t;if(Ti(r)){if(gr(r))return r;if(vt(r)&&(fn(e),r=ka(V(r,Fr),V(r,Ko),V(r,ve))),ir(r))return fn(e),jf(V(r,Ve),V(r,Ge),V(r,Qe),V(r,ve));let f=Pg(r);return yh(f,lr(r,Rn(f,["day","month","monthCode","year"]),[]),e)}fn(e);let{year:i,month:n,day:s,calendar:o,z:a}=function(c){return Ac(c)}(Lt(r));if(a)throw new RangeError("Z designator not supported for PlainDate");return new(Mt("%Temporal.PlainDate%"))(i,n,s,o)}function Fw(t,e,r){let{hour:i,minute:n,second:s,millisecond:o,microsecond:a,nanosecond:f}=_8(e),c=fn(r),u=yh(t,e,r),l=V(u,Ve),y=V(u,Ge),m=V(u,Qe);return{hour:i,minute:n,second:s,millisecond:o,microsecond:a,nanosecond:f}=I8(i,n,s,o,a,f,c),{year:l,month:y,day:m,hour:i,minute:n,second:s,millisecond:o,microsecond:a,nanosecond:f}}function x0(t,e){let r,i,n,s,o,a,f,c,u,l;if(Ti(t)){if(ir(t))return t;if(vt(t))return fn(e),ka(V(t,Fr),V(t,Ko),V(t,ve));if(gr(t))return fn(e),aa(V(t,Ve),V(t,Ge),V(t,Qe),0,0,0,0,0,0,V(t,ve));l=Pg(t);let y=lr(t,Rn(l,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:r,month:i,day:n,hour:s,minute:o,second:a,millisecond:f,microsecond:c,nanosecond:u}=Fw(l,y,e))}else{let y;if(fn(e),{year:r,month:i,day:n,hour:s,minute:o,second:a,millisecond:f,microsecond:c,nanosecond:u,calendar:l,z:y}=function(g){return Ac(g)}(Lt(t)),y)throw new RangeError("Z designator not supported for PlainDateTime");Ck(r,i,n,s,o,a,f,c,u),l===void 0&&(l=un()),l=mo(l)}return aa(r,i,n,s,o,a,f,c,u,l)}function bg(t){if(Vi(t))return t;let{years:e,months:r,weeks:i,days:n,hours:s,minutes:o,seconds:a,milliseconds:f,microseconds:c,nanoseconds:u}=L0(t);return new(Mt("%Temporal.Duration%"))(e,r,i,n,s,o,a,f,c,u)}function bc(t){if(Ln(t))return t;if(vt(t))return new(Mt("%Temporal.Instant%"))(V(t,At));let e=Sve(Lt(t));return new(Mt("%Temporal.Instant%"))(e)}function QU(t,e){let r=t;if(Ti(r)){if(po(r))return r;let f,c;if(eo(r,ve))f=V(r,ve),c=!1;else{let l=r.calendar;c=l===void 0,l===void 0&&(l=un()),f=mo(l)}r=r;let u=lr(r,Rn(f,["day","month","monthCode","year"]),[]);return c&&u.month!==void 0&&u.monthCode===void 0&&u.year===void 0&&(u.year=1972),_g(f,u,e)}fn(e);let{month:i,day:n,referenceISOYear:s,calendar:o}=z$(Lt(r)),a=o;return a===void 0&&(a=un()),a=mo(a),s===void 0?(_c(1972,i,n),Tw(i,n,a)):_g(a,Tw(i,n,a,s))}function ql(t,e="constrain"){let r,i,n,s,o,a,f,c=t;if(Ti(c)){if(Ki(c))return c;if(vt(c)&&(c=ka(V(c,Fr),V(c,Ko),V(c,ve))),ir(c))return new(Mt("%Temporal.PlainTime%"))(V(c,zt),V(c,Ft),V(c,Ut),V(c,$t),V(c,Vt),V(c,Kt));if(f=Pg(c),Lt(f)!=="iso8601")throw new RangeError("PlainTime can only have iso8601 calendar");({hour:r,minute:i,second:n,millisecond:s,microsecond:o,nanosecond:a}=_8(c)),{hour:r,minute:i,second:n,millisecond:s,microsecond:o,nanosecond:a}=I8(r,i,n,s,o,a,e)}else if({hour:r,minute:i,second:n,millisecond:s,microsecond:o,nanosecond:a,calendar:f}=function(l){let y=sve.exec(l),m,g,E,x,T,M,I;if(y){m=$r(y[1]),g=$r(y[2]||y[5]),E=$r(y[3]||y[6]),E===60&&(E=59);let R=(y[4]||y[7])+"000000000";x=$r(R.slice(0,3)),T=$r(R.slice(3,6)),M=$r(R.slice(6,9)),I=y[15]}else{let R,O;if({hasTime:O,hour:m,minute:g,second:E,millisecond:x,microsecond:T,nanosecond:M,calendar:I,z:R}=Ac(l),!O)throw new RangeError(`time is missing in string: ${l}`);if(R)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(l))return{hour:m,minute:g,second:E,millisecond:x,microsecond:T,nanosecond:M,calendar:I};try{let{month:R,day:O}=z$(l);_c(1972,R,O)}catch{try{let{year:R,month:O}=q$(l);_c(R,O,1)}catch{return{hour:m,minute:g,second:E,millisecond:x,microsecond:T,nanosecond:M,calendar:I}}}throw new RangeError(`invalid ISO 8601 time-only string ${l}; may need a T prefix`)}(Lt(c)),$8(r,i,n,s,o,a),f!==void 0&&f!=="iso8601")throw new RangeError("PlainTime can only have iso8601 calendar");return new(Mt("%Temporal.PlainTime%"))(r,i,n,s,o,a)}function gw(t,e){if(Ti(t)){if(Cr(t))return t;let a=Pg(t);return I0(a,lr(t,Rn(a,["month","monthCode","year"]),[]),e)}fn(e);let{year:r,month:i,referenceISODay:n,calendar:s}=q$(Lt(t)),o=s;return o===void 0&&(o=un()),o=mo(o),n===void 0?(_c(r,i,1),Pw(r,i,o)):I0(o,Pw(r,i,o,n))}function E8(t,e,r,i,n,s,o,a,f,c,u,l,y,m,g){let E=new(Mt("%Temporal.PlainDateTime%"))(t,e,r,i,n,s,o,a,f);if(c==="wall"||m==="ignore")return V(gs(l,E,y),At);if(c==="exact"||m==="use"){let T=mh(t,e,r,i,n,s,o,a,f);if(T===null)throw new RangeError("ZonedDateTime outside of supported range");return se.default.subtract(T,se.default.BigInt(u))}let x=S8(l,E);for(let T of x){let M=Eu(l,T),I=se.default.toNumber(sa(se.default.BigInt(M),6e10,"halfExpand"));if(M===u||g&&I===u)return V(T,At)}if(m==="reject"){let T=Ik(u),M=gc(l)?V(l,uh):"time zone";throw new RangeError(`Offset ${T} is invalid for ${E.toString()} in ${M}`)}return V(Y$(x,l,E,y),At)}function bw(t,e){let r,i,n,s,o,a,f,c,u,l,y,m,g=!1,E="option";if(Ti(t)){if(vt(t))return t;m=Pg(t);let T=lr(t,HM(Rn(m,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),"timeZone","offset"),["timeZone"]);({year:r,month:i,day:n,hour:s,minute:o,second:a,millisecond:f,microsecond:c,nanosecond:u}=Fw(m,T,e)),l=bs(T.timeZone),y=T.offset,y===void 0?E="wall":y=Lt(y)}else{let T,M;if(fn(e),{year:r,month:i,day:n,hour:s,minute:o,second:a,millisecond:f,microsecond:c,nanosecond:u,ianaName:T,offset:y,z:M,calendar:m}=function(R){let O=Ac(R);if(!O.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return O}(Lt(t)),!T)throw new RangeError("time zone ID required in brackets");M?E="exact":y||(E="wall"),l=new(Mt("%Temporal.TimeZone%"))(T),m||(m=un()),m=mo(m),g=!0}let x=0;return E==="option"&&(x=R0(y)),ko(E8(r,i,n,s,o,a,f,c,u,E,x,l,kw(e),WM(e,"reject"),g),l,m)}function F$(t,e,r,i,n){_c(e,r,i),rV(e,r,i),xc(t),nr(t,Ve,e),nr(t,Ge,r),nr(t,Qe,i),nr(t,ve,n),nr(t,"slot-date-brand",!0)}function jf(t,e,r,i=un()){let n=Mt("%Temporal.PlainDate%"),s=Po(n.prototype);return F$(s,t,e,r,i),s}function U$(t,e,r,i,n,s,o,a,f,c,u){Ck(e,r,i,n,s,o,a,f,c),iV(e,r,i,n,s,o,a,f,c),xc(t),nr(t,Ve,e),nr(t,Ge,r),nr(t,Qe,i),nr(t,zt,n),nr(t,Ft,s),nr(t,Ut,o),nr(t,$t,a),nr(t,Vt,f),nr(t,Kt,c),nr(t,ve,u)}function aa(t,e,r,i,n,s,o,a,f,c=un()){let u=Mt("%Temporal.PlainDateTime%"),l=Po(u.prototype);return U$(l,t,e,r,i,n,s,o,a,f,c),l}function $$(t,e,r,i,n){_c(n,e,r),rV(n,e,r),xc(t),nr(t,Ge,e),nr(t,Qe,r),nr(t,Ve,n),nr(t,ve,i),nr(t,"slot-month-day-brand",!0)}function Tw(t,e,r=un(),i=1972){let n=Mt("%Temporal.PlainMonthDay%"),s=Po(n.prototype);return $$(s,t,e,r,i),s}function V$(t,e,r,i,n){_c(e,r,n),function(o,a){To(o,-271821,275760),o===-271821?To(a,4,12):o===275760&&To(a,1,9)}(e,r),xc(t),nr(t,Ve,e),nr(t,Ge,r),nr(t,Qe,n),nr(t,ve,i),nr(t,"slot-year-month-brand",!0)}function Pw(t,e,r=un(),i=1){let n=Mt("%Temporal.PlainYearMonth%"),s=Po(n.prototype);return V$(s,t,e,r,i),s}function K$(t,e,r,i){S0(e),xc(t),nr(t,At,e),nr(t,Fr,r),nr(t,ve,i);let n=new(Mt("%Temporal.Instant%"))(V(t,At));nr(t,Ko,n)}function ko(t,e,r=un()){let i=Mt("%Temporal.ZonedDateTime%"),n=Po(i.prototype);return K$(n,t,e,r),n}function un(){return new(Mt("%Temporal.Calendar%"))("iso8601")}function Rn(t,e){let r=e;t.fields&&(r=t.fields(r));let i=[];for(let n of r){if(typeof n!="string")throw new TypeError("bad return from calendar.fields()");wk.call(i,n)}return i}function D0(t,e,r){let i=t.mergeFields;if(!i)return{...e,...r};let n=Reflect.apply(i,t,[e,r]);if(!Ti(n))throw new TypeError("bad return from calendar.mergeFields()");return n}function ms(t,e,r,i,n){let s=n;s===void 0&&(s=t.dateAdd);let o=_k(s,t,[e,r,i]);if(!gr(o))throw new TypeError("invalid result");return o}function ph(t,e,r,i,n){let s=n;s===void 0&&(s=t.dateUntil);let o=_k(s,t,[e,r,i]);if(!Vi(o))throw new TypeError("invalid result");return o}function B8(t,e){let r=t.year(e);if(r===void 0)throw new RangeError("calendar year result must be an integer");return ci(r)}function C8(t,e){let r=t.month(e);if(r===void 0)throw new RangeError("calendar month result must be a positive integer");return Mw(r)}function Uw(t,e){let r=t.monthCode(e);if(r===void 0)throw new RangeError("calendar monthCode result must be a string");return Lt(r)}function O8(t,e){let r=t.day(e);if(r===void 0)throw new RangeError("calendar day result must be a positive integer");return Mw(r)}function j8(t,e){let r=t.era(e);return r!==void 0&&(r=Lt(r)),r}function L8(t,e){let r=t.eraYear(e);return r!==void 0&&(r=ci(r)),r}function Ak(t,e){return t.dayOfWeek(e)}function Mk(t,e){return t.dayOfYear(e)}function kk(t,e){return t.weekOfYear(e)}function Tk(t,e){return t.daysInWeek(e)}function $w(t,e){return t.daysInMonth(e)}function N8(t,e){return t.daysInYear(e)}function q8(t,e){return t.monthsInYear(e)}function z8(t,e){return t.inLeapYear(e)}function mo(t){let e=t;if(Ti(e)){if(eo(e,ve))return V(e,ve);if(!("calendar"in e)||(e=e.calendar,Ti(e)&&!("calendar"in e)))return e}let r=Lt(e),i=Mt("%Temporal.Calendar%");if(uV(r))return new i(r);let n;try{({calendar:n}=Ac(r))}catch{throw new RangeError(`Invalid calendar: ${r}`)}return n||(n="iso8601"),new i(n)}function Pg(t){if(eo(t,ve))return V(t,ve);let{calendar:e}=t;return e===void 0?un():mo(e)}function Vw(t,e){return t===e?!0:Lt(t)===Lt(e)}function H$(t,e){if(t===e)return e;let r=Lt(t),i=Lt(e);if(r===i||r==="iso8601")return e;if(i==="iso8601")return t;throw new RangeError("irreconcilable calendars")}function yh(t,e,r){let i=t.dateFromFields(e,r);if(!gr(i))throw new TypeError("invalid result");return i}function I0(t,e,r){let i=t.yearMonthFromFields(e,r);if(!Cr(i))throw new TypeError("invalid result");return i}function _g(t,e,r){let i=t.monthDayFromFields(e,r);if(!po(i))throw new TypeError("invalid result");return i}function bs(t){let e=t;if(Ti(e)){if(vt(e))return V(e,Fr);if(!("timeZone"in e)||(e=e.timeZone,Ti(e)&&!("timeZone"in e)))return e}let r=N$(Lt(e));return new(Mt("%Temporal.TimeZone%"))(r)}function W$(t,e){return t===e?!0:Lt(t)===Lt(e)}function Eg(t){return jf(V(t,Ve),V(t,Ge),V(t,Qe),V(t,ve))}function Pk(t){return new(Mt("%Temporal.PlainTime%"))(V(t,zt),V(t,Ft),V(t,Ut),V(t,$t),V(t,Vt),V(t,Kt))}function Eu(t,e){let r=t.getOffsetNanosecondsFor;if(typeof r!="function")throw new TypeError("getOffsetNanosecondsFor not callable");let i=Reflect.apply(r,t,[e]);if(typeof i!="number")throw new TypeError("bad return from getOffsetNanosecondsFor");if(!j$(i)||xr(i)>864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return i}function ZM(t,e){return Ik(Eu(t,e))}function ka(t,e,r){let i=V(e,At),n=Eu(t,e),{year:s,month:o,day:a,hour:f,minute:c,second:u,millisecond:l,microsecond:y,nanosecond:m}=G$(i);return{year:s,month:o,day:a,hour:f,minute:c,second:u,millisecond:l,microsecond:y,nanosecond:m}=Rk(s,o,a,f,c,u,l,y,m+n),aa(s,o,a,f,c,u,l,y,m,r)}function gs(t,e,r){return Y$(S8(t,e),t,e,r)}function Y$(t,e,r,i){let n=Mt("%Temporal.Instant%"),s=t.length;if(s===1)return t[0];if(s)switch(i){case"compatible":case"earlier":return t[0];case"later":return t[s-1];case"reject":throw new RangeError("multiple instants found")}let o=V(r,Ve),a=V(r,Ge),f=V(r,Qe),c=V(r,zt),u=V(r,Ft),l=V(r,Ut),y=V(r,$t),m=V(r,Vt),g=V(r,Kt),E=mh(o,a,f,c,u,l,y,m,g);if(E===null)throw new RangeError("DateTime outside of supported range");let x=new n(se.default.subtract(E,hh)),T=new n(se.default.add(E,hh)),M=Eu(e,x),I=Eu(e,T)-M;switch(i){case"earlier":{let R=V(r,ve),O=Mt("%Temporal.PlainDateTime%"),B=JM(o,a,f,c,u,l,y,m,g,R,0,0,0,0,0,0,0,0,0,-I,void 0);return S8(e,new O(B.year,B.month,B.day,B.hour,B.minute,B.second,B.millisecond,B.microsecond,B.nanosecond,R))[0]}case"compatible":case"later":{let R=V(r,ve),O=Mt("%Temporal.PlainDateTime%"),B=JM(o,a,f,c,u,l,y,m,g,R,0,0,0,0,0,0,0,0,0,I,void 0),C=S8(e,new O(B.year,B.month,B.day,B.hour,B.minute,B.second,B.millisecond,B.microsecond,B.nanosecond,R));return C[C.length-1]}case"reject":throw new RangeError("no such instant found")}}function S8(t,e){let r=t.getPossibleInstantsFor(e),i=[];for(let n of r){if(!Ln(n))throw new TypeError("bad return from getPossibleInstantsFor");wk.call(i,n)}return i}function N0(t){let e;return t<0||t>9999?e=(t<0?"-":"+")+`000000${xr(t)}`.slice(-6):e=`0000${t}`.slice(-4),e}function Ni(t){return`00${t}`.slice(-2)}function F8(t,e,r,i,n){if(n==="minute")return"";let s=`:${Ni(t)}`,o,a=1e6*e+1e3*r+i;if(n==="auto"){if(a===0)return s;for(o=`${a}`.padStart(9,"0");o[o.length-1]==="0";)o=o.slice(0,-1)}else{if(n===0)return s;o=`${a}`.padStart(9,"0").slice(0,n)}return`${s}.${o}`}function e$(t,e,r){let i=e;i===void 0&&(i=new(Mt("%Temporal.TimeZone%"))("UTC"));let n=ka(i,t,un()),s=N0(V(n,Ve)),o=Ni(V(n,Ge)),a=Ni(V(n,Qe)),f=Ni(V(n,zt)),c=Ni(V(n,Ft)),u=F8(V(n,Ut),V(n,$t),V(n,Vt),V(n,Kt),r),l="Z";return e!==void 0&&(l=Z$(Eu(i,t))),`${s}-${o}-${a}T${f}:${c}${u}${l}`}function NM(t,e="auto",r){function i(W){return W<=pve?W.toString(10):se.default.BigInt(W).toString(10)}let n=V(t,fs),s=V(t,ho),o=V(t,Vs),a=V(t,us),f=V(t,cs),c=V(t,ls),u=V(t,ds),l=V(t,hs),y=V(t,ps),m=V(t,ys),g=wc(n,s,o,a,f,c,u,l,y,m);if(r){let{unit:W,increment:L,roundingMode:j}=r;({seconds:u,milliseconds:l,microseconds:y,nanoseconds:m}=gh(0,0,0,0,0,0,u,l,y,m,L,W,j))}let E=[];n&&E.push(`${i(xr(n))}Y`),s&&E.push(`${i(xr(s))}M`),o&&E.push(`${i(xr(o))}W`),a&&E.push(`${i(xr(a))}D`);let x=[];f&&x.push(`${i(xr(f))}H`),c&&x.push(`${i(xr(c))}M`);let T=[],M,I,R,O,B=Sg(0,0,0,u,l,y,m,0);({quotient:B,remainder:M}=Gn(B,Ur)),{quotient:B,remainder:I}=Gn(B,Ur),{quotient:O,remainder:R}=Gn(B,Ur);let C=1e6*xr(se.default.toNumber(R))+1e3*xr(se.default.toNumber(I))+xr(se.default.toNumber(M)),U;if(e==="auto"){if(C!==0)for(U=`${C}`.padStart(9,"0");U[U.length-1]==="0";)U=U.slice(0,-1)}else e!==0&&(U=`${C}`.padStart(9,"0").slice(0,e));return U&&T.unshift(".",U),se.default.equal(O,an)&&!T.length&&e==="auto"||T.unshift(Sk(O).toString()),T.length&&x.push(`${T.join("")}S`),x.length&&x.unshift("T"),E.length||x.length?`${g<0?"-":""}P${E.join("")}${x.join("")}`:"PT0S"}function t$(t,e="auto"){return`${N0(V(t,Ve))}-${Ni(V(t,Ge))}-${Ni(V(t,Qe))}${Lw(Lt(V(t,ve)),e)}`}function r$(t,e,r="auto",i){let n=V(t,Ve),s=V(t,Ge),o=V(t,Qe),a=V(t,zt),f=V(t,Ft),c=V(t,Ut),u=V(t,$t),l=V(t,Vt),y=V(t,Kt);if(i){let{unit:m,increment:g,roundingMode:E}=i;({year:n,month:s,day:o,hour:a,minute:f,second:c,millisecond:u,microsecond:l,nanosecond:y}=Nk(n,s,o,a,f,c,u,l,y,g,m,E))}return`${N0(n)}-${Ni(s)}-${Ni(o)}T${Ni(a)}:${Ni(f)}${F8(c,u,l,y,e)}${Lw(Lt(V(t,ve)),r)}`}function i$(t,e="auto"){let r=`${Ni(V(t,Ge))}-${Ni(V(t,Qe))}`,i=Lt(V(t,ve));(e==="always"||i!=="iso8601")&&(r=`${N0(V(t,Ve))}-${r}`);let n=Lw(i,e);return n&&(r+=n),r}function n$(t,e="auto"){let r=`${N0(V(t,Ve))}-${Ni(V(t,Ge))}`,i=Lt(V(t,ve));(e==="always"||i!=="iso8601")&&(r+=`-${Ni(V(t,Qe))}`);let n=Lw(i,e);return n&&(r+=n),r}function o$(t,e,r="auto",i="auto",n="auto",s){let o=V(t,Ko);if(s){let{unit:u,increment:l,roundingMode:y}=s,m=A8(V(t,At),l,u,y);o=new(Mt("%Temporal.Instant%"))(m)}let a=V(t,Fr),f=ka(a,o,un()),c=`${N0(V(f,Ve))}-${Ni(V(f,Ge))}-${Ni(V(f,Qe))}T${Ni(V(f,zt))}:${Ni(V(f,Ft))}${F8(V(f,Ut),V(f,$t),V(f,Vt),V(f,Kt),e)}`;return n!=="never"&&(c+=Z$(Eu(a,o))),i!=="never"&&(c+=`[${a}]`),c+=Lw(Lt(V(t,ve)),r),c}function vw(t){return cV.test(jw(t))}function R0(t){let e=cV.exec(jw(t));if(!e)throw new RangeError(`invalid time zone offset: ${t}`);return(e[1]==="-"||e[1]==="\u2212"?-1:1)*(1e9*(60*(60*+e[2]+ +(e[3]||0))+ +(e[4]||0))+ +((e[5]||0)+"000000000").slice(0,9))}function Dk(t){return vw(t)?Ik(R0(t)):L$(jw(t)).resolvedOptions().timeZone}function Ll(t,e){let{year:r,month:i,day:n,hour:s,minute:o,second:a,millisecond:f,microsecond:c,nanosecond:u}=J$(t,e),l=mh(r,i,n,s,o,a,f,c,u);if(l===null)throw new RangeError("Date outside of supported range");return se.default.toNumber(se.default.subtract(l,t))}function Ik(t){let e=t<0?"-":"+",r=xr(t),i=r%1e9,n=Xn(r/1e9)%60,s=Xn(r/6e10)%60,o=Ni(Xn(r/36e11)),a=Ni(s),f=Ni(n),c="";if(i){let u=`${i}`.padStart(9,"0");for(;u[u.length-1]==="0";)u=u.slice(0,-1);c=`:${f}.${u}`}else n&&(c=`:${f}`);return`${e}${o}:${a}${c}`}function Z$(t){let e=se.default.toNumber(sa(se.default.BigInt(t),6e10,"halfExpand")),r=e<0?"-":"+";e=xr(e);let i=e/6e10%60;return`${r}${Ni(Xn(e/36e11))}:${Ni(i)}`}function mh(t,e,r,i,n,s,o,a,f){let c=new Date;c.setUTCHours(i,n,s,o),c.setUTCFullYear(t,e-1,r);let u=c.getTime();if(Ow(u))return null;let l=se.default.multiply(se.default.BigInt(u),lf);return l=se.default.add(l,se.default.multiply(se.default.BigInt(a),Ur)),l=se.default.add(l,se.default.BigInt(f)),se.default.lessThan(l,Sw)||se.default.greaterThan(l,xw)?null:l}function G$(t){let{quotient:e,remainder:r}=Gn(t,lf),i=se.default.toNumber(e),n=se.default.toNumber(r);n<0&&(n+=1e6,i-=1);let s=Xn(n/1e3)%1e3,o=n%1e3,a=new Date(i);return{epochMilliseconds:i,year:a.getUTCFullYear(),month:a.getUTCMonth()+1,day:a.getUTCDate(),hour:a.getUTCHours(),minute:a.getUTCMinutes(),second:a.getUTCSeconds(),millisecond:a.getUTCMilliseconds(),microsecond:s,nanosecond:o}}function J$(t,e){let{epochMilliseconds:r,millisecond:i,microsecond:n,nanosecond:s}=G$(t),{year:o,month:a,day:f,hour:c,minute:u,second:l}=function(m,g){let E=L$(m);return function(T){let M=T.split(/[^\w]+/);if(M.length!==7)throw new RangeError(`expected 7 parts in "${T}`);let I=+M[0],R=+M[1],O=+M[2],B=M[3].toUpperCase();if(B==="B"||B==="BC")O=1-O;else if(B!=="A"&&B!=="AD")throw new RangeError(`Unknown era ${B} in "${T}`);let C=+M[4];C===24&&(C=0);let U=+M[5],W=+M[6];if(!(yo(O)&&yo(I)&&yo(R)&&yo(C)&&yo(U)&&yo(W)))throw new RangeError(`Invalid number in "${T}`);return{year:O,month:I,day:R,hour:C,minute:U,second:W}}(E.format(new Date(g)))}(e,r);return Rk(o,a,f,c,u,l,i,n,s)}function s$(t,e){return se.default.lessThan(t,e)?e:t}function X$(){return se.default.add(zk(),bve)}function Q$(t,e){let r=X$(),i=se.default.greaterThan(t,r),n=i?se.default.subtract(t,C$):B$,s=se.default.subtract(t,Ek),o=Ll(s,e),a=s,f=o;for(;o===f&&se.default.greaterThan(s,n);)a=se.default.subtract(s,O$),f=Ll(a,e),o===f&&(s=a);return o===f?i?Q$(se.default.subtract(r,hh),e):null:lV(c=>Ll(c,e),a,s,f,o)}function lh(t){return t===void 0?!1:t%4==0&&(t%100!=0||t%400==0)}function Fl(t,e){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[lh(t)?"leapyear":"standard"][e-1]}function qM(t,e,r){let i=e+(e<3?10:-2),n=t-(e<3?1:0),s=Xn(n/100),o=n-100*s,a=(r+Xn(2.6*i-.2)+(o+Xn(o/4))+(Xn(s/4)-2*s))%7;return a+(a<=0?7:0)}function x8(t,e,r){let i=r;for(let n=e-1;n>0;n--)i+=Fl(t,n);return i}function wc(t,e,r,i,n,s,o,a,f,c){for(let u of[t,e,r,i,n,s,o,a,f,c])if(u!==0)return u<0?-1:1;return 0}function p8(t,e){let r=t,i=e;if(!yo(r)||!yo(i))throw new RangeError("infinity is out of range");return i-=1,r+=Xn(i/12),i%=12,i<0&&(i+=12),i+=1,{year:r,month:i}}function U8(t,e,r){let i=t,n=e,s=r;if(!yo(s))throw new RangeError("infinity is out of range");({year:i,month:n}=p8(i,n));let o=0,a=n>2?i:i-1;for(;o=lh(a)?366:365,s<-o;)i-=1,a-=1,s+=o;for(a+=1;o=lh(a)?366:365,s>o;)i+=1,a+=1,s-=o;for(;s<1;)({year:i,month:n}=p8(i,n-1)),s+=Fl(i,n);for(;s>Fl(i,n);)s-=Fl(i,n),{year:i,month:n}=p8(i,n+1);return{year:i,month:n,day:s}}function Rk(t,e,r,i,n,s,o,a,f){let{deltaDays:c,hour:u,minute:l,second:y,millisecond:m,microsecond:g,nanosecond:E}=Nl(i,n,s,o,a,f),{year:x,month:T,day:M}=U8(t,e,r+c);return{year:x,month:T,day:M,hour:u,minute:l,second:y,millisecond:m,microsecond:g,nanosecond:E}}function Nl(t,e,r,i,n,s){let o=t,a=e,f=r,c=i,u=n,l=s;if(!(yo(o)&&yo(a)&&yo(f)&&yo(c)&&yo(u)&&yo(l)))throw new RangeError("infinity is out of range");u+=Xn(l/1e3),l=mg(l,1e3),c+=Xn(u/1e3),u=mg(u,1e3),f+=Xn(c/1e3),c=mg(c,1e3),a+=Xn(f/60),f=mg(f,60),o+=Xn(a/60),a=mg(a,60);let y=Xn(o/24);return o=mg(o,24),{deltaDays:y,hour:o,minute:a,second:f,millisecond:c,microsecond:u,nanosecond:l}}function Sg(t,e,r,i,n,s,o,a){let f=se.default.BigInt(t),c=se.default.BigInt(o);t!==0&&(c=se.default.subtract(se.default.BigInt(o),se.default.BigInt(a)));let u=se.default.add(se.default.BigInt(e),se.default.multiply(f,se.default.BigInt(24))),l=se.default.add(se.default.BigInt(r),se.default.multiply(u,A0)),y=se.default.add(se.default.BigInt(i),se.default.multiply(l,A0)),m=se.default.add(se.default.BigInt(n),se.default.multiply(y,Ur)),g=se.default.add(se.default.BigInt(s),se.default.multiply(m,Ur));return se.default.add(se.default.BigInt(c),se.default.multiply(g,Ur))}function Bk(t,e){let r=Mt("%Temporal.Instant%"),i=Ew(se.default.toNumber(t)),n=se.default.BigInt(t),s=864e11;if(i===0)return{days:0,nanoseconds:an,dayLengthNs:s};if(!vt(e)){let M;return{quotient:M,remainder:n}=Gn(n,se.default.BigInt(s)),{days:se.default.toNumber(M),nanoseconds:n,dayLengthNs:s}}let o=V(e,At),a=V(e,Ko),f=se.default.add(o,n),c=new r(f),u=V(e,Fr),l=V(e,ve),y=ka(u,a,l),m=ka(u,c,l),{days:g}=Lk(V(y,Ve),V(y,Ge),V(y,Qe),V(y,zt),V(y,Ft),V(y,Ut),V(y,$t),V(y,Vt),V(y,Kt),V(m,Ve),V(m,Ge),V(m,Qe),V(m,zt),V(m,Ft),V(m,Ut),V(m,$t),V(m,Vt),V(m,Kt),l,"day",Po(null)),E=df(a,u,l,0,0,0,g,0,0,0,0,0,0);if(i===1)for(;g>0&&se.default.greaterThan(E,f);)--g,E=df(a,u,l,0,0,0,g,0,0,0,0,0,0);n=se.default.subtract(f,E);let x=!1,T=new r(E);do{let M=df(T,u,l,0,0,0,i,0,0,0,0,0,0),I=V(T,At);s=se.default.toNumber(se.default.subtract(M,I)),x=se.default.greaterThan(se.default.multiply(se.default.subtract(n,se.default.BigInt(s)),se.default.BigInt(i)),an),x&&(n=se.default.subtract(n,se.default.BigInt(s)),T=new r(M),g+=i)}while(x);return{days:g,nanoseconds:n,dayLengthNs:xr(s)}}function ua(t,e,r,i,n,s,o,a,f){let c,u,l,y,m,g,E=t;if(vt(f)){let T=df(V(f,Ko),V(f,Fr),V(f,ve),0,0,0,E,e,r,i,n,s,o),M=V(f,At);c=se.default.subtract(T,M)}else c=Sg(E,e,r,i,n,s,o,0);a==="year"||a==="month"||a==="week"||a==="day"?{days:E,nanoseconds:c}=Bk(c,f):E=0;let x=se.default.lessThan(c,an)?-1:1;switch(c=Sk(c),u=l=y=m=g=an,a){case"year":case"month":case"week":case"day":case"hour":({quotient:u,remainder:c}=Gn(c,Ur)),{quotient:l,remainder:u}=Gn(u,Ur),{quotient:y,remainder:l}=Gn(l,Ur),{quotient:m,remainder:y}=Gn(y,A0),{quotient:g,remainder:m}=Gn(m,A0);break;case"minute":({quotient:u,remainder:c}=Gn(c,Ur)),{quotient:l,remainder:u}=Gn(u,Ur),{quotient:y,remainder:l}=Gn(l,Ur),{quotient:m,remainder:y}=Gn(y,A0);break;case"second":({quotient:u,remainder:c}=Gn(c,Ur)),{quotient:l,remainder:u}=Gn(u,Ur),{quotient:y,remainder:l}=Gn(l,Ur);break;case"millisecond":({quotient:u,remainder:c}=Gn(c,Ur)),{quotient:l,remainder:u}=Gn(u,Ur);break;case"microsecond":({quotient:u,remainder:c}=Gn(c,Ur));break;case"nanosecond":break;default:throw new Error("assert not reached")}return{days:E,hours:se.default.toNumber(g)*x,minutes:se.default.toNumber(m)*x,seconds:se.default.toNumber(y)*x,milliseconds:se.default.toNumber(l)*x,microseconds:se.default.toNumber(u)*x,nanoseconds:se.default.toNumber(c)*x}}function d8(t,e,r,i,n,s){let o=t,a=e,f=r,c=i,u=Mt("%Temporal.Duration%"),l=wc(o,a,f,c,0,0,0,0,0,0),y,m;s&&(m=ui(s),y=V(m,ve));let g=new u(l),E=new u(0,l),x=new u(0,0,l);switch(n){case"year":break;case"month":{if(!y)throw new RangeError("a starting point is required for months balancing");let T=y.dateAdd,M=y.dateUntil,I=m;for(;xr(o)>0;){let R=ms(y,I,g,void 0,T),O=Po(null);O.largestUnit="month";let B=V(ph(y,I,R,O,M),ho);I=R,a+=B,o-=l}}break;case"week":if(!y)throw new RangeError("a starting point is required for weeks balancing");for(;xr(o)>0;){let T;({relativeTo:m,days:T}=Vo(y,m,g)),c+=T,o-=l}for(;xr(a)>0;){let T;({relativeTo:m,days:T}=Vo(y,m,E)),c+=T,a-=l}break;default:for(;xr(o)>0;){if(!y)throw new RangeError("a starting point is required for balancing calendar units");let T;({relativeTo:m,days:T}=Vo(y,m,g)),c+=T,o-=l}for(;xr(a)>0;){if(!y)throw new RangeError("a starting point is required for balancing calendar units");let T;({relativeTo:m,days:T}=Vo(y,m,E)),c+=T,a-=l}for(;xr(f)>0;){if(!y)throw new RangeError("a starting point is required for balancing calendar units");let T;({relativeTo:m,days:T}=Vo(y,m,x)),c+=T,f-=l}}return{years:o,months:a,weeks:f,days:c}}function a$(t,e,r,i,n){if(vt(t)){let s=V(t,Ko),o=V(t,Fr),a=V(t,ve),f=Eu(o,s),c=df(s,o,a,e,r,i,n,0,0,0,0,0,0);return Eu(o,new(Mt("%Temporal.Instant%"))(c))-f}return 0}function eV(t){return new(Mt("%Temporal.Duration%"))(-V(t,fs),-V(t,ho),-V(t,Vs),-V(t,us),-V(t,cs),-V(t,ls),-V(t,ds),-V(t,hs),-V(t,ps),-V(t,ys))}function fa(t,e,r){return lve(r,dve(e,t))}function tV(t,e,r){let i=fa(e,1,12);return{year:t,month:i,day:fa(r,1,Fl(t,i))}}function To(t,e,r){if(t<e||t>r)throw new RangeError(`value out of range: ${e} <= ${t} <= ${r}`)}function _c(t,e,r){To(e,1,12),To(r,1,Fl(t,e))}function rV(t,e,r){iV(t,e,r,12,0,0,0,0,0)}function $8(t,e,r,i,n,s){To(t,0,23),To(e,0,59),To(r,0,59),To(i,0,999),To(n,0,999),To(s,0,999)}function Ck(t,e,r,i,n,s,o,a,f){_c(t,e,r),$8(i,n,s,o,a,f)}function iV(t,e,r,i,n,s,o,a,f){if(To(t,-271821,275760),t===-271821&&mh(t,e,r+1,i,n,s,o,a,f-1)==null||t===275760&&mh(t,e,r-1,i,n,s,o,a,f+1)==null)throw new RangeError("DateTime outside of supported range")}function S0(t){if(se.default.lessThan(t,Sw)||se.default.greaterThan(t,xw))throw new RangeError("Instant outside of supported range")}function V8(t,e,r,i,n,s,o,a,f,c){let u=wc(t,e,r,i,n,s,o,a,f,c);for(let l of[t,e,r,i,n,s,o,a,f,c]){if(!yo(l))throw new RangeError("infinite values not allowed as duration fields");let y=Ew(l);if(y!==0&&y!==u)throw new RangeError("mixed-sign values not allowed as duration fields")}}function Ok(t,e,r,i,n,s,o){switch(o){case"year":case"month":{let a=-dh(t,e,r,i,n,s);if(a===0)return{years:0,months:0,weeks:0,days:0};let f={year:t,month:e,day:r},c={year:i,month:n,day:s},u=c.year-f.year,l=M0(t,e,r,u,0,0,0,"constrain"),y=-dh(l.year,l.month,l.day,i,n,s);if(y===0)return o==="year"?{years:u,months:0,weeks:0,days:0}:{years:0,months:12*u,weeks:0,days:0};let m=c.month-f.month;if(y!==a&&(u-=a,m+=12*a),l=M0(t,e,r,u,m,0,0,"constrain"),y=-dh(l.year,l.month,l.day,i,n,s),y===0)return o==="year"?{years:u,months:m,weeks:0,days:0}:{years:0,months:m+12*u,weeks:0,days:0};y!==a&&(m-=a,m===-a&&(u-=a,m=11*a),l=M0(t,e,r,u,m,0,0,"constrain"));let g=0;return g=l.month===c.month?c.day-l.day:a<0?-l.day-(Fl(c.year,c.month)-c.day):c.day+(Fl(l.year,l.month)-l.day),o==="month"&&(m+=12*u,u=0),{years:u,months:m,weeks:0,days:g}}case"week":case"day":{let a,f,c;dh(t,e,r,i,n,s)<0?(f={year:t,month:e,day:r},a={year:i,month:n,day:s},c=1):(f={year:i,month:n,day:s},a={year:t,month:e,day:r},c=-1);let u=x8(a.year,a.month,a.day)-x8(f.year,f.month,f.day);for(let y=f.year;y<a.year;++y)u+=lh(y)?366:365;let l=0;return o==="week"&&(l=Xn(u/7),u%=7),l*=c,u*=c,{years:0,months:0,weeks:l,days:u}}default:throw new Error("assert not reached")}}function nV(t,e,r,i,n,s,o,a,f,c,u,l){let y=o-t,m=a-e,g=f-r,E=c-i,x=u-n,T=l-s,M=wc(0,0,0,0,y,m,g,E,x,T);y*=M,m*=M,g*=M,E*=M,x*=M,T*=M;let I=0;if({deltaDays:I,hour:y,minute:m,second:g,millisecond:E,microsecond:x,nanosecond:T}=Nl(y,m,g,E,x,T),I!=0)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return y*=M,m*=M,g*=M,E*=M,x*=M,T*=M,{hours:y,minutes:m,seconds:g,milliseconds:E,microseconds:x,nanoseconds:T}}function jk(t,e,r,i,n){let s=se.default.subtract(e,t),o=se.default.remainder(s,se.default.BigInt(864e11)),a=se.default.subtract(s,o),f=sa(o,Fk[i]*r,n),c=se.default.add(a,f),u=se.default.toNumber(se.default.remainder(c,Ur)),l=se.default.toNumber(se.default.remainder(se.default.divide(c,Ur),Ur)),y=se.default.toNumber(se.default.remainder(se.default.divide(c,lf),Ur));return{seconds:se.default.toNumber(se.default.divide(c,zl)),milliseconds:y,microseconds:l,nanoseconds:u}}function Lk(t,e,r,i,n,s,o,a,f,c,u,l,y,m,g,E,x,T,M,I,R){let O=t,B=e,C=r,{hours:U,minutes:W,seconds:L,milliseconds:j,microseconds:k,nanoseconds:P}=nV(i,n,s,o,a,f,y,m,g,E,x,T),p=wc(0,0,0,0,U,W,L,j,k,P);dh(c,u,l,O,B,C)===-p&&({year:O,month:B,day:C}=U8(O,B,C-p),{hours:U,minutes:W,seconds:L,milliseconds:j,microseconds:k,nanoseconds:P}=ua(-p,U,W,L,j,k,P,I));let d=jf(O,B,C,M),h=jf(c,u,l,M),b=R8(R,ca("day",I)),{years:v,months:w,weeks:_,days:D}=ph(M,d,h,b);return{days:D,hours:U,minutes:W,seconds:L,milliseconds:j,microseconds:k,nanoseconds:P}=ua(D,U,W,L,j,k,P,I),{years:v,months:w,weeks:_,days:D,hours:U,minutes:W,seconds:L,milliseconds:j,microseconds:k,nanoseconds:P}}function oV(t,e,r,i,n,s){let o=se.default.subtract(e,t);if(se.default.equal(o,an))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let a=Mt("%Temporal.Instant%"),f=new a(t),c=new a(e),u=ka(r,f,i),l=ka(r,c,i),{years:y,months:m,weeks:g,days:E}=Lk(V(u,Ve),V(u,Ge),V(u,Qe),V(u,zt),V(u,Ft),V(u,Ut),V(u,$t),V(u,Vt),V(u,Kt),V(l,Ve),V(l,Ge),V(l,Qe),V(l,zt),V(l,Ft),V(l,Ut),V(l,$t),V(l,Vt),V(l,Kt),i,n,s),x=df(f,r,i,y,m,g,0,0,0,0,0,0,0),T=se.default.subtract(e,x),M=ko(x,r,i);({nanoseconds:T,days:E}=Bk(T,M));let{hours:I,minutes:R,seconds:O,milliseconds:B,microseconds:C,nanoseconds:U}=ua(0,0,0,0,0,0,se.default.toNumber(T),"hour");return{years:y,months:m,weeks:g,days:E,hours:I,minutes:R,seconds:O,milliseconds:B,microseconds:C,nanoseconds:U}}function f$(t,e,r,i){let n=bc(r),s,o;[s,o]=t==="until"?[e,n]:[n,e];let a=hr(i),f=Qn(a,"smallestUnit","time","nanosecond"),c=ca("second",f),u=Qn(a,"largestUnit","time","auto");if(u==="auto"&&(u=c),ca(u,f)!==u)throw new RangeError(`largestUnit ${u} cannot be smaller than smallestUnit ${f}`);let l=Ks(a,"trunc"),y=Vl(a,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[f],!1),m=V(s,At),g=V(o,At),E,x,{seconds:T,milliseconds:M,microseconds:I,nanoseconds:R}=jk(m,g,y,f,l);return{hours:E,minutes:x,seconds:T,milliseconds:M,microseconds:I,nanoseconds:R}=ua(0,0,0,T,M,I,R,u),new(Mt("%Temporal.Duration%"))(0,0,0,0,E,x,T,M,I,R)}function u$(t,e,r,i){let n=t==="since"?-1:1,s=ui(r),o=V(e,ve),a=V(s,ve),f=Lt(o),c=Lt(a);if(f!==c)throw new RangeError(`cannot compute difference between dates of ${f} and ${c} calendars`);let u=hr(i),l=Qn(u,"smallestUnit","date","day"),y=ca("day",l),m=Qn(u,"largestUnit","date","auto");if(m==="auto"&&(m=y),ca(m,l)!==m)throw new RangeError(`largestUnit ${m} cannot be smaller than smallestUnit ${l}`);let g=Ks(u,"trunc");t==="since"&&(g=Nw(g));let E=Vl(u,void 0,!1),x=R8(u,m),{years:T,months:M,weeks:I,days:R}=ph(o,e,s,x);return l==="day"&&E===1||({years:T,months:M,weeks:I,days:R}=gh(T,M,I,R,0,0,0,0,0,0,E,l,g,e)),new(Mt("%Temporal.Duration%"))(n*T,n*M,n*I,n*R,0,0,0,0,0,0)}function c$(t,e,r,i){let n=t==="since"?-1:1,s=x0(r),o=V(e,ve),a=V(s,ve),f=Lt(o),c=Lt(a);if(f!==c)throw new RangeError(`cannot compute difference between dates of ${f} and ${c} calendars`);let u=hr(i),l=Qn(u,"smallestUnit","datetime","nanosecond"),y=ca("day",l),m=Qn(u,"largestUnit","datetime","auto");if(m==="auto"&&(m=y),ca(m,l)!==m)throw new RangeError(`largestUnit ${m} cannot be smaller than smallestUnit ${l}`);let g=Ks(u,"trunc");t==="since"&&(g=Nw(g));let E=xk(u,l),{years:x,months:T,weeks:M,days:I,hours:R,minutes:O,seconds:B,milliseconds:C,microseconds:U,nanoseconds:W}=Lk(V(e,Ve),V(e,Ge),V(e,Qe),V(e,zt),V(e,Ft),V(e,Ut),V(e,$t),V(e,Vt),V(e,Kt),V(s,Ve),V(s,Ge),V(s,Qe),V(s,zt),V(s,Ft),V(s,Ut),V(s,$t),V(s,Vt),V(s,Kt),o,m,u),L=Eg(e);return{years:x,months:T,weeks:M,days:I,hours:R,minutes:O,seconds:B,milliseconds:C,microseconds:U,nanoseconds:W}=gh(x,T,M,I,R,O,B,C,U,W,E,l,g,L),{days:I,hours:R,minutes:O,seconds:B,milliseconds:C,microseconds:U,nanoseconds:W}=ua(I,R,O,B,C,U,W,m),new(Mt("%Temporal.Duration%"))(n*x,n*T,n*M,n*I,n*R,n*O,n*B,n*C,n*U,n*W)}function l$(t,e,r,i){let n=t==="since"?-1:1,s=ql(r),o=hr(i),a=Qn(o,"largestUnit","time","auto");a==="auto"&&(a="hour");let f=Qn(o,"smallestUnit","time","nanosecond");if(ca(a,f)!==a)throw new RangeError(`largestUnit ${a} cannot be smaller than smallestUnit ${f}`);let c=Ks(o,"trunc");t==="since"&&(c=Nw(c));let u=Vl(o,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[f],!1),{hours:l,minutes:y,seconds:m,milliseconds:g,microseconds:E,nanoseconds:x}=nV(V(e,zt),V(e,Ft),V(e,Ut),V(e,$t),V(e,Vt),V(e,Kt),V(s,zt),V(s,Ft),V(s,Ut),V(s,$t),V(s,Vt),V(s,Kt));return{hours:l,minutes:y,seconds:m,milliseconds:g,microseconds:E,nanoseconds:x}=gh(0,0,0,0,l,y,m,g,E,x,u,f,c),{hours:l,minutes:y,seconds:m,milliseconds:g,microseconds:E,nanoseconds:x}=ua(0,l,y,m,g,E,x,a),new(Mt("%Temporal.Duration%"))(0,0,0,0,n*l,n*y,n*m,n*g,n*E,n*x)}function d$(t,e,r,i){let n=t==="since"?-1:1,s=gw(r),o=V(e,ve),a=V(s,ve),f=Lt(o),c=Lt(a);if(f!==c)throw new RangeError(`cannot compute difference between months of ${f} and ${c} calendars`);let u=hr(i),l=kg.reduce((U,[W,L,j])=>(j==="date"&&L!=="week"&&L!=="day"&&U.push(L,W),U),[]),y=Qn(u,"smallestUnit","date","month");if(y==="week"||y==="day")throw new RangeError(`smallestUnit must be one of ${l.join(", ")}, not ${y}`);let m=Qn(u,"largestUnit","date","auto");if(m==="week"||m==="day")throw new RangeError(`largestUnit must be one of ${l.join(", ")}, not ${m}`);if(m==="auto"&&(m="year"),ca(m,y)!==m)throw new RangeError(`largestUnit ${m} cannot be smaller than smallestUnit ${y}`);let g=Ks(u,"trunc");t==="since"&&(g=Nw(g));let E=Vl(u,void 0,!1),x=Rn(o,["monthCode","year"]),T=lr(s,x,[]);T.day=1;let M=lr(e,x,[]);M.day=1;let I=yh(o,T),R=yh(o,M),O=R8(u,m),{years:B,months:C}=ph(o,R,I,O);return y==="month"&&E===1||({years:B,months:C}=gh(B,C,0,0,0,0,0,0,0,0,E,y,g,R)),new(Mt("%Temporal.Duration%"))(n*B,n*C,0,0,0,0,0,0,0,0)}function h$(t,e,r,i){let n=t==="since"?-1:1,s=bw(r),o=V(e,ve),a=V(s,ve),f=Lt(o),c=Lt(a);if(f!==c)throw new RangeError(`cannot compute difference between dates of ${f} and ${c} calendars`);let u=hr(i),l=Qn(u,"smallestUnit","datetime","nanosecond"),y=ca("hour",l),m=Qn(u,"largestUnit","datetime","auto");if(m==="auto"&&(m=y),ca(m,l)!==m)throw new RangeError(`largestUnit ${m} cannot be smaller than smallestUnit ${l}`);let g=Ks(u,"trunc");t==="since"&&(g=Nw(g));let E=xk(u,l),x=V(e,At),T=V(s,At),M,I,R,O,B,C,U,W,L,j;if(m!=="year"&&m!=="month"&&m!=="week"&&m!=="day")M=0,I=0,R=0,O=0,{seconds:U,milliseconds:W,microseconds:L,nanoseconds:j}=jk(x,T,E,l,g),{hours:B,minutes:C,seconds:U,milliseconds:W,microseconds:L,nanoseconds:j}=ua(0,0,0,U,W,L,j,m);else{let k=V(e,Fr);if(!W$(k,V(s,Fr)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");let P=R8(u,m);({years:M,months:I,weeks:R,days:O,hours:B,minutes:C,seconds:U,milliseconds:W,microseconds:L,nanoseconds:j}=oV(x,T,k,o,m,P)),{years:M,months:I,weeks:R,days:O,hours:B,minutes:C,seconds:U,milliseconds:W,microseconds:L,nanoseconds:j}=gh(M,I,R,O,B,C,U,W,L,j,E,l,g,e),{years:M,months:I,weeks:R,days:O,hours:B,minutes:C,seconds:U,milliseconds:W,microseconds:L,nanoseconds:j}=fV(M,I,R,O,B,C,U,W,L,j,E,l,g,e)}return new(Mt("%Temporal.Duration%"))(n*M,n*I,n*R,n*O,n*B,n*C,n*U,n*W,n*L,n*j)}function M0(t,e,r,i,n,s,o,a){let f=t,c=e,u=r,l=s,y=o;return f+=i,c+=n,{year:f,month:c}=p8(f,c),{year:f,month:c,day:u}=w8(f,c,u,a),y+=7*l,u+=y,{year:f,month:c,day:u}=U8(f,c,u),{year:f,month:c,day:u}}function sV(t,e,r,i,n,s,o,a,f,c,u,l){let y=t,m=e,g=r,E=i,x=n,T=s;y+=o,m+=a,g+=f,E+=c,x+=u,T+=l;let M=0;return{deltaDays:M,hour:y,minute:m,second:g,millisecond:E,microsecond:x,nanosecond:T}=Nl(y,m,g,E,x,T),{deltaDays:M,hour:y,minute:m,second:g,millisecond:E,microsecond:x,nanosecond:T}}function aV(t,e,r,i,n,s,o,a,f,c,u,l,y,m,g,E,x,T,M,I,R){let O=ca(YM(t,e,r,i,n,s,o,a,f,c),YM(u,l,y,m,g,E,x,T,M,I)),B,C,U,W,L,j,k,P,p,d;if(R)if(gr(R)){let h=Mt("%Temporal.Duration%"),b=V(R,ve),v=new h(t,e,r,i,0,0,0,0,0,0),w=new h(u,l,y,m,0,0,0,0,0,0),_=b.dateAdd,D=ms(b,R,v,void 0,_),S=ms(b,D,w,void 0,_),A=ca("day",O),N=Po(null);N.largestUnit=A,{years:B,months:C,weeks:U,days:W}=ph(b,R,S,N),{days:W,hours:L,minutes:j,seconds:k,milliseconds:P,microseconds:p,nanoseconds:d}=ua(W,n+g,s+E,o+x,a+T,f+M,c+I,O)}else{let h=Mt("%Temporal.Instant%"),b=V(R,Fr),v=V(R,ve),w=df(V(R,Ko),b,v,t,e,r,i,n,s,o,a,f,c),_=df(new h(w),b,v,u,l,y,m,g,E,x,T,M,I);O!=="year"&&O!=="month"&&O!=="week"&&O!=="day"?(B=0,C=0,U=0,W=0,{seconds:k,milliseconds:P,microseconds:p,nanoseconds:d}=jk(V(R,At),_,1,"nanosecond","halfExpand"),{hours:L,minutes:j,seconds:k,milliseconds:P,microseconds:p,nanoseconds:d}=ua(0,0,0,k,P,p,d,O)):{years:B,months:C,weeks:U,days:W,hours:L,minutes:j,seconds:k,milliseconds:P,microseconds:p,nanoseconds:d}=oV(V(R,At),_,b,v,O,Po(null))}else{if(O==="year"||O==="month"||O==="week")throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");B=C=U=0,{days:W,hours:L,minutes:j,seconds:k,milliseconds:P,microseconds:p,nanoseconds:d}=ua(i+m,n+g,s+E,o+x,a+T,f+M,c+I,O)}return V8(B,C,U,W,L,j,k,P,p,d),{years:B,months:C,weeks:U,days:W,hours:L,minutes:j,seconds:k,milliseconds:P,microseconds:p,nanoseconds:d}}function GM(t,e,r,i,n,s,o){let a=an;a=se.default.add(a,se.default.BigInt(o)),a=se.default.add(a,se.default.multiply(se.default.BigInt(s),Ur)),a=se.default.add(a,se.default.multiply(se.default.BigInt(n),lf)),a=se.default.add(a,se.default.multiply(se.default.BigInt(i),zl)),a=se.default.add(a,se.default.multiply(se.default.BigInt(r),se.default.BigInt(6e10))),a=se.default.add(a,se.default.multiply(se.default.BigInt(e),se.default.BigInt(36e11)));let f=se.default.add(t,a);return S0(f),f}function JM(t,e,r,i,n,s,o,a,f,c,u,l,y,m,g,E,x,T,M,I,R){let O=m,{deltaDays:B,hour:C,minute:U,second:W,millisecond:L,microsecond:j,nanosecond:k}=sV(i,n,s,o,a,f,g,E,x,T,M,I);O+=B;let P=Mt("%Temporal.Duration%"),p=ms(c,jf(t,e,r,c),new P(u,l,y,O,0,0,0,0,0,0),R);return{year:V(p,Ve),month:V(p,Ge),day:V(p,Qe),hour:C,minute:U,second:W,millisecond:L,microsecond:j,nanosecond:k}}function df(t,e,r,i,n,s,o,a,f,c,u,l,y,m){let g=Mt("%Temporal.Duration%");if(wc(i,n,s,o,0,0,0,0,0,0)===0)return GM(V(t,At),a,f,c,u,l,y);let E=ka(e,t,r),x=ms(r,jf(V(E,Ve),V(E,Ge),V(E,Qe),r),new g(i,n,s,o,0,0,0,0,0,0),m),T=aa(V(x,Ve),V(x,Ge),V(x,Qe),V(E,zt),V(E,Ft),V(E,Ut),V(E,$t),V(E,Vt),V(E,Kt),r);return GM(V(gs(e,T,"compatible"),At),a,f,c,u,l,y)}function p$(t,e,r,i){let n=t==="subtract"?-1:1,{years:s,months:o,weeks:a,days:f,hours:c,minutes:u,seconds:l,milliseconds:y,microseconds:m,nanoseconds:g}=L0(r),E=h8(hr(i));return{years:s,months:o,weeks:a,days:f,hours:c,minutes:u,seconds:l,milliseconds:y,microseconds:m,nanoseconds:g}=aV(V(e,fs),V(e,ho),V(e,Vs),V(e,us),V(e,cs),V(e,ls),V(e,ds),V(e,hs),V(e,ps),V(e,ys),n*s,n*o,n*a,n*f,n*c,n*u,n*l,n*y,n*m,n*g,E),new(Mt("%Temporal.Duration%"))(s,o,a,f,c,u,l,y,m,g)}function y$(t,e,r){let i=t==="subtract"?-1:1,{hours:n,minutes:s,seconds:o,milliseconds:a,microseconds:f,nanoseconds:c}=function(y,m){let g=L0(y);for(let E of m)if(g[E]!==0)throw new RangeError(`Duration field ${E} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return g}(r,["years","months","weeks","days"]),u=GM(V(e,At),i*n,i*s,i*o,i*a,i*f,i*c);return new(Mt("%Temporal.Instant%"))(u)}function m$(t,e,r,i){let n=t==="subtract"?-1:1,{years:s,months:o,weeks:a,days:f,hours:c,minutes:u,seconds:l,milliseconds:y,microseconds:m,nanoseconds:g}=L0(r),E=hr(i),x=V(e,ve),{year:T,month:M,day:I,hour:R,minute:O,second:B,millisecond:C,microsecond:U,nanosecond:W}=JM(V(e,Ve),V(e,Ge),V(e,Qe),V(e,zt),V(e,Ft),V(e,Ut),V(e,$t),V(e,Vt),V(e,Kt),x,n*s,n*o,n*a,n*f,n*c,n*u,n*l,n*y,n*m,n*g,E);return aa(T,M,I,R,O,B,C,U,W,x)}function g$(t,e,r){let i=t==="subtract"?-1:1,{hours:n,minutes:s,seconds:o,milliseconds:a,microseconds:f,nanoseconds:c}=L0(r),{hour:u,minute:l,second:y,millisecond:m,microsecond:g,nanosecond:E}=sV(V(e,zt),V(e,Ft),V(e,Ut),V(e,$t),V(e,Vt),V(e,Kt),i*n,i*s,i*o,i*a,i*f,i*c);return{hour:u,minute:l,second:y,millisecond:m,microsecond:g,nanosecond:E}=I8(u,l,y,m,g,E,"reject"),new(Mt("%Temporal.PlainTime%"))(u,l,y,m,g,E)}function b$(t,e,r,i){let n=L0(r);t==="subtract"&&(n={years:-n.years,months:-n.months,weeks:-n.weeks,days:-n.days,hours:-n.hours,minutes:-n.minutes,seconds:-n.seconds,milliseconds:-n.milliseconds,microseconds:-n.microseconds,nanoseconds:-n.nanoseconds});let{years:s,months:o,weeks:a,days:f,hours:c,minutes:u,seconds:l,milliseconds:y,microseconds:m,nanoseconds:g}=n;({days:f}=ua(f,c,u,l,y,m,g,"day"));let E=hr(i),x=V(e,ve),T=Rn(x,["monthCode","year"]),M=lr(e,T,[]),I=wc(s,o,a,f,0,0,0,0,0,0);M.day=I<0?Mw($w(x,e)):1;let R=yh(x,M),O=new(Mt("%Temporal.Duration%"))(s,o,a,f,0,0,0,0,0,0),B=R$(Po(null),E);return I0(x,lr(ms(x,R,O,E),T,[]),B)}function v$(t,e,r,i){let n=t==="subtract"?-1:1,{years:s,months:o,weeks:a,days:f,hours:c,minutes:u,seconds:l,milliseconds:y,microseconds:m,nanoseconds:g}=L0(r),E=hr(i),x=V(e,Fr),T=V(e,ve);return ko(df(V(e,Ko),x,T,n*s,n*o,n*a,n*f,n*c,n*u,n*l,n*y,n*m,n*g,E),x,T)}function sa(t,e,r){if(e===1)return t;let{quotient:i,remainder:n}=Gn(t,se.default.BigInt(e));if(se.default.equal(n,an))return t;let s=se.default.lessThan(n,an)?-1:1;switch(r){case"ceil":s>0&&(i=se.default.add(i,se.default.BigInt(s)));break;case"floor":s<0&&(i=se.default.add(i,se.default.BigInt(s)));break;case"trunc":break;case"halfExpand":se.default.toNumber(Sk(se.default.multiply(n,se.default.BigInt(2))))>=e&&(i=se.default.add(i,se.default.BigInt(s)))}return se.default.multiply(i,se.default.BigInt(e))}function A8(t,e,r,i){let n=se.default.remainder(t,se.default.BigInt(864e11));se.default.lessThan(n,an)&&(n=se.default.add(n,se.default.BigInt(864e11)));let s=se.default.subtract(t,n),o=sa(n,Fk[r]*e,i);return se.default.add(s,o)}function Nk(t,e,r,i,n,s,o,a,f,c,u,l,y=864e11){let{deltaDays:m,hour:g,minute:E,second:x,millisecond:T,microsecond:M,nanosecond:I}=qk(i,n,s,o,a,f,c,u,l,y),{year:R,month:O,day:B}=U8(t,e,r+m);return{year:R,month:O,day:B,hour:g,minute:E,second:x,millisecond:T,microsecond:M,nanosecond:I}}function qk(t,e,r,i,n,s,o,a,f,c=864e11){let u=an;switch(a){case"day":case"hour":u=se.default.BigInt(t);case"minute":u=se.default.add(se.default.multiply(u,A0),se.default.BigInt(e));case"second":u=se.default.add(se.default.multiply(u,A0),se.default.BigInt(r));case"millisecond":u=se.default.add(se.default.multiply(u,Ur),se.default.BigInt(i));case"microsecond":u=se.default.add(se.default.multiply(u,Ur),se.default.BigInt(n));case"nanosecond":u=se.default.add(se.default.multiply(u,Ur),se.default.BigInt(s))}let l=a==="day"?c:Fk[a],y=sa(u,l*o,f),m=se.default.toNumber(se.default.divide(y,se.default.BigInt(l)));switch(a){case"day":return{deltaDays:m,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return Nl(m,0,0,0,0,0);case"minute":return Nl(t,m,0,0,0,0);case"second":return Nl(t,e,m,0,0,0);case"millisecond":return Nl(t,e,r,m,0,0);case"microsecond":return Nl(t,e,r,i,m,0);case"nanosecond":return Nl(t,e,r,i,n,m);default:throw new Error(`Invalid unit ${a}`)}}function y8(t,e){return Ok(V(t,Ve),V(t,Ge),V(t,Qe),V(e,Ve),V(e,Ge),V(e,Qe),"day").days}function Vo(t,e,r){let i=ms(t,e,r,void 0);return{relativeTo:i,days:y8(e,i)}}function XM(t,e,r,i,n){let s=V(t,Fr),o=V(t,ve);return ko(df(V(t,Ko),s,o,e,r,i,n,0,0,0,0,0,0),s,o)}function fV(t,e,r,i,n,s,o,a,f,c,u,l,y,m){let g=t,E=e,x=r,T=i,M=n,I=s,R=o,O=a,B=f,C=c;if(!vt(m)||l==="year"||l==="month"||l==="week"||l==="day"||l==="nanosecond"&&u===1)return{years:g,months:E,weeks:x,days:T,hours:M,minutes:I,seconds:R,milliseconds:O,microseconds:B,nanoseconds:C};let U=Sg(0,M,I,R,O,B,C,0),W=Ew(se.default.toNumber(U)),L=V(m,Fr),j=V(m,ve),k=df(V(m,Ko),L,j,g,E,x,T,0,0,0,0,0,0),P=df(new(Mt("%Temporal.Instant%"))(k),L,j,0,0,0,W,0,0,0,0,0,0),p=se.default.subtract(P,k);return se.default.greaterThanOrEqual(se.default.multiply(se.default.subtract(U,p),se.default.BigInt(W)),an)&&({years:g,months:E,weeks:x,days:T}=aV(g,E,x,T,0,0,0,0,0,0,0,0,0,W,0,0,0,0,0,0,m),U=A8(se.default.subtract(U,p),u,l,y),{hours:M,minutes:I,seconds:R,milliseconds:O,microseconds:B,nanoseconds:C}=ua(0,0,0,0,0,0,se.default.toNumber(U),"hour")),{years:g,months:E,weeks:x,days:T,hours:M,minutes:I,seconds:R,milliseconds:O,microseconds:B,nanoseconds:C}}function gh(t,e,r,i,n,s,o,a,f,c,u,l,y,m){let g=t,E=e,x=r,T=i,M=n,I=s,R=o,O=a,B=f,C=se.default.BigInt(c),U=Mt("%Temporal.Duration%"),W,L,j,k,P=m;if(P){if(vt(P))L=P,P=ui(P);else if(!gr(P))throw new TypeError("starting point must be PlainDate or ZonedDateTime");W=V(P,ve)}if(l==="year"||l==="month"||l==="week"||l==="day"){let p,d,h;C=Sg(0,M,I,R,O,B,c,0),L&&(p=XM(L,g,E,x,T)),{days:d,nanoseconds:C,dayLengthNs:h}=Bk(C,p),j=se.default.BigInt(h),T+=d,M=I=R=O=B=0}switch(l){case"year":{if(!W)throw new RangeError("A starting point is required for years rounding");let p=new U(g),d=W.dateAdd,h=ms(W,P,p,void 0,d),b=ms(W,P,new U(g,E,x),void 0,d);P=h,T+=y8(h,b);let v=ms(W,P,{days:T},void 0,d),w=Po(null);w.largestUnit="year";let _=ph(W,P,v,w).years;g+=_;let D=P;P=ms(W,P,{years:_},void 0,d),T-=y8(D,P);let S=new U(T<0?-1:1),{days:A}=Vo(W,P,S);A=xr(A);let N=se.default.multiply(se.default.BigInt(A),j);C=se.default.add(se.default.add(se.default.multiply(N,se.default.BigInt(g)),se.default.multiply(se.default.BigInt(T),j)),C);let G=sa(C,se.default.toNumber(se.default.multiply(N,se.default.BigInt(u))),y);k=se.default.toNumber(C)/se.default.toNumber(N),g=se.default.toNumber(se.default.divide(G,N)),C=an,E=x=T=0;break}case"month":{if(!W)throw new RangeError("A starting point is required for months rounding");let p=new U(g,E),d=W.dateAdd,h=ms(W,P,p,void 0,d),b=ms(W,P,new U(g,E,x),void 0,d);P=h,T+=y8(h,b);let v=Ew(T),w=new U(0,T<0?-1:1),_;for({relativeTo:P,days:_}=Vo(W,P,w);xr(T)>=xr(_);)E+=v,T-=_,{relativeTo:P,days:_}=Vo(W,P,w);_=xr(_);let D=se.default.multiply(se.default.BigInt(_),j);C=se.default.add(se.default.add(se.default.multiply(D,se.default.BigInt(E)),se.default.multiply(se.default.BigInt(T),j)),C);let S=sa(C,se.default.toNumber(se.default.multiply(D,se.default.BigInt(u))),y);k=se.default.toNumber(C)/se.default.toNumber(D),E=se.default.toNumber(se.default.divide(S,D)),C=an,x=T=0;break}case"week":{if(!W)throw new RangeError("A starting point is required for weeks rounding");let p=Ew(T),d=new U(0,0,T<0?-1:1),h;for({relativeTo:P,days:h}=Vo(W,P,d);xr(T)>=xr(h);)x+=p,T-=h,{relativeTo:P,days:h}=Vo(W,P,d);h=xr(h);let b=se.default.multiply(se.default.BigInt(h),j);C=se.default.add(se.default.add(se.default.multiply(b,se.default.BigInt(x)),se.default.multiply(se.default.BigInt(T),j)),C);let v=sa(C,se.default.toNumber(se.default.multiply(b,se.default.BigInt(u))),y);k=se.default.toNumber(C)/se.default.toNumber(b),x=se.default.toNumber(se.default.divide(v,b)),C=an,T=0;break}case"day":{let p=j;C=se.default.add(se.default.multiply(p,se.default.BigInt(T)),C);let d=sa(C,se.default.toNumber(se.default.multiply(p,se.default.BigInt(u))),y);k=se.default.toNumber(C)/se.default.toNumber(p),T=se.default.toNumber(se.default.divide(d,p)),C=an;break}case"hour":{let d=se.default.multiply(se.default.BigInt(M),se.default.BigInt(36e11));d=se.default.add(d,se.default.multiply(se.default.BigInt(I),se.default.BigInt(6e10))),d=se.default.add(d,se.default.multiply(se.default.BigInt(R),zl)),d=se.default.add(d,se.default.multiply(se.default.BigInt(O),lf)),d=se.default.add(d,se.default.multiply(se.default.BigInt(B),Ur)),d=se.default.add(d,C),k=se.default.toNumber(d)/36e11;let h=sa(d,36e11*u,y);M=se.default.toNumber(se.default.divide(h,se.default.BigInt(36e11))),C=an,I=R=O=B=0;break}case"minute":{let d=se.default.multiply(se.default.BigInt(I),se.default.BigInt(6e10));d=se.default.add(d,se.default.multiply(se.default.BigInt(R),zl)),d=se.default.add(d,se.default.multiply(se.default.BigInt(O),lf)),d=se.default.add(d,se.default.multiply(se.default.BigInt(B),Ur)),d=se.default.add(d,C),k=se.default.toNumber(d)/6e10;let h=sa(d,6e10*u,y);I=se.default.toNumber(se.default.divide(h,se.default.BigInt(6e10))),C=an,R=O=B=0;break}case"second":{let d=se.default.multiply(se.default.BigInt(R),zl);d=se.default.add(d,se.default.multiply(se.default.BigInt(O),lf)),d=se.default.add(d,se.default.multiply(se.default.BigInt(B),Ur)),d=se.default.add(d,C),k=se.default.toNumber(d)/1e9;let h=sa(d,1e9*u,y);R=se.default.toNumber(se.default.divide(h,se.default.BigInt(1e9))),C=an,O=B=0;break}case"millisecond":{let d=se.default.multiply(se.default.BigInt(O),lf);d=se.default.add(d,se.default.multiply(se.default.BigInt(B),Ur)),d=se.default.add(d,C),k=se.default.toNumber(d)/1e6;let h=sa(d,1e6*u,y);O=se.default.toNumber(se.default.divide(h,se.default.BigInt(1e6))),C=an,B=0;break}case"microsecond":{let d=se.default.multiply(se.default.BigInt(B),Ur);d=se.default.add(d,C),k=se.default.toNumber(d)/1e3;let h=sa(d,1e3*u,y);B=se.default.toNumber(se.default.divide(h,se.default.BigInt(1e3))),C=an;break}case"nanosecond":k=se.default.toNumber(C),C=sa(C,u,y)}return{years:g,months:E,weeks:x,days:T,hours:M,minutes:I,seconds:R,milliseconds:O,microseconds:B,nanoseconds:se.default.toNumber(C),total:k}}function dh(t,e,r,i,n,s){for(let[o,a]of[[t,i],[e,n],[r,s]])if(o!==a)return k0(o-a);return 0}function mg(t,e){let r=t%e;return mve(r,-0)?0:(r<0&&(r+=e),r)}function M8(t){let e=ww(t);return globalThis.BigInt!==void 0?globalThis.BigInt(e.toString(10)):e}function ww(t){if(t instanceof se.default)return t;let e=t;if(typeof t=="object"){let r=t[Symbol.toPrimitive];r&&typeof r=="function"&&(e=_k(r,t,["number"]))}switch(typeof e){case"undefined":case"object":case"number":case"symbol":default:throw new TypeError(`cannot convert ${typeof t} to bigint`);case"string":if(!e.match(/^\s*(?:[+-]?\d+\s*)?$/))throw new SyntaxError("invalid BigInt syntax");case"bigint":try{return se.default.BigInt(e.toString())}catch(r){throw r instanceof Error&&r.message.startsWith("Invalid integer")?new SyntaxError(r.message):r}case"boolean":return e?Ek:an}}var zk=(()=>{let t=se.default.BigInt(Date.now()%1e6);return()=>{let e=se.default.BigInt(Date.now()),r=se.default.add(se.default.multiply(e,lf),t);return t=se.default.remainder(e,lf),se.default.greaterThan(r,xw)?xw:se.default.lessThan(r,Sw)?Sw:r}})();function k0(t){return t<0?-1:t>0?1:t}function hr(t){if(t===void 0)return Po(null);if(Ti(t)&&t!==null)return t;throw new TypeError("Options parameter must be an object, not "+(t===null?"null":typeof t))}function xg(t,e){let r=Po(null);return r[t]=e,r}function bh(t,e,r,i){let n=t[e];if(n!==void 0){if(n=Lt(n),!r.includes(n))throw new RangeError(`${e} must be one of ${r.join(", ")}, not ${n}`);return n}return i}function uV(t){return D$.call(vve,t)}var cV=new RegExp(`^${k$.source}$`);function lV(t,e,r,i=t(e),n=t(r)){let s=se.default.BigInt(e),o=se.default.BigInt(r),a=i,f=n;for(;se.default.greaterThan(se.default.subtract(o,s),Ek);){let c=se.default.divide(se.default.add(s,o),se.default.BigInt(2)),u=t(c);if(u===a)s=c,a=u;else{if(u!==f)throw new Error(`invalid state in bisection ${a} - ${u} - ${f}`);o=c,f=u}}return o}var Fk={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},dV=Symbol("date"),hV=Symbol("ym"),pV=Symbol("md"),yV=Symbol("time"),mV=Symbol("datetime"),gV=Symbol("zoneddatetime"),bV=Symbol("instant"),vg=Symbol("original"),QM=Symbol("timezone"),m8=Symbol("timezone-id-given"),Ma=Symbol("calendar-id"),vV=Symbol("locale"),ek=Symbol("options"),_w=t=>({value:t,enumerable:!0,writable:!1,configurable:!0}),T0=globalThis.Intl.DateTimeFormat,Ec=Object.assign,xve=Object.prototype.hasOwnProperty,Ave=Reflect.apply;function E0(t,e){let r=t[e];return typeof r=="function"&&(r=new T0(t[vV],r(t[ek])),t[e]=r),r}function mw(t){let e=t[QM];return typeof e=="string"&&(e=bs(e),t[QM]=e),e}function B0(t,e={}){if(!(this instanceof B0))return new B0(t,e);let r=e!==void 0,i=r?Ec({},e):{},n=new T0(t,i),s=n.resolvedOptions();if(r){let o=Ec({},s);for(let a in o)Ave(xve,i,[a])||delete o[a];this[ek]=o}else this[ek]=i;this[m8]=i.timeZone?i.timeZone:null,this[vV]=s.locale,this[vg]=n,this[QM]=s.timeZone,this[Ma]=s.calendar,this[dV]=Pve,this[hV]=kve,this[pV]=Tve,this[yV]=Mve,this[mV]=Dve,this[gV]=Ive,this[bV]=Rve}Object.defineProperty(B0,"name",{writable:!0,value:"DateTimeFormat"}),B0.supportedLocalesOf=function(t,e){return T0.supportedLocalesOf(t,e)};var zM={resolvedOptions:_w(function(){return this[vg].resolvedOptions()}),format:_w(function(e,...r){let{instant:i,formatter:n,timeZone:s}=wg(e,this);return i&&n?(n=k8(n,s),n.format(i.epochMilliseconds)):this[vg].format(e,...r)}),formatRange:_w(function(e,r){if(Ag(e)||Ag(r)){if(!wV(e,r))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");let{instant:i,formatter:n,timeZone:s}=wg(e,this),{instant:o,formatter:a,timeZone:f}=wg(r,this);if(s&&f&&s!==f)throw new RangeError("cannot format range between different time zones");if(i&&o&&n&&a&&n===a)return k8(n,s).formatRange(i.epochMilliseconds,o.epochMilliseconds)}return this[vg].formatRange(e,r)})};"formatToParts"in T0.prototype&&(zM.formatToParts=_w(function(e,...r){let{instant:i,formatter:n,timeZone:s}=wg(e,this);return i&&n?(n=k8(n,s),n.formatToParts(i.epochMilliseconds)):this[vg].formatToParts(e,...r)})),"formatRangeToParts"in T0.prototype&&(zM.formatRangeToParts=_w(function(e,r){if(Ag(e)||Ag(r)){if(!wV(e,r))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");let{instant:i,formatter:n,timeZone:s}=wg(e,this),{instant:o,formatter:a,timeZone:f}=wg(r,this);if(s&&f&&s!==f)throw new RangeError("cannot format range between different time zones");if(i&&o&&n&&a&&n===a)return k8(n,s).formatRangeToParts(i.epochMilliseconds,o.epochMilliseconds)}return this[vg].formatRangeToParts(e,r)})),B0.prototype=Object.create(T0.prototype,zM),Object.defineProperty(B0,"prototype",{writable:!1,enumerable:!1,configurable:!1});var _h=B0;function k8(t,e){if(!e)return t;let r=t.resolvedOptions();return r.timeZone===e?t:((r.dateStyle||r.timeStyle)&&(delete r.weekday,delete r.era,delete r.year,delete r.month,delete r.day,delete r.hour,delete r.minute,delete r.second,delete r.timeZoneName,delete r.hourCycle,delete r.hour12,delete r.dayPeriod),new T0(r.locale,{...r,timeZone:e}))}function Kw(t={},e={}){let r=Ec({},t);for(let i of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])r[i]=i in e?e[i]:r[i],r[i]!==!1&&r[i]!==void 0||delete r[i];return r}function Mve(t){let e=Kw(t,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return H8(e)||(e=Ec({},e,{hour:"numeric",minute:"numeric",second:"numeric"})),e}function kve(t){let e=Kw(t,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in e||"month"in e||(e=Ec(e,{year:"numeric",month:"numeric"})),e}function Tve(t){let e=Kw(t,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in e||"day"in e||(e=Ec({},e,{month:"numeric",day:"numeric"})),e}function Pve(t){let e=Kw(t,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return K8(e)||(e=Ec({},e,{year:"numeric",month:"numeric",day:"numeric"})),e}function Dve(t){let e=Kw(t,{timeZoneName:!1});return H8(e)||K8(e)||(e=Ec({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function Ive(t){let e=t;return H8(e)||K8(e)||(e=Ec({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),e.timeZoneName===void 0&&(e.timeZoneName="short")),e}function Rve(t){let e=t;return H8(e)||K8(e)||(e=Ec({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function K8(t){return"year"in t||"month"in t||"day"in t||"weekday"in t||"dateStyle"in t}function H8(t){return"hour"in t||"minute"in t||"second"in t||"timeStyle"in t||"dayPeriod"in t}function Ag(t){return gr(t)||Ki(t)||ir(t)||vt(t)||Cr(t)||po(t)||Ln(t)}function wV(t,e){return!(!Ag(t)||!Ag(e))&&!(Ki(t)&&!Ki(e))&&!(gr(t)&&!gr(e))&&!(ir(t)&&!ir(e))&&!(vt(t)&&!vt(e))&&!(Cr(t)&&!Cr(e))&&!(po(t)&&!po(e))&&!(Ln(t)&&!Ln(e))}function wg(t,e){let r=Mt("%Temporal.PlainDateTime%");if(Ki(t)){let i=new r(1970,1,1,V(t,zt),V(t,Ft),V(t,Ut),V(t,$t),V(t,Vt),V(t,Kt),e[Ma]);return{instant:gs(mw(e),i,"compatible"),formatter:E0(e,yV)}}if(Cr(t)){let i=V(t,Ve),n=V(t,Ge),s=V(t,Qe),o=Lt(V(t,ve));if(o!==e[Ma])throw new RangeError(`cannot format PlainYearMonth with calendar ${o} in locale with calendar ${e[Ma]}`);let a=new r(i,n,s,12,0,0,0,0,0,o);return{instant:gs(mw(e),a,"compatible"),formatter:E0(e,hV)}}if(po(t)){let i=V(t,Ve),n=V(t,Ge),s=V(t,Qe),o=Lt(V(t,ve));if(o!==e[Ma])throw new RangeError(`cannot format PlainMonthDay with calendar ${o} in locale with calendar ${e[Ma]}`);let a=new r(i,n,s,12,0,0,0,0,0,o);return{instant:gs(mw(e),a,"compatible"),formatter:E0(e,pV)}}if(gr(t)){let i=V(t,Ve),n=V(t,Ge),s=V(t,Qe),o=Lt(V(t,ve));if(o!=="iso8601"&&o!==e[Ma])throw new RangeError(`cannot format PlainDate with calendar ${o} in locale with calendar ${e[Ma]}`);let a=new r(i,n,s,12,0,0,0,0,0,e[Ma]);return{instant:gs(mw(e),a,"compatible"),formatter:E0(e,dV)}}if(ir(t)){let i=V(t,Ve),n=V(t,Ge),s=V(t,Qe),o=V(t,zt),a=V(t,Ft),f=V(t,Ut),c=V(t,$t),u=V(t,Vt),l=V(t,Kt),y=Lt(V(t,ve));if(y!=="iso8601"&&y!==e[Ma])throw new RangeError(`cannot format PlainDateTime with calendar ${y} in locale with calendar ${e[Ma]}`);let m=t;return y==="iso8601"&&(m=new r(i,n,s,o,a,f,c,u,l,e[Ma])),{instant:gs(mw(e),m,"compatible"),formatter:E0(e,mV)}}if(vt(t)){let i=Lt(V(t,ve));if(i!=="iso8601"&&i!==e[Ma])throw new RangeError(`cannot format ZonedDateTime with calendar ${i} in locale with calendar ${e[Ma]}`);let n=Lt(V(t,Fr));if(e[m8]&&e[m8]!==n)throw new RangeError(`timeZone option ${e[m8]} doesn't match actual time zone ${n}`);return{instant:V(t,Ko),formatter:E0(e,gV),timeZone:n}}return Ln(t)?{instant:t,formatter:E0(e,bV)}:{}}var uot=Object.freeze({__proto__:null,DateTimeFormat:_h}),cf=class{constructor(e){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");let r=ww(e);S0(r),xc(this),nr(this,At,r)}get epochSeconds(){if(!Ln(this))throw new TypeError("invalid receiver");let e=V(this,At);return se.default.toNumber(se.default.divide(e,zl))}get epochMilliseconds(){if(!Ln(this))throw new TypeError("invalid receiver");let e=se.default.BigInt(V(this,At));return se.default.toNumber(se.default.divide(e,lf))}get epochMicroseconds(){if(!Ln(this))throw new TypeError("invalid receiver");let e=se.default.BigInt(V(this,At));return M8(se.default.divide(e,Ur))}get epochNanoseconds(){if(!Ln(this))throw new TypeError("invalid receiver");return M8(se.default.BigInt(V(this,At)))}add(e){if(!Ln(this))throw new TypeError("invalid receiver");return y$("add",this,e)}subtract(e){if(!Ln(this))throw new TypeError("invalid receiver");return y$("subtract",this,e)}until(e,r){if(!Ln(this))throw new TypeError("invalid receiver");return f$("until",this,e,r)}since(e,r){if(!Ln(this))throw new TypeError("invalid receiver");return f$("since",this,e,r)}round(e){if(!Ln(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=typeof e=="string"?xg("smallestUnit",e):hr(e),i=Qn(r,"smallestUnit","time",P0),n=Ks(r,"halfExpand"),s=Vl(r,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[i],!0),o=A8(V(this,At),s,i,n);return new cf(o)}equals(e){if(!Ln(this))throw new TypeError("invalid receiver");let r=bc(e),i=V(this,At),n=V(r,At);return se.default.equal(se.default.BigInt(i),se.default.BigInt(n))}toString(e){if(!Ln(this))throw new TypeError("invalid receiver");let r=hr(e),i=r.timeZone;i!==void 0&&(i=bs(i));let{precision:n,unit:s,increment:o}=zw(r),a=Ks(r,"trunc"),f=A8(V(this,At),o,s,a);return e$(new cf(f),i,n)}toJSON(){if(!Ln(this))throw new TypeError("invalid receiver");return e$(this,void 0,"auto")}toLocaleString(e,r){if(!Ln(this))throw new TypeError("invalid receiver");return new _h(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(e){if(!Ln(this))throw new TypeError("invalid receiver");if(!Ti(e))throw new TypeError("invalid argument in toZonedDateTime");let r=e.calendar;if(r===void 0)throw new TypeError("missing calendar property in toZonedDateTime");let i=mo(r),n=e.timeZone;if(n===void 0)throw new TypeError("missing timeZone property in toZonedDateTime");let s=bs(n);return ko(V(this,At),s,i)}toZonedDateTimeISO(e){let r=e;if(!Ln(this))throw new TypeError("invalid receiver");if(Ti(r)){let s=r.timeZone;s!==void 0&&(r=s)}let i=bs(r),n=un();return ko(V(this,At),i,n)}static fromEpochSeconds(e){let r=Aw(e),i=se.default.multiply(se.default.BigInt(r),zl);return S0(i),new cf(i)}static fromEpochMilliseconds(e){let r=Aw(e),i=se.default.multiply(se.default.BigInt(r),lf);return S0(i),new cf(i)}static fromEpochMicroseconds(e){let r=ww(e),i=se.default.multiply(r,Ur);return S0(i),new cf(i)}static fromEpochNanoseconds(e){let r=ww(e);return S0(r),new cf(r)}static from(e){return Ln(e)?new cf(V(e,At)):bc(e)}static compare(e,r){let i=bc(e),n=bc(r),s=V(i,At),o=V(n,At);return se.default.lessThan(s,o)?-1:se.default.greaterThan(s,o)?1:0}};Sc(cf,"Temporal.Instant");var T8=Array.prototype.includes,Bve=Array.prototype.push,Cve=globalThis.Intl.DateTimeFormat,Ove=Array.prototype.sort,jve=Math.abs,Lve=Math.floor,tk=Object.entries,w$=Object.keys,Hi={},Mg=class{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: id is required");let r=Lt(e);if(!uV(r))throw new RangeError(`invalid calendar identifier ${r}`);xc(this),nr(this,sn,r)}get id(){if(!on(this))throw new TypeError("invalid receiver");return Lt(this)}dateFromFields(e,r){if(!on(this))throw new TypeError("invalid receiver");if(!Ti(e))throw new TypeError("invalid fields");let i=hr(r);return Hi[V(this,sn)].dateFromFields(e,i,this)}yearMonthFromFields(e,r){if(!on(this))throw new TypeError("invalid receiver");if(!Ti(e))throw new TypeError("invalid fields");let i=hr(r);return Hi[V(this,sn)].yearMonthFromFields(e,i,this)}monthDayFromFields(e,r){if(!on(this))throw new TypeError("invalid receiver");if(!Ti(e))throw new TypeError("invalid fields");let i=hr(r);return Hi[V(this,sn)].monthDayFromFields(e,i,this)}fields(e){if(!on(this))throw new TypeError("invalid receiver");let r=[],i=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(let n of e){if(typeof n!="string")throw new TypeError("invalid fields");if(!i.has(n))throw new RangeError(`invalid field name ${n}`);i.delete(n),Bve.call(r,n)}return Hi[V(this,sn)].fields(r)}mergeFields(e,r){if(!on(this))throw new TypeError("invalid receiver");return Hi[V(this,sn)].mergeFields(e,r)}dateAdd(e,r,i){if(!on(this))throw new TypeError("invalid receiver");let n=ui(e),s=bg(r),o=fn(hr(i)),{days:a}=ua(V(s,us),V(s,cs),V(s,ls),V(s,ds),V(s,hs),V(s,ps),V(s,ys),"day");return Hi[V(this,sn)].dateAdd(n,V(s,fs),V(s,ho),V(s,Vs),a,o,this)}dateUntil(e,r,i){if(!on(this))throw new TypeError("invalid receiver");let n=ui(e),s=ui(r),o=Qn(hr(i),"largestUnit","date","auto");o==="auto"&&(o="day");let{years:a,months:f,weeks:c,days:u}=Hi[V(this,sn)].dateUntil(n,s,o);return new(Mt("%Temporal.Duration%"))(a,f,c,u,0,0,0,0,0,0)}year(e){let r=e;if(!on(this))throw new TypeError("invalid receiver");return Cr(r)||(r=ui(r)),Hi[V(this,sn)].year(r)}month(e){let r=e;if(!on(this))throw new TypeError("invalid receiver");if(po(r))throw new TypeError("use monthCode on PlainMonthDay instead");return Cr(r)||(r=ui(r)),Hi[V(this,sn)].month(r)}monthCode(e){let r=e;if(!on(this))throw new TypeError("invalid receiver");return Cr(r)||po(r)||(r=ui(r)),Hi[V(this,sn)].monthCode(r)}day(e){let r=e;if(!on(this))throw new TypeError("invalid receiver");return po(r)||(r=ui(r)),Hi[V(this,sn)].day(r)}era(e){let r=e;if(!on(this))throw new TypeError("invalid receiver");return Cr(r)||(r=ui(r)),Hi[V(this,sn)].era(r)}eraYear(e){let r=e;if(!on(this))throw new TypeError("invalid receiver");return Cr(r)||(r=ui(r)),Hi[V(this,sn)].eraYear(r)}dayOfWeek(e){if(!on(this))throw new TypeError("invalid receiver");let r=ui(e);return Hi[V(this,sn)].dayOfWeek(r)}dayOfYear(e){if(!on(this))throw new TypeError("invalid receiver");let r=ui(e);return Hi[V(this,sn)].dayOfYear(r)}weekOfYear(e){if(!on(this))throw new TypeError("invalid receiver");let r=ui(e);return Hi[V(this,sn)].weekOfYear(r)}daysInWeek(e){if(!on(this))throw new TypeError("invalid receiver");let r=ui(e);return Hi[V(this,sn)].daysInWeek(r)}daysInMonth(e){let r=e;if(!on(this))throw new TypeError("invalid receiver");return Cr(r)||(r=ui(r)),Hi[V(this,sn)].daysInMonth(r)}daysInYear(e){let r=e;if(!on(this))throw new TypeError("invalid receiver");return Cr(r)||(r=ui(r)),Hi[V(this,sn)].daysInYear(r)}monthsInYear(e){let r=e;if(!on(this))throw new TypeError("invalid receiver");return Cr(r)||(r=ui(r)),Hi[V(this,sn)].monthsInYear(r)}inLeapYear(e){let r=e;if(!on(this))throw new TypeError("invalid receiver");return Cr(r)||(r=ui(r)),Hi[V(this,sn)].inLeapYear(r)}toString(){if(!on(this))throw new TypeError("invalid receiver");return V(this,sn)}toJSON(){if(!on(this))throw new TypeError("invalid receiver");return Lt(this)}static from(e){return mo(e)}};function Uk(t){if(!t.startsWith("M"))throw new RangeError(`Invalid month code: ${t}.  Month codes must start with M.`);let e=+t.slice(1);if(isNaN(e))throw new RangeError(`Invalid month code: ${t}`);return e}function Ul(t,e=!1){return`M${t.toString().padStart(2,"0")}${e?"L":""}`}function g8(t,e,r=12){let{month:i,monthCode:n}=t;if(n===void 0){if(i===void 0)throw new TypeError("Either month or monthCode are required");e==="reject"&&To(i,1,r),e==="constrain"&&(i=fa(i,1,r)),n=Ul(i)}else{let s=Uk(n);if(i!==void 0&&i!==s)throw new RangeError(`monthCode ${n} and month ${i} must match if both are present`);if(n!==Ul(s))throw new RangeError(`Invalid month code: ${n}`);if(i=s,i<1||i>r)throw new RangeError(`Invalid monthCode: ${n}`)}return{...t,month:i,monthCode:n}}Sc(Mg,"Temporal.Calendar"),VM("Temporal.Calendar.from",Mg.from),Hi.iso8601={dateFromFields(t,e,r){let i=fn(e),n=lr(t,["day","month","monthCode","year"],["year","day"]);n=g8(n);let{year:s,month:o,day:a}=n;return{year:s,month:o,day:a}=w8(s,o,a,i),jf(s,o,a,r)},yearMonthFromFields(t,e,r){let i=fn(e),n=lr(t,["month","monthCode","year"],["year"]);n=g8(n);let{year:s,month:o}=n;return{year:s,month:o}=function(f,c,u){let l=f,y=c;switch(u){case"reject":_c(l,y,1);break;case"constrain":({year:l,month:y}=tV(l,y))}return{year:l,month:y}}(s,o,i),Pw(s,o,r,1)},monthDayFromFields(t,e,r){let i=fn(e),n=lr(t,["day","month","monthCode","year"],["day"]);if(n.month!==void 0&&n.year===void 0&&n.monthCode===void 0)throw new TypeError("either year or monthCode required with month");let s=n.monthCode===void 0;n=g8(n);let{month:o,day:a,year:f}=n;return{month:o,day:a}=w8(s?f:1972,o,a,i),Tw(o,a,r,1972)},fields:t=>t,mergeFields(t,e){let r={};for(let n of w$(t))n!=="month"&&n!=="monthCode"&&(r[n]=t[n]);let i=w$(e);for(let n of i)r[n]=e[n];if(!T8.call(i,"month")&&!T8.call(i,"monthCode")){let{month:n,monthCode:s}=t;n!==void 0&&(r.month=n),s!==void 0&&(r.monthCode=s)}return r},dateAdd(t,e,r,i,n,s,o){let a=V(t,Ve),f=V(t,Ge),c=V(t,Qe);return{year:a,month:f,day:c}=M0(a,f,c,e,r,i,n,s),jf(a,f,c,o)},dateUntil:(t,e,r)=>Ok(V(t,Ve),V(t,Ge),V(t,Qe),V(e,Ve),V(e,Ge),V(e,Qe),r),year:t=>V(t,Ve),era(){},eraYear(){},month:t=>V(t,Ge),monthCode:t=>Ul(V(t,Ge)),day:t=>V(t,Qe),dayOfWeek:t=>qM(V(t,Ve),V(t,Ge),V(t,Qe)),dayOfYear:t=>x8(V(t,Ve),V(t,Ge),V(t,Qe)),weekOfYear:t=>function(r,i,n){let s=x8(r,i,n),o=qM(r,i,n)||7,a=qM(r,1,1),f=Xn((s-o+10)/7);return f<1?a===5||a===6&&lh(r-1)?53:52:f===53&&(lh(r)?366:365)-s<4-o?1:f}(V(t,Ve),V(t,Ge),V(t,Qe)),daysInWeek:()=>7,daysInMonth:t=>Fl(V(t,Ve),V(t,Ge)),daysInYear(t){let e=t;return eo(e,Ve)||(e=ui(e)),lh(V(e,Ve))?366:365},monthsInYear:()=>12,inLeapYear(t){let e=t;return eo(e,Ve)||(e=ui(e)),lh(V(e,Ve))}};var Ci=class{constructor(e){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),e!==void 0){let r=0;for(let i of e.map.entries()){if(++r>Ci.MAX_CACHE_ENTRIES)break;this.map.set(...i)}}}get(e){let r=this.map.get(e);return r&&(this.hits++,this.report()),this.calls++,r}set(e,r){this.map.set(e,r),this.misses++,this.report()}report(){}setObject(e){if(Ci.objectMap.get(e))throw new RangeError("object already cached");Ci.objectMap.set(e,this),this.report()}static getCacheForObject(e){let r=Ci.objectMap.get(e);return r||(r=new Ci,Ci.objectMap.set(e,r)),r}};function _V({isoYear:t,isoMonth:e,isoDay:r}){return`${N0(t)}-${Ni(e)}-${Ni(r)}T00:00Z`}function FM(t,e){return{years:t.year-e.year,months:t.month-e.month,days:t.day-e.day}}Ci.objectMap=new WeakMap,Ci.MAX_CACHE_ENTRIES=1e3;var vh=class{constructor(){this.eraLength="short",this.hasEra=!0}getFormatter(){return this.formatter===void 0&&(this.formatter=new Cve(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(e,r){let{year:i,month:n,day:s}=e,o=JSON.stringify({func:"isoToCalendarDate",isoYear:i,isoMonth:n,isoDay:s,id:this.id}),a=r.get(o);if(a)return a;let f=this.getFormatter(),c,u;try{u=_V({isoYear:i,isoMonth:n,isoDay:s}),c=f.formatToParts(new Date(u))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:i,isoMonth:n,isoDay:s})}`)}let l={};for(let{type:m,value:g}of c){if(m==="year"&&(l.eraYear=+g),m==="relatedYear"&&(l.eraYear=+g),m==="month"){let E=/^([0-9]*)(.*?)$/.exec(g);if(!E||E.length!=3||!E[1]&&!E[2])throw new RangeError(`Unexpected month: ${g}`);if(l.month=E[1]?+E[1]:1,l.month<1)throw new RangeError(`Invalid month ${g} from ${u}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(l.month>13)throw new RangeError(`Invalid month ${g} from ${u}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);E[2]&&(l.monthExtra=E[2])}m==="day"&&(l.day=+g),this.hasEra&&m==="era"&&g!=null&&g!==""&&(g=g.split(" (")[0],l.era=g.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(l.eraYear===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){let{era:m,eraYear:g}=this.reviseIntlEra(l,e);l.era=m,l.eraYear=g}this.checkIcuBugs&&this.checkIcuBugs(e);let y=this.adjustCalendarDate(l,r,"constrain",!0);if(y.year===void 0)throw new RangeError(`Missing year converting ${JSON.stringify(e)}`);if(y.month===void 0)throw new RangeError(`Missing month converting ${JSON.stringify(e)}`);if(y.day===void 0)throw new RangeError(`Missing day converting ${JSON.stringify(e)}`);return r.set(o,y),["constrain","reject"].forEach(m=>{let g=JSON.stringify({func:"calendarToIsoDate",year:y.year,month:y.month,day:y.day,overflow:m,id:this.id});r.set(g,e)}),y}validateCalendarDate(e){let{era:r,month:i,year:n,day:s,eraYear:o,monthCode:a,monthExtra:f}=e;if(f!==void 0)throw new RangeError("Unexpected `monthExtra` value");if(n===void 0&&o===void 0)throw new TypeError("year or eraYear is required");if(i===void 0&&a===void 0)throw new TypeError("month or monthCode is required");if(s===void 0)throw new RangeError("Missing day");if(a!==void 0){if(typeof a!="string")throw new RangeError("monthCode must be a string, not "+typeof a);if(!/^M([01]?\d)(L?)$/.test(a))throw new RangeError(`Invalid monthCode: ${a}`)}if(this.constantEra){if(r!==void 0&&r!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${r}`);if(o!==void 0&&n!==void 0&&o!==n)throw new RangeError(`eraYear ${o} does not match year ${n}`)}}adjustCalendarDate(e,r,i="constrain",n=!1){if(this.calendarType==="lunisolar")throw new RangeError("Override required for lunisolar calendars");let s=e;if(this.validateCalendarDate(s),this.constantEra){let{year:c,eraYear:u}=s;s={...s,era:this.constantEra,year:c!==void 0?c:u,eraYear:u!==void 0?u:c}}let o=this.monthsInYear(s,r),{month:a,monthCode:f}=s;return{month:a,monthCode:f}=g8(s,i,o),{...s,month:a,monthCode:f}}regulateMonthDayNaive(e,r,i){let n=this.monthsInYear(e,i),{month:s,day:o}=e;return r==="reject"?(To(s,1,n),To(o,1,this.maximumMonthLength(e))):(s=fa(s,1,n),o=fa(o,1,this.maximumMonthLength({...e,month:s}))),{...e,month:s,day:o}}calendarToIsoDate(e,r="constrain",i){let n=e,s=this.adjustCalendarDate(e,i,r,!1);s=this.regulateMonthDayNaive(s,r,i);let{year:o,month:a,day:f}=s,c=JSON.stringify({func:"calendarToIsoDate",year:o,month:a,day:f,overflow:r,id:this.id}),u,l=i.get(c);if(l||n.year!==void 0&&n.month!==void 0&&n.day!==void 0&&(n.year!==s.year||n.month!==s.month||n.day!==s.day)&&(u=JSON.stringify({func:"calendarToIsoDate",year:n.year,month:n.month,day:n.day,overflow:r,id:this.id}),l=i.get(u),l))return l;let y=this.estimateIsoDate({year:o,month:a,day:f}),m=I=>{let R=this.addDaysIso(y,I);if(s.day>this.minimumMonthLength(s)){let O=this.isoToCalendarDate(R,i);for(;O.month!==a||O.year!==o;){if(r==="reject")throw new RangeError(`day ${f} does not exist in month ${a} of year ${o}`);R=this.addDaysIso(R,-1),O=this.isoToCalendarDate(R,i)}}return R},g=0,E=this.isoToCalendarDate(y,i),x=FM(s,E);if(x.years!==0||x.months!==0||x.days!==0){let I=365*x.years+30*x.months+x.days;y=this.addDaysIso(y,I),E=this.isoToCalendarDate(y,i),x=FM(s,E),x.years===0&&x.months===0?y=m(x.days):g=this.compareCalendarDates(s,E)}let T=8,M=!1;for(;g;){y=this.addDaysIso(y,g*T);let I=E;E=this.isoToCalendarDate(y,i);let R=g;if(g=this.compareCalendarDates(s,E),g){if(x=FM(s,E),x.years===0&&x.months===0)y=m(x.days),g=0,M=s.day>this.minimumMonthLength(s);else if(R&&g!==R)if(T>1)T/=2;else{if(r==="reject")throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...n})}`);this.compareCalendarDates(E,I)>0&&(y=this.addDaysIso(y,-1)),M=!0,g=0}}}if(i.set(c,y),u&&i.set(u,y),s.year===void 0||s.month===void 0||s.day===void 0||s.monthCode===void 0||this.hasEra&&(s.era===void 0||s.eraYear===void 0))throw new RangeError("Unexpected missing property");if(!M){let I=JSON.stringify({func:"isoToCalendarDate",isoYear:y.year,isoMonth:y.month,isoDay:y.day,id:this.id});i.set(I,s)}return y}temporalToCalendarDate(e,r){let i={year:V(e,Ve),month:V(e,Ge),day:V(e,Qe)};return this.isoToCalendarDate(i,r)}compareCalendarDates(e,r){let i=lr(e,["day","month","year"],["day","month","year"]),n=lr(r,["day","month","year"],["day","month","year"]);return i.year!==n.year?k0(i.year-n.year):i.month!==n.month?k0(i.month-n.month):i.day!==n.day?k0(i.day-n.day):0}regulateDate(e,r="constrain",i){let n=this.calendarToIsoDate(e,r,i);return this.isoToCalendarDate(n,i)}addDaysIso(e,r){return M0(e.year,e.month,e.day,0,0,0,r,"constrain")}addDaysCalendar(e,r,i){let n=this.calendarToIsoDate(e,"constrain",i),s=this.addDaysIso(n,r);return this.isoToCalendarDate(s,i)}addMonthsCalendar(e,r,i,n){let s=e,{day:o}=s;for(let a=0,f=jve(r);a<f;a++){let{month:c}=s,u=s,l=r<0?-Math.max(o,this.daysInPreviousMonth(s,n)):this.daysInMonth(s,n),y=this.calendarToIsoDate(s,"constrain",n),m=this.addDaysIso(y,l);if(s=this.isoToCalendarDate(m,n),r>0){let g=this.monthsInYear(u,n);for(;s.month-1!=c%g;)m=this.addDaysIso(m,-1),s=this.isoToCalendarDate(m,n)}s.day!==o&&(s=this.regulateDate({...s,day:o},"constrain",n))}if(i==="reject"&&s.day!==o)throw new RangeError(`Day ${o} does not exist in resulting calendar month`);return s}addCalendar(e,{years:r=0,months:i=0,weeks:n=0,days:s=0},o,a){let{year:f,day:c,monthCode:u}=e,l=this.adjustCalendarDate({year:f+r,monthCode:u,day:c},a),y=this.addMonthsCalendar(l,i,o,a),m=s+7*n;return this.addDaysCalendar(y,m,a)}untilCalendar(e,r,i,n){let s=0,o=0,a=0,f=0;switch(i){case"day":s=this.calendarDaysUntil(e,r,n);break;case"week":{let c=this.calendarDaysUntil(e,r,n);s=c%7,o=(c-s)/7;break}case"month":case"year":{let c=r.year-e.year,u=r.month-e.month,l=r.day-e.day,y=this.compareCalendarDates(r,e);if(!y)return{years:0,months:0,weeks:0,days:0};i==="year"&&c&&(f=u*y<0||u===0&&l*y<0?c-y:c);let m,g=f?this.addCalendar(e,{years:f},"constrain",n):e;do a+=y,m=g,g=this.addMonthsCalendar(m,y,"constrain",n),g.day!==e.day&&(g=this.regulateDate({...g,day:e.day},"constrain",n));while(this.compareCalendarDates(r,g)*y>=0);a-=y,s=this.calendarDaysUntil(m,r,n);break}}return{years:f,months:a,weeks:o,days:s}}daysInMonth(e,r){let{day:i}=e,n=this.maximumMonthLength(e),s=this.minimumMonthLength(e);if(s===n)return s;let o=i<=n-s?n:s,a=this.calendarToIsoDate(e,"constrain",r),f=this.addDaysIso(a,o),c=this.isoToCalendarDate(f,r),u=this.addDaysIso(f,-c.day);return this.isoToCalendarDate(u,r).day}daysInPreviousMonth(e,r){let{day:i,month:n,year:s}=e,o={year:n>1?s:s-1,month:n,day:1},a=n>1?n-1:this.monthsInYear(o,r);o={...o,month:a};let f=this.minimumMonthLength(o),c=this.maximumMonthLength(o);if(f===c)return c;let u=this.calendarToIsoDate(e,"constrain",r),l=this.addDaysIso(u,-i);return this.isoToCalendarDate(l,r).day}startOfCalendarYear(e){return{year:e.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(e){return{year:e.year,month:e.month,day:1}}calendarDaysUntil(e,r,i){let n=this.calendarToIsoDate(e,"constrain",i),s=this.calendarToIsoDate(r,"constrain",i);return this.isoDaysUntil(n,s)}isoDaysUntil(e,r){return Ok(e.year,e.month,e.day,r.year,r.month,r.day,"day").days}monthDayFromFields(e,r,i){let n,s,o,a,f,{year:c,month:u,monthCode:l,day:y,era:m,eraYear:g}=e;if(l===void 0){if(c===void 0&&(m===void 0||g===void 0))throw new TypeError("`monthCode`, `year`, or `era` and `eraYear` is required");({monthCode:l,year:c}=this.adjustCalendarDate({year:c,month:u,monthCode:l,day:y,era:m,eraYear:g},i,r))}let{year:E}=this.isoToCalendarDate({year:1972,month:1,day:1},i);for(let x=0;x<100;x++){let T=this.adjustCalendarDate({day:y,monthCode:l,year:E-x},i),M=this.calendarToIsoDate(T,"constrain",i),I=this.isoToCalendarDate(M,i);if({year:n,month:s,day:o}=M,I.monthCode===l&&I.day===y)return{month:s,day:o,year:n};r==="constrain"&&(a===void 0||I.monthCode===a.monthCode&&I.day>a.day)&&(a=I,f=M)}if(r==="constrain"&&f!==void 0)return f;throw new RangeError(`No recent ${this.id} year with monthCode ${l} and day ${y}`)}},rk=class extends vh{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(e){let{year:r}=e;return(7*r+1)%19<7}monthsInYear(e){return this.inLeapYear(e)?13:12}minimumMonthLength(e){return this.minMaxMonthLength(e,"min")}maximumMonthLength(e){return this.minMaxMonthLength(e,"max")}minMaxMonthLength(e,r){let{month:i,year:n}=e,s=this.getMonthCode(n,i),o=tk(this.months).find(f=>f[1].monthCode===s);if(o===void 0)throw new RangeError(`unmatched Hebrew month: ${i}`);let a=o[1].days;return typeof a=="number"?a:a[r]}estimateIsoDate(e){let{year:r}=e;return{year:r-3760,month:1,day:1}}getMonthCode(e,r){return this.inLeapYear({year:e})?r===6?Ul(5,!0):Ul(r<6?r:r-1):Ul(r)}adjustCalendarDate(e,r,i="constrain",n=!1){let{year:s,eraYear:o,month:a,monthCode:f,day:c,monthExtra:u}=e;if(s===void 0&&o!==void 0&&(s=o),o===void 0&&s!==void 0&&(o=s),n){if(u){let l=this.months[u];if(!l)throw new RangeError(`Unrecognized month from formatToParts: ${u}`);a=this.inLeapYear({year:s})?l.leap:l.regular}return f=this.getMonthCode(s,a),{year:s,month:a,day:c,era:void 0,eraYear:o,monthCode:f}}if(this.validateCalendarDate(e),a===void 0)if(f.endsWith("L")){if(f!=="M05L")throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${f}`);if(a=6,!this.inLeapYear({year:s})){if(i==="reject")throw new RangeError(`Hebrew monthCode M05L is invalid in year ${s} which is not a leap year`);a=5,c=30,f="M05"}}else{a=Uk(f),this.inLeapYear({year:s})&&a>=6&&a++;let l=this.monthsInYear({year:s});if(a<1||a>l)throw new RangeError(`Invalid monthCode: ${f}`)}else if(i==="reject"?(To(a,1,this.monthsInYear({year:s})),To(c,1,this.maximumMonthLength({year:s,month:a}))):(a=fa(a,1,this.monthsInYear({year:s})),c=fa(c,1,this.maximumMonthLength({year:s,month:a}))),f===void 0)f=this.getMonthCode(s,a);else if(this.getMonthCode(s,a)!==f)throw new RangeError(`monthCode ${f} doesn't correspond to month ${a} in Hebrew year ${s}`);return{...e,day:c,month:a,monthCode:f,year:s,eraYear:o}}},wh=class extends vh{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(e,r){return this.daysInMonth({year:e.year,month:12,day:1},r)===30}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(e){let{year:r}=this.adjustCalendarDate(e);return{year:Lve(r*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}},P8=class extends wh{constructor(){super(...arguments),this.id="islamic"}},ik=class extends wh{constructor(){super(...arguments),this.id="islamic-umalqura"}},nk=class extends wh{constructor(){super(...arguments),this.id="islamic-tbla"}},ok=class extends wh{constructor(){super(...arguments),this.id="islamic-civil"}},sk=class extends wh{constructor(){super(...arguments),this.id="islamic-rgsa"}},ak=class extends wh{constructor(){super(...arguments),this.id="islamicc"}},fk=class extends vh{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(e,r){return P8.prototype.inLeapYear.call(this,e,r)}monthsInYear(){return 12}minimumMonthLength(e){let{month:r}=e;return r===12?29:r<=6?31:30}maximumMonthLength(e){let{month:r}=e;return r===12?30:r<=6?31:30}estimateIsoDate(e){let{year:r}=this.adjustCalendarDate(e);return{year:r+621,month:1,day:1}}},uk=class extends vh{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug=new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})!=="10/11/-79 Saka"}inLeapYear(e){return EV(e.year+78)}monthsInYear(){return 12}minimumMonthLength(e){return this.getMonthInfo(e).length}maximumMonthLength(e){return this.getMonthInfo(e).length}getMonthInfo(e){let{month:r}=e,i=this.months[r];if(i===void 0)throw new RangeError(`Invalid month: ${r}`);return this.inLeapYear(e)&&i.leap&&(i=i.leap),i}estimateIsoDate(e){let r=this.adjustCalendarDate(e),i=this.getMonthInfo(r);return M0(r.year+78+(i.nextYear?1:0),i.month,i.day,0,0,0,r.day-1,"constrain")}checkIcuBugs(e){if(this.vulnerableToBceBug&&e.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}};function EV(t){return t%4==0&&(t%100!=0||t%400==0)}var C0=class extends vh{constructor(e,r){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=e;let{eras:i,anchorEra:n}=function(o){let a,f=o;if(f.length===0)throw new RangeError("Invalid era data: eras are required");if(f.length===1&&f[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(f.length===1&&!f[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(f.filter(u=>u.reverseOf!=null).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");f.forEach(u=>{if(u.isAnchor||!u.anchorEpoch&&!u.reverseOf){if(a)throw new RangeError("Invalid era data: cannot have multiple anchor eras");a=u,u.anchorEpoch={year:u.hasYearZero?0:1}}else if(!u.name)throw new RangeError("If era name is blank, it must be the anchor era")}),f=f.filter(u=>u.name),f.forEach(u=>{let{reverseOf:l}=u;if(l){let y=f.find(m=>m.name===l);if(y===void 0)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${l}`);u.reverseOf=y,u.anchorEpoch=y.anchorEpoch,u.isoEpoch=y.isoEpoch}u.anchorEpoch.month===void 0&&(u.anchorEpoch.month=1),u.anchorEpoch.day===void 0&&(u.anchorEpoch.day=1)}),Ove.call(f,(u,l)=>{if(u.reverseOf)return 1;if(l.reverseOf)return-1;if(!u.isoEpoch||!l.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return l.isoEpoch.year-u.isoEpoch.year});let c=f[f.length-1].reverseOf;if(c&&c!==f[f.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return f.forEach((u,l)=>{u.genericName="era"+(f.length-1-l)}),{eras:f,anchorEra:a||f[0]}}(r);this.anchorEra=n,this.eras=i}inLeapYear(e){let{year:r}=this.estimateIsoDate({month:1,day:1,year:e.year});return EV(r)}monthsInYear(){return 12}minimumMonthLength(e){let{month:r}=e;return r===2?this.inLeapYear(e)?29:28:[4,6,9,11].indexOf(r)>=0?30:31}maximumMonthLength(e){return this.minimumMonthLength(e)}completeEraYear(e){let r=(a,f)=>{let c=e[a];if(c!=null&&c!=f)throw new RangeError(`Input ${a} ${c} doesn't match calculated value ${f}`)},i=a=>{let f,c={...e,year:a},u=this.eras.find((l,y)=>{if(y===this.eras.length-1){if(l.reverseOf){if(a>0)throw new RangeError(`Signed year ${a} is invalid for era ${l.name}`);return f=l.anchorEpoch.year-a,!0}return f=a-l.anchorEpoch.year+(l.hasYearZero?0:1),!0}return this.compareCalendarDates(c,l.anchorEpoch)>=0&&(f=a-l.anchorEpoch.year+(l.hasYearZero?0:1),!0)});if(!u)throw new RangeError(`Year ${a} was not matched by any era`);return{eraYear:f,era:u.name}},{year:n,eraYear:s,era:o}=e;if(n!=null)({eraYear:s,era:o}=i(n)),r("era",o),r("eraYear",s);else{if(s==null)throw new RangeError("Either `year` or `eraYear` and `era` are required");{let a=o===void 0?void 0:this.eras.find(f=>f.name===o||f.genericName===o);if(!a)throw new RangeError(`Era ${o} (ISO year ${s}) was not matched by any era`);if(s<1&&a.reverseOf)throw new RangeError(`Years in ${o} era must be positive, not ${n}`);n=a.reverseOf?a.anchorEpoch.year-s:s+a.anchorEpoch.year-(a.hasYearZero?0:1),r("year",n),{eraYear:s,era:o}=i(n)}}return{...e,year:n,eraYear:s,era:o}}adjustCalendarDate(e,r,i="constrain"){let n=e,{month:s,monthCode:o}=n;return s===void 0&&(n={...n,month:Uk(o)}),this.validateCalendarDate(n),n=this.completeEraYear(n),super.adjustCalendarDate(n,r,i)}estimateIsoDate(e){let r=this.adjustCalendarDate(e),{year:i,month:n,day:s}=r,{anchorEra:o}=this;return w8(i+o.isoEpoch.year-(o.hasYearZero?0:1),n,s,"constrain")}checkIcuBugs(e){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&dh(e.year,e.month,e.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}},Dw=class extends C0{constructor(e,r){super(e,r)}inLeapYear(e){let{year:r}=e;return(r+1)%4==0}monthsInYear(){return 13}minimumMonthLength(e){let{month:r}=e;return r===13?this.inLeapYear(e)?6:5:30}maximumMonthLength(e){return this.minimumMonthLength(e)}},ck=class extends Dw{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}},lk=class extends Dw{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}},dk=class extends Dw{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}},hk=class extends C0{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}},pk=class extends C0{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}},yk=class extends C0{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(e){let{era:r,eraYear:i}=e;return r!=="bc"&&r!=="b"||(r="bce"),r!=="ad"&&r!=="a"||(r="ce"),{era:r,eraYear:i}}},mk=class extends C0{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long"}reviseIntlEra(e,r){let{era:i,eraYear:n}=e,{year:s}=r;return this.eras.find(o=>o.name===i)?{era:i,eraYear:n}:s<1?{era:"bce",eraYear:1-s}:{era:"ce",eraYear:s}}},D8=class extends vh{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(e,r){let i=this.getMonthList(e.year,r);return tk(i).length===13}monthsInYear(e,r){return this.inLeapYear(e,r)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(e,r){if(e===void 0)throw new TypeError("Missing year");let i=JSON.stringify({func:"getMonthList",calendarYear:e,id:this.id}),n=r.get(i);if(n)return n;let s=this.getFormatter(),o=(x,T)=>{let M=_V({isoYear:x,isoMonth:2,isoDay:1}),I=new Date(M);I.setUTCDate(T+1);let R=s.formatToParts(I),O=R.find(U=>U.type==="month").value,B=+R.find(U=>U.type==="day").value,C=R.find(U=>U.type==="relatedYear");if(C===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return C=+C.value,{calendarMonthString:O,calendarDay:B,calendarYearToVerify:C}},a=17,{calendarMonthString:f,calendarDay:c,calendarYearToVerify:u}=o(e,a);f!=="1"&&(a+=29,{calendarMonthString:f,calendarDay:c}=o(e,a)),a-=c-5;let l={},y,m,g=1,E=!1;do({calendarMonthString:f,calendarDay:c,calendarYearToVerify:u}=o(e,a)),y&&(l[m].daysInMonth=y+30-c),u!==e?E=!0:(l[f]={monthIndex:g++},a+=30),y=c,m=f;while(!E);return l[m].daysInMonth=y+30-c,r.set(i,l),l}estimateIsoDate(e){let{year:r,month:i}=e;return{year:r,month:i>=12?12:i+1,day:1}}adjustCalendarDate(e,r,i="constrain",n=!1){let{year:s,month:o,monthExtra:a,day:f,monthCode:c,eraYear:u}=e;if(n){if(s=u,a&&a!=="bis")throw new RangeError(`Unexpected leap month suffix: ${a}`);let l=Ul(o,a!==void 0),y=`${o}${a||""}`,m=this.getMonthList(s,r)[y];if(m===void 0)throw new RangeError(`Unmatched month ${y} in Chinese year ${s}`);return o=m.monthIndex,{year:s,month:o,day:f,era:void 0,eraYear:u,monthCode:l}}if(this.validateCalendarDate(e),s===void 0&&(s=u),u===void 0&&(u=s),o===void 0){let l=this.getMonthList(s,r),y=c.replace("L","bis").slice(1);y[0]==="0"&&(y=y.slice(1));let m=l[y];if(o=m&&m.monthIndex,o===void 0&&c.endsWith("L")&&!T8.call(["M01L","M12L","M13L"],c)&&i==="constrain"){let g=c.slice(1,-1);g[0]==="0"&&(g=g.slice(1)),m=l[g],m&&({daysInMonth:f,monthIndex:o}=m,c=Ul(g))}if(o===void 0)throw new RangeError(`Unmatched month ${c} in Chinese year ${s}`)}else if(c===void 0){let l=this.getMonthList(s,r),y=tk(l),m=y.length;i==="reject"?(To(o,1,m),To(f,1,this.maximumMonthLength())):(o=fa(o,1,m),f=fa(f,1,this.maximumMonthLength()));let g=y.find(([,E])=>E.monthIndex===o);if(g===void 0)throw new RangeError(`Invalid month ${o} in Chinese year ${s}`);c=Ul(g[0].replace("bis",""),g[0].indexOf("bis")!==-1)}else{let l=this.getMonthList(s,r),y=c.replace("L","bis").slice(1);y[0]==="0"&&(y=y.slice(1));let m=l[y];if(!m)throw new RangeError(`Unmatched monthCode ${c} in Chinese year ${s}`);if(o!==m.monthIndex)throw new RangeError(`monthCode ${c} doesn't correspond to month ${o} in Chinese year ${s}`)}return{...e,year:s,eraYear:u,month:o,monthCode:c,day:f}}},gk=class extends D8{constructor(){super(...arguments),this.id="chinese"}},bk=class extends D8{constructor(){super(...arguments),this.id="dangi"}},Nve={helper:void 0,dateFromFields(t,e,r){let i=fn(e),n=new Ci,s=lr(t,["day","era","eraYear","month","monthCode","year"],["day"]),{year:o,month:a,day:f}=this.helper.calendarToIsoDate(s,i,n),c=jf(o,a,f,r);return n.setObject(c),c},yearMonthFromFields(t,e,r){let i=fn(e),n=new Ci,s=lr(t,["era","eraYear","month","monthCode","year"],[]),{year:o,month:a,day:f}=this.helper.calendarToIsoDate({...s,day:1},i,n),c=Pw(o,a,r,f);return n.setObject(c),c},monthDayFromFields(t,e,r){let i=fn(e),n=new Ci,s=lr(t,["day","era","eraYear","month","monthCode","year"],["day"]),{year:o,month:a,day:f}=this.helper.monthDayFromFields(s,i,n),c=Tw(a,f,r,o);return n.setObject(c),c},fields(t){let e=t;return T8.call(e,"year")&&(e=[...e,"era","eraYear"]),e},mergeFields(t,e){let r={...t},i={...e},{month:n,monthCode:s,year:o,era:a,eraYear:f,...c}=r,{month:u,monthCode:l,year:y,era:m,eraYear:g}=i;return u===void 0&&l===void 0&&(c.month=n,c.monthCode=s),y===void 0&&m===void 0&&g===void 0&&(c.year=o),{...c,...i}},dateAdd(t,e,r,i,n,s,o){let a=Ci.getCacheForObject(t),f=this.helper.temporalToCalendarDate(t,a),c=this.helper.addCalendar(f,{years:e,months:r,weeks:i,days:n},s,a),u=this.helper.calendarToIsoDate(c,"constrain",a),{year:l,month:y,day:m}=u,g=jf(l,y,m,o);return new Ci(a).setObject(g),g},dateUntil(t,e,r){let i=Ci.getCacheForObject(t),n=Ci.getCacheForObject(e),s=this.helper.temporalToCalendarDate(t,i),o=this.helper.temporalToCalendarDate(e,n);return this.helper.untilCalendar(s,o,r,i)},year(t){let e=Ci.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).year},month(t){let e=Ci.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).month},day(t){let e=Ci.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).day},era(t){if(!this.helper.hasEra)return;let e=Ci.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).era},eraYear(t){if(!this.helper.hasEra)return;let e=Ci.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).eraYear},monthCode(t){let e=Ci.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).monthCode},dayOfWeek:t=>Hi.iso8601.dayOfWeek(t),dayOfYear(t){let e=Ci.getCacheForObject(t),r=this.helper.isoToCalendarDate(t,e),i=this.helper.startOfCalendarYear(r);return this.helper.calendarDaysUntil(i,r,e)+1},weekOfYear:t=>Hi.iso8601.weekOfYear(t),daysInWeek:t=>Hi.iso8601.daysInWeek(t),daysInMonth(t){let e=Ci.getCacheForObject(t),r=this.helper.temporalToCalendarDate(t,e),i=this.helper.maximumMonthLength(r);if(i===this.helper.minimumMonthLength(r))return i;let n=this.helper.startOfCalendarMonth(r),s=this.helper.addMonthsCalendar(n,1,"constrain",e);return this.helper.calendarDaysUntil(n,s,e)},daysInYear(t){let e=t;eo(e,Ve)||(e=ui(e));let r=Ci.getCacheForObject(e),i=this.helper.temporalToCalendarDate(e,r),n=this.helper.startOfCalendarYear(i),s=this.helper.addCalendar(n,{years:1},"constrain",r);return this.helper.calendarDaysUntil(n,s,r)},monthsInYear(t){let e=Ci.getCacheForObject(t),r=this.helper.temporalToCalendarDate(t,e);return this.helper.monthsInYear(r,e)},inLeapYear(t){let e=t;eo(e,Ve)||(e=ui(e));let r=Ci.getCacheForObject(e),i=this.helper.temporalToCalendarDate(e,r);return this.helper.inLeapYear(i,r)}};for(let t of[rk,fk,dk,ck,lk,gk,bk,hk,uk,pk,yk,mk,P8,ik,nk,ok,sk,ak]){let e=new t;Hi[e.id]={...Nve,helper:e}}var O0=class{constructor(e,r,i,n=un()){let s=ci(e),o=ci(r),a=ci(i),f=mo(n);if(arguments.length<3)throw new RangeError("missing argument: isoYear, isoMonth and isoDay are required");F$(this,s,o,a,f)}get calendar(){if(!gr(this))throw new TypeError("invalid receiver");return V(this,ve)}get era(){if(!gr(this))throw new TypeError("invalid receiver");return j8(V(this,ve),this)}get eraYear(){if(!gr(this))throw new TypeError("invalid receiver");return L8(V(this,ve),this)}get year(){if(!gr(this))throw new TypeError("invalid receiver");return B8(V(this,ve),this)}get month(){if(!gr(this))throw new TypeError("invalid receiver");return C8(V(this,ve),this)}get monthCode(){if(!gr(this))throw new TypeError("invalid receiver");return Uw(V(this,ve),this)}get day(){if(!gr(this))throw new TypeError("invalid receiver");return O8(V(this,ve),this)}get dayOfWeek(){if(!gr(this))throw new TypeError("invalid receiver");return Ak(V(this,ve),this)}get dayOfYear(){if(!gr(this))throw new TypeError("invalid receiver");return Mk(V(this,ve),this)}get weekOfYear(){if(!gr(this))throw new TypeError("invalid receiver");return kk(V(this,ve),this)}get daysInWeek(){if(!gr(this))throw new TypeError("invalid receiver");return Tk(V(this,ve),this)}get daysInMonth(){if(!gr(this))throw new TypeError("invalid receiver");return $w(V(this,ve),this)}get daysInYear(){if(!gr(this))throw new TypeError("invalid receiver");return N8(V(this,ve),this)}get monthsInYear(){if(!gr(this))throw new TypeError("invalid receiver");return q8(V(this,ve),this)}get inLeapYear(){if(!gr(this))throw new TypeError("invalid receiver");return z8(V(this,ve),this)}with(e,r){if(!gr(this))throw new TypeError("invalid receiver");if(!Ti(e))throw new TypeError("invalid argument");Tg(e);let i=V(this,ve),n=Rn(i,["day","month","monthCode","year"]),s=lr(e,n,"partial");if(!s)throw new TypeError("invalid date-like");let o=lr(this,n,[]);return o=D0(i,o,s),o=lr(o,n,[]),yh(i,o,hr(r))}withCalendar(e){if(!gr(this))throw new TypeError("invalid receiver");let r=mo(e);return new O0(V(this,Ve),V(this,Ge),V(this,Qe),r)}add(e,r){if(!gr(this))throw new TypeError("invalid receiver");let i=bg(e),n=hr(r);return ms(V(this,ve),this,i,n)}subtract(e,r){if(!gr(this))throw new TypeError("invalid receiver");let i=eV(bg(e)),n=hr(r);return ms(V(this,ve),this,i,n)}until(e,r){if(!gr(this))throw new TypeError("invalid receiver");return u$("until",this,e,r)}since(e,r){if(!gr(this))throw new TypeError("invalid receiver");return u$("since",this,e,r)}equals(e){if(!gr(this))throw new TypeError("invalid receiver");let r=ui(e);for(let i of[Ve,Ge,Qe])if(V(this,i)!==V(r,i))return!1;return Vw(V(this,ve),V(r,ve))}toString(e){if(!gr(this))throw new TypeError("invalid receiver");return t$(this,qw(hr(e)))}toJSON(){if(!gr(this))throw new TypeError("invalid receiver");return t$(this)}toLocaleString(e,r){if(!gr(this))throw new TypeError("invalid receiver");return new _h(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(e){if(!gr(this))throw new TypeError("invalid receiver");let r=V(this,Ve),i=V(this,Ge),n=V(this,Qe),s=V(this,ve);if(e===void 0)return aa(r,i,n,0,0,0,0,0,0,s);let o=ql(e);return aa(r,i,n,V(o,zt),V(o,Ft),V(o,Ut),V(o,$t),V(o,Vt),V(o,Kt),s)}toZonedDateTime(e){if(!gr(this))throw new TypeError("invalid receiver");let r,i;if(Ti(e)){let g=e.timeZone;g===void 0?r=bs(e):(r=bs(g),i=e.plainTime)}else r=bs(e);let n=V(this,Ve),s=V(this,Ge),o=V(this,Qe),a=V(this,ve),f=0,c=0,u=0,l=0,y=0,m=0;return i!==void 0&&(i=ql(i),f=V(i,zt),c=V(i,Ft),u=V(i,Ut),l=V(i,$t),y=V(i,Vt),m=V(i,Kt)),ko(V(gs(r,aa(n,s,o,f,c,u,l,y,m,a),"compatible"),At),r,a)}toPlainYearMonth(){if(!gr(this))throw new TypeError("invalid receiver");let e=V(this,ve);return I0(e,lr(this,Rn(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!gr(this))throw new TypeError("invalid receiver");let e=V(this,ve);return _g(e,lr(this,Rn(e,["day","monthCode"]),[]))}getISOFields(){if(!gr(this))throw new TypeError("invalid receiver");return{calendar:V(this,ve),isoDay:V(this,Qe),isoMonth:V(this,Ge),isoYear:V(this,Ve)}}static from(e,r){let i=hr(r);return gr(e)?(fn(i),jf(V(e,Ve),V(e,Ge),V(e,Qe),V(e,ve))):ui(e,i)}static compare(e,r){let i=ui(e),n=ui(r);return dh(V(i,Ve),V(i,Ge),V(i,Qe),V(n,Ve),V(n,Ge),V(n,Qe))}};Sc(O0,"Temporal.PlainDate");var j0=class{constructor(e,r,i,n=0,s=0,o=0,a=0,f=0,c=0,u=un()){let l=ci(e),y=ci(r),m=ci(i),g=ci(n),E=ci(s),x=ci(o),T=ci(a),M=ci(f),I=ci(c),R=mo(u);if(arguments.length<3)throw new RangeError("missing argument: isoYear, isoMonth and isoDay are required");U$(this,l,y,m,g,E,x,T,M,I,R)}get calendar(){if(!ir(this))throw new TypeError("invalid receiver");return V(this,ve)}get year(){if(!ir(this))throw new TypeError("invalid receiver");return B8(V(this,ve),this)}get month(){if(!ir(this))throw new TypeError("invalid receiver");return C8(V(this,ve),this)}get monthCode(){if(!ir(this))throw new TypeError("invalid receiver");return Uw(V(this,ve),this)}get day(){if(!ir(this))throw new TypeError("invalid receiver");return O8(V(this,ve),this)}get hour(){if(!ir(this))throw new TypeError("invalid receiver");return V(this,zt)}get minute(){if(!ir(this))throw new TypeError("invalid receiver");return V(this,Ft)}get second(){if(!ir(this))throw new TypeError("invalid receiver");return V(this,Ut)}get millisecond(){if(!ir(this))throw new TypeError("invalid receiver");return V(this,$t)}get microsecond(){if(!ir(this))throw new TypeError("invalid receiver");return V(this,Vt)}get nanosecond(){if(!ir(this))throw new TypeError("invalid receiver");return V(this,Kt)}get era(){if(!ir(this))throw new TypeError("invalid receiver");return j8(V(this,ve),this)}get eraYear(){if(!ir(this))throw new TypeError("invalid receiver");return L8(V(this,ve),this)}get dayOfWeek(){if(!ir(this))throw new TypeError("invalid receiver");return Ak(V(this,ve),this)}get dayOfYear(){if(!ir(this))throw new TypeError("invalid receiver");return Mk(V(this,ve),this)}get weekOfYear(){if(!ir(this))throw new TypeError("invalid receiver");return kk(V(this,ve),this)}get daysInWeek(){if(!ir(this))throw new TypeError("invalid receiver");return Tk(V(this,ve),this)}get daysInYear(){if(!ir(this))throw new TypeError("invalid receiver");return N8(V(this,ve),this)}get daysInMonth(){if(!ir(this))throw new TypeError("invalid receiver");return $w(V(this,ve),this)}get monthsInYear(){if(!ir(this))throw new TypeError("invalid receiver");return q8(V(this,ve),this)}get inLeapYear(){if(!ir(this))throw new TypeError("invalid receiver");return z8(V(this,ve),this)}with(e,r){if(!ir(this))throw new TypeError("invalid receiver");if(!Ti(e))throw new TypeError("invalid argument");Tg(e);let i=hr(r),n=V(this,ve),s=Rn(n,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),o=lr(e,s,"partial");if(!o)throw new TypeError("invalid date-time-like");let a=lr(this,s,[]);a=D0(n,a,o),a=lr(a,s,[]);let{year:f,month:c,day:u,hour:l,minute:y,second:m,millisecond:g,microsecond:E,nanosecond:x}=Fw(n,a,i);return aa(f,c,u,l,y,m,g,E,x,n)}withPlainTime(e){if(!ir(this))throw new TypeError("invalid receiver");let r=V(this,Ve),i=V(this,Ge),n=V(this,Qe),s=V(this,ve);if(e===void 0)return aa(r,i,n,0,0,0,0,0,0,s);let o=ql(e);return aa(r,i,n,V(o,zt),V(o,Ft),V(o,Ut),V(o,$t),V(o,Vt),V(o,Kt),s)}withPlainDate(e){if(!ir(this))throw new TypeError("invalid receiver");let r=ui(e),i=V(r,Ve),n=V(r,Ge),s=V(r,Qe),o=V(r,ve),a=V(this,zt),f=V(this,Ft),c=V(this,Ut),u=V(this,$t),l=V(this,Vt),y=V(this,Kt);return o=H$(V(this,ve),o),aa(i,n,s,a,f,c,u,l,y,o)}withCalendar(e){if(!ir(this))throw new TypeError("invalid receiver");let r=mo(e);return new j0(V(this,Ve),V(this,Ge),V(this,Qe),V(this,zt),V(this,Ft),V(this,Ut),V(this,$t),V(this,Vt),V(this,Kt),r)}add(e,r){if(!ir(this))throw new TypeError("invalid receiver");return m$("add",this,e,r)}subtract(e,r){if(!ir(this))throw new TypeError("invalid receiver");return m$("subtract",this,e,r)}until(e,r){if(!ir(this))throw new TypeError("invalid receiver");return c$("until",this,e,r)}since(e,r){if(!ir(this))throw new TypeError("invalid receiver");return c$("since",this,e,r)}round(e){if(!ir(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=typeof e=="string"?xg("smallestUnit",e):hr(e),i=Qn(r,"smallestUnit","time",P0,["day"]),n=Ks(r,"halfExpand"),s=Vl(r,{day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[i],!1),o=V(this,Ve),a=V(this,Ge),f=V(this,Qe),c=V(this,zt),u=V(this,Ft),l=V(this,Ut),y=V(this,$t),m=V(this,Vt),g=V(this,Kt);return{year:o,month:a,day:f,hour:c,minute:u,second:l,millisecond:y,microsecond:m,nanosecond:g}=Nk(o,a,f,c,u,l,y,m,g,s,i,n),aa(o,a,f,c,u,l,y,m,g,V(this,ve))}equals(e){if(!ir(this))throw new TypeError("invalid receiver");let r=x0(e);for(let i of[Ve,Ge,Qe,zt,Ft,Ut,$t,Vt,Kt])if(V(this,i)!==V(r,i))return!1;return Vw(V(this,ve),V(r,ve))}toString(e){if(!ir(this))throw new TypeError("invalid receiver");let r=hr(e),{precision:i,unit:n,increment:s}=zw(r);return r$(this,i,qw(r),{unit:n,increment:s,roundingMode:Ks(r,"trunc")})}toJSON(){if(!ir(this))throw new TypeError("invalid receiver");return r$(this,"auto")}toLocaleString(e,r){if(!ir(this))throw new TypeError("invalid receiver");return new _h(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(e,r){if(!ir(this))throw new TypeError("invalid receiver");let i=bs(e);return ko(V(gs(i,this,kw(hr(r))),At),i,V(this,ve))}toPlainDate(){if(!ir(this))throw new TypeError("invalid receiver");return Eg(this)}toPlainYearMonth(){if(!ir(this))throw new TypeError("invalid receiver");let e=V(this,ve);return I0(e,lr(this,Rn(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!ir(this))throw new TypeError("invalid receiver");let e=V(this,ve);return _g(e,lr(this,Rn(e,["day","monthCode"]),[]))}toPlainTime(){if(!ir(this))throw new TypeError("invalid receiver");return Pk(this)}getISOFields(){if(!ir(this))throw new TypeError("invalid receiver");return{calendar:V(this,ve),isoDay:V(this,Qe),isoHour:V(this,zt),isoMicrosecond:V(this,Vt),isoMillisecond:V(this,$t),isoMinute:V(this,Ft),isoMonth:V(this,Ge),isoNanosecond:V(this,Kt),isoSecond:V(this,Ut),isoYear:V(this,Ve)}}static from(e,r){let i=hr(r);return ir(e)?(fn(i),aa(V(e,Ve),V(e,Ge),V(e,Qe),V(e,zt),V(e,Ft),V(e,Ut),V(e,$t),V(e,Vt),V(e,Kt),V(e,ve))):x0(e,i)}static compare(e,r){let i=x0(e),n=x0(r);for(let s of[Ve,Ge,Qe,zt,Ft,Ut,$t,Vt,Kt]){let o=V(i,s),a=V(n,s);if(o!==a)return k0(o-a)}return 0}};Sc(j0,"Temporal.PlainDateTime");var vc=class{constructor(e=0,r=0,i=0,n=0,s=0,o=0,a=0,f=0,c=0,u=0){let l=Jn(e),y=Jn(r),m=Jn(i),g=Jn(n),E=Jn(s),x=Jn(o),T=Jn(a),M=Jn(f),I=Jn(c),R=Jn(u);V8(l,y,m,g,E,x,T,M,I,R),xc(this),nr(this,fs,l),nr(this,ho,y),nr(this,Vs,m),nr(this,us,g),nr(this,cs,E),nr(this,ls,x),nr(this,ds,T),nr(this,hs,M),nr(this,ps,I),nr(this,ys,R)}get years(){if(!Vi(this))throw new TypeError("invalid receiver");return V(this,fs)}get months(){if(!Vi(this))throw new TypeError("invalid receiver");return V(this,ho)}get weeks(){if(!Vi(this))throw new TypeError("invalid receiver");return V(this,Vs)}get days(){if(!Vi(this))throw new TypeError("invalid receiver");return V(this,us)}get hours(){if(!Vi(this))throw new TypeError("invalid receiver");return V(this,cs)}get minutes(){if(!Vi(this))throw new TypeError("invalid receiver");return V(this,ls)}get seconds(){if(!Vi(this))throw new TypeError("invalid receiver");return V(this,ds)}get milliseconds(){if(!Vi(this))throw new TypeError("invalid receiver");return V(this,hs)}get microseconds(){if(!Vi(this))throw new TypeError("invalid receiver");return V(this,ps)}get nanoseconds(){if(!Vi(this))throw new TypeError("invalid receiver");return V(this,ys)}get sign(){if(!Vi(this))throw new TypeError("invalid receiver");return wc(V(this,fs),V(this,ho),V(this,Vs),V(this,us),V(this,cs),V(this,ls),V(this,ds),V(this,hs),V(this,ps),V(this,ys))}get blank(){if(!Vi(this))throw new TypeError("invalid receiver");return wc(V(this,fs),V(this,ho),V(this,Vs),V(this,us),V(this,cs),V(this,ls),V(this,ds),V(this,hs),V(this,ps),V(this,ys))===0}with(e){if(!Vi(this))throw new TypeError("invalid receiver");let r=lr(e,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial");if(!r)throw new TypeError("invalid duration-like");let{years:i=V(this,fs),months:n=V(this,ho),weeks:s=V(this,Vs),days:o=V(this,us),hours:a=V(this,cs),minutes:f=V(this,ls),seconds:c=V(this,ds),milliseconds:u=V(this,hs),microseconds:l=V(this,ps),nanoseconds:y=V(this,ys)}=r;return new vc(i,n,s,o,a,f,c,u,l,y)}negated(){if(!Vi(this))throw new TypeError("invalid receiver");return eV(this)}abs(){if(!Vi(this))throw new TypeError("invalid receiver");return new vc(Math.abs(V(this,fs)),Math.abs(V(this,ho)),Math.abs(V(this,Vs)),Math.abs(V(this,us)),Math.abs(V(this,cs)),Math.abs(V(this,ls)),Math.abs(V(this,ds)),Math.abs(V(this,hs)),Math.abs(V(this,ps)),Math.abs(V(this,ys)))}add(e,r){if(!Vi(this))throw new TypeError("invalid receiver");return p$("add",this,e,r)}subtract(e,r){if(!Vi(this))throw new TypeError("invalid receiver");return p$("subtract",this,e,r)}round(e){if(!Vi(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=V(this,fs),i=V(this,ho),n=V(this,Vs),s=V(this,us),o=V(this,cs),a=V(this,ls),f=V(this,ds),c=V(this,hs),u=V(this,ps),l=V(this,ys),y=YM(r,i,n,s,o,a,f,c,u,l),m=typeof e=="string"?xg("smallestUnit",e):hr(e),g=Qn(m,"smallestUnit","datetime",void 0),E=!0;g||(E=!1,g="nanosecond"),y=ca(y,g);let x=Qn(m,"largestUnit","datetime",void 0,["auto"]),T=!0;if(x||(T=!1,x=y),x==="auto"&&(x=y),!E&&!T)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(ca(x,g)!==x)throw new RangeError(`largestUnit ${x} cannot be smaller than smallestUnit ${g}`);let M=Ks(m,"halfExpand"),I=xk(m,g),R=h8(m);return{years:r,months:i,weeks:n,days:s}=d8(r,i,n,s,x,R),{years:r,months:i,weeks:n,days:s,hours:o,minutes:a,seconds:f,milliseconds:c,microseconds:u,nanoseconds:l}=gh(r,i,n,s,o,a,f,c,u,l,I,g,M,R),{years:r,months:i,weeks:n,days:s,hours:o,minutes:a,seconds:f,milliseconds:c,microseconds:u,nanoseconds:l}=fV(r,i,n,s,o,a,f,c,u,l,I,g,M,R),{years:r,months:i,weeks:n,days:s}=function(B,C,U,W,L,j){let k=B,P=C,p=U,d=W,h=Mt("%Temporal.Duration%"),b=wc(k,P,p,d,0,0,0,0,0,0);if(b===0)return{years:k,months:P,weeks:p,days:d};let v,w;j&&(w=ui(j),v=V(w,ve));let _=new h(b),D=new h(0,b),S=new h(0,0,b);switch(L){case"year":{if(!v)throw new RangeError("a starting point is required for years balancing");let A,N,G;for({relativeTo:A,days:N}=Vo(v,w,_);xr(d)>=xr(N);)d-=N,k+=b,w=A,{relativeTo:A,days:N}=Vo(v,w,_);for({relativeTo:A,days:G}=Vo(v,w,D);xr(d)>=xr(G);)d-=G,P+=b,w=A,{relativeTo:A,days:G}=Vo(v,w,D);let Q=v.dateAdd;A=ms(v,w,_,void 0,Q);let ne=v.dateUntil,H=Po(null);H.largestUnit="month";let Z=ph(v,w,A,H,ne),ie=V(Z,ho);for(;xr(P)>=xr(ie);){P-=ie,k+=b,w=A,A=ms(v,w,_,void 0,Q);let fe=Po(null);fe.largestUnit="month",Z=ph(v,w,A,fe,ne),ie=V(Z,ho)}break}case"month":{if(!v)throw new RangeError("a starting point is required for months balancing");let A,N;for({relativeTo:A,days:N}=Vo(v,w,D);xr(d)>=xr(N);)d-=N,P+=b,w=A,{relativeTo:A,days:N}=Vo(v,w,D);break}case"week":{if(!v)throw new RangeError("a starting point is required for weeks balancing");let A,N;for({relativeTo:A,days:N}=Vo(v,w,S);xr(d)>=xr(N);)d-=N,p+=b,w=A,{relativeTo:A,days:N}=Vo(v,w,S);break}}return{years:k,months:P,weeks:p,days:d}}(r,i,n,s,x,R),vt(R)&&(R=XM(R,r,i,n,0)),{days:s,hours:o,minutes:a,seconds:f,milliseconds:c,microseconds:u,nanoseconds:l}=ua(s,o,a,f,c,u,l,x,R),new vc(r,i,n,s,o,a,f,c,u,l)}total(e){if(!Vi(this))throw new TypeError("invalid receiver");let r=V(this,fs),i=V(this,ho),n=V(this,Vs),s=V(this,us),o=V(this,cs),a=V(this,ls),f=V(this,ds),c=V(this,hs),u=V(this,ps),l=V(this,ys);if(e===void 0)throw new TypeError("options argument is required");let y=typeof e=="string"?xg("unit",e):hr(e),m=Qn(y,"unit","datetime",P0),g=h8(y),E;({years:r,months:i,weeks:n,days:s}=d8(r,i,n,s,m,g)),vt(g)&&(E=XM(g,r,i,n,0)),{days:s,hours:o,minutes:a,seconds:f,milliseconds:c,microseconds:u,nanoseconds:l}=ua(s,o,a,f,c,u,l,m,E);let{total:x}=gh(r,i,n,s,o,a,f,c,u,l,1,m,"trunc",g);return x}toString(e){if(!Vi(this))throw new TypeError("invalid receiver");let r=hr(e),{precision:i,unit:n,increment:s}=zw(r);if(i==="minute")throw new RangeError('smallestUnit must not be "minute"');return NM(this,i,{unit:n,increment:s,roundingMode:Ks(r,"trunc")})}toJSON(){if(!Vi(this))throw new TypeError("invalid receiver");return NM(this)}toLocaleString(e,r){if(!Vi(this))throw new TypeError("invalid receiver");return typeof Intl<"u"&&Intl.DurationFormat!==void 0?new Intl.DurationFormat(e,r).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),NM(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(e){return Vi(e)?new vc(V(e,fs),V(e,ho),V(e,Vs),V(e,us),V(e,cs),V(e,ls),V(e,ds),V(e,hs),V(e,ps),V(e,ys)):bg(e)}static compare(e,r,i){let n=bg(e),s=bg(r),o=h8(hr(i)),a=V(n,fs),f=V(n,ho),c=V(n,Vs),u=V(n,us),l=V(n,cs),y=V(n,ls),m=V(n,ds),g=V(n,hs),E=V(n,ps),x=V(n,ys),T=V(s,fs),M=V(s,ho),I=V(s,Vs),R=V(s,us),O=V(s,cs),B=V(s,ls),C=V(s,ds),U=V(s,hs),W=V(s,ps),L=V(s,ys),j=a$(o,a,f,c,u),k=a$(o,T,M,I,R);a===0&&T===0&&f===0&&M===0&&c===0&&I===0||({days:u}=d8(a,f,c,u,"day",o),{days:R}=d8(T,M,I,R,"day",o));let P=Sg(u,l,y,m,g,E,x,j),p=Sg(R,O,B,C,U,W,L,k);return k0(se.default.toNumber(se.default.subtract(P,p)))}};Sc(vc,"Temporal.Duration");var qve=Object.create,Iw=class{constructor(e,r,i=un(),n=1972){let s=ci(e),o=ci(r),a=mo(i),f=ci(n);if(arguments.length<2)throw new RangeError("missing argument: isoMonth and isoDay are required");$$(this,s,o,a,f)}get monthCode(){if(!po(this))throw new TypeError("invalid receiver");return Uw(V(this,ve),this)}get day(){if(!po(this))throw new TypeError("invalid receiver");return O8(V(this,ve),this)}get calendar(){if(!po(this))throw new TypeError("invalid receiver");return V(this,ve)}with(e,r){if(!po(this))throw new TypeError("invalid receiver");if(!Ti(e))throw new TypeError("invalid argument");Tg(e);let i=V(this,ve),n=Rn(i,["day","month","monthCode","year"]),s=lr(e,n,"partial");if(!s)throw new TypeError("invalid month-day-like");let o=lr(this,n,[]);return o=D0(i,o,s),o=lr(o,n,[]),_g(i,o,hr(r))}equals(e){if(!po(this))throw new TypeError("invalid receiver");let r=QU(e);for(let i of[Ge,Qe,Ve])if(V(this,i)!==V(r,i))return!1;return Vw(V(this,ve),V(r,ve))}toString(e){if(!po(this))throw new TypeError("invalid receiver");return i$(this,qw(hr(e)))}toJSON(){if(!po(this))throw new TypeError("invalid receiver");return i$(this)}toLocaleString(e,r){if(!po(this))throw new TypeError("invalid receiver");return new _h(e,r).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(e){if(!po(this))throw new TypeError("invalid receiver");if(!Ti(e))throw new TypeError("argument should be an object");let r=V(this,ve),i=Rn(r,["day","monthCode"]),n=lr(this,i,[]),s=Rn(r,["year"]),o=D0(r,n,lr(e,s,[]));o=lr(o,[...new Set([...i,...s])],[]);let a=qve(null);return a.overflow="reject",yh(r,o,a)}getISOFields(){if(!po(this))throw new TypeError("invalid receiver");return{calendar:V(this,ve),isoDay:V(this,Qe),isoMonth:V(this,Ge),isoYear:V(this,Ve)}}static from(e,r){let i=hr(r);return po(e)?(fn(i),Tw(V(e,Ge),V(e,Qe),V(e,ve),V(e,Ve))):QU(e,i)}};Sc(Iw,"Temporal.PlainMonthDay");var $k=()=>new(Mt("%Temporal.Instant%"))(zk()),_$=(t,e=ch())=>{let r=bs(e),i=mo(t);return ka(r,$k(),i)},UM=(t=ch())=>{let e=bs(t),r=un();return ka(e,$k(),r)},E$=(t,e=ch())=>{let r=bs(e),i=mo(t);return ko(zk(),r,i)},ch=()=>function(){let e=new I$("en-us");return new(Mt("%Temporal.TimeZone%"))(N$(e.resolvedOptions().timeZone))}(),SV={instant:$k,plainDateTime:_$,plainDateTimeISO:UM,plainDate:(t,e=ch())=>Eg(_$(t,e)),plainDateISO:(t=ch())=>Eg(UM(t)),plainTimeISO:(t=ch())=>Pk(UM(t)),timeZone:ch,zonedDateTime:E$,zonedDateTimeISO:(t=ch())=>E$(un(),t),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(SV,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});var zve=Object.assign;function S$(t,e,r){let i=V(t,zt),n=V(t,Ft),s=V(t,Ut),o=V(t,$t),a=V(t,Vt),f=V(t,Kt);if(r){let{unit:c,increment:u,roundingMode:l}=r;({hour:i,minute:n,second:s,millisecond:o,microsecond:a,nanosecond:f}=qk(i,n,s,o,a,f,u,c,l))}return`${Ni(i)}:${Ni(n)}${F8(s,o,a,f,e)}`}var $l=class{constructor(e=0,r=0,i=0,n=0,s=0,o=0){let a=ci(e),f=ci(r),c=ci(i),u=ci(n),l=ci(s),y=ci(o);$8(a,f,c,u,l,y),xc(this),nr(this,zt,a),nr(this,Ft,f),nr(this,Ut,c),nr(this,$t,u),nr(this,Vt,l),nr(this,Kt,y),nr(this,ve,un())}get calendar(){if(!Ki(this))throw new TypeError("invalid receiver");return V(this,ve)}get hour(){if(!Ki(this))throw new TypeError("invalid receiver");return V(this,zt)}get minute(){if(!Ki(this))throw new TypeError("invalid receiver");return V(this,Ft)}get second(){if(!Ki(this))throw new TypeError("invalid receiver");return V(this,Ut)}get millisecond(){if(!Ki(this))throw new TypeError("invalid receiver");return V(this,$t)}get microsecond(){if(!Ki(this))throw new TypeError("invalid receiver");return V(this,Vt)}get nanosecond(){if(!Ki(this))throw new TypeError("invalid receiver");return V(this,Kt)}with(e,r){if(!Ki(this))throw new TypeError("invalid receiver");if(!Ti(e))throw new TypeError("invalid argument");Tg(e);let i=_8(e,"partial"),n=fn(hr(r)),s=_8(this),{hour:o,minute:a,second:f,millisecond:c,microsecond:u,nanosecond:l}=zve(s,i);return{hour:o,minute:a,second:f,millisecond:c,microsecond:u,nanosecond:l}=I8(o,a,f,c,u,l,n),new $l(o,a,f,c,u,l)}add(e){if(!Ki(this))throw new TypeError("invalid receiver");return g$("add",this,e)}subtract(e){if(!Ki(this))throw new TypeError("invalid receiver");return g$("subtract",this,e)}until(e,r){if(!Ki(this))throw new TypeError("invalid receiver");return l$("until",this,e,r)}since(e,r){if(!Ki(this))throw new TypeError("invalid receiver");return l$("since",this,e,r)}round(e){if(!Ki(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=typeof e=="string"?xg("smallestUnit",e):hr(e),i=Qn(r,"smallestUnit","time",P0),n=Ks(r,"halfExpand"),s=Vl(r,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[i],!1),o=V(this,zt),a=V(this,Ft),f=V(this,Ut),c=V(this,$t),u=V(this,Vt),l=V(this,Kt);return{hour:o,minute:a,second:f,millisecond:c,microsecond:u,nanosecond:l}=qk(o,a,f,c,u,l,s,i,n),new $l(o,a,f,c,u,l)}equals(e){if(!Ki(this))throw new TypeError("invalid receiver");let r=ql(e);for(let i of[zt,Ft,Ut,$t,Vt,Kt])if(V(this,i)!==V(r,i))return!1;return!0}toString(e){if(!Ki(this))throw new TypeError("invalid receiver");let r=hr(e),{precision:i,unit:n,increment:s}=zw(r);return S$(this,i,{unit:n,increment:s,roundingMode:Ks(r,"trunc")})}toJSON(){if(!Ki(this))throw new TypeError("invalid receiver");return S$(this,"auto")}toLocaleString(e,r){if(!Ki(this))throw new TypeError("invalid receiver");return new _h(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(e){if(!Ki(this))throw new TypeError("invalid receiver");let r=ui(e),i=V(r,Ve),n=V(r,Ge),s=V(r,Qe),o=V(r,ve);return aa(i,n,s,V(this,zt),V(this,Ft),V(this,Ut),V(this,$t),V(this,Vt),V(this,Kt),o)}toZonedDateTime(e){if(!Ki(this))throw new TypeError("invalid receiver");if(!Ti(e))throw new TypeError("invalid argument");let r=e.plainDate;if(r===void 0)throw new TypeError("missing date property");let i=ui(r),n=e.timeZone;if(n===void 0)throw new TypeError("missing timeZone property");let s=bs(n),o=V(i,Ve),a=V(i,Ge),f=V(i,Qe),c=V(i,ve),u=V(this,zt),l=V(this,Ft),y=V(this,Ut),m=V(this,$t),g=V(this,Vt),E=V(this,Kt);return ko(V(gs(s,new(Mt("%Temporal.PlainDateTime%"))(o,a,f,u,l,y,m,g,E,c),"compatible"),At),s,c)}getISOFields(){if(!Ki(this))throw new TypeError("invalid receiver");return{calendar:V(this,ve),isoHour:V(this,zt),isoMicrosecond:V(this,Vt),isoMillisecond:V(this,$t),isoMinute:V(this,Ft),isoNanosecond:V(this,Kt),isoSecond:V(this,Ut)}}static from(e,r){let i=fn(hr(r));return Ki(e)?new $l(V(e,zt),V(e,Ft),V(e,Ut),V(e,$t),V(e,Vt),V(e,Kt)):ql(e,i)}static compare(e,r){let i=ql(e),n=ql(r);for(let s of[zt,Ft,Ut,$t,Vt,Kt]){let o=V(i,s),a=V(n,s);if(o!==a)return k0(o-a)}return 0}};Sc($l,"Temporal.PlainTime");var Rw=class{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");let r=Dk(e);xc(this),nr(this,uh,r)}get id(){if(!gc(this))throw new TypeError("invalid receiver");return Lt(this)}getOffsetNanosecondsFor(e){if(!gc(this))throw new TypeError("invalid receiver");let r=bc(e),i=V(this,uh);return vw(i)?R0(i):Ll(V(r,At),i)}getOffsetStringFor(e){if(!gc(this))throw new TypeError("invalid receiver");return ZM(this,bc(e))}getPlainDateTimeFor(e,r=un()){return ka(this,bc(e),mo(r))}getInstantFor(e,r){if(!gc(this))throw new TypeError("invalid receiver");return gs(this,x0(e),kw(hr(r)))}getPossibleInstantsFor(e){if(!gc(this))throw new TypeError("invalid receiver");let r=x0(e),i=Mt("%Temporal.Instant%"),n=V(this,uh);if(vw(n)){let s=mh(V(r,Ve),V(r,Ge),V(r,Qe),V(r,zt),V(r,Ft),V(r,Ut),V(r,$t),V(r,Vt),V(r,Kt));if(s===null)throw new RangeError("DateTime outside of supported range");let o=R0(n);return[new i(se.default.subtract(s,se.default.BigInt(o)))]}return function(o,a,f,c,u,l,y,m,g,E){let x=mh(a,f,c,u,l,y,m,g,E);if(x===null)throw new RangeError("DateTime outside of supported range");let T=se.default.subtract(x,hh);se.default.lessThan(T,Sw)&&(T=x);let M=se.default.add(x,hh);se.default.greaterThan(M,xw)&&(M=x);let I=Ll(T,o),R=Ll(M,o);return(I===R?[I]:[I,R]).map(O=>{let B=se.default.subtract(x,se.default.BigInt(O)),C=J$(B,o);if(a===C.year&&f===C.month&&c===C.day&&u===C.hour&&l===C.minute&&y===C.second&&m===C.millisecond&&g===C.microsecond&&E===C.nanosecond)return B}).filter(O=>O!==void 0)}(n,V(r,Ve),V(r,Ge),V(r,Qe),V(r,zt),V(r,Ft),V(r,Ut),V(r,$t),V(r,Vt),V(r,Kt)).map(s=>new i(s))}getNextTransition(e){if(!gc(this))throw new TypeError("invalid receiver");let r=bc(e),i=V(this,uh);if(vw(i)||i==="UTC")return null;let n=V(r,At),s=Mt("%Temporal.Instant%");return n=function(a,f){let c=se.default.add(a,C$),u=s$(X$(),c),l=s$(B$,a),y=Ll(l,f),m=l,g=y;for(;y===g&&se.default.lessThan(se.default.BigInt(l),u);)m=se.default.add(l,O$),g=Ll(m,f),y===g&&(l=m);return y===g?null:lV(E=>Ll(E,f),l,m,y,g)}(n,i),n===null?null:new s(n)}getPreviousTransition(e){if(!gc(this))throw new TypeError("invalid receiver");let r=bc(e),i=V(this,uh);if(vw(i)||i==="UTC")return null;let n=V(r,At),s=Mt("%Temporal.Instant%");return n=Q$(n,i),n===null?null:new s(n)}toString(){if(!gc(this))throw new TypeError("invalid receiver");return Lt(V(this,uh))}toJSON(){if(!gc(this))throw new TypeError("invalid receiver");return Lt(this)}static from(e){return bs(e)}};Sc(Rw,"Temporal.TimeZone");var Fve=Object.create,Bw=class{constructor(e,r,i=un(),n=1){let s=ci(e),o=ci(r),a=mo(i),f=ci(n);if(arguments.length<2)throw new RangeError("missing argument: isoYear and isoMonth are required");V$(this,s,o,a,f)}get year(){if(!Cr(this))throw new TypeError("invalid receiver");return B8(V(this,ve),this)}get month(){if(!Cr(this))throw new TypeError("invalid receiver");return C8(V(this,ve),this)}get monthCode(){if(!Cr(this))throw new TypeError("invalid receiver");return Uw(V(this,ve),this)}get calendar(){if(!Cr(this))throw new TypeError("invalid receiver");return V(this,ve)}get era(){if(!Cr(this))throw new TypeError("invalid receiver");return j8(V(this,ve),this)}get eraYear(){if(!Cr(this))throw new TypeError("invalid receiver");return L8(V(this,ve),this)}get daysInMonth(){if(!Cr(this))throw new TypeError("invalid receiver");return $w(V(this,ve),this)}get daysInYear(){if(!Cr(this))throw new TypeError("invalid receiver");return N8(V(this,ve),this)}get monthsInYear(){if(!Cr(this))throw new TypeError("invalid receiver");return q8(V(this,ve),this)}get inLeapYear(){if(!Cr(this))throw new TypeError("invalid receiver");return z8(V(this,ve),this)}with(e,r){if(!Cr(this))throw new TypeError("invalid receiver");if(!Ti(e))throw new TypeError("invalid argument");Tg(e);let i=V(this,ve),n=Rn(i,["month","monthCode","year"]),s=lr(e,n,"partial");if(!s)throw new TypeError("invalid year-month-like");let o=lr(this,n,[]);return o=D0(i,o,s),o=lr(o,n,[]),I0(i,o,hr(r))}add(e,r){if(!Cr(this))throw new TypeError("invalid receiver");return b$("add",this,e,r)}subtract(e,r){if(!Cr(this))throw new TypeError("invalid receiver");return b$("subtract",this,e,r)}until(e,r){if(!Cr(this))throw new TypeError("invalid receiver");return d$("until",this,e,r)}since(e,r){if(!Cr(this))throw new TypeError("invalid receiver");return d$("since",this,e,r)}equals(e){if(!Cr(this))throw new TypeError("invalid receiver");let r=gw(e);for(let i of[Ve,Ge,Qe])if(V(this,i)!==V(r,i))return!1;return Vw(V(this,ve),V(r,ve))}toString(e){if(!Cr(this))throw new TypeError("invalid receiver");return n$(this,qw(hr(e)))}toJSON(){if(!Cr(this))throw new TypeError("invalid receiver");return n$(this)}toLocaleString(e,r){if(!Cr(this))throw new TypeError("invalid receiver");return new _h(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(e){if(!Cr(this))throw new TypeError("invalid receiver");if(!Ti(e))throw new TypeError("argument should be an object");let r=V(this,ve),i=Rn(r,["monthCode","year"]),n=lr(this,i,[]),s=Rn(r,["day"]),o=D0(r,n,lr(e,s,[]));o=lr(o,[...new Set([...i,...s])],[]);let a=Fve(null);return a.overflow="reject",yh(r,o,a)}getISOFields(){if(!Cr(this))throw new TypeError("invalid receiver");return{calendar:V(this,ve),isoDay:V(this,Qe),isoMonth:V(this,Ge),isoYear:V(this,Ve)}}static from(e,r){let i=hr(r);return Cr(e)?(fn(i),Pw(V(e,Ve),V(e,Ge),V(e,ve),V(e,Qe))):gw(e,i)}static compare(e,r){let i=gw(e),n=gw(r);return dh(V(i,Ve),V(i,Ge),V(i,Qe),V(n,Ve),V(n,Ge),V(n,Qe))}};Sc(Bw,"Temporal.PlainYearMonth");var Cw=class{constructor(e,r,i=un()){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");K$(this,ww(e),bs(r),mo(i))}get calendar(){if(!vt(this))throw new TypeError("invalid receiver");return V(this,ve)}get timeZone(){if(!vt(this))throw new TypeError("invalid receiver");return V(this,Fr)}get year(){if(!vt(this))throw new TypeError("invalid receiver");return B8(V(this,ve),Bi(this))}get month(){if(!vt(this))throw new TypeError("invalid receiver");return C8(V(this,ve),Bi(this))}get monthCode(){if(!vt(this))throw new TypeError("invalid receiver");return Uw(V(this,ve),Bi(this))}get day(){if(!vt(this))throw new TypeError("invalid receiver");return O8(V(this,ve),Bi(this))}get hour(){if(!vt(this))throw new TypeError("invalid receiver");return V(Bi(this),zt)}get minute(){if(!vt(this))throw new TypeError("invalid receiver");return V(Bi(this),Ft)}get second(){if(!vt(this))throw new TypeError("invalid receiver");return V(Bi(this),Ut)}get millisecond(){if(!vt(this))throw new TypeError("invalid receiver");return V(Bi(this),$t)}get microsecond(){if(!vt(this))throw new TypeError("invalid receiver");return V(Bi(this),Vt)}get nanosecond(){if(!vt(this))throw new TypeError("invalid receiver");return V(Bi(this),Kt)}get era(){if(!vt(this))throw new TypeError("invalid receiver");return j8(V(this,ve),Bi(this))}get eraYear(){if(!vt(this))throw new TypeError("invalid receiver");return L8(V(this,ve),Bi(this))}get epochSeconds(){if(!vt(this))throw new TypeError("invalid receiver");let e=V(this,At);return se.default.toNumber(se.default.divide(e,zl))}get epochMilliseconds(){if(!vt(this))throw new TypeError("invalid receiver");let e=V(this,At);return se.default.toNumber(se.default.divide(e,lf))}get epochMicroseconds(){if(!vt(this))throw new TypeError("invalid receiver");let e=V(this,At);return M8(se.default.divide(e,Ur))}get epochNanoseconds(){if(!vt(this))throw new TypeError("invalid receiver");return M8(V(this,At))}get dayOfWeek(){if(!vt(this))throw new TypeError("invalid receiver");return Ak(V(this,ve),Bi(this))}get dayOfYear(){if(!vt(this))throw new TypeError("invalid receiver");return Mk(V(this,ve),Bi(this))}get weekOfYear(){if(!vt(this))throw new TypeError("invalid receiver");return kk(V(this,ve),Bi(this))}get hoursInDay(){if(!vt(this))throw new TypeError("invalid receiver");let e=Bi(this),r=Mt("%Temporal.PlainDateTime%"),i=V(e,Ve),n=V(e,Ge),s=V(e,Qe),o=new r(i,n,s,0,0,0,0,0,0),a=M0(i,n,s,0,0,0,1,"reject"),f=new r(a.year,a.month,a.day,0,0,0,0,0,0),c=V(this,Fr),u=V(gs(c,o,"compatible"),At),l=V(gs(c,f,"compatible"),At);return se.default.toNumber(se.default.subtract(l,u))/36e11}get daysInWeek(){if(!vt(this))throw new TypeError("invalid receiver");return Tk(V(this,ve),Bi(this))}get daysInMonth(){if(!vt(this))throw new TypeError("invalid receiver");return $w(V(this,ve),Bi(this))}get daysInYear(){if(!vt(this))throw new TypeError("invalid receiver");return N8(V(this,ve),Bi(this))}get monthsInYear(){if(!vt(this))throw new TypeError("invalid receiver");return q8(V(this,ve),Bi(this))}get inLeapYear(){if(!vt(this))throw new TypeError("invalid receiver");return z8(V(this,ve),Bi(this))}get offset(){if(!vt(this))throw new TypeError("invalid receiver");return ZM(V(this,Fr),V(this,Ko))}get offsetNanoseconds(){if(!vt(this))throw new TypeError("invalid receiver");return Eu(V(this,Fr),V(this,Ko))}with(e,r){if(!vt(this))throw new TypeError("invalid receiver");if(!Ti(e))throw new TypeError("invalid zoned-date-time-like");Tg(e);let i=hr(r),n=kw(i),s=WM(i,"prefer"),o=V(this,Fr),a=V(this,ve),f=HM(Rn(a,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),"offset"),c=lr(e,f,"partial"),u=HM(f,"timeZone"),l=lr(this,u,["timeZone","offset"]);l=D0(a,l,c),l=lr(l,u,["timeZone","offset"]);let{year:y,month:m,day:g,hour:E,minute:x,second:T,millisecond:M,microsecond:I,nanosecond:R}=Fw(a,l,i);return ko(E8(y,m,g,E,x,T,M,I,R,"option",R0(l.offset),o,n,s,!1),V(this,Fr),a)}withPlainDate(e){if(!vt(this))throw new TypeError("invalid receiver");let r=ui(e),i=V(r,Ve),n=V(r,Ge),s=V(r,Qe),o=V(r,ve),a=Bi(this),f=V(a,zt),c=V(a,Ft),u=V(a,Ut),l=V(a,$t),y=V(a,Vt),m=V(a,Kt);o=H$(V(this,ve),o);let g=V(this,Fr);return ko(V(gs(g,new(Mt("%Temporal.PlainDateTime%"))(i,n,s,f,c,u,l,y,m,o),"compatible"),At),g,o)}withPlainTime(e){if(!vt(this))throw new TypeError("invalid receiver");let r=Mt("%Temporal.PlainTime%"),i=e===void 0?new r:ql(e),n=Bi(this),s=V(n,Ve),o=V(n,Ge),a=V(n,Qe),f=V(this,ve),c=V(i,zt),u=V(i,Ft),l=V(i,Ut),y=V(i,$t),m=V(i,Vt),g=V(i,Kt),E=V(this,Fr);return ko(V(gs(E,new(Mt("%Temporal.PlainDateTime%"))(s,o,a,c,u,l,y,m,g,f),"compatible"),At),E,f)}withTimeZone(e){if(!vt(this))throw new TypeError("invalid receiver");let r=bs(e);return ko(V(this,At),r,V(this,ve))}withCalendar(e){if(!vt(this))throw new TypeError("invalid receiver");let r=mo(e);return ko(V(this,At),V(this,Fr),r)}add(e,r){if(!vt(this))throw new TypeError("invalid receiver");return v$("add",this,e,r)}subtract(e,r){if(!vt(this))throw new TypeError("invalid receiver");return v$("subtract",this,e,r)}until(e,r){if(!vt(this))throw new TypeError("invalid receiver");return h$("until",this,e,r)}since(e,r){if(!vt(this))throw new TypeError("invalid receiver");return h$("since",this,e,r)}round(e){if(!vt(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=typeof e=="string"?xg("smallestUnit",e):hr(e),i=Qn(r,"smallestUnit","time",P0,["day"]),n=Ks(r,"halfExpand"),s=Vl(r,{day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[i],!1),o=Bi(this),a=V(o,Ve),f=V(o,Ge),c=V(o,Qe),u=V(o,zt),l=V(o,Ft),y=V(o,Ut),m=V(o,$t),g=V(o,Vt),E=V(o,Kt),x=Mt("%Temporal.PlainDateTime%"),T=V(this,Fr),M=V(this,ve),I=gs(T,new x(V(o,Ve),V(o,Ge),V(o,Qe),0,0,0,0,0,0),"compatible"),R=df(I,T,M,0,0,0,1,0,0,0,0,0,0),O=se.default.subtract(R,se.default.BigInt(V(I,At)));if(se.default.equal(O,an))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero-length days");return{year:a,month:f,day:c,hour:u,minute:l,second:y,millisecond:m,microsecond:g,nanosecond:E}=Nk(a,f,c,u,l,y,m,g,E,s,i,n,se.default.toNumber(O)),ko(E8(a,f,c,u,l,y,m,g,E,"option",Eu(T,V(this,Ko)),T,"compatible","prefer",!1),T,V(this,ve))}equals(e){if(!vt(this))throw new TypeError("invalid receiver");let r=bw(e),i=V(this,At),n=V(r,At);return!!se.default.equal(se.default.BigInt(i),se.default.BigInt(n))&&!!W$(V(this,Fr),V(r,Fr))&&Vw(V(this,ve),V(r,ve))}toString(e){if(!vt(this))throw new TypeError("invalid receiver");let r=hr(e),{precision:i,unit:n,increment:s}=zw(r),o=Ks(r,"trunc");return o$(this,i,qw(r),function(f){return bh(f,"timeZoneName",["auto","never"],"auto")}(r),function(f){return bh(f,"offset",["auto","never"],"auto")}(r),{unit:n,increment:s,roundingMode:o})}toLocaleString(e,r){if(!vt(this))throw new TypeError("invalid receiver");return new _h(e,r).format(this)}toJSON(){if(!vt(this))throw new TypeError("invalid receiver");return o$(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!vt(this))throw new TypeError("invalid receiver");let e=Bi(this),r=Mt("%Temporal.PlainDateTime%"),i=V(this,ve),n=new r(V(e,Ve),V(e,Ge),V(e,Qe),0,0,0,0,0,0,i),s=V(this,Fr);return ko(V(gs(s,n,"compatible"),At),s,i)}toInstant(){if(!vt(this))throw new TypeError("invalid receiver");return new(Mt("%Temporal.Instant%"))(V(this,At))}toPlainDate(){if(!vt(this))throw new TypeError("invalid receiver");return Eg(Bi(this))}toPlainTime(){if(!vt(this))throw new TypeError("invalid receiver");return Pk(Bi(this))}toPlainDateTime(){if(!vt(this))throw new TypeError("invalid receiver");return Bi(this)}toPlainYearMonth(){if(!vt(this))throw new TypeError("invalid receiver");let e=V(this,ve);return I0(e,lr(this,Rn(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!vt(this))throw new TypeError("invalid receiver");let e=V(this,ve);return _g(e,lr(this,Rn(e,["day","monthCode"]),[]))}getISOFields(){if(!vt(this))throw new TypeError("invalid receiver");let e=Bi(this),r=V(this,Fr);return{calendar:V(this,ve),isoDay:V(e,Qe),isoHour:V(e,zt),isoMicrosecond:V(e,Vt),isoMillisecond:V(e,$t),isoMinute:V(e,Ft),isoMonth:V(e,Ge),isoNanosecond:V(e,Kt),isoSecond:V(e,Ut),isoYear:V(e,Ve),offset:ZM(r,V(this,Ko)),timeZone:r}}static from(e,r){let i=hr(r);return vt(e)?(fn(i),kw(i),WM(i,"reject"),ko(V(e,At),V(e,Fr),V(e,ve))):bw(e,i)}static compare(e,r){let i=bw(e),n=bw(r),s=V(i,At),o=V(n,At);return se.default.lessThan(se.default.BigInt(s),se.default.BigInt(o))?-1:se.default.greaterThan(se.default.BigInt(s),se.default.BigInt(o))?1:0}};function Bi(t){return ka(V(t,Fr),V(t,Ko),V(t,ve))}Sc(Cw,"Temporal.ZonedDateTime");var xV=Object.freeze({__proto__:null,Instant:cf,Calendar:Mg,PlainDate:O0,PlainDateTime:j0,Duration:vc,PlainMonthDay:Iw,Now:SV,PlainTime:$l,TimeZone:Rw,PlainYearMonth:Bw,ZonedDateTime:Cw});var Uve=[cf,Mg,O0,j0,vc,Iw,$l,Rw,Bw,Cw];for(let t of Uve){let e=Object.getOwnPropertyDescriptor(t,"prototype");(e.configurable||e.enumerable||e.writable)&&(e.configurable=!1,e.enumerable=!1,e.writable=!1,Object.defineProperty(t,"prototype",e))}function Vk(t){return new Promise(e=>setTimeout(e,t))}function Hs(){return xV.Now.instant().toString({smallestUnit:"microseconds"})}var Ta=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},Su=function(t){return this instanceof Su?(this.v=t,this):new Su(t)},W8=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(s){r[s]=t[s]&&function(o){return new Promise(function(a,f){o=t[s](o),n(a,f,o.done,o.value)})}}function n(s,o,a,f){Promise.resolve(f).then(function(c){s({value:c,done:a})},o)}},AV=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(t,e||[]),n,s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(y){i[y]&&(n[y]=function(m){return new Promise(function(g,E){s.push([y,m,g,E])>1||a(y,m)})})}function a(y,m){try{f(i[y](m))}catch(g){l(s[0][3],g)}}function f(y){y.value instanceof Su?Promise.resolve(y.value.v).then(c,u):l(s[0][2],y)}function c(y){a("next",y)}function u(y){a("throw",y)}function l(y,m){y(m),s.shift(),s.length&&a(s[0][0],s[0][1])}};function Au(t,e){return Ta(this,void 0,void 0,function*(){let{Level:r}=yield Promise.resolve().then(()=>yr(I6(),1));return new r(t,Object.assign(Object.assign({},e),{keyEncoding:"utf8"}))})}var xu=class{constructor(e,r){this.config=Object.assign({createLevelDatabase:Au},e),this.db=r}open(){return Ta(this,void 0,void 0,function*(){for(yield this.createLevelDatabase();this.db.status==="opening"||this.db.status==="closing";)yield Vk(200);if(this.db.status!=="open")return this.db.open()})}close(){return Ta(this,void 0,void 0,function*(){if(this.db){for(;this.db.status==="opening"||this.db.status==="closing";)yield Vk(200);if(this.db.status!=="closed")return this.db.close()}})}partition(e){return Ta(this,void 0,void 0,function*(){return yield this.createLevelDatabase(),new xu(this.config,this.db.sublevel(e,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))})}get(e,r){var i;return Ta(this,void 0,void 0,function*(){(i=r?.signal)===null||i===void 0||i.throwIfAborted(),yield Mo(r?.signal,this.createLevelDatabase());try{return yield Mo(r?.signal,this.db.get(String(e)))}catch(n){if(n.code==="LEVEL_NOT_FOUND")return;throw n}})}has(e,r){return Ta(this,void 0,void 0,function*(){return!!(yield this.get(e,r))})}keys(e){var r,i;return AV(this,arguments,function*(){var s,o;(r=e?.signal)===null||r===void 0||r.throwIfAborted(),yield Su(Mo(e?.signal,this.createLevelDatabase()));try{for(var a=W8(this.db.keys()),f;f=yield Su(a.next()),!f.done;){let c=f.value;(i=e?.signal)===null||i===void 0||i.throwIfAborted(),yield yield Su(c)}}catch(c){s={error:c}}finally{try{f&&!f.done&&(o=a.return)&&(yield Su(o.call(a)))}finally{if(s)throw s.error}}})}iterator(e,r){var i,n;return AV(this,arguments,function*(){var o,a;(i=r?.signal)===null||i===void 0||i.throwIfAborted(),yield Su(Mo(r?.signal,this.createLevelDatabase()));try{for(var f=W8(this.db.iterator(e)),c;c=yield Su(f.next()),!c.done;){let u=c.value;(n=r?.signal)===null||n===void 0||n.throwIfAborted(),yield yield Su(u)}}catch(u){o={error:u}}finally{try{c&&!c.done&&(a=f.return)&&(yield Su(a.call(f)))}finally{if(o)throw o.error}}})}put(e,r,i){var n;return Ta(this,void 0,void 0,function*(){return(n=i?.signal)===null||n===void 0||n.throwIfAborted(),yield Mo(i?.signal,this.createLevelDatabase()),Mo(i?.signal,this.db.put(String(e),r))})}delete(e,r){var i;return Ta(this,void 0,void 0,function*(){return(i=r?.signal)===null||i===void 0||i.throwIfAborted(),yield Mo(r?.signal,this.createLevelDatabase()),Mo(r?.signal,this.db.del(String(e)))})}isEmpty(e){var r,i;return Ta(this,void 0,void 0,function*(){try{for(var n=W8(this.keys(e)),s;s=yield n.next(),!s.done;){let o=s.value;return!1}}catch(o){r={error:o}}finally{try{s&&!s.done&&(i=n.return)&&(yield i.call(n))}finally{if(r)throw r.error}}return!0})}clear(){return Ta(this,void 0,void 0,function*(){yield this.createLevelDatabase(),yield this.db.clear(),yield this.compactUnderlyingStorage()})}batch(e,r){var i;return Ta(this,void 0,void 0,function*(){return(i=r?.signal)===null||i===void 0||i.throwIfAborted(),yield Mo(r?.signal,this.createLevelDatabase()),Mo(r?.signal,this.db.batch(e))})}compactUnderlyingStorage(e){var r,i,n;return Ta(this,void 0,void 0,function*(){(r=e?.signal)===null||r===void 0||r.throwIfAborted(),yield Mo(e?.signal,this.createLevelDatabase());let s=this.sublevelRange;if(!s)return;let o=this.root;if(o.db.supports.additionalMethods.compactRange)return Mo(e?.signal,(n=(i=o.db).compactRange)===null||n===void 0?void 0:n.call(i,...s))})}get sublevelRange(){let e=this.db.prefix;if(e)return[e,e.slice(0,-1)+String.fromCharCode(e.charCodeAt(e.length-1)+1)]}get root(){let e=this.db;for(let r=e.db;r&&r!==e;)e=r;return new xu(this.config,e)}createLevelDatabase(){var e;return Ta(this,void 0,void 0,function*(){(e=this.db)!==null&&e!==void 0||(this.db=yield this.config.createLevelDatabase(this.config.location,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))})}dump(){var e,r;return Ta(this,void 0,void 0,function*(){if(this.db)try{for(var i=W8(this.db.iterator()),n;n=yield i.next(),!n.done;){let[s,o]=n.value;console.debug(s,o)}}catch(s){e={error:s}}finally{try{n&&!n.done&&(r=i.return)&&(yield r.call(i))}finally{if(e)throw e.error}}})}};var Mc=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},Kk=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(s){r[s]=t[s]&&function(o){return new Promise(function(a,f){o=t[s](o),n(a,f,o.done,o.value)})}}function n(s,o,a,f){Promise.resolve(f).then(function(c){s({value:c,done:a})},o)}},Pa=function(t){return this instanceof Pa?(this.v=t,this):new Pa(t)},Hk=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(t,e||[]),n,s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(y){i[y]&&(n[y]=function(m){return new Promise(function(g,E){s.push([y,m,g,E])>1||a(y,m)})})}function a(y,m){try{f(i[y](m))}catch(g){l(s[0][3],g)}}function f(y){y.value instanceof Pa?Promise.resolve(y.value.v).then(c,u):l(s[0][2],y)}function c(y){a("next",y)}function u(y){a("throw",y)}function l(y,m){y(m),s.shift(),s.length&&a(s[0][0],s[0][1])}},Eh=class{constructor(e,r){this.config=Object.assign({createLevelDatabase:Au},e),this.db=r??new xu(Object.assign(Object.assign({},this.config),{valueEncoding:"binary"}))}open(){return Mc(this,void 0,void 0,function*(){return this.db.open()})}close(){return Mc(this,void 0,void 0,function*(){return this.db.close()})}partition(e){return Mc(this,void 0,void 0,function*(){let r=yield this.db.partition(e);return new Eh(Object.assign(Object.assign({},this.config),{location:""}),r)})}put(e,r,i){return Mc(this,void 0,void 0,function*(){return this.db.put(String(e),r,i)})}get(e,r){return Mc(this,void 0,void 0,function*(){return yield this.db.get(String(e),r)})}has(e,r){return Mc(this,void 0,void 0,function*(){return this.db.has(String(e),r)})}delete(e,r){return Mc(this,void 0,void 0,function*(){return this.db.delete(String(e),r)})}isEmpty(e){return Mc(this,void 0,void 0,function*(){return this.db.isEmpty(e)})}putMany(e,r){return Hk(this,arguments,function*(){var n,s;try{for(var o=Kk(e),a;a=yield Pa(o.next()),!a.done;){let f=a.value;yield Pa(this.put(f.key,f.value,r)),yield yield Pa(f)}}catch(f){n={error:f}}finally{try{a&&!a.done&&(s=o.return)&&(yield Pa(s.call(o)))}finally{if(n)throw n.error}}})}getMany(e,r){return Hk(this,arguments,function*(){var n,s;try{for(var o=Kk(e),a;a=yield Pa(o.next()),!a.done;){let f=a.value;yield yield Pa(this.get(f,r))}}catch(f){n={error:f}}finally{try{a&&!a.done&&(s=o.return)&&(yield Pa(s.call(o)))}finally{if(n)throw n.error}}})}deleteMany(e,r){return Hk(this,arguments,function*(){var n,s;try{for(var o=Kk(e),a;a=yield Pa(o.next()),!a.done;){let f=a.value;yield Pa(this.delete(f,r)),yield yield Pa(f)}}catch(f){n={error:f}}finally{try{a&&!a.done&&(s=o.return)&&(yield Pa(s.call(o)))}finally{if(n)throw n.error}}})}clear(){return Mc(this,void 0,void 0,function*(){return this.db.clear()})}batch(){throw new Error("not implemented")}query(e,r){throw new Error("not implemented")}queryKeys(e,r){throw new Error("not implemented")}dump(){var e,r;return Mc(this,void 0,void 0,function*(){console.group("db"),yield(r=(e=this.db).dump)===null||r===void 0?void 0:r.call(e),console.groupEnd()})}};F();var w4=yr(ia(),1);F();F();F();var $ve=TV,MV=128,Vve=127,Kve=~Vve,Hve=Math.pow(2,31);function TV(t,e,r){e=e||[],r=r||0;for(var i=r;t>=Hve;)e[r++]=t&255|MV,t/=128;for(;t&Kve;)e[r++]=t&255|MV,t>>>=7;return e[r]=t|0,TV.bytes=r-i+1,e}var Wve=Wk,Yve=128,kV=127;function Wk(t,i){var r=0,i=i||0,n=0,s=i,o,a=t.length;do{if(s>=a)throw Wk.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=n<28?(o&kV)<<n:(o&kV)*Math.pow(2,n),n+=7}while(o>=Yve);return Wk.bytes=s-i,r}var Zve=Math.pow(2,7),Gve=Math.pow(2,14),Jve=Math.pow(2,21),Xve=Math.pow(2,28),Qve=Math.pow(2,35),ewe=Math.pow(2,42),twe=Math.pow(2,49),rwe=Math.pow(2,56),iwe=Math.pow(2,63),nwe=function(t){return t<Zve?1:t<Gve?2:t<Jve?3:t<Xve?4:t<Qve?5:t<ewe?6:t<twe?7:t<rwe?8:t<iwe?9:10},owe={encode:$ve,decode:Wve,encodingLength:nwe},swe=owe,Hw=swe;var Ww=(t,e=0)=>[Hw.decode(t,e),Hw.decode.bytes],Dg=(t,e,r=0)=>(Hw.encode(t,e,r),e),Ig=t=>Hw.encodingLength(t);F();F();var Mot=new Uint8Array(0);var DV=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},Kl=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var Y8=(t,e)=>{let r=e.byteLength,i=Ig(t),n=i+Ig(r),s=new Uint8Array(n+r);return Dg(t,s,0),Dg(r,s,i),s.set(e,n),new Rg(t,r,e,s)},Z8=t=>{let e=Kl(t),[r,i]=Ww(e),[n,s]=Ww(e.subarray(i)),o=e.subarray(i+s);if(o.byteLength!==n)throw new Error("Incorrect length");return new Rg(r,n,o,e)},IV=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&DV(t.bytes,e.bytes),Rg=class{constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}};F();F();F();function awe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var s=t.charAt(n),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=n}var a=t.length,f=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function l(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var E=0,x=0,T=0,M=g.length;T!==M&&g[T]===0;)T++,E++;for(var I=(M-T)*u+1>>>0,R=new Uint8Array(I);T!==M;){for(var O=g[T],B=0,C=I-1;(O!==0||B<x)&&C!==-1;C--,B++)O+=256*R[C]>>>0,R[C]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");x=B,T++}for(var U=I-x;U!==I&&R[U]===0;)U++;for(var W=f.repeat(E);U<I;++U)W+=t.charAt(R[U]);return W}function y(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var E=0;if(g[E]!==" "){for(var x=0,T=0;g[E]===f;)x++,E++;for(var M=(g.length-E)*c+1>>>0,I=new Uint8Array(M);g[E];){var R=r[g.charCodeAt(E)];if(R===255)return;for(var O=0,B=M-1;(R!==0||O<T)&&B!==-1;B--,O++)R+=a*I[B]>>>0,I[B]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");T=O,E++}if(g[E]!==" "){for(var C=M-T;C!==M&&I[C]===0;)C++;for(var U=new Uint8Array(x+(M-C)),W=x;C!==M;)U[W++]=I[C++];return U}}}function m(g){var E=y(g);if(E)return E;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:y,decode:m}}var fwe=awe,uwe=fwe,RV=uwe;var Zk=class{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Gk=class{constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return BV(this,e)}},Jk=class{constructor(e){this.decoders=e}or(e){return BV(this,e)}decode(e){let r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},BV=(t,e)=>new Jk({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),Xk=class{constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new Zk(e,r,i),this.decoder=new Gk(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},CV=({name:t,prefix:e,encode:r,decode:i})=>new Xk(t,e,r,i),Qk=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=RV(r,e);return CV({prefix:t,name:e,encode:i,decode:s=>Kl(n(s))})},cwe=(t,e,r,i)=>{let n={};for(let u=0;u<e.length;++u)n[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),a=0,f=0,c=0;for(let u=0;u<s;++u){let l=n[t[u]];if(l===void 0)throw new SyntaxError(`Non-${i} character`);f=f<<r|l,a+=r,a>=8&&(a-=8,o[c++]=255&f>>a)}if(a>=r||255&f<<8-a)throw new SyntaxError("Unexpected end of data");return o},lwe=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,s="",o=0,a=0;for(let f=0;f<t.length;++f)for(a=a<<8|t[f],o+=8;o>r;)o-=r,s+=e[n&a>>o];if(o&&(s+=e[n&a<<r-o]),i)for(;s.length*r&7;)s+="=";return s},kc=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>CV({prefix:e,name:t,encode(n){return lwe(n,i,r)},decode(n){return cwe(n,i,r,t)}});var Hl=Qk({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Not=Qk({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});F();var Yw=kc({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Uot=kc({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),$ot=kc({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Vot=kc({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Kot=kc({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Hot=kc({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Wot=kc({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Yot=kc({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Zot=kc({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Qi=class{constructor(e,r,i,n){this.code=r,this.version=e,this.multihash=i,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:J8,byteLength:J8,code:G8,version:G8,multihash:G8,bytes:G8,_baseCache:J8,asCID:J8})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==Zw)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==ywe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Qi.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,i=Y8(e,r);return Qi.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&IV(this.multihash,e.multihash)}toString(e){let{bytes:r,version:i,_baseCache:n}=this;switch(i){case 0:return hwe(r,n,e||Hl.encoder);default:return pwe(r,n,e||Yw.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return gwe(/^0\.0/,bwe),!!(e&&(e[jV]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof Qi)return e;if(e!=null&&e.asCID===e){let{version:r,code:i,multihash:n,bytes:s}=e;return new Qi(r,i,n,s||OV(r,i,n.bytes))}else if(e!=null&&e[jV]===!0){let{version:r,multihash:i,code:n}=e,s=Z8(i);return Qi.create(r,n,s)}else return null}static create(e,r,i){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==Zw)throw new Error(`Version 0 CID must use dag-pb (code: ${Zw}) block encoding`);return new Qi(e,r,i,i.bytes)}case 1:{let n=OV(e,r,i.bytes);return new Qi(e,r,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return Qi.create(0,Zw,e)}static createV1(e,r){return Qi.create(1,e,r)}static decode(e){let[r,i]=Qi.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=Qi.inspectBytes(e),i=r.size-r.multihashSize,n=Kl(e.subarray(i,i+r.multihashSize));if(n.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=n.subarray(r.multihashSize-r.digestSize),o=new Rg(r.multihashCode,r.digestSize,s,n);return[r.version===0?Qi.createV0(o):Qi.createV1(r.codec,o),e.subarray(r.size)]}static inspectBytes(e){let r=0,i=()=>{let[l,y]=Ww(e.subarray(r));return r+=y,l},n=i(),s=Zw;if(n===18?(n=0,r=0):n===1&&(s=i()),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let o=r,a=i(),f=i(),c=r+f,u=c-o;return{version:n,codec:s,multihashCode:a,digestSize:f,multihashSize:u,size:c}}static parse(e,r){let[i,n]=dwe(e,r),s=Qi.decode(n);return s._baseCache.set(i,e),s}},dwe=(t,e)=>{switch(t[0]){case"Q":{let r=e||Hl;return[Hl.prefix,r.decode(`${Hl.prefix}${t}`)]}case Hl.prefix:{let r=e||Hl;return[Hl.prefix,r.decode(t)]}case Yw.prefix:{let r=e||Yw;return[Yw.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},hwe=(t,e,r)=>{let{prefix:i}=r;if(i!==Hl.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let s=r.encode(t).slice(1);return e.set(i,s),s}else return n},pwe=(t,e,r)=>{let{prefix:i}=r,n=e.get(i);if(n==null){let s=r.encode(t);return e.set(i,s),s}else return n},Zw=112,ywe=18,OV=(t,e,r)=>{let i=Ig(t),n=i+Ig(e),s=new Uint8Array(n+r.byteLength);return Dg(t,s,0),Dg(e,s,i),s.set(r,n),s},jV=Symbol.for("@ipld/js-cid/CID"),G8={writable:!1,configurable:!1,enumerable:!0},J8={writable:!1,enumerable:!1,configurable:!1},mwe="0.0.0-dev",gwe=(t,e)=>{if(t.test(mwe))console.warn(e);else throw new Error(e)},bwe=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;F();var cW=yr(ia(),1);F();F();F();F();var vwe=qV,LV=128,wwe=127,_we=~wwe,Ewe=Math.pow(2,31);function qV(t,e,r){e=e||[],r=r||0;for(var i=r;t>=Ewe;)e[r++]=t&255|LV,t/=128;for(;t&_we;)e[r++]=t&255|LV,t>>>=7;return e[r]=t|0,qV.bytes=r-i+1,e}var Swe=eT,xwe=128,NV=127;function eT(t,i){var r=0,i=i||0,n=0,s=i,o,a=t.length;do{if(s>=a)throw eT.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=n<28?(o&NV)<<n:(o&NV)*Math.pow(2,n),n+=7}while(o>=xwe);return eT.bytes=s-i,r}var Awe=Math.pow(2,7),Mwe=Math.pow(2,14),kwe=Math.pow(2,21),Twe=Math.pow(2,28),Pwe=Math.pow(2,35),Dwe=Math.pow(2,42),Iwe=Math.pow(2,49),Rwe=Math.pow(2,56),Bwe=Math.pow(2,63),Cwe=function(t){return t<Awe?1:t<Mwe?2:t<kwe?3:t<Twe?4:t<Pwe?5:t<Dwe?6:t<Iwe?7:t<Rwe?8:t<Bwe?9:10},Owe={encode:vwe,decode:Swe,encodingLength:Cwe},jwe=Owe,Gw=jwe;var Jw=(t,e=0)=>[Gw.decode(t,e),Gw.decode.bytes],Bg=(t,e,r=0)=>(Gw.encode(t,e,r),e),Cg=t=>Gw.encodingLength(t);F();F();var ast=new Uint8Array(0);var FV=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},Og=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var UV=(t,e)=>{let r=e.byteLength,i=Cg(t),n=i+Cg(r),s=new Uint8Array(n+r);return Bg(t,s,0),Bg(r,s,i),s.set(e,n),new jg(t,r,e,s)},$V=t=>{let e=Og(t),[r,i]=Jw(e),[n,s]=Jw(e.subarray(i)),o=e.subarray(i+s);if(o.byteLength!==n)throw new Error("Incorrect length");return new jg(r,n,o,e)},VV=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&FV(t.bytes,e.bytes),jg=class{constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}};F();F();F();function Nwe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var s=t.charAt(n),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=n}var a=t.length,f=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function l(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var E=0,x=0,T=0,M=g.length;T!==M&&g[T]===0;)T++,E++;for(var I=(M-T)*u+1>>>0,R=new Uint8Array(I);T!==M;){for(var O=g[T],B=0,C=I-1;(O!==0||B<x)&&C!==-1;C--,B++)O+=256*R[C]>>>0,R[C]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");x=B,T++}for(var U=I-x;U!==I&&R[U]===0;)U++;for(var W=f.repeat(E);U<I;++U)W+=t.charAt(R[U]);return W}function y(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var E=0;if(g[E]!==" "){for(var x=0,T=0;g[E]===f;)x++,E++;for(var M=(g.length-E)*c+1>>>0,I=new Uint8Array(M);g[E];){var R=r[g.charCodeAt(E)];if(R===255)return;for(var O=0,B=M-1;(R!==0||O<T)&&B!==-1;B--,O++)R+=a*I[B]>>>0,I[B]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");T=O,E++}if(g[E]!==" "){for(var C=M-T;C!==M&&I[C]===0;)C++;for(var U=new Uint8Array(x+(M-C)),W=x;C!==M;)U[W++]=I[C++];return U}}}function m(g){var E=y(g);if(E)return E;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:y,decode:m}}var qwe=Nwe,zwe=qwe,KV=zwe;var tT=class{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},rT=class{constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return HV(this,e)}},iT=class{constructor(e){this.decoders=e}or(e){return HV(this,e)}decode(e){let r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},HV=(t,e)=>new iT({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),nT=class{constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new tT(e,r,i),this.decoder=new rT(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},WV=({name:t,prefix:e,encode:r,decode:i})=>new nT(t,e,r,i),oT=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=KV(r,e);return WV({prefix:t,name:e,encode:i,decode:s=>Og(n(s))})},Fwe=(t,e,r,i)=>{let n={};for(let u=0;u<e.length;++u)n[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),a=0,f=0,c=0;for(let u=0;u<s;++u){let l=n[t[u]];if(l===void 0)throw new SyntaxError(`Non-${i} character`);f=f<<r|l,a+=r,a>=8&&(a-=8,o[c++]=255&f>>a)}if(a>=r||255&f<<8-a)throw new SyntaxError("Unexpected end of data");return o},Uwe=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,s="",o=0,a=0;for(let f=0;f<t.length;++f)for(a=a<<8|t[f],o+=8;o>r;)o-=r,s+=e[n&a>>o];if(o&&(s+=e[n&a<<r-o]),i)for(;s.length*r&7;)s+="=";return s},Tc=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>WV({prefix:e,name:t,encode(n){return Uwe(n,i,r)},decode(n){return Fwe(n,i,r,t)}});var Wl=oT({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),vst=oT({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});F();var Xw=Tc({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Sst=Tc({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),xst=Tc({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Ast=Tc({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Mst=Tc({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),kst=Tc({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Tst=Tc({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Pst=Tc({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Dst=Tc({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var go=class{constructor(e,r,i,n){this.code=r,this.version=e,this.multihash=i,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Q8,byteLength:Q8,code:X8,version:X8,multihash:X8,bytes:X8,_baseCache:Q8,asCID:Q8})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==Qw)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==Hwe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return go.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,i=UV(e,r);return go.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&VV(this.multihash,e.multihash)}toString(e){let{bytes:r,version:i,_baseCache:n}=this;switch(i){case 0:return Vwe(r,n,e||Wl.encoder);default:return Kwe(r,n,e||Xw.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return Ywe(/^0\.0/,Zwe),!!(e&&(e[ZV]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof go)return e;if(e!=null&&e.asCID===e){let{version:r,code:i,multihash:n,bytes:s}=e;return new go(r,i,n,s||YV(r,i,n.bytes))}else if(e!=null&&e[ZV]===!0){let{version:r,multihash:i,code:n}=e,s=$V(i);return go.create(r,n,s)}else return null}static create(e,r,i){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==Qw)throw new Error(`Version 0 CID must use dag-pb (code: ${Qw}) block encoding`);return new go(e,r,i,i.bytes)}case 1:{let n=YV(e,r,i.bytes);return new go(e,r,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return go.create(0,Qw,e)}static createV1(e,r){return go.create(1,e,r)}static decode(e){let[r,i]=go.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=go.inspectBytes(e),i=r.size-r.multihashSize,n=Og(e.subarray(i,i+r.multihashSize));if(n.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=n.subarray(r.multihashSize-r.digestSize),o=new jg(r.multihashCode,r.digestSize,s,n);return[r.version===0?go.createV0(o):go.createV1(r.codec,o),e.subarray(r.size)]}static inspectBytes(e){let r=0,i=()=>{let[l,y]=Jw(e.subarray(r));return r+=y,l},n=i(),s=Qw;if(n===18?(n=0,r=0):n===1&&(s=i()),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let o=r,a=i(),f=i(),c=r+f,u=c-o;return{version:n,codec:s,multihashCode:a,digestSize:f,multihashSize:u,size:c}}static parse(e,r){let[i,n]=$we(e,r),s=go.decode(n);return s._baseCache.set(i,e),s}},$we=(t,e)=>{switch(t[0]){case"Q":{let r=e||Wl;return[Wl.prefix,r.decode(`${Wl.prefix}${t}`)]}case Wl.prefix:{let r=e||Wl;return[Wl.prefix,r.decode(t)]}case Xw.prefix:{let r=e||Xw;return[Xw.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},Vwe=(t,e,r)=>{let{prefix:i}=r;if(i!==Wl.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let s=r.encode(t).slice(1);return e.set(i,s),s}else return n},Kwe=(t,e,r)=>{let{prefix:i}=r,n=e.get(i);if(n==null){let s=r.encode(t);return e.set(i,s),s}else return n},Qw=112,Hwe=18,YV=(t,e,r)=>{let i=Cg(t),n=i+Cg(e),s=new Uint8Array(n+r.byteLength);return Bg(t,s,0),Bg(e,s,i),s.set(r,n),s},ZV=Symbol.for("@ipld/js-cid/CID"),X8={writable:!1,configurable:!1,enumerable:!0},Q8={writable:!1,enumerable:!1,configurable:!1},Wwe="0.0.0-dev",Ywe=(t,e)=>{if(t.test(Wwe))console.warn(e);else throw new Error(e)},Zwe=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;F();var Gwe=new TextDecoder;function sT(t,e){let r=0;for(let i=0;;i+=7){if(i>=64)throw new Error("protobuf: varint overflow");if(e>=t.length)throw new Error("protobuf: unexpected end of data");let n=t[e++];if(r+=i<28?(n&127)<<i:(n&127)*2**i,n<128)break}return[r,e]}function e4(t,e){let r;[r,e]=sT(t,e);let i=e+r;if(r<0||i<0)throw new Error("protobuf: invalid length");if(i>t.length)throw new Error("protobuf: unexpected end of data");return[t.subarray(e,i),i]}function GV(t,e){let r;return[r,e]=sT(t,e),[r&7,r>>3,e]}function Jwe(t){let e={},r=t.length,i=0;for(;i<r;){let n,s;if([n,s,i]=GV(t,i),s===1){if(e.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(n!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Hash`);if(e.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[e.Hash,i]=e4(t,i)}else if(s===2){if(e.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(n!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Name`);if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let o;[o,i]=e4(t,i),e.Name=Gwe.decode(o)}else if(s===3){if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(n!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Tsize`);[e.Tsize,i]=sT(t,i)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${s}`)}if(i>r)throw new Error("protobuf: (PBLink) unexpected end of data");return e}function JV(t){let e=t.length,r=0,i,n=!1,s;for(;r<e;){let a,f;if([a,f,r]=GV(t,r),a!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${a}`);if(f===1){if(s)throw new Error("protobuf: (PBNode) duplicate Data section");[s,r]=e4(t,r),i&&(n=!0)}else if(f===2){if(n)throw new Error("protobuf: (PBNode) duplicate Links section");i||(i=[]);let c;[c,r]=e4(t,r),i.push(Jwe(c))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${f}`)}if(r>e)throw new Error("protobuf: (PBNode) unexpected end of data");let o={};return s&&(o.Data=s),o.Links=i||[],o}F();var zst=new TextEncoder,Fst=2**32,Ust=2**31;F();var Hst=new TextEncoder;var t4=112;function Sh(t){let e=JV(t),r={};return e.Data&&(r.Data=e.Data),e.Links&&(r.Links=e.Links.map(i=>{let n={};try{n.Hash=go.decode(i.Hash)}catch{}if(!n.Hash)throw new Error("Invalid Hash field found in link, expected CID");return i.Name!==void 0&&(n.Name=i.Name),i.Tsize!==void 0&&(n.Tsize=i.Tsize),n})),r}F();var Xwe=42;function Qwe(t){if(t[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return Qi.decode(t.subarray(1))}var QV={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};QV.tags[Xwe]=Qwe;var r4=113;var i4=t=>Zv(t,QV);F();var n4=85;F();var tK=0,e2e="identity",rK=Kl,t2e=t=>Y8(tK,rK(t)),iK={code:tK,name:e2e,encode:rK,digest:t2e};F();var v4=yr(ia(),1);F();var a4=yr(ia(),1);F();var Yl=yr(CK(),1),Lg=Yl.default.Reader,wT=Yl.default.Writer,Ht=Yl.default.util,vs=Yl.default.roots["ipfs-unixfs"]||(Yl.default.roots["ipfs-unixfs"]={}),OK=vs.Data=(()=>{function t(e){if(this.blocksizes=[],e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.Type=0,t.prototype.Data=Ht.newBuffer([]),t.prototype.filesize=Ht.Long?Ht.Long.fromBits(0,0,!0):0,t.prototype.blocksizes=Ht.emptyArray,t.prototype.hashType=Ht.Long?Ht.Long.fromBits(0,0,!0):0,t.prototype.fanout=Ht.Long?Ht.Long.fromBits(0,0,!0):0,t.prototype.mode=0,t.prototype.mtime=null,t.encode=function(r,i){if(i||(i=wT.create()),i.uint32(8).int32(r.Type),r.Data!=null&&Object.hasOwnProperty.call(r,"Data")&&i.uint32(18).bytes(r.Data),r.filesize!=null&&Object.hasOwnProperty.call(r,"filesize")&&i.uint32(24).uint64(r.filesize),r.blocksizes!=null&&r.blocksizes.length)for(var n=0;n<r.blocksizes.length;++n)i.uint32(32).uint64(r.blocksizes[n]);return r.hashType!=null&&Object.hasOwnProperty.call(r,"hashType")&&i.uint32(40).uint64(r.hashType),r.fanout!=null&&Object.hasOwnProperty.call(r,"fanout")&&i.uint32(48).uint64(r.fanout),r.mode!=null&&Object.hasOwnProperty.call(r,"mode")&&i.uint32(56).uint32(r.mode),r.mtime!=null&&Object.hasOwnProperty.call(r,"mtime")&&vs.UnixTime.encode(r.mtime,i.uint32(66).fork()).ldelim(),i},t.decode=function(r,i){r instanceof Lg||(r=Lg.create(r));for(var n=i===void 0?r.len:r.pos+i,s=new vs.Data;r.pos<n;){var o=r.uint32();switch(o>>>3){case 1:s.Type=r.int32();break;case 2:s.Data=r.bytes();break;case 3:s.filesize=r.uint64();break;case 4:if(s.blocksizes&&s.blocksizes.length||(s.blocksizes=[]),(o&7)===2)for(var a=r.uint32()+r.pos;r.pos<a;)s.blocksizes.push(r.uint64());else s.blocksizes.push(r.uint64());break;case 5:s.hashType=r.uint64();break;case 6:s.fanout=r.uint64();break;case 7:s.mode=r.uint32();break;case 8:s.mtime=vs.UnixTime.decode(r,r.uint32());break;default:r.skipType(o&7);break}}if(!s.hasOwnProperty("Type"))throw Ht.ProtocolError("missing required 'Type'",{instance:s});return s},t.fromObject=function(r){if(r instanceof vs.Data)return r;var i=new vs.Data;switch(r.Type){case"Raw":case 0:i.Type=0;break;case"Directory":case 1:i.Type=1;break;case"File":case 2:i.Type=2;break;case"Metadata":case 3:i.Type=3;break;case"Symlink":case 4:i.Type=4;break;case"HAMTShard":case 5:i.Type=5;break}if(r.Data!=null&&(typeof r.Data=="string"?Ht.base64.decode(r.Data,i.Data=Ht.newBuffer(Ht.base64.length(r.Data)),0):r.Data.length&&(i.Data=r.Data)),r.filesize!=null&&(Ht.Long?(i.filesize=Ht.Long.fromValue(r.filesize)).unsigned=!0:typeof r.filesize=="string"?i.filesize=parseInt(r.filesize,10):typeof r.filesize=="number"?i.filesize=r.filesize:typeof r.filesize=="object"&&(i.filesize=new Ht.LongBits(r.filesize.low>>>0,r.filesize.high>>>0).toNumber(!0))),r.blocksizes){if(!Array.isArray(r.blocksizes))throw TypeError(".Data.blocksizes: array expected");i.blocksizes=[];for(var n=0;n<r.blocksizes.length;++n)Ht.Long?(i.blocksizes[n]=Ht.Long.fromValue(r.blocksizes[n])).unsigned=!0:typeof r.blocksizes[n]=="string"?i.blocksizes[n]=parseInt(r.blocksizes[n],10):typeof r.blocksizes[n]=="number"?i.blocksizes[n]=r.blocksizes[n]:typeof r.blocksizes[n]=="object"&&(i.blocksizes[n]=new Ht.LongBits(r.blocksizes[n].low>>>0,r.blocksizes[n].high>>>0).toNumber(!0))}if(r.hashType!=null&&(Ht.Long?(i.hashType=Ht.Long.fromValue(r.hashType)).unsigned=!0:typeof r.hashType=="string"?i.hashType=parseInt(r.hashType,10):typeof r.hashType=="number"?i.hashType=r.hashType:typeof r.hashType=="object"&&(i.hashType=new Ht.LongBits(r.hashType.low>>>0,r.hashType.high>>>0).toNumber(!0))),r.fanout!=null&&(Ht.Long?(i.fanout=Ht.Long.fromValue(r.fanout)).unsigned=!0:typeof r.fanout=="string"?i.fanout=parseInt(r.fanout,10):typeof r.fanout=="number"?i.fanout=r.fanout:typeof r.fanout=="object"&&(i.fanout=new Ht.LongBits(r.fanout.low>>>0,r.fanout.high>>>0).toNumber(!0))),r.mode!=null&&(i.mode=r.mode>>>0),r.mtime!=null){if(typeof r.mtime!="object")throw TypeError(".Data.mtime: object expected");i.mtime=vs.UnixTime.fromObject(r.mtime)}return i},t.toObject=function(r,i){i||(i={});var n={};if((i.arrays||i.defaults)&&(n.blocksizes=[]),i.defaults){if(n.Type=i.enums===String?"Raw":0,i.bytes===String?n.Data="":(n.Data=[],i.bytes!==Array&&(n.Data=Ht.newBuffer(n.Data))),Ht.Long){var s=new Ht.Long(0,0,!0);n.filesize=i.longs===String?s.toString():i.longs===Number?s.toNumber():s}else n.filesize=i.longs===String?"0":0;if(Ht.Long){var s=new Ht.Long(0,0,!0);n.hashType=i.longs===String?s.toString():i.longs===Number?s.toNumber():s}else n.hashType=i.longs===String?"0":0;if(Ht.Long){var s=new Ht.Long(0,0,!0);n.fanout=i.longs===String?s.toString():i.longs===Number?s.toNumber():s}else n.fanout=i.longs===String?"0":0;n.mode=0,n.mtime=null}if(r.Type!=null&&r.hasOwnProperty("Type")&&(n.Type=i.enums===String?vs.Data.DataType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(n.Data=i.bytes===String?Ht.base64.encode(r.Data,0,r.Data.length):i.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),r.filesize!=null&&r.hasOwnProperty("filesize")&&(typeof r.filesize=="number"?n.filesize=i.longs===String?String(r.filesize):r.filesize:n.filesize=i.longs===String?Ht.Long.prototype.toString.call(r.filesize):i.longs===Number?new Ht.LongBits(r.filesize.low>>>0,r.filesize.high>>>0).toNumber(!0):r.filesize),r.blocksizes&&r.blocksizes.length){n.blocksizes=[];for(var o=0;o<r.blocksizes.length;++o)typeof r.blocksizes[o]=="number"?n.blocksizes[o]=i.longs===String?String(r.blocksizes[o]):r.blocksizes[o]:n.blocksizes[o]=i.longs===String?Ht.Long.prototype.toString.call(r.blocksizes[o]):i.longs===Number?new Ht.LongBits(r.blocksizes[o].low>>>0,r.blocksizes[o].high>>>0).toNumber(!0):r.blocksizes[o]}return r.hashType!=null&&r.hasOwnProperty("hashType")&&(typeof r.hashType=="number"?n.hashType=i.longs===String?String(r.hashType):r.hashType:n.hashType=i.longs===String?Ht.Long.prototype.toString.call(r.hashType):i.longs===Number?new Ht.LongBits(r.hashType.low>>>0,r.hashType.high>>>0).toNumber(!0):r.hashType),r.fanout!=null&&r.hasOwnProperty("fanout")&&(typeof r.fanout=="number"?n.fanout=i.longs===String?String(r.fanout):r.fanout:n.fanout=i.longs===String?Ht.Long.prototype.toString.call(r.fanout):i.longs===Number?new Ht.LongBits(r.fanout.low>>>0,r.fanout.high>>>0).toNumber(!0):r.fanout),r.mode!=null&&r.hasOwnProperty("mode")&&(n.mode=r.mode),r.mtime!=null&&r.hasOwnProperty("mtime")&&(n.mtime=vs.UnixTime.toObject(r.mtime,i)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,Yl.default.util.toJSONOptions)},t.DataType=function(){let e={},r=Object.create(e);return r[e[0]="Raw"]=0,r[e[1]="Directory"]=1,r[e[2]="File"]=2,r[e[3]="Metadata"]=3,r[e[4]="Symlink"]=4,r[e[5]="HAMTShard"]=5,r}(),t})(),Cat=vs.UnixTime=(()=>{function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.Seconds=Ht.Long?Ht.Long.fromBits(0,0,!1):0,t.prototype.FractionalNanoseconds=0,t.encode=function(r,i){return i||(i=wT.create()),i.uint32(8).int64(r.Seconds),r.FractionalNanoseconds!=null&&Object.hasOwnProperty.call(r,"FractionalNanoseconds")&&i.uint32(21).fixed32(r.FractionalNanoseconds),i},t.decode=function(r,i){r instanceof Lg||(r=Lg.create(r));for(var n=i===void 0?r.len:r.pos+i,s=new vs.UnixTime;r.pos<n;){var o=r.uint32();switch(o>>>3){case 1:s.Seconds=r.int64();break;case 2:s.FractionalNanoseconds=r.fixed32();break;default:r.skipType(o&7);break}}if(!s.hasOwnProperty("Seconds"))throw Ht.ProtocolError("missing required 'Seconds'",{instance:s});return s},t.fromObject=function(r){if(r instanceof vs.UnixTime)return r;var i=new vs.UnixTime;return r.Seconds!=null&&(Ht.Long?(i.Seconds=Ht.Long.fromValue(r.Seconds)).unsigned=!1:typeof r.Seconds=="string"?i.Seconds=parseInt(r.Seconds,10):typeof r.Seconds=="number"?i.Seconds=r.Seconds:typeof r.Seconds=="object"&&(i.Seconds=new Ht.LongBits(r.Seconds.low>>>0,r.Seconds.high>>>0).toNumber())),r.FractionalNanoseconds!=null&&(i.FractionalNanoseconds=r.FractionalNanoseconds>>>0),i},t.toObject=function(r,i){i||(i={});var n={};if(i.defaults){if(Ht.Long){var s=new Ht.Long(0,0,!1);n.Seconds=i.longs===String?s.toString():i.longs===Number?s.toNumber():s}else n.Seconds=i.longs===String?"0":0;n.FractionalNanoseconds=0}return r.Seconds!=null&&r.hasOwnProperty("Seconds")&&(typeof r.Seconds=="number"?n.Seconds=i.longs===String?String(r.Seconds):r.Seconds:n.Seconds=i.longs===String?Ht.Long.prototype.toString.call(r.Seconds):i.longs===Number?new Ht.LongBits(r.Seconds.low>>>0,r.Seconds.high>>>0).toNumber():r.Seconds),r.FractionalNanoseconds!=null&&r.hasOwnProperty("FractionalNanoseconds")&&(n.FractionalNanoseconds=r.FractionalNanoseconds),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,Yl.default.util.toJSONOptions)},t})(),Oat=vs.Metadata=(()=>{function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.MimeType="",t.encode=function(r,i){return i||(i=wT.create()),r.MimeType!=null&&Object.hasOwnProperty.call(r,"MimeType")&&i.uint32(10).string(r.MimeType),i},t.decode=function(r,i){r instanceof Lg||(r=Lg.create(r));for(var n=i===void 0?r.len:r.pos+i,s=new vs.Metadata;r.pos<n;){var o=r.uint32();switch(o>>>3){case 1:s.MimeType=r.string();break;default:r.skipType(o&7);break}}return s},t.fromObject=function(r){if(r instanceof vs.Metadata)return r;var i=new vs.Metadata;return r.MimeType!=null&&(i.MimeType=String(r.MimeType)),i},t.toObject=function(r,i){i||(i={});var n={};return i.defaults&&(n.MimeType=""),r.MimeType!=null&&r.hasOwnProperty("MimeType")&&(n.MimeType=r.MimeType),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,Yl.default.util.toJSONOptions)},t})();var Zl=OK,jK=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],c2e=["directory","hamt-sharded-directory"],LK=parseInt("0644",8),NK=parseInt("0755",8);function _T(t){if(t!=null)return typeof t=="number"?t&4095:(t=t.toString(),t.substring(0,1)==="0"?parseInt(t,8)&4095:parseInt(t,10)&4095)}function qK(t){if(t==null)return;let e;if(t.secs!=null&&(e={secs:t.secs,nsecs:t.nsecs}),t.Seconds!=null&&(e={secs:t.Seconds,nsecs:t.FractionalNanoseconds}),Array.isArray(t)&&(e={secs:t[0],nsecs:t[1]}),t instanceof Date){let r=t.getTime(),i=Math.floor(r/1e3);e={secs:i,nsecs:(r-i*1e3)*1e3}}if(Object.prototype.hasOwnProperty.call(e,"secs")){if(e!=null&&e.nsecs!=null&&(e.nsecs<0||e.nsecs>999999999))throw(0,a4.default)(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return e}}var kh=class{static unmarshal(e){let r=Zl.decode(e),i=Zl.toObject(r,{defaults:!1,arrays:!0,longs:Number,objects:!1}),n=new kh({type:jK[i.Type],data:i.Data,blockSizes:i.blocksizes,mode:i.mode,mtime:i.mtime?{secs:i.mtime.Seconds,nsecs:i.mtime.FractionalNanoseconds}:void 0});return n._originalMode=i.mode||0,n}constructor(e={type:"file"}){let{type:r,data:i,blockSizes:n,hashType:s,fanout:o,mtime:a,mode:f}=e;if(r&&!jK.includes(r))throw(0,a4.default)(new Error("Type: "+r+" is not valid"),"ERR_INVALID_TYPE");this.type=r||"file",this.data=i,this.hashType=s,this.fanout=o,this.blockSizes=n||[],this._originalMode=0,this.mode=_T(f),a&&(this.mtime=qK(a),this.mtime&&!this.mtime.nsecs&&(this.mtime.nsecs=0))}set mode(e){this._mode=this.isDirectory()?NK:LK;let r=_T(e);r!==void 0&&(this._mode=r)}get mode(){return this._mode}isDirectory(){return Boolean(this.type&&c2e.includes(this.type))}addBlockSize(e){this.blockSizes.push(e)}removeBlockSize(e){this.blockSizes.splice(e,1)}fileSize(){if(this.isDirectory())return 0;let e=0;return this.blockSizes.forEach(r=>{e+=r}),this.data&&(e+=this.data.length),e}marshal(){let e;switch(this.type){case"raw":e=Zl.DataType.Raw;break;case"directory":e=Zl.DataType.Directory;break;case"file":e=Zl.DataType.File;break;case"metadata":e=Zl.DataType.Metadata;break;case"symlink":e=Zl.DataType.Symlink;break;case"hamt-sharded-directory":e=Zl.DataType.HAMTShard;break;default:throw(0,a4.default)(new Error("Type: "+e+" is not valid"),"ERR_INVALID_TYPE")}let r=this.data;(!this.data||!this.data.length)&&(r=void 0);let i;this.mode!=null&&(i=this._originalMode&4294963200|(_T(this.mode)||0),i===LK&&!this.isDirectory()&&(i=void 0),i===NK&&this.isDirectory()&&(i=void 0));let n;if(this.mtime!=null){let o=qK(this.mtime);o&&(n={Seconds:o.secs,FractionalNanoseconds:o.nsecs},n.FractionalNanoseconds===0&&delete n.FractionalNanoseconds)}let s={Type:e,Data:r,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:i,mtime:n};return Zl.encode(s).finish()}};F();var g4=yr(LH(),1);F();F();F();var p4={};ai(p4,{coerce:()=>U0,empty:()=>NH,equals:()=>YT,fromHex:()=>N3e,fromString:()=>z3e,isBinary:()=>q3e,toHex:()=>L3e,toString:()=>F3e});F();var NH=new Uint8Array(0),L3e=t=>t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),""),N3e=t=>{let e=t.match(/../g);return e?new Uint8Array(e.map(r=>parseInt(r,16))):NH},YT=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},U0=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},q3e=t=>t instanceof ArrayBuffer||ArrayBuffer.isView(t),z3e=t=>new TextEncoder().encode(t),F3e=t=>new TextDecoder().decode(t);F();F();var U3e=FH,qH=128,$3e=127,V3e=~$3e,K3e=Math.pow(2,31);function FH(t,e,r){e=e||[],r=r||0;for(var i=r;t>=K3e;)e[r++]=t&255|qH,t/=128;for(;t&V3e;)e[r++]=t&255|qH,t>>>=7;return e[r]=t|0,FH.bytes=r-i+1,e}var H3e=ZT,W3e=128,zH=127;function ZT(t,i){var r=0,i=i||0,n=0,s=i,o,a=t.length;do{if(s>=a)throw ZT.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=n<28?(o&zH)<<n:(o&zH)*Math.pow(2,n),n+=7}while(o>=W3e);return ZT.bytes=s-i,r}var Y3e=Math.pow(2,7),Z3e=Math.pow(2,14),G3e=Math.pow(2,21),J3e=Math.pow(2,28),X3e=Math.pow(2,35),Q3e=Math.pow(2,42),e_e=Math.pow(2,49),t_e=Math.pow(2,56),r_e=Math.pow(2,63),i_e=function(t){return t<Y3e?1:t<Z3e?2:t<G3e?3:t<J3e?4:t<X3e?5:t<Q3e?6:t<e_e?7:t<t_e?8:t<r_e?9:10},n_e={encode:U3e,decode:H3e,encodingLength:i_e},o_e=n_e,u2=o_e;var c2=(t,e=0)=>[u2.decode(t,e),u2.decode.bytes],Vg=(t,e,r=0)=>(u2.encode(t,e,r),e),Kg=t=>u2.encodingLength(t);var l2=(t,e)=>{let r=e.byteLength,i=Kg(t),n=i+Kg(r),s=new Uint8Array(n+r);return Vg(t,s,0),Vg(r,s,i),s.set(e,n),new Hg(t,r,e,s)},UH=t=>{let e=U0(t),[r,i]=c2(e),[n,s]=c2(e.subarray(i)),o=e.subarray(i+s);if(o.byteLength!==n)throw new Error("Incorrect length");return new Hg(r,n,o,e)},$H=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&YT(t.bytes,e.bytes),Hg=class{constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}};var QT=({name:t,code:e,encode:r})=>new XT(t,e,r),XT=class{constructor(e,r,i){this.name=e,this.code=r,this.encode=i}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?l2(this.code,r):r.then(i=>l2(this.code,i))}else throw Error("Unknown type, must be binary type")}};F();F();F();F();F();function a_e(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var s=t.charAt(n),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=n}var a=t.length,f=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function l(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var E=0,x=0,T=0,M=g.length;T!==M&&g[T]===0;)T++,E++;for(var I=(M-T)*u+1>>>0,R=new Uint8Array(I);T!==M;){for(var O=g[T],B=0,C=I-1;(O!==0||B<x)&&C!==-1;C--,B++)O+=256*R[C]>>>0,R[C]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");x=B,T++}for(var U=I-x;U!==I&&R[U]===0;)U++;for(var W=f.repeat(E);U<I;++U)W+=t.charAt(R[U]);return W}function y(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var E=0;if(g[E]!==" "){for(var x=0,T=0;g[E]===f;)x++,E++;for(var M=(g.length-E)*c+1>>>0,I=new Uint8Array(M);g[E];){var R=r[g.charCodeAt(E)];if(R===255)return;for(var O=0,B=M-1;(R!==0||O<T)&&B!==-1;B--,O++)R+=a*I[B]>>>0,I[B]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");T=O,E++}if(g[E]!==" "){for(var C=M-T;C!==M&&I[C]===0;)C++;for(var U=new Uint8Array(x+(M-C)),W=x;C!==M;)U[W++]=I[C++];return U}}}function m(g){var E=y(g);if(E)return E;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:y,decode:m}}var f_e=a_e,u_e=f_e,VH=u_e;var eP=class{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},tP=class{constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return KH(this,e)}},rP=class{constructor(e){this.decoders=e}or(e){return KH(this,e)}decode(e){let r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},KH=(t,e)=>new rP({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),iP=class{constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new eP(e,r,i),this.decoder=new tP(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},HH=({name:t,prefix:e,encode:r,decode:i})=>new iP(t,e,r,i),nP=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=VH(r,e);return HH({prefix:t,name:e,encode:i,decode:s=>U0(n(s))})},c_e=(t,e,r,i)=>{let n={};for(let u=0;u<e.length;++u)n[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),a=0,f=0,c=0;for(let u=0;u<s;++u){let l=n[t[u]];if(l===void 0)throw new SyntaxError(`Non-${i} character`);f=f<<r|l,a+=r,a>=8&&(a-=8,o[c++]=255&f>>a)}if(a>=r||255&f<<8-a)throw new SyntaxError("Unexpected end of data");return o},l_e=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,s="",o=0,a=0;for(let f=0;f<t.length;++f)for(a=a<<8|t[f],o+=8;o>r;)o-=r,s+=e[n&a>>o];if(o&&(s+=e[n&a<<r-o]),i)for(;s.length*r&7;)s+="=";return s},Rc=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>HH({prefix:e,name:t,encode(n){return l_e(n,i,r)},decode(n){return c_e(n,i,r,t)}});var Jl=nP({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),kut=nP({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});F();var d2=Rc({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Iut=Rc({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Rut=Rc({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),But=Rc({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Cut=Rc({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Out=Rc({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),jut=Rc({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Lut=Rc({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Nut=Rc({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Wo=class{constructor(e,r,i,n){this.code=r,this.version=e,this.multihash=i,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:m4,byteLength:m4,code:y4,version:y4,multihash:y4,bytes:y4,_baseCache:m4,asCID:m4})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==h2)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==y_e)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Wo.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,i=l2(e,r);return Wo.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&$H(this.multihash,e.multihash)}toString(e){let{bytes:r,version:i,_baseCache:n}=this;switch(i){case 0:return h_e(r,n,e||Jl.encoder);default:return p_e(r,n,e||d2.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return g_e(/^0\.0/,b_e),!!(e&&(e[YH]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof Wo)return e;if(e!=null&&e.asCID===e){let{version:r,code:i,multihash:n,bytes:s}=e;return new Wo(r,i,n,s||WH(r,i,n.bytes))}else if(e!=null&&e[YH]===!0){let{version:r,multihash:i,code:n}=e,s=UH(i);return Wo.create(r,n,s)}else return null}static create(e,r,i){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==h2)throw new Error(`Version 0 CID must use dag-pb (code: ${h2}) block encoding`);return new Wo(e,r,i,i.bytes)}case 1:{let n=WH(e,r,i.bytes);return new Wo(e,r,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return Wo.create(0,h2,e)}static createV1(e,r){return Wo.create(1,e,r)}static decode(e){let[r,i]=Wo.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=Wo.inspectBytes(e),i=r.size-r.multihashSize,n=U0(e.subarray(i,i+r.multihashSize));if(n.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=n.subarray(r.multihashSize-r.digestSize),o=new Hg(r.multihashCode,r.digestSize,s,n);return[r.version===0?Wo.createV0(o):Wo.createV1(r.codec,o),e.subarray(r.size)]}static inspectBytes(e){let r=0,i=()=>{let[l,y]=c2(e.subarray(r));return r+=y,l},n=i(),s=h2;if(n===18?(n=0,r=0):n===1&&(s=i()),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let o=r,a=i(),f=i(),c=r+f,u=c-o;return{version:n,codec:s,multihashCode:a,digestSize:f,multihashSize:u,size:c}}static parse(e,r){let[i,n]=d_e(e,r),s=Wo.decode(n);return s._baseCache.set(i,e),s}},d_e=(t,e)=>{switch(t[0]){case"Q":{let r=e||Jl;return[Jl.prefix,r.decode(`${Jl.prefix}${t}`)]}case Jl.prefix:{let r=e||Jl;return[Jl.prefix,r.decode(t)]}case d2.prefix:{let r=e||d2;return[d2.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},h_e=(t,e,r)=>{let{prefix:i}=r;if(i!==Jl.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let s=r.encode(t).slice(1);return e.set(i,s),s}else return n},p_e=(t,e,r)=>{let{prefix:i}=r,n=e.get(i);if(n==null){let s=r.encode(t);return e.set(i,s),s}else return n},h2=112,y_e=18,WH=(t,e,r)=>{let i=Kg(t),n=i+Kg(e),s=new Uint8Array(n+r.byteLength);return Vg(t,s,0),Vg(e,s,i),s.set(r,n),s},YH=Symbol.for("@ipld/js-cid/CID"),y4={writable:!1,configurable:!1,enumerable:!0},m4={writable:!1,enumerable:!1,configurable:!1},m_e="0.0.0-dev",g_e=(t,e)=>{if(t.test(m_e))console.warn(e);else throw new Error(e)},b_e=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;var oP=yr(MM(),1);function v_e(t){let e=new Array(4);for(let r=0;r<4;r++)e[r]=t&255,t=t>>8;return new Uint8Array(e)}var Jut=QT({name:"murmur3-32",code:35,encode:t=>v_e(oP.default.x86.hash32(t))}),ZH=QT({name:"murmur3-128",code:34,encode:t=>p4.fromHex(oP.default.x64.hash128(t))});var w_e=async function(t){return(await ZH.encode(t)).slice(0,8).reverse()},__e=(t,e,r)=>Promise.all(t.map(i=>{if(i.Name==null)throw new Error("Unexpected Link without a Name");if(i.Name.length===2){let n=parseInt(i.Name,16);return e._putObjectAt(n,new g4.Bucket({hash:r._options.hash,bits:r._options.bits},e,n))}return r.put(i.Name.substring(2),!0)})),GH=t=>t.toString(16).toUpperCase().padStart(2,"0").substring(0,2),E_e=t=>{let e=t.bucket,r=[];for(;e._parent;)r.push(e),e=e._parent;return r.push(e),r.reverse()},JH=async(t,e,r,i,n)=>{if(!i){let u=(0,g4.createHAMT)({hashFn:w_e});i={rootBucket:u,hamtDepth:1,lastBucket:u}}await __e(t.Links,i.lastBucket,i.rootBucket);let s=await i.rootBucket._findNewBucketAndPos(e),o=GH(s.pos),a=E_e(s);a.length>i.hamtDepth&&(i.lastBucket=a[i.hamtDepth],o=GH(i.lastBucket._posAtParent));let f=t.Links.find(u=>{if(u.Name==null)return!1;let l=u.Name.substring(0,2),y=u.Name.substring(2);return!(l!==o||y&&y!==e)});if(!f)return null;if(f.Name!=null&&f.Name.substring(2)===e)return f.Hash;i.hamtDepth++;let c=await r.get(f.Hash,n);return t=Sh(c),JH(t,e,r,i,n)},XH=JH;F();F();function S_e(t,e,r,i){let n=t.length,s=e+n;return r>=s||i<e?new Uint8Array(0):(i>=e&&i<s&&(t=t.slice(0,i-e)),r>=e&&r<s&&(t=t.slice(r-e)),t)}var $0=S_e;F();var b4=yr(ia(),1),x_e=(t,e,r)=>{if(e||(e=0),e<0)throw(0,b4.default)(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(e>t)throw(0,b4.default)(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(!r&&r!==0&&(r=t-e),r<0)throw(0,b4.default)(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");return e+r>t&&(r=t-e),{offset:e,length:r}},Wg=x_e;var sP=yr(ia(),1);async function*QH(t,e,r,i,n=0,s){if(e instanceof Uint8Array){let f=$0(e,n,r,i);return f.length&&(yield f),n+=f.length,n}if(e.Data==null)throw(0,sP.default)(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");let o;try{o=kh.unmarshal(e.Data)}catch(f){throw(0,sP.default)(f,"ERR_NOT_UNIXFS")}if(o.data&&o.data.length){let f=$0(o.data,n,r,i);f.length&&(yield f),n+=o.data.length}let a=n;for(let f=0;f<e.Links.length;f++){let c=e.Links[f],u=n+o.blockSizes[f];if(r>=a&&r<u||i>a&&i<=u||r<a&&i>u){let l=await t.get(c.Hash,{signal:s.signal}),y;switch(c.Hash.code){case t4:y=await Sh(l);break;case n4:y=l;break;case r4:y=await i4(l);break;default:throw Error(`Unsupported codec: ${c.Hash.code}`)}for await(let m of QH(t,y,r,i,n,s))n+=m.length,yield m}n=u,a=u+1}}var A_e=(t,e,r,i,n,s,o)=>{function a(f={}){let c=r.fileSize();if(c===void 0)throw new Error("File was a directory");let{offset:u,length:l}=Wg(c,f.offset,f.length),y=u,m=u+l;return QH(o,e,y,m,0,f)}return a},aP=A_e;F();var M_e=(t,e,r,i,n,s,o)=>{async function*a(f={}){let c=f.offset||0,u=f.length||e.Links.length,l=e.Links.slice(c,u);for(let y of l){let m=await n(y.Hash,y.Name||"",`${i}/${y.Name||""}`,[],s+1,o,f);m.entry&&(yield m.entry)}}return a},eW=M_e;F();var k_e=(t,e,r,i,n,s,o)=>{function a(f={}){return tW(e,i,n,s,o,f)}return a};async function*tW(t,e,r,i,n,s){let o=t.Links;for(let a of o){let f=a.Name!=null?a.Name.substring(2):null;if(f)yield(await r(a.Hash,f,`${e}/${f}`,[],i+1,n,s)).entry;else{let c=await n.get(a.Hash);t=Sh(c);for await(let u of tW(t,e,r,i,n,s))yield u}}}var rW=k_e;var T_e=(t,e)=>{let r=t.Links.find(i=>i.Name===e);return r&&r.Hash},P_e={raw:aP,file:aP,directory:eW,"hamt-sharded-directory":rW,metadata:(t,e,r,i,n,s,o)=>()=>[],symlink:(t,e,r,i,n,s,o)=>()=>[]},D_e=async(t,e,r,i,n,s,o,a)=>{let f=await o.get(t,a),c=Sh(f),u,l;if(e||(e=t.toString()),c.Data==null)throw(0,v4.default)(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{u=kh.unmarshal(c.Data)}catch(y){throw(0,v4.default)(y,"ERR_NOT_UNIXFS")}if(r||(r=e),i.length){let y;if(u&&u.type==="hamt-sharded-directory"?y=await XH(c,i[0],o):y=T_e(c,i[0]),!y)throw(0,v4.default)(new Error("file does not exist"),"ERR_NOT_FOUND");let m=i.shift(),g=`${r}/${m}`;l={cid:y,toResolve:i,name:m||"",path:g}}return{entry:{type:u.isDirectory()?"directory":"file",name:e,path:r,cid:t,content:P_e[u.type](t,c,u,r,n,s,o),unixfs:u,depth:s,node:c,size:u.fileSize()},next:l}},iW=D_e;F();var nW=yr(ia(),1);var I_e=t=>{async function*e(r={}){let{offset:i,length:n}=Wg(t.length,r.offset,r.length);yield $0(t,0,i,i+n)}return e},R_e=async(t,e,r,i,n,s,o,a)=>{if(i.length)throw(0,nW.default)(new Error(`No link named ${r} found in raw node ${t}`),"ERR_NOT_FOUND");let f=await o.get(t,a);return{entry:{type:"raw",name:e,path:r,cid:t,content:I_e(f),depth:s,size:f.length,node:f}}},oW=R_e;F();var sW=yr(ia(),1);var B_e=async(t,e,r,i,n,s,o,a)=>{let f=await o.get(t),c=i4(f),u=c,l=r;for(;i.length;){let y=i[0];if(y in u){i.shift(),l=`${l}/${y}`;let m=Qi.asCID(u[y]);if(m)return{entry:{type:"object",name:e,path:r,cid:t,node:f,depth:s,size:f.length,content:async function*(){yield c}},next:{cid:m,name:y,path:l,toResolve:i}};u=u[y]}else throw(0,sW.default)(new Error(`No property named ${y} found in cbor node ${t}`),"ERR_NO_PROP")}return{entry:{type:"object",name:e,path:r,cid:t,node:f,depth:s,size:f.length,content:async function*(){yield c}}}},aW=B_e;F();var fW=yr(ia(),1);var C_e=t=>{async function*e(r={}){let{offset:i,length:n}=Wg(t.length,r.offset,r.length);yield $0(t,0,i,i+n)}return e},O_e=async(t,e,r,i,n,s,o,a)=>{if(i.length)throw(0,fW.default)(new Error(`No link named ${r} found in raw node ${t}`),"ERR_NOT_FOUND");let f=await Z8(t.multihash.bytes);return{entry:{type:"identity",name:e,path:r,cid:t,content:C_e(f.digest),depth:s,size:f.digest.length,node:f.digest}}},uW=O_e;var j_e={[t4]:iW,[n4]:oW,[r4]:aW,[iK.code]:uW};function lW(t,e,r,i,n,s,o){let a=j_e[t.code];if(!a)throw(0,cW.default)(new Error(`No resolver for code ${t.code}`),"ERR_NO_RESOLVER");return a(t,e,r,i,lW,n,s,o)}var dW=lW;var yW=yr(pW(),1),N_e=(t="")=>(t.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean),q_e=t=>{if(t instanceof Uint8Array)return{cid:Qi.decode(t),toResolve:[]};let e=Qi.asCID(t);if(e)return{cid:e,toResolve:[]};if(typeof t=="string"){t.indexOf("/ipfs/")===0&&(t=t.substring(6));let r=N_e(t);return{cid:Qi.parse(r[0]),toResolve:r.slice(1)}}throw(0,w4.default)(new Error(`Unknown path type ${t}`),"ERR_BAD_PATH")};async function*z_e(t,e,r={}){let{cid:i,toResolve:n}=q_e(t),s=i.toString(),o=s,a=n.length;for(;;){let f=await dW(i,s,o,n,a,e,r);if(!f.entry&&!f.next)throw(0,w4.default)(new Error(`Could not resolve ${t}`),"ERR_NOT_FOUND");if(f.entry&&(yield f.entry),!f.next)return;n=f.next.toResolve,i=f.next.cid,s=f.next.name,o=f.next.path}}async function fP(t,e,r={}){let i=await(0,yW.default)(z_e(t,e,r));if(!i)throw(0,w4.default)(new Error(`Could not resolve ${t}`),"ERR_NOT_FOUND");return i}var VZ=yr(J4(),1),rd=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},_Ee=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(s){r[s]=t[s]&&function(o){return new Promise(function(a,f){o=t[s](o),n(a,f,o.done,o.value)})}}function n(s,o,a,f){Promise.resolve(f).then(function(c){s({value:c,done:a})},o)}},X4="data",Q4="host",$Z=new Uint8Array,E2=class{constructor(e={}){this.config=Object.assign({blockstoreLocation:"DATASTORE",createLevelDatabase:Au},e),this.blockstore=new Eh({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return rd(this,void 0,void 0,function*(){yield this.blockstore.open()})}close(){return rd(this,void 0,void 0,function*(){yield this.blockstore.close()})}put(e,r,i,n){var s,o,a,f;return rd(this,void 0,void 0,function*(){yield(yield(yield(yield this.blockstore.partition(Q4)).partition(i)).partition(e)).put(r,$Z);let m=yield(yield this.blockstore.partition(X4)).partition(i),g=hw([{content:n}],m,{cidVersion:1}),E;try{for(var x=_Ee(g),T;T=yield x.next(),!T.done;)E=T.value}catch(M){s={error:M}}finally{try{T&&!T.done&&(o=x.return)&&(yield o.call(x))}finally{if(s)throw s.error}}return E==null?{dataCid:i,dataSize:0}:{dataCid:String(E.cid),dataSize:Number((f=(a=E.unixfs)===null||a===void 0?void 0:a.fileSize())!==null&&f!==void 0?f:E.size)}})}get(e,r,i){var n,s;return rd(this,void 0,void 0,function*(){if(!(yield(yield(yield(yield this.blockstore.partition(Q4)).partition(i)).partition(e)).has(r)))return;let l=yield(yield this.blockstore.partition(X4)).partition(i);if(!(yield l.has(i)))return;let m=yield fP(i,l),g=m.content()[Symbol.asyncIterator](),E=new VZ.Readable({read(){return rd(this,void 0,void 0,function*(){let x=yield g.next();x.done?this.push(null):this.push(x.value)})}});return{dataCid:String(m.cid),dataSize:Number((s=(n=m.unixfs)===null||n===void 0?void 0:n.fileSize())!==null&&s!==void 0?s:m.size),dataStream:E}})}associate(e,r,i){var n,s;return rd(this,void 0,void 0,function*(){let f=yield(yield(yield this.blockstore.partition(Q4)).partition(i)).partition(e);if(yield f.isEmpty())return;let l=yield(yield this.blockstore.partition(X4)).partition(i);if(!(yield l.has(i)))return;yield f.put(r,$Z);let m=yield fP(i,l);return{dataCid:String(m.cid),dataSize:Number((s=(n=m.unixfs)===null||n===void 0?void 0:n.fileSize())!==null&&s!==void 0?s:m.size)}})}delete(e,r,i){return rd(this,void 0,void 0,function*(){let s=yield(yield this.blockstore.partition(Q4)).partition(i),o=yield s.partition(e);if(yield o.delete(r),!(yield o.isEmpty())||!(yield s.isEmpty()))return;yield(yield(yield this.blockstore.partition(X4)).partition(i)).clear()})}clear(){return rd(this,void 0,void 0,function*(){yield this.blockstore.clear()})}dump(){var e,r;return rd(this,void 0,void 0,function*(){console.group("blockstore"),yield(r=(e=this.blockstore).dump)===null||r===void 0?void 0:r.call(e),console.groupEnd()})}};F();F();F();F();var oD=new TextEncoder,EEe=new TextDecoder,cr=class{static base64UrlToBytes(e){return hg.baseDecode(e)}static base64UrlToObject(e){let r=hg.baseDecode(e),i=cr.bytesToString(r);return JSON.parse(i)}static bytesToBase64Url(e){return hg.baseEncode(e)}static bytesToString(e){return EEe.decode(e)}static objectToBytes(e){let r=JSON.stringify(e);return oD.encode(r)}static stringToBase64Url(e){let r=oD.encode(e);return hg.baseEncode(r)}static stringToBytes(e){return oD.encode(e)}};F();F();F();var nCe=yr(Ay(),1);var Xo=BigInt(0),Qr=BigInt(1),Q1=BigInt(2),Coe=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),cn=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:Coe,n:Coe,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});var Noe=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),A3=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),h1t=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),oCe=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),sCe=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),aCe=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),fCe=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Xr=class{constructor(e,r,i,n){this.x=e,this.y=r,this.z=i,this.t=n}static fromAffine(e){if(!(e instanceof Cn))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(Cn.ZERO)?Xr.ZERO:new Xr(e.x,e.y,Qr,qe(e.x*e.y))}static toAffineBatch(e){let r=lCe(e.map(i=>i.z));return e.map((i,n)=>i.toAffine(r[n]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){Ooe(e);let{x:r,y:i,z:n}=this,{x:s,y:o,z:a}=e,f=qe(r*a),c=qe(s*n),u=qe(i*a),l=qe(o*n);return f===c&&u===l}negate(){return new Xr(qe(-this.x),this.y,this.z,qe(-this.t))}double(){let{x:e,y:r,z:i}=this,{a:n}=cn,s=qe(e*e),o=qe(r*r),a=qe(Q1*qe(i*i)),f=qe(n*s),c=e+r,u=qe(qe(c*c)-s-o),l=f+o,y=l-a,m=f-o,g=qe(u*y),E=qe(l*m),x=qe(u*m),T=qe(y*l);return new Xr(g,E,T,x)}add(e){Ooe(e);let{x:r,y:i,z:n,t:s}=this,{x:o,y:a,z:f,t:c}=e,u=qe((i-r)*(a+o)),l=qe((i+r)*(a-o)),y=qe(l-u);if(y===Xo)return this.double();let m=qe(n*Q1*c),g=qe(s*Q1*f),E=g+m,x=l+u,T=g-m,M=qe(E*y),I=qe(x*T),R=qe(E*T),O=qe(y*x);return new Xr(M,I,O,R)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let r=1+256/e,i=[],n=this,s=n;for(let o=0;o<r;o++){s=n,i.push(s);for(let a=1;a<2**(e-1);a++)s=s.add(n),i.push(s);n=s.double()}return i}wNAF(e,r){!r&&this.equals(Xr.BASE)&&(r=Cn.BASE);let i=r&&r._WINDOW_SIZE||1;if(256%i)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=r&&ZB.get(r);n||(n=this.precomputeWindow(i),r&&i!==1&&(n=Xr.normalizeZ(n),ZB.set(r,n)));let s=Xr.ZERO,o=Xr.ZERO,a=1+256/i,f=2**(i-1),c=BigInt(2**i-1),u=2**i,l=BigInt(i);for(let y=0;y<a;y++){let m=y*f,g=Number(e&c);if(e>>=l,g>f&&(g-=u,e+=Qr),g===0){let E=n[m];y%2&&(E=E.negate()),o=o.add(E)}else{let E=n[m+Math.abs(g)-1];g<0&&(E=E.negate()),s=s.add(E)}}return Xr.normalizeZ([s,o])[0]}multiply(e,r){return this.wNAF(A7(e,cn.l),r)}multiplyUnsafe(e){let r=A7(e,cn.l,!1),i=Xr.BASE,n=Xr.ZERO;if(r===Xo)return n;if(this.equals(n)||r===Qr)return this;if(this.equals(i))return this.wNAF(r);let s=n,o=this;for(;r>Xo;)r&Qr&&(s=s.add(o)),o=o.double(),r>>=Qr;return s}isSmallOrder(){return this.multiplyUnsafe(cn.h).equals(Xr.ZERO)}isTorsionFree(){return this.multiplyUnsafe(cn.l).equals(Xr.ZERO)}toAffine(e=M7(this.z)){let{x:r,y:i,z:n}=this,s=qe(r*e),o=qe(i*e);if(qe(n*e)!==Qr)throw new Error("invZ was invalid");return new Cn(s,o)}fromRistrettoBytes(){HB()}toRistrettoBytes(){HB()}fromRistrettoHash(){HB()}};Xr.BASE=new Xr(cn.Gx,cn.Gy,Qr,qe(cn.Gx*cn.Gy));Xr.ZERO=new Xr(Xo,Qr,Qr,Xo);function Ooe(t){if(!(t instanceof Xr))throw new TypeError("ExtendedPoint expected")}function KB(t){if(!(t instanceof ja))throw new TypeError("RistrettoPoint expected")}function HB(){throw new Error("Legacy method: switch to RistrettoPoint")}var ja=class{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:r}=cn,i=qe(A3*e*e),n=qe((i+Qr)*aCe),s=BigInt(-1),o=qe((s-r*i)*qe(i+r)),{isValid:a,value:f}=JB(n,o),c=qe(f*e);ip(c)||(c=qe(-c)),a||(f=c),a||(s=i);let u=qe(s*(i-Qr)*fCe-o),l=f*f,y=qe((f+f)*o),m=qe(u*oCe),g=qe(Qr-l),E=qe(Qr+l);return new Xr(qe(y*E),qe(g*m),qe(m*E),qe(y*g))}static hashToCurve(e){e=np(e,64);let r=WB(e.slice(0,32)),i=this.calcElligatorRistrettoMap(r),n=WB(e.slice(32,64)),s=this.calcElligatorRistrettoMap(n);return new ja(i.add(s))}static fromHex(e){e=np(e,32);let{a:r,d:i}=cn,n="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",s=WB(e);if(!hCe(M3(s),e)||ip(s))throw new Error(n);let o=qe(s*s),a=qe(Qr+r*o),f=qe(Qr-r*o),c=qe(a*a),u=qe(f*f),l=qe(r*i*c-u),{isValid:y,value:m}=Loe(qe(l*u)),g=qe(m*f),E=qe(m*g*l),x=qe((s+s)*g);ip(x)&&(x=qe(-x));let T=qe(a*E),M=qe(x*T);if(!y||ip(M)||T===Xo)throw new Error(n);return new ja(new Xr(x,T,Qr,M))}toRawBytes(){let{x:e,y:r,z:i,t:n}=this.ep,s=qe(qe(i+r)*qe(i-r)),o=qe(e*r),a=qe(o*o),{value:f}=Loe(qe(s*a)),c=qe(f*s),u=qe(f*o),l=qe(c*u*n),y;if(ip(n*l)){let g=qe(r*A3),E=qe(e*A3);e=g,r=E,y=qe(c*sCe)}else y=u;ip(e*l)&&(r=qe(-r));let m=qe((i-r)*y);return ip(m)&&(m=qe(-m)),M3(m)}toHex(){return k3(this.toRawBytes())}toString(){return this.toHex()}equals(e){KB(e);let r=this.ep,i=e.ep,n=qe(r.x*i.y)===qe(r.y*i.x),s=qe(r.y*i.y)===qe(r.x*i.x);return n||s}add(e){return KB(e),new ja(this.ep.add(e.ep))}subtract(e){return KB(e),new ja(this.ep.subtract(e.ep))}multiply(e){return new ja(this.ep.multiply(e))}multiplyUnsafe(e){return new ja(this.ep.multiplyUnsafe(e))}};ja.BASE=new ja(Xr.BASE);ja.ZERO=new ja(Xr.ZERO);var ZB=new WeakMap,Cn=class{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,ZB.delete(this)}static fromHex(e,r=!0){let{d:i,P:n}=cn;e=np(e,32);let s=e.slice();s[31]=e[31]&-129;let o=T3(s);if(r&&o>=n)throw new Error("Expected 0 < hex < P");if(!r&&o>=Noe)throw new Error("Expected 0 < hex < 2**256");let a=qe(o*o),f=qe(a-Qr),c=qe(i*a+Qr),{isValid:u,value:l}=JB(f,c);if(!u)throw new Error("Point.fromHex: invalid y coordinate");let y=(l&Qr)===Qr;return(e[31]&128)!==0!==y&&(l=qe(-l)),new Cn(l,o)}static async fromPrivateKey(e){return(await k7(e)).point}toRawBytes(){let e=M3(this.y);return e[31]|=this.x&Qr?128:0,e}toHex(){return k3(this.toRawBytes())}toX25519(){let{y:e}=this,r=qe((Qr+e)*M7(Qr-e));return M3(r)}isTorsionFree(){return Xr.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Cn(qe(-this.x),this.y)}add(e){return Xr.fromAffine(this).add(Xr.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Xr.fromAffine(this).multiply(e,this).toAffine()}};Cn.BASE=new Cn(cn.Gx,cn.Gy);Cn.ZERO=new Cn(Xo,Qr);var Ky=class{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=np(e,64),i=Cn.fromHex(r.slice(0,32),!1),n=T3(r.slice(32,64));return new Ky(i,n)}assertValidity(){let{r:e,s:r}=this;if(!(e instanceof Cn))throw new Error("Expected Point instance");return A7(r,cn.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(M3(this.s),32),e}toHex(){return k3(this.toRawBytes())}};function joe(...t){if(!t.every(i=>i instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];let e=t.reduce((i,n)=>i+n.length,0),r=new Uint8Array(e);for(let i=0,n=0;i<t.length;i++){let s=t[i];r.set(s,n),n+=s.length}return r}var uCe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function k3(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=uCe[t[r]];return e}function GB(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let i=r*2,n=t.slice(i,i+2),s=Number.parseInt(n,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}function qoe(t){let r=t.toString(16).padStart(64,"0");return GB(r)}function M3(t){return qoe(t).reverse()}function ip(t){return(qe(t)&Qr)===Qr}function T3(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+k3(Uint8Array.from(t).reverse()))}var cCe=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function WB(t){return qe(T3(t)&cCe)}function qe(t,e=cn.P){let r=t%e;return r>=Xo?r:e+r}function M7(t,e=cn.P){if(t===Xo||e<=Xo)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=qe(t,e),i=e,n=Xo,s=Qr,o=Qr,a=Xo;for(;r!==Xo;){let c=i/r,u=i%r,l=n-o*c,y=s-a*c;i=r,r=u,n=o,s=a,o=l,a=y}if(i!==Qr)throw new Error("invert: does not exist");return qe(n,e)}function lCe(t,e=cn.P){let r=new Array(t.length),i=t.reduce((s,o,a)=>o===Xo?s:(r[a]=s,qe(s*o,e)),Qr),n=M7(i,e);return t.reduceRight((s,o,a)=>o===Xo?s:(r[a]=qe(s*r[a],e),qe(s*o,e)),n),r}function Xc(t,e){let{P:r}=cn,i=t;for(;e-- >Xo;)i*=i,i%=r;return i}function dCe(t){let{P:e}=cn,r=BigInt(5),i=BigInt(10),n=BigInt(20),s=BigInt(40),o=BigInt(80),f=t*t%e*t%e,c=Xc(f,Q1)*f%e,u=Xc(c,Qr)*t%e,l=Xc(u,r)*u%e,y=Xc(l,i)*l%e,m=Xc(y,n)*y%e,g=Xc(m,s)*m%e,E=Xc(g,o)*g%e,x=Xc(E,o)*g%e,T=Xc(x,i)*l%e;return{pow_p_5_8:Xc(T,Q1)*t%e,b2:f}}function JB(t,e){let r=qe(e*e*e),i=qe(r*r*e),n=dCe(t*i).pow_p_5_8,s=qe(t*r*n),o=qe(e*s*s),a=s,f=qe(s*A3),c=o===t,u=o===qe(-t),l=o===qe(-t*A3);return c&&(s=a),(u||l)&&(s=f),ip(s)&&(s=qe(-s)),{isValid:c||u,value:s}}function Loe(t){return JB(Qr,t)}function x7(t){return qe(T3(t),cn.l)}function hCe(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function np(t,e){let r=t instanceof Uint8Array?Uint8Array.from(t):GB(t);if(typeof e=="number"&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}function A7(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(r){if(Xo<t)return t}else if(Xo<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function pCe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function yCe(t){if(t=typeof t=="bigint"||typeof t=="number"?qoe(A7(t,Noe)):np(t),t.length!==32)throw new Error("Expected 32 bytes");return t}function mCe(t){let e=pCe(t.slice(0,32)),r=t.slice(32,64),i=x7(e),n=Cn.BASE.multiply(i),s=n.toRawBytes();return{head:e,prefix:r,scalar:i,point:n,pointBytes:s}}var YB;async function k7(t){return mCe(await op.sha512(yCe(t)))}async function zoe(t){return(await k7(t)).pointBytes}async function Foe(t,e){t=np(t);let{prefix:r,scalar:i,pointBytes:n}=await k7(e),s=x7(await op.sha512(r,t)),o=Cn.BASE.multiply(s),a=x7(await op.sha512(o.toRawBytes(),n,t)),f=qe(s+a*i,cn.l);return new Ky(o,f).toRawBytes()}function gCe(t,e,r){e=np(e),r instanceof Cn||(r=Cn.fromHex(r,!1));let{r:i,s:n}=t instanceof Ky?t.assertValidity():Ky.fromHex(t),s=Xr.BASE.multiplyUnsafe(n);return{r:i,s:n,SB:s,pub:r,msg:e}}function bCe(t,e,r,i){let n=x7(i),s=Xr.fromAffine(t).multiplyUnsafe(n);return Xr.fromAffine(e).add(s).subtract(r).multiplyUnsafe(cn.h).equals(Xr.ZERO)}async function Uoe(t,e,r){let{r:i,SB:n,msg:s,pub:o}=gCe(t,e,r),a=await op.sha512(i.toRawBytes(),o.toRawBytes(),s);return bCe(o,i,n,a)}Cn.BASE._setWindowSize(8);var rp={node:nCe,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},op={bytesToHex:k3,hexToBytes:GB,concatBytes:joe,getExtendedPublicKey:k7,mod:qe,invert:M7,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if(t=np(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return qe(T3(t),cn.l-Qr)+Qr},randomBytes:(t=32)=>{if(rp.web)return rp.web.getRandomValues(new Uint8Array(t));if(rp.node){let{randomBytes:e}=rp.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>op.randomBytes(32),sha512:async(...t)=>{let e=joe(...t);if(rp.web){let r=await rp.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(r)}else{if(rp.node)return Uint8Array.from(rp.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=Cn.BASE){let r=e.equals(Cn.BASE)?e:new Cn(e.x,e.y);return r._setWindowSize(t),r.multiply(Q1),r},sha512Sync:void 0};Object.defineProperties(op,{sha512Sync:{configurable:!1,get(){return YB},set(t){YB||(YB=t)}}});var $oe=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})};function Voe(t){if(t.kty!=="OKP"||t.crv!=="Ed25519")throw new Error("invalid jwk. kty MUST be OKP. crv MUST be Ed25519")}function Koe(t){return{alg:"EdDSA",kty:"OKP",crv:"Ed25519",x:cr.bytesToBase64Url(t)}}var P3={sign:(t,e)=>{Voe(e);let r=cr.base64UrlToBytes(e.d);return Foe(t,r)},verify:(t,e,r)=>{Voe(r);let i=cr.base64UrlToBytes(r.x);return Uoe(e,t,i)},generateKeyPair:()=>$oe(void 0,void 0,void 0,function*(){let t=op.randomPrivateKey(),e=yield zoe(t),r=cr.bytesToBase64Url(t),i=Koe(e),n=Object.assign(Object.assign({},i),{d:r});return{publicJwk:i,privateJwk:n}}),publicKeyToJwk:t=>$oe(void 0,void 0,void 0,function*(){return Koe(t)})};F();F();var wCe=yr(Ay(),1);var ei=BigInt(0),en=BigInt(1),ap=BigInt(2),I3=BigInt(3),Hoe=BigInt(8),$n=Object.freeze({a:ei,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:en,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),Woe=(t,e)=>(t+e/ap)/e,T7={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){let{n:e}=$n,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-en*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=Woe(s*t,e),f=Woe(-i*t,e),c=_t(t-a*r-f*n,e),u=_t(-a*i-f*s,e),l=c>o,y=u>o;if(l&&(c=e-c),y&&(u=e-u),c>o||u>o)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:l,k1:c,k2neg:y,k2:u}}},Vu=32,rb=32,_Ce=32,Yoe=Vu+1,Zoe=2*Vu+1;function Goe(t){let{a:e,b:r}=$n,i=_t(t*t),n=_t(i*t);return _t(n+e*t+r)}var P7=$n.a===ei,R7=class extends Error{constructor(e){super(e)}};function Joe(t){if(!(t instanceof yi))throw new TypeError("JacobianPoint expected")}var yi=class{constructor(e,r,i){this.x=e,this.y=r,this.z=i}static fromAffine(e){if(!(e instanceof Pi))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(Pi.ZERO)?yi.ZERO:new yi(e.x,e.y,en)}static toAffineBatch(e){let r=MCe(e.map(i=>i.z));return e.map((i,n)=>i.toAffine(r[n]))}static normalizeZ(e){return yi.toAffineBatch(e).map(yi.fromAffine)}equals(e){Joe(e);let{x:r,y:i,z:n}=this,{x:s,y:o,z:a}=e,f=_t(n*n),c=_t(a*a),u=_t(r*c),l=_t(s*f),y=_t(_t(i*a)*c),m=_t(_t(o*n)*f);return u===l&&y===m}negate(){return new yi(this.x,_t(-this.y),this.z)}double(){let{x:e,y:r,z:i}=this,n=_t(e*e),s=_t(r*r),o=_t(s*s),a=e+s,f=_t(ap*(_t(a*a)-n-o)),c=_t(I3*n),u=_t(c*c),l=_t(u-ap*f),y=_t(c*(f-l)-Hoe*o),m=_t(ap*r*i);return new yi(l,y,m)}add(e){Joe(e);let{x:r,y:i,z:n}=this,{x:s,y:o,z:a}=e;if(s===ei||o===ei)return this;if(r===ei||i===ei)return e;let f=_t(n*n),c=_t(a*a),u=_t(r*c),l=_t(s*f),y=_t(_t(i*a)*c),m=_t(_t(o*n)*f),g=_t(l-u),E=_t(m-y);if(g===ei)return E===ei?this.double():yi.ZERO;let x=_t(g*g),T=_t(g*x),M=_t(u*x),I=_t(E*E-T-ap*M),R=_t(E*(M-I)-y*T),O=_t(n*a*g);return new yi(I,R,O)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=yi.ZERO;if(typeof e=="bigint"&&e===ei)return r;let i=ese(e);if(i===en)return this;if(!P7){let l=r,y=this;for(;i>ei;)i&en&&(l=l.add(y)),y=y.double(),i>>=en;return l}let{k1neg:n,k1:s,k2neg:o,k2:a}=T7.splitScalar(i),f=r,c=r,u=this;for(;s>ei||a>ei;)s&en&&(f=f.add(u)),a&en&&(c=c.add(u)),u=u.double(),s>>=en,a>>=en;return n&&(f=f.negate()),o&&(c=c.negate()),c=new yi(_t(c.x*T7.beta),c.y,c.z),f.add(c)}precomputeWindow(e){let r=P7?128/e+1:256/e+1,i=[],n=this,s=n;for(let o=0;o<r;o++){s=n,i.push(s);for(let a=1;a<2**(e-1);a++)s=s.add(n),i.push(s);n=s.double()}return i}wNAF(e,r){!r&&this.equals(yi.BASE)&&(r=Pi.BASE);let i=r&&r._WINDOW_SIZE||1;if(256%i)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=r&&QB.get(r);n||(n=this.precomputeWindow(i),r&&i!==1&&(n=yi.normalizeZ(n),QB.set(r,n)));let s=yi.ZERO,o=yi.BASE,a=1+(P7?128/i:256/i),f=2**(i-1),c=BigInt(2**i-1),u=2**i,l=BigInt(i);for(let y=0;y<a;y++){let m=y*f,g=Number(e&c);e>>=l,g>f&&(g-=u,e+=en);let E=m,x=m+Math.abs(g)-1,T=y%2!==0,M=g<0;g===0?o=o.add(D7(T,n[E])):s=s.add(D7(M,n[x]))}return{p:s,f:o}}multiply(e,r){let i=ese(e),n,s;if(P7){let{k1neg:o,k1:a,k2neg:f,k2:c}=T7.splitScalar(i),{p:u,f:l}=this.wNAF(a,r),{p:y,f:m}=this.wNAF(c,r);u=D7(o,u),y=D7(f,y),y=new yi(_t(y.x*T7.beta),y.y,y.z),n=u.add(y),s=l.add(m)}else{let{p:o,f:a}=this.wNAF(i,r);n=o,s=a}return yi.normalizeZ([n,s])[0]}toAffine(e){let{x:r,y:i,z:n}=this,s=this.equals(yi.ZERO);e==null&&(e=s?Hoe:ob(n));let o=e,a=_t(o*o),f=_t(a*o),c=_t(r*a),u=_t(i*f),l=_t(n*o);if(s)return Pi.ZERO;if(l!==en)throw new Error("invZ was invalid");return new Pi(c,u)}};yi.BASE=new yi($n.Gx,$n.Gy,en);yi.ZERO=new yi(ei,en,ei);function D7(t,e){let r=e.negate();return t?r:e}var QB=new WeakMap,Pi=class{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,QB.delete(this)}hasEvenY(){return this.y%ap===ei}static fromCompressedHex(e){let r=e.length===32,i=fp(r?e:e.subarray(1));if(!XB(i))throw new Error("Point is not on curve");let n=Goe(i),s=ACe(n),o=(s&en)===en;r?o&&(s=_t(-s)):(e[0]&1)===1!==o&&(s=_t(-s));let a=new Pi(i,s);return a.assertValidity(),a}static fromUncompressedHex(e){let r=fp(e.subarray(1,Vu+1)),i=fp(e.subarray(Vu+1,Vu*2+1)),n=new Pi(r,i);return n.assertValidity(),n}static fromHex(e){let r=nb(e),i=r.length,n=r[0];if(i===Vu)return this.fromCompressedHex(r);if(i===Yoe&&(n===2||n===3))return this.fromCompressedHex(r);if(i===Zoe&&n===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${Yoe} compressed bytes or ${Zoe} uncompressed bytes, not ${i}`)}static fromPrivateKey(e){return Pi.BASE.multiply(C7(e))}static fromSignature(e,r,i){let{r:n,s}=tse(r);if(![0,1,2,3].includes(i))throw new Error("Cannot recover: invalid recovery bit");let o=rC(nb(e)),{n:a}=$n,f=i===2||i===3?n+a:n,c=ob(f,a),u=_t(-o*c,a),l=_t(s*c,a),y=i&1?"03":"02",m=Pi.fromHex(y+eb(f)),g=Pi.BASE.multiplyAndAddUnsafe(m,u,l);if(!g)throw new Error("Cannot recover signature: point at infinify");return g.assertValidity(),g}toRawBytes(e=!1){return Hy(this.toHex(e))}toHex(e=!1){let r=eb(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${eb(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:i}=this;if(!XB(r)||!XB(i))throw new Error(e);let n=_t(i*i),s=Goe(r);if(_t(n-s)!==ei)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Pi(this.x,_t(-this.y))}double(){return yi.fromAffine(this).double().toAffine()}add(e){return yi.fromAffine(this).add(yi.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return yi.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,i){let n=yi.fromAffine(this),s=r===ei||r===en||this!==Pi.BASE?n.multiplyUnsafe(r):n.multiply(r),o=yi.fromAffine(e).multiplyUnsafe(i),a=s.add(o);return a.equals(yi.ZERO)?void 0:a.toAffine()}};Pi.BASE=new Pi($n.Gx,$n.Gy);Pi.ZERO=new Pi(ei,ei);function Xoe(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function Qoe(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${ib(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:fp(r),left:t.subarray(e+2)}}function ECe(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${ib(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=Qoe(t.subarray(2)),{data:i,left:n}=Qoe(r);if(n.length)throw new Error(`Invalid signature: left bytes after parsing: ${ib(n)}`);return{r:e,s:i}}var Qc=class{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=e instanceof Uint8Array,i="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${i}: Expected string or Uint8Array`);let n=r?ib(e):e;if(n.length!==128)throw new Error(`${i}: Expected 64-byte hex`);return new Qc(B7(n.slice(0,64)),B7(n.slice(64,128)))}static fromDER(e){let r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:i,s:n}=ECe(r?e:Hy(e));return new Qc(i,n)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!B3(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!B3(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=$n.n>>en;return this.s>e}normalizeS(){return this.hasHighS()?new Qc(this.r,_t(-this.s,$n.n)):this}toDERRawBytes(){return Hy(this.toDERHex())}toDERHex(){let e=Xoe(D3(this.s)),r=Xoe(D3(this.r)),i=e.length/2,n=r.length/2,s=D3(i),o=D3(n);return`30${D3(n+i+4)}02${o}${r}02${s}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Hy(this.toCompactHex())}toCompactHex(){return eb(this.r)+eb(this.s)}};function sp(...t){if(!t.every(i=>i instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((i,n)=>i+n.length,0),r=new Uint8Array(e);for(let i=0,n=0;i<t.length;i++){let s=t[i];r.set(s,n),n+=s.length}return r}var SCe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ib(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=SCe[t[r]];return e}var xCe=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function eb(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(ei<=t&&t<xCe))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function eC(t){let e=Hy(eb(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function D3(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function B7(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function Hy(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let i=r*2,n=t.slice(i,i+2),s=Number.parseInt(n,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}function fp(t){return B7(ib(t))}function nb(t){return t instanceof Uint8Array?Uint8Array.from(t):Hy(t)}function ese(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&B3(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function _t(t,e=$n.P){let r=t%e;return r>=ei?r:e+r}function ou(t,e){let{P:r}=$n,i=t;for(;e-- >ei;)i*=i,i%=r;return i}function ACe(t){let{P:e}=$n,r=BigInt(6),i=BigInt(11),n=BigInt(22),s=BigInt(23),o=BigInt(44),a=BigInt(88),f=t*t*t%e,c=f*f*t%e,u=ou(c,I3)*c%e,l=ou(u,I3)*c%e,y=ou(l,ap)*f%e,m=ou(y,i)*y%e,g=ou(m,n)*m%e,E=ou(g,o)*g%e,x=ou(E,a)*E%e,T=ou(x,o)*g%e,M=ou(T,I3)*c%e,I=ou(M,s)*m%e,R=ou(I,r)*f%e,O=ou(R,ap);if(O*O%e!==t)throw new Error("Cannot find square root");return O}function ob(t,e=$n.P){if(t===ei||e<=ei)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=_t(t,e),i=e,n=ei,s=en,o=en,a=ei;for(;r!==ei;){let c=i/r,u=i%r,l=n-o*c,y=s-a*c;i=r,r=u,n=o,s=a,o=l,a=y}if(i!==en)throw new Error("invert: does not exist");return _t(n,e)}function MCe(t,e=$n.P){let r=new Array(t.length),i=t.reduce((s,o,a)=>o===ei?s:(r[a]=s,_t(s*o,e)),en),n=ob(i,e);return t.reduceRight((s,o,a)=>o===ei?s:(r[a]=_t(s*r[a],e),_t(s*o,e)),n),r}function kCe(t){let e=t.length*8-rb*8,r=fp(t);return e>0?r>>BigInt(e):r}function rC(t,e=!1){let r=kCe(t);if(e)return r;let{n:i}=$n;return r>=i?r-i:r}var tb,R3,tC=class{constructor(e,r){if(this.hashLen=e,this.qByteLen=r,typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof r!="number"||r<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return Ku.hmacSha256(this.k,...e)}hmacSync(...e){return R3(this.k,...e)}checkSync(){if(typeof R3!="function")throw new R7("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0,r=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);let i=this.v.slice();r.push(i),e+=this.v.length}return sp(...r)}generateSync(){this.checkSync(),this.incr();let e=0,r=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);let i=this.v.slice();r.push(i),e+=this.v.length}return sp(...r)}};function B3(t){return ei<t&&t<$n.n}function XB(t){return ei<t&&t<$n.P}function TCe(t,e,r,i=!0){let{n}=$n,s=rC(t,!0);if(!B3(s))return;let o=ob(s,n),a=Pi.BASE.multiply(s),f=_t(a.x,n);if(f===ei)return;let c=_t(o*_t(e+r*f,n),n);if(c===ei)return;let u=new Qc(f,c),l=(a.x===u.r?0:2)|Number(a.y&en);return i&&u.hasHighS()&&(u=u.normalizeS(),l^=1),{sig:u,recovery:l}}function C7(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*rb)throw new Error("Expected 32 bytes of private key");e=B7(t)}else if(t instanceof Uint8Array){if(t.length!==rb)throw new Error("Expected 32 bytes of private key");e=fp(t)}else throw new TypeError("Expected valid private key");if(!B3(e))throw new Error("Expected private key: 0 < key < n");return e}function PCe(t){return t instanceof Pi?(t.assertValidity(),t):Pi.fromHex(t)}function tse(t){if(t instanceof Qc)return t.assertValidity(),t;try{return Qc.fromDER(t)}catch{return Qc.fromCompact(t)}}function C3(t,e=!1){return Pi.fromPrivateKey(t).toRawBytes(e)}function rse(t){let e=t.length>Vu?t.slice(0,Vu):t;return fp(e)}function DCe(t){let e=rse(t),r=_t(e,$n.n);return ise(r<ei?e:r)}function ise(t){return eC(t)}function ICe(t,e,r){if(t==null)throw new Error(`sign: expected valid message hash, not "${t}"`);let i=nb(t),n=C7(e),s=[ise(n),DCe(i)];if(r!=null){r===!0&&(r=Ku.randomBytes(Vu));let f=nb(r);if(f.length!==Vu)throw new Error(`sign: Expected ${Vu} bytes of extra data`);s.push(f)}let o=sp(...s),a=rse(i);return{seed:o,m:a,d:n}}function RCe(t,e){let{sig:r,recovery:i}=t,{der:n,recovered:s}=Object.assign({canonical:!0,der:!0},e),o=n?r.toDERRawBytes():r.toCompactRawBytes();return s?[o,i]:o}async function nse(t,e,r={}){let{seed:i,m:n,d:s}=ICe(t,e,r.extraEntropy),o=new tC(_Ce,rb);await o.reseed(i);let a;for(;!(a=TCe(await o.generate(),n,s,r.canonical));)await o.reseed();return RCe(a,r)}var BCe={strict:!0};function ose(t,e,r,i=BCe){let n;try{n=tse(t),e=nb(e)}catch{return!1}let{r:s,s:o}=n;if(i.strict&&n.hasHighS())return!1;let a=rC(e),f;try{f=PCe(r)}catch{return!1}let{n:c}=$n,u=ob(o,c),l=_t(a*u,c),y=_t(s*u,c),m=Pi.BASE.multiplyAndAddUnsafe(f,l,y);return m?_t(m.x,c)===s:!1}Pi.BASE._setWindowSize(8);var gf={node:wCe,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var I7={},Ku={bytesToHex:ib,hexToBytes:Hy,concatBytes:sp,mod:_t,invert:ob,isValidPrivateKey(t){try{return C7(t),!0}catch{return!1}},_bigintTo32Bytes:eC,_normalizePrivateKey:C7,hashToPrivateKey:t=>{t=nb(t);let e=rb+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=_t(fp(t),$n.n-en)+en;return eC(r)},randomBytes:(t=32)=>{if(gf.web)return gf.web.getRandomValues(new Uint8Array(t));if(gf.node){let{randomBytes:e}=gf.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Ku.hashToPrivateKey(Ku.randomBytes(rb+8)),precompute(t=8,e=Pi.BASE){let r=e===Pi.BASE?e:new Pi(e.x,e.y);return r._setWindowSize(t),r.multiply(I3),r},sha256:async(...t)=>{if(gf.web){let e=await gf.web.subtle.digest("SHA-256",sp(...t));return new Uint8Array(e)}else if(gf.node){let{createHash:e}=gf.node,r=e("sha256");return t.forEach(i=>r.update(i)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(gf.web){let r=await gf.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),i=sp(...e),n=await gf.web.subtle.sign("HMAC",r,i);return new Uint8Array(n)}else if(gf.node){let{createHmac:r}=gf.node,i=r("sha256",t);return e.forEach(n=>i.update(n)),Uint8Array.from(i.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let r=I7[t];if(r===void 0){let i=await Ku.sha256(Uint8Array.from(t,n=>n.charCodeAt(0)));r=sp(i,i),I7[t]=r}return Ku.sha256(r,...e)},taggedHashSync:(t,...e)=>{if(typeof tb!="function")throw new R7("sha256Sync is undefined, you need to set it");let r=I7[t];if(r===void 0){let i=tb(Uint8Array.from(t,n=>n.charCodeAt(0)));r=sp(i,i),I7[t]=r}return tb(r,...e)},_JacobianPoint:yi};Object.defineProperties(Ku,{sha256Sync:{configurable:!1,get(){return tb},set(t){tb||(tb=t)}},hmacSha256Sync:{configurable:!1,get(){return R3},set(t){R3||(R3=t)}}});var iC=yr(lse(),1);F();var no=class extends Error{constructor(e,r){super(`${e}: ${r}`),this.code=e,this.name="DwnError"}},tn;(function(t){t.AuthenticateJwsMissing="AuthenticateJwsMissing",t.AuthorizationMissing="AuthorizationMissing",t.AuthorizationUnknownAuthor="AuthorizationUnknownAuthor",t.HdKeyDerivationPathInvalid="HdKeyDerivationPathInvalid",t.MessageStoreDataCidMismatch="MessageStoreDataCidMismatch",t.MessageStoreDataNotFound="MessageStoreDataNotFound",t.MessageStoreDataSizeMismatch="MessageStoreDataSizeMismatch",t.RecordsDecryptNoMatchingKeyDerivationScheme="RecordsDecryptNoMatchingKeyDerivationScheme",t.RecordsDeriveLeafPrivateKeyUnSupportedCurve="RecordsDeriveLeafPrivateKeyUnSupportedCurve",t.RecordsDeriveLeafPublicKeyUnSupportedCurve="RecordsDeriveLeafPublicKeyUnSupportedCurve",t.RecordsInvalidAncestorKeyDerivationSegment="RecordsInvalidAncestorKeyDerivationSegment",t.RecordsWriteGetEntryIdUndefinedAuthor="RecordsWriteGetEntryIdUndefinedAuthor",t.RecordsWriteValidateIntegrityEncryptionCidMismatch="RecordsWriteValidateIntegrityEncryptionCidMismatch",t.Secp256k1KeyNotValid="Secp256k1KeyNotValid"})(tn||(tn={}));var vd=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},xi=class{static validateKey(e){if(e.kty!=="EC"||e.crv!=="secp256k1")throw new no(tn.Secp256k1KeyNotValid,"Invalid SECP256K1 JWK: `kty` MUST be `EC`. `crv` MUST be `secp256k1`")}static publicKeyToJwk(e){return vd(this,void 0,void 0,function*(){let r;if(e.byteLength===33){let o=Ku.bytesToHex(e);r=Pi.fromHex(o).toRawBytes(!1)}else r=e;let i=cr.bytesToBase64Url(r.subarray(1,33)),n=cr.bytesToBase64Url(r.subarray(33,65));return{alg:"ES256K",kty:"EC",crv:"secp256k1",x:i,y:n}})}static privateKeyToJwk(e){return vd(this,void 0,void 0,function*(){let r=yield xi.getPublicKey(e),i=yield xi.publicKeyToJwk(r);return i.d=cr.bytesToBase64Url(e),i})}static publicJwkToBytes(e){let r=cr.base64UrlToBytes(e.x),i=cr.base64UrlToBytes(e.y);return new Uint8Array([4,...r,...i])}static privateJwkToBytes(e){return cr.base64UrlToBytes(e.d)}static sign(e,r){return vd(this,void 0,void 0,function*(){xi.validateKey(r);let i=yield na.encode(e),n=xi.privateJwkToBytes(r);return yield nse(i,n,{der:!1})})}static verify(e,r,i){return vd(this,void 0,void 0,function*(){xi.validateKey(i);let n=xi.publicJwkToBytes(i),s=yield na.encode(e);return ose(r,s,n)})}static generateKeyPair(){return vd(this,void 0,void 0,function*(){let e=Ku.randomPrivateKey(),r=C3(e),i=cr.bytesToBase64Url(e),n=yield xi.publicKeyToJwk(r),s=Object.assign(Object.assign({},n),{d:i});return{publicJwk:n,privateJwk:s}})}static generateKeyPairRaw(){return vd(this,void 0,void 0,function*(){let e=Ku.randomPrivateKey();return{publicKey:C3(e),privateKey:e}})}static getPublicKey(e){return vd(this,void 0,void 0,function*(){return C3(e,!1)})}static derivePublicKey(e,r){return vd(this,void 0,void 0,function*(){xi.validateKeyDerivationPath(r);let i;e.length===32?i=C3(e):i=e;for(let n of r){let s=yield na.encode(cr.stringToBytes(n));i=xi.deriveChildPublicKey(i,s)}return i})}static derivePrivateKey(e,r){return vd(this,void 0,void 0,function*(){xi.validateKeyDerivationPath(r);let i=e;for(let n of r){let s=yield na.encode(cr.stringToBytes(n));i=xi.deriveChildPrivateKey(i,s)}return i})}static deriveChildPublicKey(e,r){let n=te.Buffer.from(e),s=te.Buffer.from(r);return iC.default.publicKeyTweakAdd(n,s,!1)}static deriveChildPrivateKey(e,r){let i=te.Buffer.from(e),n=te.Buffer.from(r);return iC.default.privateKeyTweakAdd(i,n)}static validateKeyDerivationPath(e){if(e.includes(""))throw new no(tn.HdKeyDerivationPathInvalid,`Invalid key derivation path: ${e}`)}};var ab={Ed25519:P3,secp256k1:{sign:xi.sign,verify:xi.verify,generateKeyPair:xi.generateKeyPair,publicKeyToJwk:xi.publicKeyToJwk}};var dse=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},wd=class{constructor(e){this.jws=e}static create(e,r=[]){return dse(this,void 0,void 0,function*(){let i={payload:cr.bytesToBase64Url(e),signatures:[]},n=new wd(i);for(let s of r)yield n.addSignature(s);return n})}addSignature(e){return dse(this,void 0,void 0,function*(){let{privateJwk:r,protectedHeader:i}=e,n=ab[r.crv];if(!n)throw new Error(`unsupported crv. crv must be one of ${Object.keys(ab)}`);let s=JSON.stringify(i),o=cr.stringToBase64Url(s),a=`${o}.${this.jws.payload}`,f=cr.stringToBytes(a),c=yield n.sign(f,r),u=cr.bytesToBase64Url(c);this.jws.signatures.push({protected:o,signature:u})})}getJws(){return this.jws}};F();var Lse=yr(jse(),1);var pOe=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},oo=class{static getKid(e){let{kid:r}=cr.base64UrlToObject(e.protected);return r}static getSignerDid(e){let r=oo.getKid(e);return oo.extractDid(r)}static verifySignature(e,r,i){return pOe(this,void 0,void 0,function*(){let n=ab[i.crv];if(!n)throw new Error(`unsupported crv. crv must be one of ${Object.keys(ab)}`);let s=cr.stringToBytes(`${r.protected}.${e}`),o=cr.base64UrlToBytes(r.signature);return yield n.verify(s,o,i)})}static decodePlainObjectPayload(e){let r;try{r=cr.base64UrlToObject(e.payload)}catch{throw new Error("payload is not a JSON object")}if(!(0,Lse.default)(r))throw new Error("signed payload must be a plain object");return r}static extractDid(e){let[r]=e.split("#");return r}static createSignatureInputs(e){return e.map(i=>oo.createSignatureInput(i))}static createSignatureInput(e){return{privateJwk:e.keyPair.privateJwk,protectedHeader:{alg:e.keyPair.privateJwk.alg,kid:e.keyId}}}};F();function Zy(t,e){return t>e?1:t<e?-1:0}F();var dC={};ai(dC,{Definitions:()=>vOe,EventsGet:()=>bOe,GeneralJwk:()=>wOe,GeneralJws:()=>_Oe,HooksWrite:()=>EOe,JwkVerificationMethod:()=>SOe,MessagesGet:()=>xOe,PermissionsDefinitions:()=>AOe,PermissionsGrant:()=>MOe,PermissionsRequest:()=>kOe,ProtocolDefinition:()=>TOe,ProtocolRuleSet:()=>POe,ProtocolsConfigure:()=>DOe,ProtocolsQuery:()=>IOe,PublicJwk:()=>BOe,RecordsDelete:()=>yOe,RecordsQuery:()=>mOe,RecordsRead:()=>ROe,RecordsWrite:()=>gOe});F();var yOe=La,Nse={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-delete.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","dateModified","recordId"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Delete"],type:"string"},dateModified:{type:"string"},recordId:{type:"string"}}}}};var Gy=new RegExp("^[A-Za-z0-9_-]+$","u");function or(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let u=o;for(let l in t)if(!(l==="payload"||l==="signatures")){return or.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"}],!1;break}if(u===o){if(t.payload!==void 0){let l=t.payload,y=o;if(o===o)if(typeof l=="string"){if(!Gy.test(l))return or.errors=[{instancePath:e+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return or.errors=[{instancePath:e+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=y===o}else var a=!0;if(a)if(t.signatures!==void 0){let l=t.signatures,y=o;if(o===y)if(Array.isArray(l)){if(l.length<1)return or.errors=[{instancePath:e+"/signatures",schemaPath:"#/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var f=!0;let g=l.length;for(let E=0;E<g;E++){let x=l[E],T=o;if(o===T)if(x&&typeof x=="object"&&!Array.isArray(x)){if(x.protected!==void 0){let I=x.protected,R=o;if(o===o)if(typeof I=="string"){if(!Gy.test(I))return or.errors=[{instancePath:e+"/signatures/"+E+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return or.errors=[{instancePath:e+"/signatures/"+E+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=R===o}else var c=!0;if(c)if(x.signature!==void 0){let I=x.signature,R=o;if(o===o)if(typeof I=="string"){if(!Gy.test(I))return or.errors=[{instancePath:e+"/signatures/"+E+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return or.errors=[{instancePath:e+"/signatures/"+E+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=R===o}else var c=!0}else return or.errors=[{instancePath:e+"/signatures/"+E,schemaPath:"#/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=T===o;if(!f)break}}}else return or.errors=[{instancePath:e+"/signatures",schemaPath:"#/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var a=y===o}else var a=!0}}else return or.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return or.errors=s,o===0}function La(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let c;if(t.authorization===void 0&&(c="authorization")||t.descriptor===void 0&&(c="descriptor"))return La.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:c},message:"must have required property '"+c+"'"}],!1;{let u=o;for(let l in t)if(!(l==="authorization"||l==="descriptor")){return La.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"}],!1;break}if(u===o){if(t.authorization!==void 0){let l=o;or(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?or.errors:s.concat(or.errors),o=s.length);var a=l===o}else var a=!0;if(a)if(t.descriptor!==void 0){let l=t.descriptor,y=o;if(o===y)if(l&&typeof l=="object"&&!Array.isArray(l)){let g;if(l.interface===void 0&&(g="interface")||l.method===void 0&&(g="method")||l.dateModified===void 0&&(g="dateModified")||l.recordId===void 0&&(g="recordId"))return La.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:g},message:"must have required property '"+g+"'"}],!1;{let E=o;for(let x in l)if(!(x==="interface"||x==="method"||x==="dateModified"||x==="recordId")){return La.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;break}if(E===o){if(l.interface!==void 0){let x=l.interface,T=o;if(typeof x!="string")return La.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(x!=="Records")return La.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Nse.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var f=T===o}else var f=!0;if(f){if(l.method!==void 0){let x=l.method,T=o;if(typeof x!="string")return La.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(x!=="Delete")return La.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Nse.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var f=T===o}else var f=!0;if(f){if(l.dateModified!==void 0){let x=o;if(typeof l.dateModified!="string")return La.errors=[{instancePath:e+"/descriptor/dateModified",schemaPath:"#/properties/descriptor/properties/dateModified/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=x===o}else var f=!0;if(f)if(l.recordId!==void 0){let x=o;if(typeof l.recordId!="string")return La.errors=[{instancePath:e+"/descriptor/recordId",schemaPath:"#/properties/descriptor/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=x===o}else var f=!0}}}}}else return La.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=y===o}else var a=!0}}}else return La.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return La.errors=s,o===0}var mOe=mi,O7={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-query.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","dateCreated","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Query"],type:"string"},dateCreated:{type:"string"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},attester:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},contextId:{type:"string"},schema:{type:"string"},recordId:{type:"string"},parentId:{type:"string"},dataFormat:{type:"string"},dateCreated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{type:"string"},to:{type:"string"}}}}},dateSort:{enum:["createdAscending","createdDescending","publishedAscending","publishedDescending"],type:"string"}}}}};var L7=Object.prototype.hasOwnProperty,Ed=new RegExp("^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$","u");function mi(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let l;if(t.authorization===void 0&&(l="authorization")||t.descriptor===void 0&&(l="descriptor"))return mi.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:l},message:"must have required property '"+l+"'"}],!1;{let y=o;for(let m in t)if(!(m==="authorization"||m==="descriptor")){return mi.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;break}if(y===o){if(t.authorization!==void 0){let m=o;or(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?or.errors:s.concat(or.errors),o=s.length);var a=m===o}else var a=!0;if(a)if(t.descriptor!==void 0){let m=t.descriptor,g=o;if(o===g)if(m&&typeof m=="object"&&!Array.isArray(m)){let x;if(m.interface===void 0&&(x="interface")||m.method===void 0&&(x="method")||m.dateCreated===void 0&&(x="dateCreated")||m.filter===void 0&&(x="filter"))return mi.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:x},message:"must have required property '"+x+"'"}],!1;{let T=o;for(let M in m)if(!(M==="interface"||M==="method"||M==="dateCreated"||M==="filter"||M==="dateSort")){return mi.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:M},message:"must NOT have additional properties"}],!1;break}if(T===o){if(m.interface!==void 0){let M=m.interface,I=o;if(typeof M!="string")return mi.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(M!=="Records")return mi.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:O7.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var f=I===o}else var f=!0;if(f){if(m.method!==void 0){let M=m.method,I=o;if(typeof M!="string")return mi.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(M!=="Query")return mi.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:O7.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var f=I===o}else var f=!0;if(f){if(m.dateCreated!==void 0){let M=o;if(typeof m.dateCreated!="string")return mi.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"#/properties/descriptor/properties/dateCreated/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=M===o}else var f=!0;if(f){if(m.filter!==void 0){let M=m.filter,I=o;if(o===I)if(M&&typeof M=="object"&&!Array.isArray(M)){if(Object.keys(M).length<1)return mi.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let O=o;for(let B in M)if(!L7.call(O7.properties.descriptor.properties.filter.properties,B)){return mi.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:B},message:"must NOT have additional properties"}],!1;break}if(O===o){if(M.protocol!==void 0){let B=o;if(typeof M.protocol!="string")return mi.errors=[{instancePath:e+"/descriptor/filter/protocol",schemaPath:"#/properties/descriptor/properties/filter/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=B===o}else var c=!0;if(c){if(M.attester!==void 0){let B=M.attester,C=o;if(o===o)if(typeof B=="string"){if(!Ed.test(B))return mi.errors=[{instancePath:e+"/descriptor/filter/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return mi.errors=[{instancePath:e+"/descriptor/filter/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=C===o}else var c=!0;if(c){if(M.recipient!==void 0){let B=M.recipient,C=o;if(o===o)if(typeof B=="string"){if(!Ed.test(B))return mi.errors=[{instancePath:e+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return mi.errors=[{instancePath:e+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=C===o}else var c=!0;if(c){if(M.contextId!==void 0){let B=o;if(typeof M.contextId!="string")return mi.errors=[{instancePath:e+"/descriptor/filter/contextId",schemaPath:"#/properties/descriptor/properties/filter/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=B===o}else var c=!0;if(c){if(M.schema!==void 0){let B=o;if(typeof M.schema!="string")return mi.errors=[{instancePath:e+"/descriptor/filter/schema",schemaPath:"#/properties/descriptor/properties/filter/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=B===o}else var c=!0;if(c){if(M.recordId!==void 0){let B=o;if(typeof M.recordId!="string")return mi.errors=[{instancePath:e+"/descriptor/filter/recordId",schemaPath:"#/properties/descriptor/properties/filter/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=B===o}else var c=!0;if(c){if(M.parentId!==void 0){let B=o;if(typeof M.parentId!="string")return mi.errors=[{instancePath:e+"/descriptor/filter/parentId",schemaPath:"#/properties/descriptor/properties/filter/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=B===o}else var c=!0;if(c){if(M.dataFormat!==void 0){let B=o;if(typeof M.dataFormat!="string")return mi.errors=[{instancePath:e+"/descriptor/filter/dataFormat",schemaPath:"#/properties/descriptor/properties/filter/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=B===o}else var c=!0;if(c)if(M.dateCreated!==void 0){let B=M.dateCreated,C=o;if(o===C)if(B&&typeof B=="object"&&!Array.isArray(B)){if(Object.keys(B).length<1)return mi.errors=[{instancePath:e+"/descriptor/filter/dateCreated",schemaPath:"#/properties/descriptor/properties/filter/properties/dateCreated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let W=o;for(let L in B)if(!(L==="from"||L==="to")){return mi.errors=[{instancePath:e+"/descriptor/filter/dateCreated",schemaPath:"#/properties/descriptor/properties/filter/properties/dateCreated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:L},message:"must NOT have additional properties"}],!1;break}if(W===o){if(B.from!==void 0){let L=o;if(typeof B.from!="string")return mi.errors=[{instancePath:e+"/descriptor/filter/dateCreated/from",schemaPath:"#/properties/descriptor/properties/filter/properties/dateCreated/properties/from/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=L===o}else var u=!0;if(u)if(B.to!==void 0){let L=o;if(typeof B.to!="string")return mi.errors=[{instancePath:e+"/descriptor/filter/dateCreated/to",schemaPath:"#/properties/descriptor/properties/filter/properties/dateCreated/properties/to/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=L===o}else var u=!0}}}else return mi.errors=[{instancePath:e+"/descriptor/filter/dateCreated",schemaPath:"#/properties/descriptor/properties/filter/properties/dateCreated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=C===o}else var c=!0}}}}}}}}}}else return mi.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=I===o}else var f=!0;if(f)if(m.dateSort!==void 0){let M=m.dateSort,I=o;if(typeof M!="string")return mi.errors=[{instancePath:e+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(M==="createdAscending"||M==="createdDescending"||M==="publishedAscending"||M==="publishedDescending"))return mi.errors=[{instancePath:e+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/enum",keyword:"enum",params:{allowedValues:O7.properties.descriptor.properties.dateSort.enum},message:"must be equal to one of the allowed values"}],!1;var f=I===o}else var f=!0}}}}}}else return mi.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=g===o}else var a=!0}}}else return mi.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return mi.errors=s,o===0}var gOe=Wt,cp={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-write.json",type:"object",additionalProperties:!1,required:["authorization","descriptor","recordId"],properties:{recordId:{type:"string"},contextId:{type:"string"},attestation:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},encryption:{type:"object",properties:{algorithm:{type:"string",enum:["A256CTR"]},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"},keyEncryption:{type:"array",minItems:1,items:{type:"object",properties:{derivationScheme:{type:"string",enum:["protocol-context"]},algorithm:{type:"string",enum:["ECIES-ES256K"]},encryptedKey:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"},ephemeralPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},messageAuthenticationCode:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"}},additionalProperties:!1,required:["derivationScheme","algorithm","encryptedKey","initializationVector","ephemeralPublicKey","messageAuthenticationCode"]}}},additionalProperties:!1,required:["algorithm","initializationVector","keyEncryption"]},descriptor:{type:"object",properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Write"],type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},protocol:{type:"string"},schema:{type:"string"},parentId:{type:"string"},dataCid:{type:"string"},dataSize:{type:"number"},dateCreated:{type:"string"},dateModified:{type:"string"},published:{type:"boolean"},datePublished:{type:"string"},dataFormat:{type:"string"}},additionalProperties:!1,required:["interface","method","dataCid","dataSize","dateCreated","dateModified","dataFormat"],allOf:[{$comment:"rule defining `published` and `datePublished` relationship",anyOf:[{properties:{published:{type:"boolean",enum:[!0]}},required:["published","datePublished"]},{properties:{published:{type:"boolean",enum:[!1]}},not:{required:["datePublished"]}},{allOf:[{not:{required:["published"]}},{not:{required:["datePublished"]}}]}]}]}},$comment:"rule defining `protocol` and `contextId` relationship",anyOf:[{properties:{descriptor:{type:"object",required:["protocol"]}},required:["contextId"]},{allOf:[{not:{required:["contextId"]}},{properties:{descriptor:{type:"object",not:{required:["protocol"]}}}}]}]};var Kse={$id:"https://identity.foundation/dwn/json-schemas/general-jwk.json",$schema:"http://json-schema.org/draft-07/schema#",type:"object",required:["kty"],properties:{alg:{type:"string"},kid:{type:"string"},kty:{enum:["EC","RSA","oct","OKP"]},crv:{type:"string"},use:{type:"string"},key_ops:{type:"string"},x5u:{type:"string"},x5c:{type:"string"},x5t:{type:"string"},"x5t#S256":{type:"string"}},oneOf:[{properties:{kty:{const:"EC"},crv:{type:"string"},x:{type:"string"},y:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"OKP"},crv:{type:"string"},x:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"RSA"},n:{type:"string"},e:{type:"string"},d:{type:"string"},p:{type:"string"},q:{type:"string"},dp:{type:"string"},dq:{type:"string"},qi:{type:"string"},oth:{type:"object"}},required:["n","e"]},{properties:{kty:{const:"oct"},k:{type:"string"}},required:["k"]}]};function Vn(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0,a=o,f=o,c=!1,u=null,l=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let L;if(t.crv===void 0&&(L="crv")||t.x===void 0&&(L="x")){let j={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/required",keyword:"required",params:{missingProperty:L},message:"must have required property '"+L+"'"};s===null?s=[j]:s.push(j),o++}else{if(t.kty!==void 0){let j=o;if(t.kty!=="EC"){let k={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};s===null?s=[k]:s.push(k),o++}var y=j===o}else var y=!0;if(y){if(t.crv!==void 0){let j=o;if(typeof t.crv!="string"){let P={instancePath:e+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[P]:s.push(P),o++}var y=j===o}else var y=!0;if(y){if(t.x!==void 0){let j=o;if(typeof t.x!="string"){let P={instancePath:e+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[P]:s.push(P),o++}var y=j===o}else var y=!0;if(y){if(t.y!==void 0){let j=o;if(typeof t.y!="string"){let P={instancePath:e+"/y",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[P]:s.push(P),o++}var y=j===o}else var y=!0;if(y)if(t.d!==void 0){let j=o;if(typeof t.d!="string"){let P={instancePath:e+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[P]:s.push(P),o++}var y=j===o}else var y=!0}}}}}var E=l===o;E&&(c=!0,u=0);let m=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let L;if(t.crv===void 0&&(L="crv")||t.x===void 0&&(L="x")){let j={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/required",keyword:"required",params:{missingProperty:L},message:"must have required property '"+L+"'"};s===null?s=[j]:s.push(j),o++}else{if(t.kty!==void 0){let j=o;if(t.kty!=="OKP"){let k={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};s===null?s=[k]:s.push(k),o++}var g=j===o}else var g=!0;if(g){if(t.crv!==void 0){let j=o;if(typeof t.crv!="string"){let P={instancePath:e+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[P]:s.push(P),o++}var g=j===o}else var g=!0;if(g){if(t.x!==void 0){let j=o;if(typeof t.x!="string"){let P={instancePath:e+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[P]:s.push(P),o++}var g=j===o}else var g=!0;if(g)if(t.d!==void 0){let j=o;if(typeof t.d!="string"){let P={instancePath:e+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[P]:s.push(P),o++}var g=j===o}else var g=!0}}}}var E=m===o;if(E&&c)c=!1,u=[u,1];else{E&&(c=!0,u=1);let L=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let k;if(t.n===void 0&&(k="n")||t.e===void 0&&(k="e")){let P={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/required",keyword:"required",params:{missingProperty:k},message:"must have required property '"+k+"'"};s===null?s=[P]:s.push(P),o++}else{if(t.kty!==void 0){let P=o;if(t.kty!=="RSA"){let p={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};s===null?s=[p]:s.push(p),o++}var x=P===o}else var x=!0;if(x){if(t.n!==void 0){let P=o;if(typeof t.n!="string"){let d={instancePath:e+"/n",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[d]:s.push(d),o++}var x=P===o}else var x=!0;if(x){if(t.e!==void 0){let P=o;if(typeof t.e!="string"){let d={instancePath:e+"/e",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[d]:s.push(d),o++}var x=P===o}else var x=!0;if(x){if(t.d!==void 0){let P=o;if(typeof t.d!="string"){let d={instancePath:e+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[d]:s.push(d),o++}var x=P===o}else var x=!0;if(x){if(t.p!==void 0){let P=o;if(typeof t.p!="string"){let d={instancePath:e+"/p",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[d]:s.push(d),o++}var x=P===o}else var x=!0;if(x){if(t.q!==void 0){let P=o;if(typeof t.q!="string"){let d={instancePath:e+"/q",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[d]:s.push(d),o++}var x=P===o}else var x=!0;if(x){if(t.dp!==void 0){let P=o;if(typeof t.dp!="string"){let d={instancePath:e+"/dp",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[d]:s.push(d),o++}var x=P===o}else var x=!0;if(x){if(t.dq!==void 0){let P=o;if(typeof t.dq!="string"){let d={instancePath:e+"/dq",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[d]:s.push(d),o++}var x=P===o}else var x=!0;if(x){if(t.qi!==void 0){let P=o;if(typeof t.qi!="string"){let d={instancePath:e+"/qi",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[d]:s.push(d),o++}var x=P===o}else var x=!0;if(x)if(t.oth!==void 0){let P=t.oth,p=o;if(!(P&&typeof P=="object"&&!Array.isArray(P))){let h={instancePath:e+"/oth",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[h]:s.push(h),o++}var x=p===o}else var x=!0}}}}}}}}}}var E=L===o;if(E&&c)c=!1,u=[u,2];else{E&&(c=!0,u=2);let k=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let p;if(t.k===void 0&&(p="k")){let d={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/required",keyword:"required",params:{missingProperty:p},message:"must have required property '"+p+"'"};s===null?s=[d]:s.push(d),o++}else{if(t.kty!==void 0){let d=o;if(t.kty!=="oct"){let h={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};s===null?s=[h]:s.push(h),o++}var T=d===o}else var T=!0;if(T)if(t.k!==void 0){let d=o;if(typeof t.k!="string"){let b={instancePath:e+"/k",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[b]:s.push(b),o++}var T=d===o}else var T=!0}}var E=k===o;E&&c?(c=!1,u=[u,3]):E&&(c=!0,u=3)}}if(c)o=f,s!==null&&(f?s.length=f:s=null);else{let L={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf",keyword:"oneOf",params:{passingSchemas:u},message:"must match exactly one schema in oneOf"};return s===null?s=[L]:s.push(L),o++,Vn.errors=s,!1}if(o===a)if(t&&typeof t=="object"&&!Array.isArray(t)){let L;if(t.kty===void 0&&(L="kty"))return Vn.errors=[{instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/required",keyword:"required",params:{missingProperty:L},message:"must have required property '"+L+"'"}],!1;if(t.alg!==void 0){let j=o;if(typeof t.alg!="string")return Vn.errors=[{instancePath:e+"/alg",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var M=j===o}else var M=!0;if(M){if(t.kid!==void 0){let j=o;if(typeof t.kid!="string")return Vn.errors=[{instancePath:e+"/kid",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var M=j===o}else var M=!0;if(M){if(t.kty!==void 0){let j=t.kty,k=o;if(!(j==="EC"||j==="RSA"||j==="oct"||j==="OKP"))return Vn.errors=[{instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kty/enum",keyword:"enum",params:{allowedValues:Kse.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;var M=k===o}else var M=!0;if(M){if(t.crv!==void 0){let j=o;if(typeof t.crv!="string")return Vn.errors=[{instancePath:e+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var M=j===o}else var M=!0;if(M){if(t.use!==void 0){let j=o;if(typeof t.use!="string")return Vn.errors=[{instancePath:e+"/use",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var M=j===o}else var M=!0;if(M){if(t.key_ops!==void 0){let j=o;if(typeof t.key_ops!="string")return Vn.errors=[{instancePath:e+"/key_ops",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var M=j===o}else var M=!0;if(M){if(t.x5u!==void 0){let j=o;if(typeof t.x5u!="string")return Vn.errors=[{instancePath:e+"/x5u",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var M=j===o}else var M=!0;if(M){if(t.x5c!==void 0){let j=o;if(typeof t.x5c!="string")return Vn.errors=[{instancePath:e+"/x5c",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var M=j===o}else var M=!0;if(M){if(t.x5t!==void 0){let j=o;if(typeof t.x5t!="string")return Vn.errors=[{instancePath:e+"/x5t",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var M=j===o}else var M=!0;if(M)if(t["x5t#S256"]!==void 0){let j=o;if(typeof t["x5t#S256"]!="string")return Vn.errors=[{instancePath:e+"/x5t#S256",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var M=j===o}else var M=!0}}}}}}}}}else return Vn.errors=[{instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var I=a===o;if(I){let L=o,j=o,k=o,P=!1,p=o,d=o,h=!1,b=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let v;if(t.d===void 0&&(v="d")){let w={};s===null?s=[w]:s.push(w),o++}}var R=b===o;if(h=h||R,h)o=d,s!==null&&(d?s.length=d:s=null);else{let v={};s===null?s=[v]:s.push(v),o++}if(o===p)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.kty!==void 0&&t.kty!=="EC"){let v={};s===null?s=[v]:s.push(v),o++}}else{let v={};s===null?s=[v]:s.push(v),o++}var O=p===o;if(P=P||O,!P){let v=o,w=o,_=!1,D=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let A;if(t.d===void 0&&(A="d")){let N={};s===null?s=[N]:s.push(N),o++}}var B=D===o;if(_=_||B,_)o=w,s!==null&&(w?s.length=w:s=null);else{let A={};s===null?s=[A]:s.push(A),o++}if(o===v)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.kty!==void 0&&t.kty!=="OKP"){let A={};s===null?s=[A]:s.push(A),o++}}else{let A={};s===null?s=[A]:s.push(A),o++}var O=v===o;if(P=P||O,!P){let A=o,N=o,G=!1,Q=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let H;if(t.d===void 0&&(H="d")){let Z={};s===null?s=[Z]:s.push(Z),o++}}var C=Q===o;if(G=G||C,!G){let H=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let ie;if(t.p===void 0&&(ie="p")){let fe={};s===null?s=[fe]:s.push(fe),o++}}var C=H===o;if(G=G||C,!G){let ie=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let ue;if(t.q===void 0&&(ue="q")){let ye={};s===null?s=[ye]:s.push(ye),o++}}var C=ie===o;if(G=G||C,!G){let ue=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let $;if(t.dp===void 0&&($="dp")){let q={};s===null?s=[q]:s.push(q),o++}}var C=ue===o;if(G=G||C,!G){let $=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let z;if(t.dq===void 0&&(z="dq")){let Y={};s===null?s=[Y]:s.push(Y),o++}}var C=$===o;if(G=G||C,!G){let z=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let X;if(t.qi===void 0&&(X="qi")){let re={};s===null?s=[re]:s.push(re),o++}}var C=z===o;if(G=G||C,!G){let X=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let le;if(t.oth===void 0&&(le="oth")){let pe={};s===null?s=[pe]:s.push(pe),o++}}var C=X===o;G=G||C}}}}}}if(G)o=N,s!==null&&(N?s.length=N:s=null);else{let H={};s===null?s=[H]:s.push(H),o++}if(o===A)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.kty!==void 0){let H=o;if(t.kty!=="RSA"){let Z={};s===null?s=[Z]:s.push(Z),o++}var U=H===o}else var U=!0;if(U)if(t.oth!==void 0){let H=t.oth,Z=o;if(!(H&&typeof H=="object"&&!Array.isArray(H))){let fe={};s===null?s=[fe]:s.push(fe),o++}var U=Z===o}else var U=!0}else{let H={};s===null?s=[H]:s.push(H),o++}var O=A===o;P=P||O}}if(P)o=k,s!==null&&(k?s.length=k:s=null);else{let v={};s===null?s=[v]:s.push(v),o++}var W=j===o;if(W)return Vn.errors=[{instancePath:e,schemaPath:"#/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;o=L,s!==null&&(L?s.length=L:s=null)}return Vn.errors=s,o===0}function Wt(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0,a=o,f=!1,c=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let U;if(t.contextId===void 0&&(U="contextId")){let W={instancePath:e,schemaPath:"#/anyOf/0/required",keyword:"required",params:{missingProperty:U},message:"must have required property '"+U+"'"};s===null?s=[W]:s.push(W),o++}else if(t.descriptor!==void 0){let W=t.descriptor;if(o===o)if(W&&typeof W=="object"&&!Array.isArray(W)){let j;if(W.protocol===void 0&&(j="protocol")){let k={instancePath:e+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/required",keyword:"required",params:{missingProperty:j},message:"must have required property '"+j+"'"};s===null?s=[k]:s.push(k),o++}}else{let j={instancePath:e+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[j]:s.push(j),o++}}}var u=c===o;if(f=f||u,!f){let U=o,W=o,L=o,j=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let P;if(t.contextId===void 0&&(P="contextId")){let p={};s===null?s=[p]:s.push(p),o++}}var l=j===o;if(l){let P={instancePath:e,schemaPath:"#/anyOf/1/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};s===null?s=[P]:s.push(P),o++}else o=L,s!==null&&(L?s.length=L:s=null);var y=W===o;if(y){let P=o;if(t&&typeof t=="object"&&!Array.isArray(t)&&t.descriptor!==void 0){let d=t.descriptor;if(!(d&&typeof d=="object"&&!Array.isArray(d))){let v={instancePath:e+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[v]:s.push(v),o++}let h=o,b=o;if(d&&typeof d=="object"&&!Array.isArray(d)){let v;if(d.protocol===void 0&&(v="protocol")){let w={};s===null?s=[w]:s.push(w),o++}}var m=b===o;if(m){let v={instancePath:e+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};s===null?s=[v]:s.push(v),o++}else o=h,s!==null&&(h?s.length=h:s=null)}var y=P===o}var u=U===o;f=f||u}if(f)o=a,s!==null&&(a?s.length=a:s=null);else{let U={instancePath:e,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return s===null?s=[U]:s.push(U),o++,Wt.errors=s,!1}if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let U;if(t.authorization===void 0&&(U="authorization")||t.descriptor===void 0&&(U="descriptor")||t.recordId===void 0&&(U="recordId"))return Wt.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:U},message:"must have required property '"+U+"'"}],!1;{let W=o;for(let L in t)if(!(L==="recordId"||L==="contextId"||L==="attestation"||L==="authorization"||L==="encryption"||L==="descriptor")){return Wt.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:L},message:"must NOT have additional properties"}],!1;break}if(W===o){if(t.recordId!==void 0){let L=o;if(typeof t.recordId!="string")return Wt.errors=[{instancePath:e+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var g=L===o}else var g=!0;if(g){if(t.contextId!==void 0){let L=o;if(typeof t.contextId!="string")return Wt.errors=[{instancePath:e+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var g=L===o}else var g=!0;if(g){if(t.attestation!==void 0){let L=o;or(t.attestation,{instancePath:e+"/attestation",parentData:t,parentDataProperty:"attestation",rootData:n})||(s=s===null?or.errors:s.concat(or.errors),o=s.length);var g=L===o}else var g=!0;if(g){if(t.authorization!==void 0){let L=o;or(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?or.errors:s.concat(or.errors),o=s.length);var g=L===o}else var g=!0;if(g){if(t.encryption!==void 0){let L=t.encryption,j=o;if(o===j)if(L&&typeof L=="object"&&!Array.isArray(L)){let P;if(L.algorithm===void 0&&(P="algorithm")||L.initializationVector===void 0&&(P="initializationVector")||L.keyEncryption===void 0&&(P="keyEncryption"))return Wt.errors=[{instancePath:e+"/encryption",schemaPath:"#/properties/encryption/required",keyword:"required",params:{missingProperty:P},message:"must have required property '"+P+"'"}],!1;{let p=o;for(let d in L)if(!(d==="algorithm"||d==="initializationVector"||d==="keyEncryption")){return Wt.errors=[{instancePath:e+"/encryption",schemaPath:"#/properties/encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:d},message:"must NOT have additional properties"}],!1;break}if(p===o){if(L.algorithm!==void 0){let d=L.algorithm,h=o;if(typeof d!="string")return Wt.errors=[{instancePath:e+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(d!=="A256CTR")return Wt.errors=[{instancePath:e+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/enum",keyword:"enum",params:{allowedValues:cp.properties.encryption.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;var E=h===o}else var E=!0;if(E){if(L.initializationVector!==void 0){let d=L.initializationVector,h=o;if(o===o)if(typeof d=="string"){if(!Gy.test(d))return Wt.errors=[{instancePath:e+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return Wt.errors=[{instancePath:e+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var E=h===o}else var E=!0;if(E)if(L.keyEncryption!==void 0){let d=L.keyEncryption,h=o;if(o===h)if(Array.isArray(d)){if(d.length<1)return Wt.errors=[{instancePath:e+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var x=!0;let v=d.length;for(let w=0;w<v;w++){let _=d[w],D=o;if(o===D)if(_&&typeof _=="object"&&!Array.isArray(_)){let A;if(_.derivationScheme===void 0&&(A="derivationScheme")||_.algorithm===void 0&&(A="algorithm")||_.encryptedKey===void 0&&(A="encryptedKey")||_.initializationVector===void 0&&(A="initializationVector")||_.ephemeralPublicKey===void 0&&(A="ephemeralPublicKey")||_.messageAuthenticationCode===void 0&&(A="messageAuthenticationCode"))return Wt.errors=[{instancePath:e+"/encryption/keyEncryption/"+w,schemaPath:"#/properties/encryption/properties/keyEncryption/items/required",keyword:"required",params:{missingProperty:A},message:"must have required property '"+A+"'"}],!1;{let N=o;for(let G in _)if(!(G==="derivationScheme"||G==="algorithm"||G==="encryptedKey"||G==="initializationVector"||G==="ephemeralPublicKey"||G==="messageAuthenticationCode")){return Wt.errors=[{instancePath:e+"/encryption/keyEncryption/"+w,schemaPath:"#/properties/encryption/properties/keyEncryption/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:G},message:"must NOT have additional properties"}],!1;break}if(N===o){if(_.derivationScheme!==void 0){let G=_.derivationScheme,Q=o;if(typeof G!="string")return Wt.errors=[{instancePath:e+"/encryption/keyEncryption/"+w+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(G!=="protocol-context")return Wt.errors=[{instancePath:e+"/encryption/keyEncryption/"+w+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/enum",keyword:"enum",params:{allowedValues:cp.properties.encryption.properties.keyEncryption.items.properties.derivationScheme.enum},message:"must be equal to one of the allowed values"}],!1;var T=Q===o}else var T=!0;if(T){if(_.algorithm!==void 0){let G=_.algorithm,Q=o;if(typeof G!="string")return Wt.errors=[{instancePath:e+"/encryption/keyEncryption/"+w+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(G!=="ECIES-ES256K")return Wt.errors=[{instancePath:e+"/encryption/keyEncryption/"+w+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/enum",keyword:"enum",params:{allowedValues:cp.properties.encryption.properties.keyEncryption.items.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;var T=Q===o}else var T=!0;if(T){if(_.encryptedKey!==void 0){let G=_.encryptedKey,Q=o;if(o===o)if(typeof G=="string"){if(!Gy.test(G))return Wt.errors=[{instancePath:e+"/encryption/keyEncryption/"+w+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return Wt.errors=[{instancePath:e+"/encryption/keyEncryption/"+w+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var T=Q===o}else var T=!0;if(T){if(_.initializationVector!==void 0){let G=_.initializationVector,Q=o;if(o===o)if(typeof G=="string"){if(!Gy.test(G))return Wt.errors=[{instancePath:e+"/encryption/keyEncryption/"+w+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return Wt.errors=[{instancePath:e+"/encryption/keyEncryption/"+w+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var T=Q===o}else var T=!0;if(T){if(_.ephemeralPublicKey!==void 0){let G=o;Vn(_.ephemeralPublicKey,{instancePath:e+"/encryption/keyEncryption/"+w+"/ephemeralPublicKey",parentData:_,parentDataProperty:"ephemeralPublicKey",rootData:n})||(s=s===null?Vn.errors:s.concat(Vn.errors),o=s.length);var T=G===o}else var T=!0;if(T)if(_.messageAuthenticationCode!==void 0){let G=_.messageAuthenticationCode,Q=o;if(o===o)if(typeof G=="string"){if(!Gy.test(G))return Wt.errors=[{instancePath:e+"/encryption/keyEncryption/"+w+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return Wt.errors=[{instancePath:e+"/encryption/keyEncryption/"+w+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var T=Q===o}else var T=!0}}}}}}}else return Wt.errors=[{instancePath:e+"/encryption/keyEncryption/"+w,schemaPath:"#/properties/encryption/properties/keyEncryption/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var x=D===o;if(!x)break}}}else return Wt.errors=[{instancePath:e+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var E=h===o}else var E=!0}}}}else return Wt.errors=[{instancePath:e+"/encryption",schemaPath:"#/properties/encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var g=j===o}else var g=!0;if(g)if(t.descriptor!==void 0){let L=t.descriptor,j=o,k=o,P=!1,p=o;if(L&&typeof L=="object"&&!Array.isArray(L)){let h;if(L.published===void 0&&(h="published")||L.datePublished===void 0&&(h="datePublished")){let b={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/required",keyword:"required",params:{missingProperty:h},message:"must have required property '"+h+"'"};s===null?s=[b]:s.push(b),o++}else if(L.published!==void 0){let b=L.published;if(typeof b!="boolean"){let v={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};s===null?s=[v]:s.push(v),o++}if(b!==!0){let v={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:cp.properties.descriptor.allOf[0].anyOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};s===null?s=[v]:s.push(v),o++}}}var M=p===o;if(P=P||M,!P){let h=o,b=o,v=o;if(L&&typeof L=="object"&&!Array.isArray(L)){let _;if(L.datePublished===void 0&&(_="datePublished")){let D={};s===null?s=[D]:s.push(D),o++}}var I=v===o;if(I){let _={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};s===null?s=[_]:s.push(_),o++}else o=b,s!==null&&(b?s.length=b:s=null);if(o===h&&L&&typeof L=="object"&&!Array.isArray(L)&&L.published!==void 0){let _=L.published;if(typeof _!="boolean"){let D={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};s===null?s=[D]:s.push(D),o++}if(_!==!1){let D={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/enum",keyword:"enum",params:{allowedValues:cp.properties.descriptor.allOf[0].anyOf[1].properties.published.enum},message:"must be equal to one of the allowed values"};s===null?s=[D]:s.push(D),o++}}var M=h===o;if(P=P||M,!P){let _=o,D=o,S=o,A=o;if(L&&typeof L=="object"&&!Array.isArray(L)){let G;if(L.published===void 0&&(G="published")){let Q={};s===null?s=[Q]:s.push(Q),o++}}var R=A===o;if(R){let G={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};s===null?s=[G]:s.push(G),o++}else o=S,s!==null&&(S?s.length=S:s=null);var O=D===o;if(O){let G=o,Q=o,ne=o;if(L&&typeof L=="object"&&!Array.isArray(L)){let Z;if(L.datePublished===void 0&&(Z="datePublished")){let ie={};s===null?s=[ie]:s.push(ie),o++}}var B=ne===o;if(B){let Z={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};s===null?s=[Z]:s.push(Z),o++}else o=Q,s!==null&&(Q?s.length=Q:s=null);var O=G===o}var M=_===o;P=P||M}}if(P)o=k,s!==null&&(k?s.length=k:s=null);else{let h={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return s===null?s=[h]:s.push(h),o++,Wt.errors=s,!1}if(o===j)if(L&&typeof L=="object"&&!Array.isArray(L)){let h;if(L.interface===void 0&&(h="interface")||L.method===void 0&&(h="method")||L.dataCid===void 0&&(h="dataCid")||L.dataSize===void 0&&(h="dataSize")||L.dateCreated===void 0&&(h="dateCreated")||L.dateModified===void 0&&(h="dateModified")||L.dataFormat===void 0&&(h="dataFormat"))return Wt.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:h},message:"must have required property '"+h+"'"}],!1;{let b=o;for(let v in L)if(!L7.call(cp.properties.descriptor.properties,v)){return Wt.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:v},message:"must NOT have additional properties"}],!1;break}if(b===o){if(L.interface!==void 0){let v=L.interface,w=o;if(typeof v!="string")return Wt.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(v!=="Records")return Wt.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:cp.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var C=w===o}else var C=!0;if(C){if(L.method!==void 0){let v=L.method,w=o;if(typeof v!="string")return Wt.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(v!=="Write")return Wt.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:cp.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var C=w===o}else var C=!0;if(C){if(L.recipient!==void 0){let v=L.recipient,w=o;if(o===o)if(typeof v=="string"){if(!Ed.test(v))return Wt.errors=[{instancePath:e+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Wt.errors=[{instancePath:e+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=w===o}else var C=!0;if(C){if(L.protocol!==void 0){let v=o;if(typeof L.protocol!="string")return Wt.errors=[{instancePath:e+"/descriptor/protocol",schemaPath:"#/properties/descriptor/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=v===o}else var C=!0;if(C){if(L.schema!==void 0){let v=o;if(typeof L.schema!="string")return Wt.errors=[{instancePath:e+"/descriptor/schema",schemaPath:"#/properties/descriptor/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=v===o}else var C=!0;if(C){if(L.parentId!==void 0){let v=o;if(typeof L.parentId!="string")return Wt.errors=[{instancePath:e+"/descriptor/parentId",schemaPath:"#/properties/descriptor/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=v===o}else var C=!0;if(C){if(L.dataCid!==void 0){let v=o;if(typeof L.dataCid!="string")return Wt.errors=[{instancePath:e+"/descriptor/dataCid",schemaPath:"#/properties/descriptor/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=v===o}else var C=!0;if(C){if(L.dataSize!==void 0){let v=L.dataSize,w=o;if(!(typeof v=="number"&&isFinite(v)))return Wt.errors=[{instancePath:e+"/descriptor/dataSize",schemaPath:"#/properties/descriptor/properties/dataSize/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var C=w===o}else var C=!0;if(C){if(L.dateCreated!==void 0){let v=o;if(typeof L.dateCreated!="string")return Wt.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"#/properties/descriptor/properties/dateCreated/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=v===o}else var C=!0;if(C){if(L.dateModified!==void 0){let v=o;if(typeof L.dateModified!="string")return Wt.errors=[{instancePath:e+"/descriptor/dateModified",schemaPath:"#/properties/descriptor/properties/dateModified/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=v===o}else var C=!0;if(C){if(L.published!==void 0){let v=o;if(typeof L.published!="boolean")return Wt.errors=[{instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var C=v===o}else var C=!0;if(C){if(L.datePublished!==void 0){let v=o;if(typeof L.datePublished!="string")return Wt.errors=[{instancePath:e+"/descriptor/datePublished",schemaPath:"#/properties/descriptor/properties/datePublished/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=v===o}else var C=!0;if(C)if(L.dataFormat!==void 0){let v=o;if(typeof L.dataFormat!="string")return Wt.errors=[{instancePath:e+"/descriptor/dataFormat",schemaPath:"#/properties/descriptor/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=v===o}else var C=!0}}}}}}}}}}}}}}else return Wt.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var g=j===o}else var g=!0}}}}}}}else return Wt.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Wt.errors=s,o===0}var bOe=bf,qse={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/events-get.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method"],properties:{interface:{enum:["Events"],type:"string"},method:{enum:["Get"],type:"string"},watermark:{type:"string"}}}}};function bf(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let c;if(t.authorization===void 0&&(c="authorization")||t.descriptor===void 0&&(c="descriptor"))return bf.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:c},message:"must have required property '"+c+"'"}],!1;{let u=o;for(let l in t)if(!(l==="authorization"||l==="descriptor")){return bf.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"}],!1;break}if(u===o){if(t.authorization!==void 0){let l=o;or(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?or.errors:s.concat(or.errors),o=s.length);var a=l===o}else var a=!0;if(a)if(t.descriptor!==void 0){let l=t.descriptor,y=o;if(o===y)if(l&&typeof l=="object"&&!Array.isArray(l)){let g;if(l.interface===void 0&&(g="interface")||l.method===void 0&&(g="method"))return bf.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:g},message:"must have required property '"+g+"'"}],!1;{let E=o;for(let x in l)if(!(x==="interface"||x==="method"||x==="watermark")){return bf.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;break}if(E===o){if(l.interface!==void 0){let x=l.interface,T=o;if(typeof x!="string")return bf.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(x!=="Events")return bf.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:qse.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var f=T===o}else var f=!0;if(f){if(l.method!==void 0){let x=l.method,T=o;if(typeof x!="string")return bf.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(x!=="Get")return bf.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:qse.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var f=T===o}else var f=!0;if(f)if(l.watermark!==void 0){let x=o;if(typeof l.watermark!="string")return bf.errors=[{instancePath:e+"/descriptor/watermark",schemaPath:"#/properties/descriptor/properties/watermark/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=x===o}else var f=!0}}}}else return bf.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=y===o}else var a=!0}}}else return bf.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return bf.errors=s,o===0}var vOe=uC;function uC(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;return t&&typeof t=="object"&&!Array.isArray(t)?(uC.errors=s,o===0):(uC.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}var wOe=ha;function ha(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0,a=o,f=!1,c=null,u=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let M;if(t.crv===void 0&&(M="crv")||t.x===void 0&&(M="x")){let I={instancePath:e,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:M},message:"must have required property '"+M+"'"};s===null?s=[I]:s.push(I),o++}else{if(t.kty!==void 0){let I=o;if(t.kty!=="EC"){let R={instancePath:e+"/kty",schemaPath:"#/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};s===null?s=[R]:s.push(R),o++}var l=I===o}else var l=!0;if(l){if(t.crv!==void 0){let I=o;if(typeof t.crv!="string"){let O={instancePath:e+"/crv",schemaPath:"#/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[O]:s.push(O),o++}var l=I===o}else var l=!0;if(l){if(t.x!==void 0){let I=o;if(typeof t.x!="string"){let O={instancePath:e+"/x",schemaPath:"#/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[O]:s.push(O),o++}var l=I===o}else var l=!0;if(l){if(t.y!==void 0){let I=o;if(typeof t.y!="string"){let O={instancePath:e+"/y",schemaPath:"#/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[O]:s.push(O),o++}var l=I===o}else var l=!0;if(l)if(t.d!==void 0){let I=o;if(typeof t.d!="string"){let O={instancePath:e+"/d",schemaPath:"#/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[O]:s.push(O),o++}var l=I===o}else var l=!0}}}}}var g=u===o;g&&(f=!0,c=0);let y=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let M;if(t.crv===void 0&&(M="crv")||t.x===void 0&&(M="x")){let I={instancePath:e,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:M},message:"must have required property '"+M+"'"};s===null?s=[I]:s.push(I),o++}else{if(t.kty!==void 0){let I=o;if(t.kty!=="OKP"){let R={instancePath:e+"/kty",schemaPath:"#/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};s===null?s=[R]:s.push(R),o++}var m=I===o}else var m=!0;if(m){if(t.crv!==void 0){let I=o;if(typeof t.crv!="string"){let O={instancePath:e+"/crv",schemaPath:"#/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[O]:s.push(O),o++}var m=I===o}else var m=!0;if(m){if(t.x!==void 0){let I=o;if(typeof t.x!="string"){let O={instancePath:e+"/x",schemaPath:"#/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[O]:s.push(O),o++}var m=I===o}else var m=!0;if(m)if(t.d!==void 0){let I=o;if(typeof t.d!="string"){let O={instancePath:e+"/d",schemaPath:"#/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[O]:s.push(O),o++}var m=I===o}else var m=!0}}}}var g=y===o;if(g&&f)f=!1,c=[c,1];else{g&&(f=!0,c=1);let M=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let R;if(t.n===void 0&&(R="n")||t.e===void 0&&(R="e")){let O={instancePath:e,schemaPath:"#/oneOf/2/required",keyword:"required",params:{missingProperty:R},message:"must have required property '"+R+"'"};s===null?s=[O]:s.push(O),o++}else{if(t.kty!==void 0){let O=o;if(t.kty!=="RSA"){let B={instancePath:e+"/kty",schemaPath:"#/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};s===null?s=[B]:s.push(B),o++}var E=O===o}else var E=!0;if(E){if(t.n!==void 0){let O=o;if(typeof t.n!="string"){let C={instancePath:e+"/n",schemaPath:"#/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[C]:s.push(C),o++}var E=O===o}else var E=!0;if(E){if(t.e!==void 0){let O=o;if(typeof t.e!="string"){let C={instancePath:e+"/e",schemaPath:"#/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[C]:s.push(C),o++}var E=O===o}else var E=!0;if(E){if(t.d!==void 0){let O=o;if(typeof t.d!="string"){let C={instancePath:e+"/d",schemaPath:"#/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[C]:s.push(C),o++}var E=O===o}else var E=!0;if(E){if(t.p!==void 0){let O=o;if(typeof t.p!="string"){let C={instancePath:e+"/p",schemaPath:"#/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[C]:s.push(C),o++}var E=O===o}else var E=!0;if(E){if(t.q!==void 0){let O=o;if(typeof t.q!="string"){let C={instancePath:e+"/q",schemaPath:"#/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[C]:s.push(C),o++}var E=O===o}else var E=!0;if(E){if(t.dp!==void 0){let O=o;if(typeof t.dp!="string"){let C={instancePath:e+"/dp",schemaPath:"#/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[C]:s.push(C),o++}var E=O===o}else var E=!0;if(E){if(t.dq!==void 0){let O=o;if(typeof t.dq!="string"){let C={instancePath:e+"/dq",schemaPath:"#/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[C]:s.push(C),o++}var E=O===o}else var E=!0;if(E){if(t.qi!==void 0){let O=o;if(typeof t.qi!="string"){let C={instancePath:e+"/qi",schemaPath:"#/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[C]:s.push(C),o++}var E=O===o}else var E=!0;if(E)if(t.oth!==void 0){let O=t.oth,B=o;if(!(O&&typeof O=="object"&&!Array.isArray(O))){let U={instancePath:e+"/oth",schemaPath:"#/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[U]:s.push(U),o++}var E=B===o}else var E=!0}}}}}}}}}}var g=M===o;if(g&&f)f=!1,c=[c,2];else{g&&(f=!0,c=2);let R=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let B;if(t.k===void 0&&(B="k")){let C={instancePath:e,schemaPath:"#/oneOf/3/required",keyword:"required",params:{missingProperty:B},message:"must have required property '"+B+"'"};s===null?s=[C]:s.push(C),o++}else{if(t.kty!==void 0){let C=o;if(t.kty!=="oct"){let U={instancePath:e+"/kty",schemaPath:"#/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};s===null?s=[U]:s.push(U),o++}var x=C===o}else var x=!0;if(x)if(t.k!==void 0){let C=o;if(typeof t.k!="string"){let W={instancePath:e+"/k",schemaPath:"#/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[W]:s.push(W),o++}var x=C===o}else var x=!0}}var g=R===o;g&&f?(f=!1,c=[c,3]):g&&(f=!0,c=3)}}if(f)o=a,s!==null&&(a?s.length=a:s=null);else{let M={instancePath:e,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:c},message:"must match exactly one schema in oneOf"};return s===null?s=[M]:s.push(M),o++,ha.errors=s,!1}if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let M;if(t.kty===void 0&&(M="kty"))return ha.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:M},message:"must have required property '"+M+"'"}],!1;if(t.alg!==void 0){let I=o;if(typeof t.alg!="string")return ha.errors=[{instancePath:e+"/alg",schemaPath:"#/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var T=I===o}else var T=!0;if(T){if(t.kid!==void 0){let I=o;if(typeof t.kid!="string")return ha.errors=[{instancePath:e+"/kid",schemaPath:"#/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var T=I===o}else var T=!0;if(T){if(t.kty!==void 0){let I=t.kty,R=o;if(!(I==="EC"||I==="RSA"||I==="oct"||I==="OKP"))return ha.errors=[{instancePath:e+"/kty",schemaPath:"#/properties/kty/enum",keyword:"enum",params:{allowedValues:Kse.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;var T=R===o}else var T=!0;if(T){if(t.crv!==void 0){let I=o;if(typeof t.crv!="string")return ha.errors=[{instancePath:e+"/crv",schemaPath:"#/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var T=I===o}else var T=!0;if(T){if(t.use!==void 0){let I=o;if(typeof t.use!="string")return ha.errors=[{instancePath:e+"/use",schemaPath:"#/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var T=I===o}else var T=!0;if(T){if(t.key_ops!==void 0){let I=o;if(typeof t.key_ops!="string")return ha.errors=[{instancePath:e+"/key_ops",schemaPath:"#/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var T=I===o}else var T=!0;if(T){if(t.x5u!==void 0){let I=o;if(typeof t.x5u!="string")return ha.errors=[{instancePath:e+"/x5u",schemaPath:"#/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var T=I===o}else var T=!0;if(T){if(t.x5c!==void 0){let I=o;if(typeof t.x5c!="string")return ha.errors=[{instancePath:e+"/x5c",schemaPath:"#/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var T=I===o}else var T=!0;if(T){if(t.x5t!==void 0){let I=o;if(typeof t.x5t!="string")return ha.errors=[{instancePath:e+"/x5t",schemaPath:"#/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var T=I===o}else var T=!0;if(T)if(t["x5t#S256"]!==void 0){let I=o;if(typeof t["x5t#S256"]!="string")return ha.errors=[{instancePath:e+"/x5t#S256",schemaPath:"#/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var T=I===o}else var T=!0}}}}}}}}}else return ha.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return ha.errors=s,o===0}var _Oe=or,EOe=Qo,zse={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/hooks-write.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","dateCreated","uri","filter"],properties:{interface:{enum:["Hooks"],type:"string"},method:{enum:["Write"],type:"string"},dateCreated:{type:"string"},schema:{type:"string"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{method:{type:"string"}}}}}}};function Qo(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let c;if(t.authorization===void 0&&(c="authorization")||t.descriptor===void 0&&(c="descriptor"))return Qo.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:c},message:"must have required property '"+c+"'"}],!1;{let u=o;for(let l in t)if(!(l==="authorization"||l==="descriptor")){return Qo.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"}],!1;break}if(u===o){if(t.authorization!==void 0){let l=o;or(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?or.errors:s.concat(or.errors),o=s.length);var a=l===o}else var a=!0;if(a)if(t.descriptor!==void 0){let l=t.descriptor,y=o;if(o===y)if(l&&typeof l=="object"&&!Array.isArray(l)){let g;if(l.interface===void 0&&(g="interface")||l.method===void 0&&(g="method")||l.dateCreated===void 0&&(g="dateCreated")||l.uri===void 0&&(g="uri")||l.filter===void 0&&(g="filter"))return Qo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:g},message:"must have required property '"+g+"'"}],!1;{let E=o;for(let x in l)if(!(x==="interface"||x==="method"||x==="dateCreated"||x==="schema"||x==="filter")){return Qo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;break}if(E===o){if(l.interface!==void 0){let x=l.interface,T=o;if(typeof x!="string")return Qo.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(x!=="Hooks")return Qo.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:zse.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var f=T===o}else var f=!0;if(f){if(l.method!==void 0){let x=l.method,T=o;if(typeof x!="string")return Qo.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(x!=="Write")return Qo.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:zse.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var f=T===o}else var f=!0;if(f){if(l.dateCreated!==void 0){let x=o;if(typeof l.dateCreated!="string")return Qo.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"#/properties/descriptor/properties/dateCreated/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=x===o}else var f=!0;if(f){if(l.schema!==void 0){let x=o;if(typeof l.schema!="string")return Qo.errors=[{instancePath:e+"/descriptor/schema",schemaPath:"#/properties/descriptor/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=x===o}else var f=!0;if(f)if(l.filter!==void 0){let x=l.filter,T=o;if(o===T)if(x&&typeof x=="object"&&!Array.isArray(x)){if(Object.keys(x).length<1)return Qo.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let I=o;for(let R in x)if(R!=="method"){return Qo.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:R},message:"must NOT have additional properties"}],!1;break}if(I===o&&x.method!==void 0&&typeof x.method!="string")return Qo.errors=[{instancePath:e+"/descriptor/filter/method",schemaPath:"#/properties/descriptor/properties/filter/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1}}else return Qo.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=T===o}else var f=!0}}}}}}else return Qo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=y===o}else var a=!0}}}else return Qo.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Qo.errors=s,o===0}var SOe=_d;function _d(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let f;if(t.id===void 0&&(f="id")||t.type===void 0&&(f="type")||t.controller===void 0&&(f="controller")||t.publicKeyJwk===void 0&&(f="publicKeyJwk"))return _d.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:f},message:"must have required property '"+f+"'"}],!1;{let c=o;for(let u in t)if(!(u==="id"||u==="type"||u==="controller"||u==="publicKeyJwk")){return _d.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:u},message:"must NOT have additional properties"}],!1;break}if(c===o){if(t.id!==void 0){let u=o;if(typeof t.id!="string")return _d.errors=[{instancePath:e+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=u===o}else var a=!0;if(a){if(t.type!==void 0){let u=o;if(t.type!=="JsonWebKey2020")return _d.errors=[{instancePath:e+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue:"JsonWebKey2020"},message:"must be equal to constant"}],!1;var a=u===o}else var a=!0;if(a){if(t.controller!==void 0){let u=t.controller,l=o;if(o===o)if(typeof u=="string"){if(!Ed.test(u))return _d.errors=[{instancePath:e+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return _d.errors=[{instancePath:e+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=l===o}else var a=!0;if(a)if(t.publicKeyJwk!==void 0){let u=o;Vn(t.publicKeyJwk,{instancePath:e+"/publicKeyJwk",parentData:t,parentDataProperty:"publicKeyJwk",rootData:n})||(s=s===null?Vn.errors:s.concat(Vn.errors),o=s.length);var a=u===o}else var a=!0}}}}}else return _d.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return _d.errors=s,o===0}var xOe=pa,Fse={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/messages-get.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Get"],type:"string"},messageCids:{type:"array",items:{type:"string"},minItems:1}}}}};function pa(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.authorization===void 0&&(u="authorization")||t.descriptor===void 0&&(u="descriptor"))return pa.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{let l=o;for(let y in t)if(!(y==="authorization"||y==="descriptor")){return pa.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:y},message:"must NOT have additional properties"}],!1;break}if(l===o){if(t.authorization!==void 0){let y=o;or(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?or.errors:s.concat(or.errors),o=s.length);var a=y===o}else var a=!0;if(a)if(t.descriptor!==void 0){let y=t.descriptor,m=o;if(o===m)if(y&&typeof y=="object"&&!Array.isArray(y)){let E;if(y.interface===void 0&&(E="interface")||y.method===void 0&&(E="method"))return pa.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:E},message:"must have required property '"+E+"'"}],!1;{let x=o;for(let T in y)if(!(T==="interface"||T==="method"||T==="messageCids")){return pa.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:T},message:"must NOT have additional properties"}],!1;break}if(x===o){if(y.interface!==void 0){let T=y.interface,M=o;if(typeof T!="string")return pa.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(T!=="Messages")return pa.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Fse.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var f=M===o}else var f=!0;if(f){if(y.method!==void 0){let T=y.method,M=o;if(typeof T!="string")return pa.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(T!=="Get")return pa.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Fse.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var f=M===o}else var f=!0;if(f)if(y.messageCids!==void 0){let T=y.messageCids,M=o;if(o===M)if(Array.isArray(T)){if(T.length<1)return pa.errors=[{instancePath:e+"/descriptor/messageCids",schemaPath:"#/properties/descriptor/properties/messageCids/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var c=!0;let R=T.length;for(let O=0;O<R;O++){let B=o;if(typeof T[O]!="string")return pa.errors=[{instancePath:e+"/descriptor/messageCids/"+O,schemaPath:"#/properties/descriptor/properties/messageCids/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=B===o;if(!c)break}}}else return pa.errors=[{instancePath:e+"/descriptor/messageCids",schemaPath:"#/properties/descriptor/properties/messageCids/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var f=M===o}else var f=!0}}}}else return pa.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=m===o}else var a=!0}}}else return pa.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return pa.errors=s,o===0}var AOe=cC;function cC(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;return t&&typeof t=="object"&&!Array.isArray(t)?(cC.errors=s,o===0):(cC.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}var MOe=Tr,oC={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/permissions-grant.json",type:"object",required:["authorization","descriptor"],additionalProperties:!1,properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},delegationChain:{description:"the parent grant",$ref:"#"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","dateCreated"],properties:{dateCreated:{type:"string"},conditions:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions"},delegatedFrom:{description:"CID of the parent grant",type:"string"},description:{type:"string"},grantedTo:{description:"DID of the grantee",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo"},grantedBy:{description:"DID of the grantor",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy"},interface:{enum:["Permissions"],type:"string"},method:{enum:["Grant"],type:"string"},scope:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope"},objectId:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/uuid"}}}}},j7={type:"object",additionalProperties:!1,properties:{attestation:{enum:["optional","required"],type:"string"},delegation:{type:"boolean"},encryption:{enum:["optional","required"],type:"string"},publication:{type:"boolean"},sharedAccess:{type:"boolean"}}};var Hse=new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$","u");function Tr(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let l;if(t.authorization===void 0&&(l="authorization")||t.descriptor===void 0&&(l="descriptor"))return Tr.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:l},message:"must have required property '"+l+"'"}],!1;{let y=o;for(let m in t)if(!(m==="authorization"||m==="delegationChain"||m==="descriptor")){return Tr.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;break}if(y===o){if(t.authorization!==void 0){let m=o;or(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?or.errors:s.concat(or.errors),o=s.length);var a=m===o}else var a=!0;if(a){if(t.delegationChain!==void 0){let m=o;Tr(t.delegationChain,{instancePath:e+"/delegationChain",parentData:t,parentDataProperty:"delegationChain",rootData:n})||(s=s===null?Tr.errors:s.concat(Tr.errors),o=s.length);var a=m===o}else var a=!0;if(a)if(t.descriptor!==void 0){let m=t.descriptor,g=o;if(o===g)if(m&&typeof m=="object"&&!Array.isArray(m)){let x;if(m.interface===void 0&&(x="interface")||m.method===void 0&&(x="method")||m.dateCreated===void 0&&(x="dateCreated"))return Tr.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:x},message:"must have required property '"+x+"'"}],!1;{let T=o;for(let M in m)if(!L7.call(oC.properties.descriptor.properties,M)){return Tr.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:M},message:"must NOT have additional properties"}],!1;break}if(T===o){if(m.dateCreated!==void 0){let M=o;if(typeof m.dateCreated!="string")return Tr.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"#/properties/descriptor/properties/dateCreated/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=M===o}else var f=!0;if(f){if(m.conditions!==void 0){let M=m.conditions,I=o;if(o===o)if(M&&typeof M=="object"&&!Array.isArray(M)){let B=o;for(let C in M)if(!(C==="attestation"||C==="delegation"||C==="encryption"||C==="publication"||C==="sharedAccess")){return Tr.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:C},message:"must NOT have additional properties"}],!1;break}if(B===o){if(M.attestation!==void 0){let C=M.attestation,U=o;if(typeof C!="string")return Tr.errors=[{instancePath:e+"/descriptor/conditions/attestation",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/attestation/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(C==="optional"||C==="required"))return Tr.errors=[{instancePath:e+"/descriptor/conditions/attestation",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/attestation/enum",keyword:"enum",params:{allowedValues:j7.properties.attestation.enum},message:"must be equal to one of the allowed values"}],!1;var c=U===o}else var c=!0;if(c){if(M.delegation!==void 0){let C=o;if(typeof M.delegation!="boolean")return Tr.errors=[{instancePath:e+"/descriptor/conditions/delegation",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/delegation/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var c=C===o}else var c=!0;if(c){if(M.encryption!==void 0){let C=M.encryption,U=o;if(typeof C!="string")return Tr.errors=[{instancePath:e+"/descriptor/conditions/encryption",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/encryption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(C==="optional"||C==="required"))return Tr.errors=[{instancePath:e+"/descriptor/conditions/encryption",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/encryption/enum",keyword:"enum",params:{allowedValues:j7.properties.encryption.enum},message:"must be equal to one of the allowed values"}],!1;var c=U===o}else var c=!0;if(c){if(M.publication!==void 0){let C=o;if(typeof M.publication!="boolean")return Tr.errors=[{instancePath:e+"/descriptor/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/publication/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var c=C===o}else var c=!0;if(c)if(M.sharedAccess!==void 0){let C=o;if(typeof M.sharedAccess!="boolean")return Tr.errors=[{instancePath:e+"/descriptor/conditions/sharedAccess",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/sharedAccess/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var c=C===o}else var c=!0}}}}}else return Tr.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=I===o}else var f=!0;if(f){if(m.delegatedFrom!==void 0){let M=o;if(typeof m.delegatedFrom!="string")return Tr.errors=[{instancePath:e+"/descriptor/delegatedFrom",schemaPath:"#/properties/descriptor/properties/delegatedFrom/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=M===o}else var f=!0;if(f){if(m.description!==void 0){let M=o;if(typeof m.description!="string")return Tr.errors=[{instancePath:e+"/descriptor/description",schemaPath:"#/properties/descriptor/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=M===o}else var f=!0;if(f){if(m.grantedTo!==void 0){let M=m.grantedTo,I=o;if(o===o)if(typeof M=="string"){if(!Ed.test(M))return Tr.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Tr.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=I===o}else var f=!0;if(f){if(m.grantedBy!==void 0){let M=m.grantedBy,I=o;if(o===o)if(typeof M=="string"){if(!Ed.test(M))return Tr.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Tr.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=I===o}else var f=!0;if(f){if(m.interface!==void 0){let M=m.interface,I=o;if(typeof M!="string")return Tr.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(M!=="Permissions")return Tr.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:oC.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var f=I===o}else var f=!0;if(f){if(m.method!==void 0){let M=m.method,I=o;if(typeof M!="string")return Tr.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(M!=="Grant")return Tr.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:oC.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var f=I===o}else var f=!0;if(f){if(m.scope!==void 0){let M=m.scope,I=o;if(o===o)if(M&&typeof M=="object"&&!Array.isArray(M)){let B=o;for(let C in M)if(!(C==="method"||C==="objectId"||C==="schema")){return Tr.errors=[{instancePath:e+"/descriptor/scope",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:C},message:"must NOT have additional properties"}],!1;break}if(B===o){if(M.method!==void 0){let C=o;if(typeof M.method!="string")return Tr.errors=[{instancePath:e+"/descriptor/scope/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=C===o}else var u=!0;if(u){if(M.objectId!==void 0){let C=o;if(typeof M.objectId!="string")return Tr.errors=[{instancePath:e+"/descriptor/scope/objectId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/properties/objectId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=C===o}else var u=!0;if(u)if(M.schema!==void 0){let C=o;if(typeof M.schema!="string")return Tr.errors=[{instancePath:e+"/descriptor/scope/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=C===o}else var u=!0}}}else return Tr.errors=[{instancePath:e+"/descriptor/scope",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=I===o}else var f=!0;if(f)if(m.objectId!==void 0){let M=m.objectId,I=o;if(o===o)if(typeof M=="string"){if(!Hse.test(M))return Tr.errors=[{instancePath:e+"/descriptor/objectId",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/uuid/pattern",keyword:"pattern",params:{pattern:"^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$"},message:'must match pattern "^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$"'}],!1}else return Tr.errors=[{instancePath:e+"/descriptor/objectId",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/uuid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=I===o}else var f=!0}}}}}}}}}}}else return Tr.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=g===o}else var a=!0}}}}else return Tr.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Tr.errors=s,o===0}var kOe=ri,sC={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/permissions-request.json",additionalProperties:!1,type:"object",required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","dateCreated"],properties:{dateCreated:{type:"string"},conditions:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions"},description:{type:"string"},grantedTo:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo"},grantedBy:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy"},interface:{enum:["Permissions"],type:"string"},method:{enum:["Request"],type:"string"},scope:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope"},objectId:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/uuid"}}}}};function ri(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let l;if(t.authorization===void 0&&(l="authorization")||t.descriptor===void 0&&(l="descriptor"))return ri.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:l},message:"must have required property '"+l+"'"}],!1;{let y=o;for(let m in t)if(!(m==="authorization"||m==="descriptor")){return ri.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;break}if(y===o){if(t.authorization!==void 0){let m=o;or(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?or.errors:s.concat(or.errors),o=s.length);var a=m===o}else var a=!0;if(a)if(t.descriptor!==void 0){let m=t.descriptor,g=o;if(o===g)if(m&&typeof m=="object"&&!Array.isArray(m)){let x;if(m.interface===void 0&&(x="interface")||m.method===void 0&&(x="method")||m.dateCreated===void 0&&(x="dateCreated"))return ri.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:x},message:"must have required property '"+x+"'"}],!1;{let T=o;for(let M in m)if(!L7.call(sC.properties.descriptor.properties,M)){return ri.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:M},message:"must NOT have additional properties"}],!1;break}if(T===o){if(m.dateCreated!==void 0){let M=o;if(typeof m.dateCreated!="string")return ri.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"#/properties/descriptor/properties/dateCreated/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=M===o}else var f=!0;if(f){if(m.conditions!==void 0){let M=m.conditions,I=o;if(o===o)if(M&&typeof M=="object"&&!Array.isArray(M)){let B=o;for(let C in M)if(!(C==="attestation"||C==="delegation"||C==="encryption"||C==="publication"||C==="sharedAccess")){return ri.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:C},message:"must NOT have additional properties"}],!1;break}if(B===o){if(M.attestation!==void 0){let C=M.attestation,U=o;if(typeof C!="string")return ri.errors=[{instancePath:e+"/descriptor/conditions/attestation",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/attestation/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(C==="optional"||C==="required"))return ri.errors=[{instancePath:e+"/descriptor/conditions/attestation",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/attestation/enum",keyword:"enum",params:{allowedValues:j7.properties.attestation.enum},message:"must be equal to one of the allowed values"}],!1;var c=U===o}else var c=!0;if(c){if(M.delegation!==void 0){let C=o;if(typeof M.delegation!="boolean")return ri.errors=[{instancePath:e+"/descriptor/conditions/delegation",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/delegation/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var c=C===o}else var c=!0;if(c){if(M.encryption!==void 0){let C=M.encryption,U=o;if(typeof C!="string")return ri.errors=[{instancePath:e+"/descriptor/conditions/encryption",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/encryption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(C==="optional"||C==="required"))return ri.errors=[{instancePath:e+"/descriptor/conditions/encryption",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/encryption/enum",keyword:"enum",params:{allowedValues:j7.properties.encryption.enum},message:"must be equal to one of the allowed values"}],!1;var c=U===o}else var c=!0;if(c){if(M.publication!==void 0){let C=o;if(typeof M.publication!="boolean")return ri.errors=[{instancePath:e+"/descriptor/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/publication/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var c=C===o}else var c=!0;if(c)if(M.sharedAccess!==void 0){let C=o;if(typeof M.sharedAccess!="boolean")return ri.errors=[{instancePath:e+"/descriptor/conditions/sharedAccess",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/sharedAccess/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var c=C===o}else var c=!0}}}}}else return ri.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=I===o}else var f=!0;if(f){if(m.description!==void 0){let M=o;if(typeof m.description!="string")return ri.errors=[{instancePath:e+"/descriptor/description",schemaPath:"#/properties/descriptor/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=M===o}else var f=!0;if(f){if(m.grantedTo!==void 0){let M=m.grantedTo,I=o;if(o===o)if(typeof M=="string"){if(!Ed.test(M))return ri.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return ri.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=I===o}else var f=!0;if(f){if(m.grantedBy!==void 0){let M=m.grantedBy,I=o;if(o===o)if(typeof M=="string"){if(!Ed.test(M))return ri.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return ri.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=I===o}else var f=!0;if(f){if(m.interface!==void 0){let M=m.interface,I=o;if(typeof M!="string")return ri.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(M!=="Permissions")return ri.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:sC.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var f=I===o}else var f=!0;if(f){if(m.method!==void 0){let M=m.method,I=o;if(typeof M!="string")return ri.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(M!=="Request")return ri.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:sC.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var f=I===o}else var f=!0;if(f){if(m.scope!==void 0){let M=m.scope,I=o;if(o===o)if(M&&typeof M=="object"&&!Array.isArray(M)){let B=o;for(let C in M)if(!(C==="method"||C==="objectId"||C==="schema")){return ri.errors=[{instancePath:e+"/descriptor/scope",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:C},message:"must NOT have additional properties"}],!1;break}if(B===o){if(M.method!==void 0){let C=o;if(typeof M.method!="string")return ri.errors=[{instancePath:e+"/descriptor/scope/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=C===o}else var u=!0;if(u){if(M.objectId!==void 0){let C=o;if(typeof M.objectId!="string")return ri.errors=[{instancePath:e+"/descriptor/scope/objectId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/properties/objectId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=C===o}else var u=!0;if(u)if(M.schema!==void 0){let C=o;if(typeof M.schema!="string")return ri.errors=[{instancePath:e+"/descriptor/scope/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=C===o}else var u=!0}}}else return ri.errors=[{instancePath:e+"/descriptor/scope",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=I===o}else var f=!0;if(f)if(m.objectId!==void 0){let M=m.objectId,I=o;if(o===o)if(typeof M=="string"){if(!Hse.test(M))return ri.errors=[{instancePath:e+"/descriptor/objectId",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/uuid/pattern",keyword:"pattern",params:{pattern:"^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$"},message:'must match pattern "^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$"'}],!1}else return ri.errors=[{instancePath:e+"/descriptor/objectId",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/uuid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=I===o}else var f=!0}}}}}}}}}}else return ri.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=g===o}else var a=!0}}}else return ri.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return ri.errors=s,o===0}var TOe=vf;var lC=new RegExp(".*","u"),aC={$id:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json",$schema:"http://json-schema.org/draft-07/schema#",type:"object",additionalProperties:!1,properties:{allow:{type:"object",minProperties:1,additionalProperties:!1,properties:{anyone:{type:"object",additionalProperties:!1,properties:{to:{type:"array",minItems:1,items:{type:"string",enum:["read","write"]}}},required:["to"]},author:{type:"object",additionalProperties:!1,properties:{of:{type:"string"},to:{type:"array",minItems:1,items:{type:"string",enum:["read","write"]}}},required:["of","to"]},recipient:{type:"object",additionalProperties:!1,properties:{of:{type:"string"},to:{type:"array",minItems:1,items:{type:"string",enum:["read","write"]}}},required:["of","to"]}}},records:{type:"object",patternProperties:{".*":{$ref:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json"}}}}},fC={validate:Hr};function Hr(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let E=o;for(let x in t)if(!(x==="allow"||x==="records")){return Hr.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;break}if(E===o){if(t.allow!==void 0){let x=t.allow,T=o;if(o===T)if(x&&typeof x=="object"&&!Array.isArray(x)){if(Object.keys(x).length<1)return Hr.errors=[{instancePath:e+"/allow",schemaPath:"#/properties/allow/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let M=o;for(let I in x)if(!(I==="anyone"||I==="author"||I==="recipient")){return Hr.errors=[{instancePath:e+"/allow",schemaPath:"#/properties/allow/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:I},message:"must NOT have additional properties"}],!1;break}if(M===o){if(x.anyone!==void 0){let I=x.anyone,R=o;if(o===R)if(I&&typeof I=="object"&&!Array.isArray(I)){let O;if(I.to===void 0&&(O="to"))return Hr.errors=[{instancePath:e+"/allow/anyone",schemaPath:"#/properties/allow/properties/anyone/required",keyword:"required",params:{missingProperty:O},message:"must have required property '"+O+"'"}],!1;{let B=o;for(let C in I)if(C!=="to"){return Hr.errors=[{instancePath:e+"/allow/anyone",schemaPath:"#/properties/allow/properties/anyone/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:C},message:"must NOT have additional properties"}],!1;break}if(B===o&&I.to!==void 0){let C=I.to;if(o===o)if(Array.isArray(C)){if(C.length<1)return Hr.errors=[{instancePath:e+"/allow/anyone/to",schemaPath:"#/properties/allow/properties/anyone/properties/to/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var a=!0;let W=C.length;for(let L=0;L<W;L++){let j=C[L],k=o;if(typeof j!="string")return Hr.errors=[{instancePath:e+"/allow/anyone/to/"+L,schemaPath:"#/properties/allow/properties/anyone/properties/to/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(j==="read"||j==="write"))return Hr.errors=[{instancePath:e+"/allow/anyone/to/"+L,schemaPath:"#/properties/allow/properties/anyone/properties/to/items/enum",keyword:"enum",params:{allowedValues:aC.properties.allow.properties.anyone.properties.to.items.enum},message:"must be equal to one of the allowed values"}],!1;var a=k===o;if(!a)break}}}else return Hr.errors=[{instancePath:e+"/allow/anyone/to",schemaPath:"#/properties/allow/properties/anyone/properties/to/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1}}}else return Hr.errors=[{instancePath:e+"/allow/anyone",schemaPath:"#/properties/allow/properties/anyone/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=R===o}else var f=!0;if(f){if(x.author!==void 0){let I=x.author,R=o;if(o===R)if(I&&typeof I=="object"&&!Array.isArray(I)){let B;if(I.of===void 0&&(B="of")||I.to===void 0&&(B="to"))return Hr.errors=[{instancePath:e+"/allow/author",schemaPath:"#/properties/allow/properties/author/required",keyword:"required",params:{missingProperty:B},message:"must have required property '"+B+"'"}],!1;{let C=o;for(let U in I)if(!(U==="of"||U==="to")){return Hr.errors=[{instancePath:e+"/allow/author",schemaPath:"#/properties/allow/properties/author/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:U},message:"must NOT have additional properties"}],!1;break}if(C===o){if(I.of!==void 0){let U=o;if(typeof I.of!="string")return Hr.errors=[{instancePath:e+"/allow/author/of",schemaPath:"#/properties/allow/properties/author/properties/of/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=U===o}else var c=!0;if(c)if(I.to!==void 0){let U=I.to,W=o;if(o===W)if(Array.isArray(U)){if(U.length<1)return Hr.errors=[{instancePath:e+"/allow/author/to",schemaPath:"#/properties/allow/properties/author/properties/to/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var u=!0;let j=U.length;for(let k=0;k<j;k++){let P=U[k],p=o;if(typeof P!="string")return Hr.errors=[{instancePath:e+"/allow/author/to/"+k,schemaPath:"#/properties/allow/properties/author/properties/to/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(P==="read"||P==="write"))return Hr.errors=[{instancePath:e+"/allow/author/to/"+k,schemaPath:"#/properties/allow/properties/author/properties/to/items/enum",keyword:"enum",params:{allowedValues:aC.properties.allow.properties.author.properties.to.items.enum},message:"must be equal to one of the allowed values"}],!1;var u=p===o;if(!u)break}}}else return Hr.errors=[{instancePath:e+"/allow/author/to",schemaPath:"#/properties/allow/properties/author/properties/to/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var c=W===o}else var c=!0}}}else return Hr.errors=[{instancePath:e+"/allow/author",schemaPath:"#/properties/allow/properties/author/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=R===o}else var f=!0;if(f)if(x.recipient!==void 0){let I=x.recipient,R=o;if(o===R)if(I&&typeof I=="object"&&!Array.isArray(I)){let B;if(I.of===void 0&&(B="of")||I.to===void 0&&(B="to"))return Hr.errors=[{instancePath:e+"/allow/recipient",schemaPath:"#/properties/allow/properties/recipient/required",keyword:"required",params:{missingProperty:B},message:"must have required property '"+B+"'"}],!1;{let C=o;for(let U in I)if(!(U==="of"||U==="to")){return Hr.errors=[{instancePath:e+"/allow/recipient",schemaPath:"#/properties/allow/properties/recipient/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:U},message:"must NOT have additional properties"}],!1;break}if(C===o){if(I.of!==void 0){let U=o;if(typeof I.of!="string")return Hr.errors=[{instancePath:e+"/allow/recipient/of",schemaPath:"#/properties/allow/properties/recipient/properties/of/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var l=U===o}else var l=!0;if(l)if(I.to!==void 0){let U=I.to,W=o;if(o===W)if(Array.isArray(U)){if(U.length<1)return Hr.errors=[{instancePath:e+"/allow/recipient/to",schemaPath:"#/properties/allow/properties/recipient/properties/to/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var y=!0;let j=U.length;for(let k=0;k<j;k++){let P=U[k],p=o;if(typeof P!="string")return Hr.errors=[{instancePath:e+"/allow/recipient/to/"+k,schemaPath:"#/properties/allow/properties/recipient/properties/to/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(P==="read"||P==="write"))return Hr.errors=[{instancePath:e+"/allow/recipient/to/"+k,schemaPath:"#/properties/allow/properties/recipient/properties/to/items/enum",keyword:"enum",params:{allowedValues:aC.properties.allow.properties.recipient.properties.to.items.enum},message:"must be equal to one of the allowed values"}],!1;var y=p===o;if(!y)break}}}else return Hr.errors=[{instancePath:e+"/allow/recipient/to",schemaPath:"#/properties/allow/properties/recipient/properties/to/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var l=W===o}else var l=!0}}}else return Hr.errors=[{instancePath:e+"/allow/recipient",schemaPath:"#/properties/allow/properties/recipient/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=R===o}else var f=!0}}}}else return Hr.errors=[{instancePath:e+"/allow",schemaPath:"#/properties/allow/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var m=T===o}else var m=!0;if(m)if(t.records!==void 0){let x=t.records,T=o;if(o===T)if(x&&typeof x=="object"&&!Array.isArray(x)){var g=!0;for(let I in x)if(lC.test(I)){let R=o;fC.validate(x[I],{instancePath:e+"/records/"+I.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:x,parentDataProperty:I,rootData:n})||(s=s===null?fC.validate.errors:s.concat(fC.validate.errors),o=s.length);var g=R===o;if(!g)break}}else return Hr.errors=[{instancePath:e+"/records",schemaPath:"#/properties/records/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var m=T===o}else var m=!0}}else return Hr.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Hr.errors=s,o===0}function vf(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.labels===void 0&&(u="labels")||t.records===void 0&&(u="records"))return vf.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{let l=o;for(let y in t)if(!(y==="labels"||y==="records")){return vf.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:y},message:"must NOT have additional properties"}],!1;break}if(l===o){if(t.labels!==void 0){let y=t.labels,m=o;if(o===m)if(y&&typeof y=="object"&&!Array.isArray(y)){var a=!0;for(let g in y)if(lC.test(g)){let E=y[g],x=o;if(o===x)if(E&&typeof E=="object"&&!Array.isArray(E)){let M=o;for(let I in E)if(I!=="schema"){return vf.errors=[{instancePath:e+"/labels/"+g.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/labels/patternProperties/.*/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:I},message:"must NOT have additional properties"}],!1;break}if(M===o&&E.schema!==void 0&&typeof E.schema!="string")return vf.errors=[{instancePath:e+"/labels/"+g.replace(/~/g,"~0").replace(/\//g,"~1")+"/schema",schemaPath:"#/properties/labels/patternProperties/.*/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1}else return vf.errors=[{instancePath:e+"/labels/"+g.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/labels/patternProperties/.*/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=x===o;if(!a)break}}else return vf.errors=[{instancePath:e+"/labels",schemaPath:"#/properties/labels/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=m===o}else var f=!0;if(f)if(t.records!==void 0){let y=t.records,m=o;if(o===m)if(y&&typeof y=="object"&&!Array.isArray(y)){var c=!0;for(let E in y)if(lC.test(E)){let x=o;Hr(y[E],{instancePath:e+"/records/"+E.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:y,parentDataProperty:E,rootData:n})||(s=s===null?Hr.errors:s.concat(Hr.errors),o=s.length);var c=x===o;if(!c)break}}else return vf.errors=[{instancePath:e+"/records",schemaPath:"#/properties/records/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=m===o}else var f=!0}}}else return vf.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return vf.errors=s,o===0}var POe=Hr,DOe=Na,Use={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/protocols-configure.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","protocol","dateCreated","definition"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Configure"],type:"string"},protocol:{type:"string"},dateCreated:{type:"string"},definition:{$ref:"https://identity.foundation/dwn/json-schemas/protocol-definition.json"}}}}};function Na(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let c;if(t.authorization===void 0&&(c="authorization")||t.descriptor===void 0&&(c="descriptor"))return Na.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:c},message:"must have required property '"+c+"'"}],!1;{let u=o;for(let l in t)if(!(l==="authorization"||l==="descriptor")){return Na.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"}],!1;break}if(u===o){if(t.authorization!==void 0){let l=o;or(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?or.errors:s.concat(or.errors),o=s.length);var a=l===o}else var a=!0;if(a)if(t.descriptor!==void 0){let l=t.descriptor,y=o;if(o===y)if(l&&typeof l=="object"&&!Array.isArray(l)){let g;if(l.interface===void 0&&(g="interface")||l.method===void 0&&(g="method")||l.protocol===void 0&&(g="protocol")||l.dateCreated===void 0&&(g="dateCreated")||l.definition===void 0&&(g="definition"))return Na.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:g},message:"must have required property '"+g+"'"}],!1;{let E=o;for(let x in l)if(!(x==="interface"||x==="method"||x==="protocol"||x==="dateCreated"||x==="definition")){return Na.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;break}if(E===o){if(l.interface!==void 0){let x=l.interface,T=o;if(typeof x!="string")return Na.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(x!=="Protocols")return Na.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Use.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var f=T===o}else var f=!0;if(f){if(l.method!==void 0){let x=l.method,T=o;if(typeof x!="string")return Na.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(x!=="Configure")return Na.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Use.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var f=T===o}else var f=!0;if(f){if(l.protocol!==void 0){let x=o;if(typeof l.protocol!="string")return Na.errors=[{instancePath:e+"/descriptor/protocol",schemaPath:"#/properties/descriptor/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=x===o}else var f=!0;if(f){if(l.dateCreated!==void 0){let x=o;if(typeof l.dateCreated!="string")return Na.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"#/properties/descriptor/properties/dateCreated/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=x===o}else var f=!0;if(f)if(l.definition!==void 0){let x=o;vf(l.definition,{instancePath:e+"/descriptor/definition",parentData:l,parentDataProperty:"definition",rootData:n})||(s=s===null?vf.errors:s.concat(vf.errors),o=s.length);var f=x===o}else var f=!0}}}}}}else return Na.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=y===o}else var a=!0}}}else return Na.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Na.errors=s,o===0}var IOe=Co,$se={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/protocols-query.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","dateCreated"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Query"],type:"string"},dateCreated:{type:"string"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"}}}}}}};function Co(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.authorization===void 0&&(u="authorization")||t.descriptor===void 0&&(u="descriptor"))return Co.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{let l=o;for(let y in t)if(!(y==="authorization"||y==="descriptor")){return Co.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:y},message:"must NOT have additional properties"}],!1;break}if(l===o){if(t.authorization!==void 0){let y=o;or(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?or.errors:s.concat(or.errors),o=s.length);var a=y===o}else var a=!0;if(a)if(t.descriptor!==void 0){let y=t.descriptor,m=o;if(o===m)if(y&&typeof y=="object"&&!Array.isArray(y)){let E;if(y.interface===void 0&&(E="interface")||y.method===void 0&&(E="method")||y.dateCreated===void 0&&(E="dateCreated"))return Co.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:E},message:"must have required property '"+E+"'"}],!1;{let x=o;for(let T in y)if(!(T==="interface"||T==="method"||T==="dateCreated"||T==="filter")){return Co.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:T},message:"must NOT have additional properties"}],!1;break}if(x===o){if(y.interface!==void 0){let T=y.interface,M=o;if(typeof T!="string")return Co.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(T!=="Protocols")return Co.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:$se.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var f=M===o}else var f=!0;if(f){if(y.method!==void 0){let T=y.method,M=o;if(typeof T!="string")return Co.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(T!=="Query")return Co.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:$se.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var f=M===o}else var f=!0;if(f){if(y.dateCreated!==void 0){let T=o;if(typeof y.dateCreated!="string")return Co.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"#/properties/descriptor/properties/dateCreated/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=T===o}else var f=!0;if(f)if(y.filter!==void 0){let T=y.filter,M=o;if(o===M)if(T&&typeof T=="object"&&!Array.isArray(T)){if(Object.keys(T).length<1)return Co.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let R=o;for(let O in T)if(!(O==="protocol"||O==="recipient")){return Co.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:O},message:"must NOT have additional properties"}],!1;break}if(R===o){if(T.protocol!==void 0){let O=o;if(typeof T.protocol!="string")return Co.errors=[{instancePath:e+"/descriptor/filter/protocol",schemaPath:"#/properties/descriptor/properties/filter/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=O===o}else var c=!0;if(c)if(T.recipient!==void 0){let O=T.recipient,B=o;if(o===o)if(typeof O=="string"){if(!Ed.test(O))return Co.errors=[{instancePath:e+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Co.errors=[{instancePath:e+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=B===o}else var c=!0}}}else return Co.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=M===o}else var f=!0}}}}}else return Co.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=m===o}else var a=!0}}}else return Co.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Co.errors=s,o===0}var ROe=qa,Vse={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-read.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","date","recordId"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Read"],type:"string"},date:{type:"string"},recordId:{type:"string"}}}}};function qa(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let c;if(t.descriptor===void 0&&(c="descriptor"))return qa.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:c},message:"must have required property '"+c+"'"}],!1;{let u=o;for(let l in t)if(!(l==="authorization"||l==="descriptor")){return qa.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"}],!1;break}if(u===o){if(t.authorization!==void 0){let l=o;or(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?or.errors:s.concat(or.errors),o=s.length);var a=l===o}else var a=!0;if(a)if(t.descriptor!==void 0){let l=t.descriptor,y=o;if(o===y)if(l&&typeof l=="object"&&!Array.isArray(l)){let g;if(l.interface===void 0&&(g="interface")||l.method===void 0&&(g="method")||l.date===void 0&&(g="date")||l.recordId===void 0&&(g="recordId"))return qa.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:g},message:"must have required property '"+g+"'"}],!1;{let E=o;for(let x in l)if(!(x==="interface"||x==="method"||x==="date"||x==="recordId")){return qa.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;break}if(E===o){if(l.interface!==void 0){let x=l.interface,T=o;if(typeof x!="string")return qa.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(x!=="Records")return qa.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Vse.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var f=T===o}else var f=!0;if(f){if(l.method!==void 0){let x=l.method,T=o;if(typeof x!="string")return qa.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(x!=="Read")return qa.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Vse.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var f=T===o}else var f=!0;if(f){if(l.date!==void 0){let x=o;if(typeof l.date!="string")return qa.errors=[{instancePath:e+"/descriptor/date",schemaPath:"#/properties/descriptor/properties/date/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=x===o}else var f=!0;if(f)if(l.recordId!==void 0){let x=o;if(typeof l.recordId!="string")return qa.errors=[{instancePath:e+"/descriptor/recordId",schemaPath:"#/properties/descriptor/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=x===o}else var f=!0}}}}}else return qa.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=y===o}else var a=!0}}}else return qa.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return qa.errors=s,o===0}var BOe=Vn;function N7(t,e){let r=dC[t];if(!r)throw new Error(`schema for ${t} not found.`);if(r(e),!r.errors)return;let[i]=r.errors,{instancePath:n,message:s}=i;throw n||(n=t),new Error(`${n}: ${s}`)}var Sd=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},xt;(function(t){t.Events="Events",t.Hooks="Hooks",t.Messages="Messages",t.Permissions="Permissions",t.Protocols="Protocols",t.Records="Records"})(xt||(xt={}));var St;(function(t){t.Configure="Configure",t.Get="Get",t.Grant="Grant",t.Query="Query",t.Read="Read",t.Request="Request",t.Write="Write",t.Delete="Delete"})(St||(St={}));var at=class{constructor(e){this.message=e,e.authorization!==void 0&&(this.authorizationPayload=oo.decodePlainObjectPayload(e.authorization),this.author=at.getAuthor(e))}toJSON(){return this.message}static validateJsonSchema(e){let r=e.descriptor.interface,i=e.descriptor.method,n=r+i;N7(n,e)}static getAuthor(e){return e.authorization===void 0?void 0:oo.getSignerDid(e.authorization.signatures[0])}static getCid(e){return Sd(this,void 0,void 0,function*(){return yield oa(e)})}static compareCid(e,r){return Sd(this,void 0,void 0,function*(){let i=yield at.getCid(e),n=yield at.getCid(r);return Zy(i,n)})}static isCidLarger(e,r){return Sd(this,void 0,void 0,function*(){return(yield at.compareCid(e,r))>0})}static getMessageWithLargestCid(e){return Sd(this,void 0,void 0,function*(){let r;for(let i of e)(r===void 0||(yield at.isCidLarger(i,r)))&&(r=i);return r})}static signAsAuthorization(e,r){return Sd(this,void 0,void 0,function*(){let n={descriptorCid:yield oa(e)},s=JSON.stringify(n),o=new TextEncoder().encode(s);return(yield wd.create(o,[r])).getJws()})}static getNewestMessage(e){return Sd(this,void 0,void 0,function*(){let r;for(let i of e)(r===void 0||(yield at.isNewer(i,r)))&&(r=i);return r})}static isNewer(e,r){return Sd(this,void 0,void 0,function*(){return(yield at.compareModifiedTime(e,r))>0})}static isOlder(e,r){return Sd(this,void 0,void 0,function*(){return(yield at.compareModifiedTime(e,r))<0})}static compareModifiedTime(e,r){return Sd(this,void 0,void 0,function*(){return e.descriptor.dateModified>r.descriptor.dateModified?1:e.descriptor.dateModified<r.descriptor.dateModified?-1:at.compareCid(e,r)})}};F();var Wse=yr(mA(),1);function Yse(t){let e=Wse.default.flatten(t);return Zse(e),e}function COe(t){if(typeof t!="object")return!1;for(let e in t)return!1;return!0}function Zse(t){Object.keys(t).forEach(e=>{COe(t[e])?delete t[e]:typeof t[e]=="object"&&Zse(t[e])})}function tl(t){Object.keys(t).forEach(e=>{t[e]===void 0?delete t[e]:typeof t[e]=="object"&&tl(t[e])})}F();F();F();var tae=yr(eae(),1),bC=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},ub=class{constructor(e){this.timeToLiveInSeconds=e,this.cache=new tae.default({max:1e5,ttl:e*1e3})}set(e,r){return bC(this,void 0,void 0,function*(){try{this.cache.set(e,r)}catch{}})}get(e){return bC(this,void 0,void 0,function*(){return this.cache.get(e)})}dump(){return bC(this,void 0,void 0,function*(){for(let[e,r]of this.cache)console.debug(e,r)})}};var rae=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},cb=class{constructor(e,r){this.jws=e,this.cache=r||new ub(600)}verify(e){return rae(this,void 0,void 0,function*(){let r=[];for(let i of this.jws.signatures){let n,s=`${i.protected}.${this.jws.payload}.${i.signature}`,o=oo.getKid(i),a=yield cb.getPublicKey(o,e),f=yield this.cache.get(s);f===void 0?(n=yield oo.verifySignature(this.jws.payload,i,a),yield this.cache.set(s,n)):n=f;let c=oo.extractDid(o);if(n)r.push(c);else throw new Error(`signature verification failed for ${c}`)}return{signers:r}})}static getPublicKey(e,r){return rae(this,void 0,void 0,function*(){let i=oo.extractDid(e),{didDocument:n}=yield r.resolve(i),{verificationMethod:s=[]}=n||{},o;for(let f of s)if(e.endsWith(f.id)){o=f;break}if(!o)throw new Error("public key needed to verify signature not found in DID Document");N7("JwkVerificationMethod",o);let{publicKeyJwk:a}=o;return a})}};var F7=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})};function lb(t,e,r){return F7(this,void 0,void 0,function*(){yield wf(e.message.authorization,r),yield Ad(t,e)})}function es(t,e){var r;return F7(this,void 0,void 0,function*(){if(t.authorization===void 0)throw new no(tn.AuthorizationMissing,"Property `authorization` is missing.");if(t.authorization.signatures.length!==1)throw new Error("expected no more than 1 signature for authorization");let i=oo.decodePlainObjectPayload(t.authorization),{descriptorCid:n}=i,s=yield oa(t.descriptor);if(n!==s)throw new Error(`provided descriptorCid ${n} does not match expected CID ${s}`);let o=(r=e?.allowedProperties)!==null&&r!==void 0?r:new Set,a=Object.assign({},i);delete a.descriptorCid;for(let f in a){if(!o.has(f))throw new Error(`${f} not allowed in auth payload.`);try{l8(i[f])}catch{throw new Error(`${f} must be a valid CID`)}}return i})}function wf(t,e){return F7(this,void 0,void 0,function*(){if(t===void 0)throw new no(tn.AuthenticateJwsMissing,"Missing JWS.");yield new cb(t).verify(e)})}function Ad(t,e){return F7(this,void 0,void 0,function*(){if(e.author!==t)throw new Error("message failed authorization, permission grant check not yet implemented")})}var vC=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},lp;(function(t){t.CreatedAscending="createdAscending",t.CreatedDescending="createdDescending",t.PublishedAscending="publishedAscending",t.PublishedDescending="publishedDescending"})(lp||(lp={}));var za=class extends at{static parse(e){return vC(this,void 0,void 0,function*(){return yield es(e),new za(e)})}static create(e){var r;return vC(this,void 0,void 0,function*(){let i={interface:xt.Records,method:St.Query,dateCreated:(r=e.dateCreated)!==null&&r!==void 0?r:Hs(),filter:e.filter,dateSort:e.dateSort};tl(i);let n=yield at.signAsAuthorization(i,e.authorizationSignatureInput),s={descriptor:i,authorization:n};return at.validateJsonSchema(s),new za(s)})}authorize(e){return vC(this,void 0,void 0,function*(){if(this.author===e)return;let r=this.message.descriptor.filter.recipient;if(r!==void 0&&r!==this.author)throw new Error(`${this.author} is not allowed to query records intended for another recipient: ${r}`)})}static convertFilter(e){let r=Object.assign({},e),{dateCreated:i}=r,n;return i!==void 0&&(i.to!==void 0&&i.from!==void 0?n={gte:i.from,lt:i.to}:i.to!==void 0?n={lt:i.to}:i.from!==void 0&&(n={gte:i.from})),n&&(r.dateCreated=n),r}};F();var iae=yr(J4(),1),qOe=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},dp=class{static toBytes(e){return qOe(this,void 0,void 0,function*(){return new Promise((r,i)=>{let n=[];e.on("data",s=>{n.push(s)}),e.on("end",()=>{let s=dp.concatenateArrayOfBytes(n);r(s)}),e.on("error",i)})})}static concatenateArrayOfBytes(e){let r=e.reduce((s,o)=>s+o.length,0),i=new Uint8Array(r),n=0;for(let s of e)i.set(s,n),n+=s.length;return i}static fromBytes(e){let i=0;return new iae.Readable({read(s){i+1e5>e.length?(this.push(e.subarray(i)),this.push(null)):(this.push(e.subarray(i,i+1e5)),i=i+1e5)}})}static fromObject(e){let r=cr.objectToBytes(e);return dp.fromBytes(r)}};F();var Xy;(function(t){t.ProtocolContext="protocol-context"})(Xy||(Xy={}));F();var SC=yr(hae(),1);F();var db=class{static getMethodSpecificId(e){let r=e.indexOf(":",4);return e.substring(r+1)}static validate(e){if(typeof e!="string")throw new Error(`DID is not string: ${e}`);if(!/^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(\/[^#?]*)?([?][^#]*)?(#.*)?$/.test(e))throw new TypeError(`DID is not a valid DID: ${e}`)}static getMethodName(e){let r=e.indexOf(":",4);return e.substring(4,r)}};var EC=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},hp=class{method(){return"key"}static getMulticodecSize(e){let r=0;for(;;){let i=e[r];if(r++,(i&128)!==128)break}return r}resolve(e){return EC(this,void 0,void 0,function*(){let[r,i,n]=e.split(":",3);try{let s=sf.decode(n),o=SC.default.decode(s),a=hp.getMulticodecSize(s),f=s.slice(a),c=[],u;if(o===237)c.push("https://w3id.org/security/suites/ed25519-2020/v1"),u=yield P3.publicKeyToJwk(f);else if(o===231)u=yield xi.publicKeyToJwk(f);else throw Error(`key type of multicodec ${o} is not supported`);let l=`${e}#${n}`;return{"@context":"https://w3id.org/did-resolution/v1",didDocument:{"@context":["https://www.w3.org/ns/did/v1","https://w3id.org/security/suites/jws-2020/v1",...c],id:e,verificationMethod:[{id:l,type:"JsonWebKey2020",controller:e,publicKeyJwk:u}],authentication:[l],assertionMethod:[l],capabilityDelegation:[l],capabilityInvocation:[l]},didDocumentMetadata:{},didResolutionMetadata:{}}}catch{return{didDocument:void 0,didDocumentMetadata:{},didResolutionMetadata:{error:"invalidDid"}}}})}static generate(){return EC(this,void 0,void 0,function*(){let{publicJwk:e,privateJwk:r}=yield P3.generateKeyPair(),i=SC.default.encode(237),n=cr.base64UrlToBytes(e.x),s=new Uint8Array(i.length+n.byteLength);s.set(i,0),s.set(n,i.length);let a=`did:key:${sf.encode(s)}`,f=hp.getKeyId(a);return{did:a,keyId:f,keyPair:{publicJwk:e,privateJwk:r}}})}static getKeyId(e){let r=db.getMethodSpecificId(e);return`${e}#${r}`}dump(){return EC(this,void 0,void 0,function*(){})}};F();var bae=yr(mae(),1),gae=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},xC,QOe=(xC=globalThis.fetch)!==null&&xC!==void 0?xC:bae.default,L3=class{constructor(e="https://discover.did.msidentity.com/1.0/identifiers/"){this.resolutionEndpoint=e}method(){return"ion"}resolve(e){return gae(this,void 0,void 0,function*(){let r=new URL("./"+e,this.resolutionEndpoint).toString(),i=yield QOe(r);if(i.status!==200)throw new Error(`unable to resolve ${e}, got http status ${i.status}`);return yield i.json()})}dump(){return gae(this,void 0,void 0,function*(){})}};F();var vae=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},N3=class{constructor(e,r){this.cache=r||new ub(600),(e===void 0||e.length===0)&&(e=[new L3,new hp]),this.didResolvers=new Map;for(let i of e)this.didResolvers.set(i.method(),i)}resolve(e){return vae(this,void 0,void 0,function*(){db.validate(e);let i=e.split(":",3)[1],n=this.didResolvers.get(i);if(!n)throw new Error(`${i} DID method not supported`);let s=yield this.cache.get(e),o=s??(yield n.resolve(e));s===void 0&&(yield this.cache.set(e,o));let{didDocument:a,didResolutionMetadata:f}=o;if(!a||f?.error){let{error:c}=f,u=`Failed to resolve DID ${e}.`;throw u+=c?` Error: ${c}`:"",new Error(u)}return o})}dump(){var e,r,i;return vae(this,void 0,void 0,function*(){console.group("didResolvers");for(let[n,s]of this.didResolvers)console.group(n),yield(e=s.dump)===null||e===void 0?void 0:e.call(s),console.groupEnd();console.groupEnd(),console.group("didCache"),yield(i=(r=this.cache).dump)===null||i===void 0?void 0:i.call(r),console.groupEnd()})}};F();F();F();function pb(t){var e=new Error(t);return e.source="ulid",e}var yb="0123456789ABCDEFGHJKMNPQRSTVWXYZ",mb=yb.length,wae=Math.pow(2,48)-1,AC=10,Eae=16;function _ae(t,e,r){return e>t.length-1?t:t.substr(0,e)+r+t.substr(e+1)}function eje(t){for(var e=void 0,r=t.length,i=void 0,n=void 0,s=mb-1;!e&&r-->=0;){if(i=t[r],n=yb.indexOf(i),n===-1)throw pb("incorrectly encoded string");if(n===s){t=_ae(t,r,yb[0]);continue}e=_ae(t,r,yb[n+1])}if(typeof e=="string")return e;throw pb("cannot increment this string")}function tje(t){var e=Math.floor(t()*mb);return e===mb&&(e=mb-1),yb.charAt(e)}function MC(t,e){if(isNaN(t))throw new Error(t+" must be a number");if(t>wae)throw pb("cannot encode time greater than "+wae);if(t<0)throw pb("time must be positive");if(Number.isInteger(t)===!1)throw pb("time must be an integer");for(var r=void 0,i="";e>0;e--)r=t%mb,i=yb.charAt(r)+i,t=(t-r)/mb;return i}function Sae(t,e){for(var r="";t>0;t--)r=tje(e)+r;return r}function xae(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=arguments[1];e||(e=typeof window<"u"?window:null);var r=e&&(e.crypto||e.msCrypto);if(r)return function(){var n=new Uint8Array(1);return r.getRandomValues(n),n[0]/255};try{var i=Ay();return function(){return i.randomBytes(1).readUInt8()/255}}catch{}if(t){try{console.error("secure crypto unusable, falling back to insecure Math.random()!")}catch{}return function(){return Math.random()}}throw pb("secure crypto unusable, insecure Math.random not allowed")}function rje(t){return t||(t=xae()),function(r){return isNaN(r)&&(r=Date.now()),MC(r,AC)+Sae(Eae,t)}}function Aae(t){t||(t=xae());var e=0,r=void 0;return function(n){if(isNaN(n)&&(n=Date.now()),n<=e){var s=r=eje(r);return MC(e,AC)+s}e=n;var o=r=Sae(Eae,t);return MC(n,AC)+o}}var Mvt=rje();var Qy=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},ije=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(s){r[s]=t[s]&&function(o){return new Promise(function(a,f){o=t[s](o),n(a,f,o.done,o.value)})}}function n(s,o,a,f){Promise.resolve(f).then(function(c){s({value:c,done:a})},o)}},Mae="watermarks",kae="cids",q3=class{constructor(e){this.config=Object.assign({location:"EVENTLOG",createLevelDatabase:Au},e),this.db=new xu(Object.assign(Object.assign({},this.config),{valueEncoding:"utf8"})),this.ulid=Aae()}open(){return Qy(this,void 0,void 0,function*(){return this.db.open()})}close(){return Qy(this,void 0,void 0,function*(){return this.db.close()})}clear(){return Qy(this,void 0,void 0,function*(){return this.db.clear()})}append(e,r){return Qy(this,void 0,void 0,function*(){let i=yield this.db.partition(e),n=yield i.partition(Mae),s=yield i.partition(kae),o=this.ulid();return yield n.put(o,r),yield s.put(r,o),o})}getEvents(e,r){var i,n;return Qy(this,void 0,void 0,function*(){let o=yield(yield this.db.partition(e)).partition(Mae),a=[];try{for(var f=ije(o.iterator(r)),c;c=yield f.next(),!c.done;){let[u,l]=c.value,y={watermark:u,messageCid:l};a.push(y)}}catch(u){i={error:u}}finally{try{c&&!c.done&&(n=f.return)&&(yield n.call(f))}finally{if(i)throw i.error}}return a})}deleteEventsByCid(e,r){return Qy(this,void 0,void 0,function*(){if(r.length===0)return 0;let i=yield this.db.partition(e),n=yield i.partition(kae),s=[],o=[];for(let u of r){s.push({type:"del",key:u});let l=n.get(u).catch(y=>y);o.push(l)}yield n.batch(s),s=[];let a=0,f=yield Promise.all(o);for(let u of f)u&&(s.push({type:"del",key:u}),a+=1);return yield(yield i.partition("watermarks")).batch(s),a})}dump(){var e,r;return Qy(this,void 0,void 0,function*(){console.group("db"),yield(r=(e=this.db).dump)===null||r===void 0?void 0:r.call(e),console.groupEnd()})}};F();F();var Tae=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},rl=class extends at{static parse(e){return Tae(this,void 0,void 0,function*(){return at.validateJsonSchema(e),yield es(e),new rl(e)})}static create(e){return Tae(this,void 0,void 0,function*(){let r={interface:xt.Events,method:St.Get};e.watermark&&(r.watermark=e.watermark);let i=yield at.signAsAuthorization(r,e.authorizationSignatureInput),n={descriptor:r,authorization:i};return at.validateJsonSchema(n),new rl(n)})}};F();var sr=class{constructor(e){let{status:r,entries:i,data:n}=e;this.status=r,this.entries=i,this.data=n}static fromError(e,r){let i=e instanceof Error?e.message:"Error";return new sr({status:{code:r,detail:i}})}};var nje=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},$7=class{constructor(e,r){this.didResolver=e,this.eventLog=r}handle({tenant:e,message:r}){return nje(this,void 0,void 0,function*(){let i;try{i=yield rl.parse(r)}catch(o){return sr.fromError(o,400)}try{yield wf(r.authorization,this.didResolver),yield Ad(e,i)}catch(o){return sr.fromError(o,401)}let n;r.descriptor.watermark&&(n={gt:r.descriptor.watermark});let s=yield this.eventLog.getEvents(e,n);return{status:{code:200,detail:"OK"},events:s}})}};F();F();var pp=class{};pp.maxDataSizeAllowedToBeEncoded=1e4;F();var Pae=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},Wu=class extends at{static parse(e){return Pae(this,void 0,void 0,function*(){return at.validateJsonSchema(e),this.validateMessageCids(e.descriptor.messageCids),yield es(e),new Wu(e)})}static create(e){return Pae(this,void 0,void 0,function*(){let r={interface:xt.Messages,method:St.Get,messageCids:e.messageCids},i=yield at.signAsAuthorization(r,e.authorizationSignatureInput),n={descriptor:r,authorization:i};return at.validateJsonSchema(n),Wu.validateMessageCids(e.messageCids),new Wu(n)})}static validateMessageCids(e){for(let r of e)try{l8(r)}catch{throw new Error(`${r} is not a valid CID`)}}};var oje=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},V7=class{constructor(e,r,i){this.didResolver=e,this.messageStore=r,this.dataStore=i}handle({tenant:e,message:r}){return oje(this,void 0,void 0,function*(){let i;try{i=yield Wu.parse(r)}catch(a){return sr.fromError(a,400)}try{yield wf(r.authorization,this.didResolver),yield Ad(e,i)}catch(a){return sr.fromError(a,401)}let n=[],s=new Set(r.descriptor.messageCids);for(let a of s){let f=this.messageStore.get(e,a).then(c=>({messageCid:a,message:c})).catch(c=>({messageCid:a,message:void 0,error:`Failed to get message ${a}`}));n.push(f)}let o=yield Promise.all(n);for(let a of o){let{message:f}=a;if(!f)continue;let{interface:c,method:u}=f.descriptor;if(c!==xt.Records||u!==St.Write)continue;let l=f.descriptor.dataCid,y=f.descriptor.dataSize;if(l!==void 0&&y<=pp.maxDataSizeAllowedToBeEncoded){let m=yield at.getCid(f),g=yield this.dataStore.get(e,m,l);if(g){let E=yield dp.toBytes(g.dataStream);a.encodedData=cr.bytesToBase64Url(E)}}}return{status:{code:200,detail:"OK"},messages:o}})}};F();F();function K7({enumerable:t=!0,configurable:e=!1}={}){return{enumerable:t,configurable:e,writable:!1}}function*sje(t,e){if(e!=null&&typeof e=="object")if(Array.isArray(e))for(let[r,i]of e.entries()){let n=[...t,r],s=jt.asCID(i);s?yield[n.join("/"),s]:typeof i=="object"&&(yield*kC(i,n))}else{let r=jt.asCID(e);r?yield[t.join("/"),r]:yield*kC(e,t)}}function*kC(t,e){if(t==null||t instanceof Uint8Array)return;let r=jt.asCID(t);r&&(yield[e.join("/"),r]);for(let[i,n]of Object.entries(t)){let s=[...e,i];yield*sje(s,n)}}function*aje(t,e){if(Array.isArray(e))for(let[r,i]of e.entries()){let n=[...t,r];yield n.join("/"),typeof i=="object"&&!jt.asCID(i)&&(yield*TC(i,n))}else yield*TC(e,t)}function*TC(t,e){if(!(t==null||typeof t!="object"))for(let[r,i]of Object.entries(t)){let n=[...e,r];yield n.join("/"),i!=null&&!(i instanceof Uint8Array)&&typeof i=="object"&&!jt.asCID(i)&&(yield*aje(n,i))}}function fje(t,e){let r=t;for(let[i,n]of e.entries()){if(r=r[n],r==null)throw new Error(`Object has no property at ${e.slice(0,i+1).map(o=>`[${JSON.stringify(o)}]`).join("")}`);let s=jt.asCID(r);if(s)return{value:s,remaining:e.slice(i+1).join("/")}}return{value:r}}var H7=class{constructor({cid:e,bytes:r,value:i}){if(!e||!r||typeof i>"u")throw new Error("Missing required argument");this.cid=e,this.bytes=r,this.value=i,this.asBlock=this,Object.defineProperties(this,{cid:K7(),bytes:K7(),value:K7(),asBlock:K7()})}links(){return kC(this.value,[])}tree(){return TC(this.value,[])}get(e="/"){return fje(this.value,e.split("/").filter(Boolean))}};async function Dae({value:t,codec:e,hasher:r}){if(typeof t>"u")throw new Error('Missing required argument "value"');if(!e||!r)throw new Error("Missing required argument: codec or hasher");let i=e.encode(t),n=await r.digest(i),s=jt.create(1,e.code,n);return new H7({value:t,bytes:i,cid:s})}async function Iae({bytes:t,codec:e,hasher:r}){if(!t)throw new Error('Missing required argument "bytes"');if(!e||!r)throw new Error("Missing required argument: codec or hasher");let i=e.decode(t),n=await r.digest(t),s=jt.create(1,e.code,n);return new H7({value:i,bytes:t,cid:s})}F();var Yu=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},cje=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(s){r[s]=t[s]&&function(o){return new Promise(function(a,f){o=t[s](o),n(a,f,o.done,o.value)})}}function n(s,o,a,f){Promise.resolve(f).then(function(c){s({value:c,done:a})},o)}},W7=class{constructor(e){this.config=Object.assign({createLevelDatabase:Au},e),this.db=new xu(Object.assign(Object.assign({},this.config),{valueEncoding:"utf8"}))}open(){return Yu(this,void 0,void 0,function*(){return this.db.open()})}close(){return Yu(this,void 0,void 0,function*(){return this.db.close()})}put(e,r,i){return Yu(this,void 0,void 0,function*(){r=Yse(r);let n=[],s=[];for(let o in r){let a=r[o],f=this.join(o,this.encodeValue(a));n.push({type:"put",key:this.join(f,e),value:e}),s.push(f)}return n.push({type:"put",key:`__${e}__prefixes`,value:JSON.stringify(s)}),this.db.batch(n,i)})}query(e,r){return Yu(this,void 0,void 0,function*(){let i=new Set,n={},s=[],o=[];function a(f,c){var u;return Yu(this,void 0,void 0,function*(){s.push(c);for(let[l,y]of yield c)(u=n[y])!==null&&u!==void 0||(n[y]=new Set([...i])),n[y].delete(f),n[y].size===0&&o.push(y)})}for(let f in e){let c=e[f];if(typeof c=="object"&&c!==null)if(Array.isArray(c))for(let u of new Set(c))a(f,this.findExactMatches(f,u,r));else a(f,this.findRangeMatches(f,c,r));else a(f,this.findExactMatches(f,c,r));i.add(f)}return yield Promise.all(s),o})}delete(e,r){return Yu(this,void 0,void 0,function*(){let i=yield this.db.get(`__${e}__prefixes`,r);if(!i)return;let n=[];for(let s of JSON.parse(i))n.push({type:"del",key:this.join(s,e)});return n.push({type:"del",key:`__${e}__prefixes`}),this.db.batch(n,r)})}clear(){return Yu(this,void 0,void 0,function*(){return this.db.clear()})}findExactMatches(e,r,i){return Yu(this,void 0,void 0,function*(){let n=this.join(e,this.encodeValue(r)),s={gt:n};return this.findMatches(n,s,i)})}findRangeMatches(e,r,i){return Yu(this,void 0,void 0,function*(){let n=this.join(e),s={};for(let a in r)s[a]=this.join(e,this.encodeValue(r[a]));let o=yield this.findMatches(n,s,i);if("lte"in r)for(let[a,f]of yield this.findExactMatches(e,r.lte,i))o.set(a,f);return o})}findMatches(e,r,i){var n,s;return Yu(this,void 0,void 0,function*(){("lt"in r||"lte"in r)&&!("gt"in r||"gte"in r)&&(r.reverse=!0);let o=new Map;try{for(var a=cje(this.db.iterator(r,i)),f;f=yield a.next(),!f.done;){let[c,u]=f.value;if(!c.startsWith(e))break;o.set(c,u)}}catch(c){n={error:c}}finally{try{f&&!f.done&&(s=a.return)&&(yield s.call(a))}finally{if(n)throw n.error}}return o})}encodeValue(e){return typeof e=="string"?`"${e}"`:String(e)}join(...e){return e.join("\0")}dump(){var e,r;return Yu(this,void 0,void 0,function*(){console.group("db"),yield(r=(e=this.db).dump)===null||r===void 0?void 0:r.call(e),console.groupEnd()})}};var yp=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},z3=class{constructor(e={}){this.config=Object.assign({blockstoreLocation:"MESSAGESTORE",indexLocation:"INDEX",createLevelDatabase:Au},e),this.blockstore=new Eh({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase}),this.index=new W7({location:this.config.indexLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return yp(this,void 0,void 0,function*(){yield this.blockstore.open(),yield this.index.open()})}close(){return yp(this,void 0,void 0,function*(){yield this.blockstore.close(),yield this.index.close()})}get(e,r,i){var n;return yp(this,void 0,void 0,function*(){(n=i?.signal)===null||n===void 0||n.throwIfAborted();let s=yield Mo(i?.signal,this.blockstore.partition(e)),o=jt.parse(r),a=yield s.get(o,i);return a?(yield Mo(i?.signal,Iae({bytes:a,codec:ag,hasher:na}))).value:void 0})}query(e,r,i){var n;return yp(this,void 0,void 0,function*(){(n=i?.signal)===null||n===void 0||n.throwIfAborted();let s=[],o=yield this.index.query(Object.assign(Object.assign({},r),{tenant:e}),i);for(let a of o){let f=yield this.get(e,a,i);f&&s.push(f)}return s})}delete(e,r,i){var n;return yp(this,void 0,void 0,function*(){(n=i?.signal)===null||n===void 0||n.throwIfAborted();let s=yield Mo(i?.signal,this.blockstore.partition(e)),o=jt.parse(r);yield s.delete(o,i),yield this.index.delete(r,i)})}put(e,r,i,n){var s;return yp(this,void 0,void 0,function*(){(s=n?.signal)===null||s===void 0||s.throwIfAborted();let o=yield Mo(n?.signal,this.blockstore.partition(e)),a=yield Mo(n?.signal,Dae({value:r,codec:ag,hasher:na}));yield o.put(a.cid,a.bytes,n);let f=a.cid.toString(),c=Object.assign(Object.assign({},i),{tenant:e});yield this.index.put(f,c,n)})}clear(){return yp(this,void 0,void 0,function*(){yield this.blockstore.clear(),yield this.index.clear()})}dump(){var e,r,i,n;return yp(this,void 0,void 0,function*(){console.group("blockstore"),yield(r=(e=this.blockstore).dump)===null||r===void 0?void 0:r.call(e),console.groupEnd(),console.group("index"),yield(n=(i=this.index).dump)===null||n===void 0?void 0:n.call(i),console.groupEnd()})}};F();F();F();F();var Y7,lje=new Uint8Array(16);function PC(){if(!Y7&&(Y7=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Y7))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Y7(lje)}F();F();F();var Rae=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function dje(t){return typeof t=="string"&&Rae.test(t)}var Bae=dje;var xs=[];for(Z7=0;Z7<256;++Z7)xs.push((Z7+256).toString(16).substr(1));var Z7;function hje(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(xs[t[e+0]]+xs[t[e+1]]+xs[t[e+2]]+xs[t[e+3]]+"-"+xs[t[e+4]]+xs[t[e+5]]+"-"+xs[t[e+6]]+xs[t[e+7]]+"-"+xs[t[e+8]]+xs[t[e+9]]+"-"+xs[t[e+10]]+xs[t[e+11]]+xs[t[e+12]]+xs[t[e+13]]+xs[t[e+14]]+xs[t[e+15]]).toLowerCase();if(!Bae(r))throw TypeError("Stringified UUID is invalid");return r}var Cae=hje;F();function pje(t,e,r){t=t||{};var i=t.random||(t.rng||PC)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){r=r||0;for(var n=0;n<16;++n)e[r+n]=i[n];return e}return Cae(i)}var DC=pje;var Oae=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},em=class extends at{static parse(e){return Oae(this,void 0,void 0,function*(){return yield es(e),new em(e)})}static create(e){var r;return Oae(this,void 0,void 0,function*(){let{conditions:i}=e,n=i||{},s=Object.assign(Object.assign({},yje),n),o={interface:xt.Permissions,method:St.Request,dateCreated:(r=e.dateCreated)!==null&&r!==void 0?r:Hs(),conditions:s,description:e.description,grantedTo:e.grantedTo,grantedBy:e.grantedBy,objectId:e.objectId?e.objectId:DC(),scope:e.scope};at.validateJsonSchema({descriptor:o,authorization:{}});let a=yield at.signAsAuthorization(o,e.authorizationSignatureInput),f={descriptor:o,authorization:a};return new em(f)})}get id(){return this.message.descriptor.objectId}get conditions(){return this.message.descriptor.conditions}get grantedBy(){return this.message.descriptor.grantedBy}get grantedTo(){return this.message.descriptor.grantedTo}get description(){return this.message.descriptor.description}get scope(){return this.message.descriptor.scope}},yje={attestation:"optional",delegation:!1,encryption:"optional",publication:!1,sharedAccess:!1};var mje=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},G7=class{constructor(e,r,i){this.didResolver=e,this.messageStore=r,this.dataStore=i}handle({tenant:e,message:r}){return mje(this,void 0,void 0,function*(){let i=yield em.parse(r),{author:n}=i;if(e!==i.grantedBy&&e!==i.grantedTo)return new sr({status:{code:400,detail:"grantedBy or grantedTo must be the targeted message recipient"}});if(yield lb(e,i,this.didResolver),n!==i.grantedTo)throw new Error("grantee must be signer");let s=Object.assign({author:n},r.descriptor);return yield this.messageStore.put(e,r,s),new sr({status:{code:202,detail:"Accepted"}})})}};F();F();var jae=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},il=class extends at{static parse(e){return jae(this,void 0,void 0,function*(){return yield es(e),new il(e)})}static create(e){var r;return jae(this,void 0,void 0,function*(){let i={interface:xt.Protocols,method:St.Configure,dateCreated:(r=e.dateCreated)!==null&&r!==void 0?r:Hs(),protocol:e.protocol,definition:e.definition};at.validateJsonSchema({descriptor:i,authorization:{}});let n=yield at.signAsAuthorization(i,e.authorizationSignatureInput),s={descriptor:i,authorization:n};return new il(s)})}};F();F();var gje=Object.create,gS=Object.defineProperty,bje=Object.getOwnPropertyDescriptor,vje=Object.getOwnPropertyNames,wje=Object.getPrototypeOf,_je=Object.prototype.hasOwnProperty,Ri=(t,e)=>()=>(t&&(e=t(t=0)),e),he=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),wi=(t,e)=>{for(var r in e)gS(t,r,{get:e[r],enumerable:!0})},Sce=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of vje(e))!_je.call(t,n)&&n!==r&&gS(t,n,{get:()=>e[n],enumerable:!(i=bje(e,n))||i.enumerable});return t},vr=(t,e,r)=>(r=t!=null?gje(wje(t)):{},Sce(e||!t||!t.__esModule?gS(r,"default",{value:t,enumerable:!0}):r,t)),xce=t=>Sce(gS({},"__esModule",{value:!0}),t),Eje=he(t=>{"use strict";ee(),t.byteLength=f,t.toByteArray=u,t.fromByteArray=m;var e=[],r=[],i=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(s=0,o=n.length;s<o;++s)e[s]=n[s],r[n.charCodeAt(s)]=s;var s,o;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;function a(g){var E=g.length;if(E%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=g.indexOf("=");x===-1&&(x=E);var T=x===E?0:4-x%4;return[x,T]}function f(g){var E=a(g),x=E[0],T=E[1];return(x+T)*3/4-T}function c(g,E,x){return(E+x)*3/4-x}function u(g){var E,x=a(g),T=x[0],M=x[1],I=new i(c(g,T,M)),R=0,O=M>0?T-4:T,B;for(B=0;B<O;B+=4)E=r[g.charCodeAt(B)]<<18|r[g.charCodeAt(B+1)]<<12|r[g.charCodeAt(B+2)]<<6|r[g.charCodeAt(B+3)],I[R++]=E>>16&255,I[R++]=E>>8&255,I[R++]=E&255;return M===2&&(E=r[g.charCodeAt(B)]<<2|r[g.charCodeAt(B+1)]>>4,I[R++]=E&255),M===1&&(E=r[g.charCodeAt(B)]<<10|r[g.charCodeAt(B+1)]<<4|r[g.charCodeAt(B+2)]>>2,I[R++]=E>>8&255,I[R++]=E&255),I}function l(g){return e[g>>18&63]+e[g>>12&63]+e[g>>6&63]+e[g&63]}function y(g,E,x){for(var T,M=[],I=E;I<x;I+=3)T=(g[I]<<16&16711680)+(g[I+1]<<8&65280)+(g[I+2]&255),M.push(l(T));return M.join("")}function m(g){for(var E,x=g.length,T=x%3,M=[],I=16383,R=0,O=x-T;R<O;R+=I)M.push(y(g,R,R+I>O?O:R+I));return T===1?(E=g[x-1],M.push(e[E>>2]+e[E<<4&63]+"==")):T===2&&(E=(g[x-2]<<8)+g[x-1],M.push(e[E>>10]+e[E>>4&63]+e[E<<2&63]+"=")),M.join("")}}),Sje=he(t=>{ee(),t.read=function(e,r,i,n,s){var o,a,f=s*8-n-1,c=(1<<f)-1,u=c>>1,l=-7,y=i?s-1:0,m=i?-1:1,g=e[r+y];for(y+=m,o=g&(1<<-l)-1,g>>=-l,l+=f;l>0;o=o*256+e[r+y],y+=m,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=a*256+e[r+y],y+=m,l-=8);if(o===0)o=1-u;else{if(o===c)return a?NaN:(g?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-u}return(g?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,r,i,n,s,o){var a,f,c,u=o*8-s-1,l=(1<<u)-1,y=l>>1,m=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:o-1,E=n?1:-1,x=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(f=isNaN(r)?1:0,a=l):(a=Math.floor(Math.log(r)/Math.LN2),r*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+y>=1?r+=m/c:r+=m*Math.pow(2,1-y),r*c>=2&&(a++,c/=2),a+y>=l?(f=0,a=l):a+y>=1?(f=(r*c-1)*Math.pow(2,s),a=a+y):(f=r*Math.pow(2,y-1)*Math.pow(2,s),a=0));s>=8;e[i+g]=f&255,g+=E,f/=256,s-=8);for(a=a<<s|f,u+=s;u>0;e[i+g]=a&255,g+=E,a/=256,u-=8);e[i+g-E]|=x*128}}),ji=he(t=>{"use strict";ee();var e=Eje(),r=Sje(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=M,t.INSPECT_MAX_BYTES=50;var n=2147483647;t.kMaxLength=n,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var z=new Uint8Array(1),Y={foo:function(){return 42}};return Object.setPrototypeOf(Y,Uint8Array.prototype),Object.setPrototypeOf(z,Y),z.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(z){if(z>n)throw new RangeError('The value "'+z+'" is invalid for option "size"');var Y=new Uint8Array(z);return Object.setPrototypeOf(Y,a.prototype),Y}function a(z,Y,X){if(typeof z=="number"){if(typeof Y=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(z)}return f(z,Y,X)}a.poolSize=8192;function f(z,Y,X){if(typeof z=="string")return y(z,Y);if(ArrayBuffer.isView(z))return g(z);if(z==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z);if(ye(z,ArrayBuffer)||z&&ye(z.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ye(z,SharedArrayBuffer)||z&&ye(z.buffer,SharedArrayBuffer)))return E(z,Y,X);if(typeof z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var re=z.valueOf&&z.valueOf();if(re!=null&&re!==z)return a.from(re,Y,X);var le=x(z);if(le)return le;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof z[Symbol.toPrimitive]=="function")return a.from(z[Symbol.toPrimitive]("string"),Y,X);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z)}a.from=function(z,Y,X){return f(z,Y,X)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(z){if(typeof z!="number")throw new TypeError('"size" argument must be of type number');if(z<0)throw new RangeError('The value "'+z+'" is invalid for option "size"')}function u(z,Y,X){return c(z),z<=0?o(z):Y!==void 0?typeof X=="string"?o(z).fill(Y,X):o(z).fill(Y):o(z)}a.alloc=function(z,Y,X){return u(z,Y,X)};function l(z){return c(z),o(z<0?0:T(z)|0)}a.allocUnsafe=function(z){return l(z)},a.allocUnsafeSlow=function(z){return l(z)};function y(z,Y){if((typeof Y!="string"||Y==="")&&(Y="utf8"),!a.isEncoding(Y))throw new TypeError("Unknown encoding: "+Y);var X=I(z,Y)|0,re=o(X),le=re.write(z,Y);return le!==X&&(re=re.slice(0,le)),re}function m(z){for(var Y=z.length<0?0:T(z.length)|0,X=o(Y),re=0;re<Y;re+=1)X[re]=z[re]&255;return X}function g(z){if(ye(z,Uint8Array)){var Y=new Uint8Array(z);return E(Y.buffer,Y.byteOffset,Y.byteLength)}return m(z)}function E(z,Y,X){if(Y<0||z.byteLength<Y)throw new RangeError('"offset" is outside of buffer bounds');if(z.byteLength<Y+(X||0))throw new RangeError('"length" is outside of buffer bounds');var re;return Y===void 0&&X===void 0?re=new Uint8Array(z):X===void 0?re=new Uint8Array(z,Y):re=new Uint8Array(z,Y,X),Object.setPrototypeOf(re,a.prototype),re}function x(z){if(a.isBuffer(z)){var Y=T(z.length)|0,X=o(Y);return X.length===0||z.copy(X,0,0,Y),X}if(z.length!==void 0)return typeof z.length!="number"||$(z.length)?o(0):m(z);if(z.type==="Buffer"&&Array.isArray(z.data))return m(z.data)}function T(z){if(z>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return z|0}function M(z){return+z!=z&&(z=0),a.alloc(+z)}a.isBuffer=function(z){return z!=null&&z._isBuffer===!0&&z!==a.prototype},a.compare=function(z,Y){if(ye(z,Uint8Array)&&(z=a.from(z,z.offset,z.byteLength)),ye(Y,Uint8Array)&&(Y=a.from(Y,Y.offset,Y.byteLength)),!a.isBuffer(z)||!a.isBuffer(Y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(z===Y)return 0;for(var X=z.length,re=Y.length,le=0,pe=Math.min(X,re);le<pe;++le)if(z[le]!==Y[le]){X=z[le],re=Y[le];break}return X<re?-1:re<X?1:0},a.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(z,Y){if(!Array.isArray(z))throw new TypeError('"list" argument must be an Array of Buffers');if(z.length===0)return a.alloc(0);var X;if(Y===void 0)for(Y=0,X=0;X<z.length;++X)Y+=z[X].length;var re=a.allocUnsafe(Y),le=0;for(X=0;X<z.length;++X){var pe=z[X];if(ye(pe,Uint8Array))le+pe.length>re.length?a.from(pe).copy(re,le):Uint8Array.prototype.set.call(re,pe,le);else if(a.isBuffer(pe))pe.copy(re,le);else throw new TypeError('"list" argument must be an Array of Buffers');le+=pe.length}return re};function I(z,Y){if(a.isBuffer(z))return z.length;if(ArrayBuffer.isView(z)||ye(z,ArrayBuffer))return z.byteLength;if(typeof z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof z);var X=z.length,re=arguments.length>2&&arguments[2]===!0;if(!re&&X===0)return 0;for(var le=!1;;)switch(Y){case"ascii":case"latin1":case"binary":return X;case"utf8":case"utf-8":return H(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X*2;case"hex":return X>>>1;case"base64":return fe(z).length;default:if(le)return re?-1:H(z).length;Y=(""+Y).toLowerCase(),le=!0}}a.byteLength=I;function R(z,Y,X){var re=!1;if((Y===void 0||Y<0)&&(Y=0),Y>this.length||((X===void 0||X>this.length)&&(X=this.length),X<=0)||(X>>>=0,Y>>>=0,X<=Y))return"";for(z||(z="utf8");;)switch(z){case"hex":return w(this,Y,X);case"utf8":case"utf-8":return p(this,Y,X);case"ascii":return b(this,Y,X);case"latin1":case"binary":return v(this,Y,X);case"base64":return P(this,Y,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,Y,X);default:if(re)throw new TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),re=!0}}a.prototype._isBuffer=!0;function O(z,Y,X){var re=z[Y];z[Y]=z[X],z[X]=re}a.prototype.swap16=function(){var z=this.length;if(z%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Y=0;Y<z;Y+=2)O(this,Y,Y+1);return this},a.prototype.swap32=function(){var z=this.length;if(z%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Y=0;Y<z;Y+=4)O(this,Y,Y+3),O(this,Y+1,Y+2);return this},a.prototype.swap64=function(){var z=this.length;if(z%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Y=0;Y<z;Y+=8)O(this,Y,Y+7),O(this,Y+1,Y+6),O(this,Y+2,Y+5),O(this,Y+3,Y+4);return this},a.prototype.toString=function(){var z=this.length;return z===0?"":arguments.length===0?p(this,0,z):R.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(z){if(!a.isBuffer(z))throw new TypeError("Argument must be a Buffer");return this===z?!0:a.compare(this,z)===0},a.prototype.inspect=function(){var z="",Y=t.INSPECT_MAX_BYTES;return z=this.toString("hex",0,Y).replace(/(.{2})/g,"$1 ").trim(),this.length>Y&&(z+=" ... "),"<Buffer "+z+">"},i&&(a.prototype[i]=a.prototype.inspect),a.prototype.compare=function(z,Y,X,re,le){if(ye(z,Uint8Array)&&(z=a.from(z,z.offset,z.byteLength)),!a.isBuffer(z))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof z);if(Y===void 0&&(Y=0),X===void 0&&(X=z?z.length:0),re===void 0&&(re=0),le===void 0&&(le=this.length),Y<0||X>z.length||re<0||le>this.length)throw new RangeError("out of range index");if(re>=le&&Y>=X)return 0;if(re>=le)return-1;if(Y>=X)return 1;if(Y>>>=0,X>>>=0,re>>>=0,le>>>=0,this===z)return 0;for(var pe=le-re,_e=X-Y,xe=Math.min(pe,_e),be=this.slice(re,le),Me=z.slice(Y,X),Le=0;Le<xe;++Le)if(be[Le]!==Me[Le]){pe=be[Le],_e=Me[Le];break}return pe<_e?-1:_e<pe?1:0};function B(z,Y,X,re,le){if(z.length===0)return-1;if(typeof X=="string"?(re=X,X=0):X>2147483647?X=2147483647:X<-2147483648&&(X=-2147483648),X=+X,$(X)&&(X=le?0:z.length-1),X<0&&(X=z.length+X),X>=z.length){if(le)return-1;X=z.length-1}else if(X<0)if(le)X=0;else return-1;if(typeof Y=="string"&&(Y=a.from(Y,re)),a.isBuffer(Y))return Y.length===0?-1:C(z,Y,X,re,le);if(typeof Y=="number")return Y=Y&255,typeof Uint8Array.prototype.indexOf=="function"?le?Uint8Array.prototype.indexOf.call(z,Y,X):Uint8Array.prototype.lastIndexOf.call(z,Y,X):C(z,[Y],X,re,le);throw new TypeError("val must be string, number or Buffer")}function C(z,Y,X,re,le){var pe=1,_e=z.length,xe=Y.length;if(re!==void 0&&(re=String(re).toLowerCase(),re==="ucs2"||re==="ucs-2"||re==="utf16le"||re==="utf-16le")){if(z.length<2||Y.length<2)return-1;pe=2,_e/=2,xe/=2,X/=2}function be(ge,me){return pe===1?ge[me]:ge.readUInt16BE(me*pe)}var Me;if(le){var Le=-1;for(Me=X;Me<_e;Me++)if(be(z,Me)===be(Y,Le===-1?0:Me-Le)){if(Le===-1&&(Le=Me),Me-Le+1===xe)return Le*pe}else Le!==-1&&(Me-=Me-Le),Le=-1}else for(X+xe>_e&&(X=_e-xe),Me=X;Me>=0;Me--){for(var oe=!0,ce=0;ce<xe;ce++)if(be(z,Me+ce)!==be(Y,ce)){oe=!1;break}if(oe)return Me}return-1}a.prototype.includes=function(z,Y,X){return this.indexOf(z,Y,X)!==-1},a.prototype.indexOf=function(z,Y,X){return B(this,z,Y,X,!0)},a.prototype.lastIndexOf=function(z,Y,X){return B(this,z,Y,X,!1)};function U(z,Y,X,re){X=Number(X)||0;var le=z.length-X;re?(re=Number(re),re>le&&(re=le)):re=le;var pe=Y.length;re>pe/2&&(re=pe/2);for(var _e=0;_e<re;++_e){var xe=parseInt(Y.substr(_e*2,2),16);if($(xe))return _e;z[X+_e]=xe}return _e}function W(z,Y,X,re){return ue(H(Y,z.length-X),z,X,re)}function L(z,Y,X,re){return ue(Z(Y),z,X,re)}function j(z,Y,X,re){return ue(fe(Y),z,X,re)}function k(z,Y,X,re){return ue(ie(Y,z.length-X),z,X,re)}a.prototype.write=function(z,Y,X,re){if(Y===void 0)re="utf8",X=this.length,Y=0;else if(X===void 0&&typeof Y=="string")re=Y,X=this.length,Y=0;else if(isFinite(Y))Y=Y>>>0,isFinite(X)?(X=X>>>0,re===void 0&&(re="utf8")):(re=X,X=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var le=this.length-Y;if((X===void 0||X>le)&&(X=le),z.length>0&&(X<0||Y<0)||Y>this.length)throw new RangeError("Attempt to write outside buffer bounds");re||(re="utf8");for(var pe=!1;;)switch(re){case"hex":return U(this,z,Y,X);case"utf8":case"utf-8":return W(this,z,Y,X);case"ascii":case"latin1":case"binary":return L(this,z,Y,X);case"base64":return j(this,z,Y,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,z,Y,X);default:if(pe)throw new TypeError("Unknown encoding: "+re);re=(""+re).toLowerCase(),pe=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(z,Y,X){return Y===0&&X===z.length?e.fromByteArray(z):e.fromByteArray(z.slice(Y,X))}function p(z,Y,X){X=Math.min(z.length,X);for(var re=[],le=Y;le<X;){var pe=z[le],_e=null,xe=pe>239?4:pe>223?3:pe>191?2:1;if(le+xe<=X){var be,Me,Le,oe;switch(xe){case 1:pe<128&&(_e=pe);break;case 2:be=z[le+1],(be&192)===128&&(oe=(pe&31)<<6|be&63,oe>127&&(_e=oe));break;case 3:be=z[le+1],Me=z[le+2],(be&192)===128&&(Me&192)===128&&(oe=(pe&15)<<12|(be&63)<<6|Me&63,oe>2047&&(oe<55296||oe>57343)&&(_e=oe));break;case 4:be=z[le+1],Me=z[le+2],Le=z[le+3],(be&192)===128&&(Me&192)===128&&(Le&192)===128&&(oe=(pe&15)<<18|(be&63)<<12|(Me&63)<<6|Le&63,oe>65535&&oe<1114112&&(_e=oe))}}_e===null?(_e=65533,xe=1):_e>65535&&(_e-=65536,re.push(_e>>>10&1023|55296),_e=56320|_e&1023),re.push(_e),le+=xe}return h(re)}var d=4096;function h(z){var Y=z.length;if(Y<=d)return String.fromCharCode.apply(String,z);for(var X="",re=0;re<Y;)X+=String.fromCharCode.apply(String,z.slice(re,re+=d));return X}function b(z,Y,X){var re="";X=Math.min(z.length,X);for(var le=Y;le<X;++le)re+=String.fromCharCode(z[le]&127);return re}function v(z,Y,X){var re="";X=Math.min(z.length,X);for(var le=Y;le<X;++le)re+=String.fromCharCode(z[le]);return re}function w(z,Y,X){var re=z.length;(!Y||Y<0)&&(Y=0),(!X||X<0||X>re)&&(X=re);for(var le="",pe=Y;pe<X;++pe)le+=q[z[pe]];return le}function _(z,Y,X){for(var re=z.slice(Y,X),le="",pe=0;pe<re.length-1;pe+=2)le+=String.fromCharCode(re[pe]+re[pe+1]*256);return le}a.prototype.slice=function(z,Y){var X=this.length;z=~~z,Y=Y===void 0?X:~~Y,z<0?(z+=X,z<0&&(z=0)):z>X&&(z=X),Y<0?(Y+=X,Y<0&&(Y=0)):Y>X&&(Y=X),Y<z&&(Y=z);var re=this.subarray(z,Y);return Object.setPrototypeOf(re,a.prototype),re};function D(z,Y,X){if(z%1!==0||z<0)throw new RangeError("offset is not uint");if(z+Y>X)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(z,Y,X){z=z>>>0,Y=Y>>>0,X||D(z,Y,this.length);for(var re=this[z],le=1,pe=0;++pe<Y&&(le*=256);)re+=this[z+pe]*le;return re},a.prototype.readUintBE=a.prototype.readUIntBE=function(z,Y,X){z=z>>>0,Y=Y>>>0,X||D(z,Y,this.length);for(var re=this[z+--Y],le=1;Y>0&&(le*=256);)re+=this[z+--Y]*le;return re},a.prototype.readUint8=a.prototype.readUInt8=function(z,Y){return z=z>>>0,Y||D(z,1,this.length),this[z]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(z,Y){return z=z>>>0,Y||D(z,2,this.length),this[z]|this[z+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(z,Y){return z=z>>>0,Y||D(z,2,this.length),this[z]<<8|this[z+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(z,Y){return z=z>>>0,Y||D(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+this[z+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(z,Y){return z=z>>>0,Y||D(z,4,this.length),this[z]*16777216+(this[z+1]<<16|this[z+2]<<8|this[z+3])},a.prototype.readIntLE=function(z,Y,X){z=z>>>0,Y=Y>>>0,X||D(z,Y,this.length);for(var re=this[z],le=1,pe=0;++pe<Y&&(le*=256);)re+=this[z+pe]*le;return le*=128,re>=le&&(re-=Math.pow(2,8*Y)),re},a.prototype.readIntBE=function(z,Y,X){z=z>>>0,Y=Y>>>0,X||D(z,Y,this.length);for(var re=Y,le=1,pe=this[z+--re];re>0&&(le*=256);)pe+=this[z+--re]*le;return le*=128,pe>=le&&(pe-=Math.pow(2,8*Y)),pe},a.prototype.readInt8=function(z,Y){return z=z>>>0,Y||D(z,1,this.length),this[z]&128?(255-this[z]+1)*-1:this[z]},a.prototype.readInt16LE=function(z,Y){z=z>>>0,Y||D(z,2,this.length);var X=this[z]|this[z+1]<<8;return X&32768?X|4294901760:X},a.prototype.readInt16BE=function(z,Y){z=z>>>0,Y||D(z,2,this.length);var X=this[z+1]|this[z]<<8;return X&32768?X|4294901760:X},a.prototype.readInt32LE=function(z,Y){return z=z>>>0,Y||D(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},a.prototype.readInt32BE=function(z,Y){return z=z>>>0,Y||D(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},a.prototype.readFloatLE=function(z,Y){return z=z>>>0,Y||D(z,4,this.length),r.read(this,z,!0,23,4)},a.prototype.readFloatBE=function(z,Y){return z=z>>>0,Y||D(z,4,this.length),r.read(this,z,!1,23,4)},a.prototype.readDoubleLE=function(z,Y){return z=z>>>0,Y||D(z,8,this.length),r.read(this,z,!0,52,8)},a.prototype.readDoubleBE=function(z,Y){return z=z>>>0,Y||D(z,8,this.length),r.read(this,z,!1,52,8)};function S(z,Y,X,re,le,pe){if(!a.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(Y>le||Y<pe)throw new RangeError('"value" argument is out of bounds');if(X+re>z.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(z,Y,X,re){if(z=+z,Y=Y>>>0,X=X>>>0,!re){var le=Math.pow(2,8*X)-1;S(this,z,Y,X,le,0)}var pe=1,_e=0;for(this[Y]=z&255;++_e<X&&(pe*=256);)this[Y+_e]=z/pe&255;return Y+X},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(z,Y,X,re){if(z=+z,Y=Y>>>0,X=X>>>0,!re){var le=Math.pow(2,8*X)-1;S(this,z,Y,X,le,0)}var pe=X-1,_e=1;for(this[Y+pe]=z&255;--pe>=0&&(_e*=256);)this[Y+pe]=z/_e&255;return Y+X},a.prototype.writeUint8=a.prototype.writeUInt8=function(z,Y,X){return z=+z,Y=Y>>>0,X||S(this,z,Y,1,255,0),this[Y]=z&255,Y+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(z,Y,X){return z=+z,Y=Y>>>0,X||S(this,z,Y,2,65535,0),this[Y]=z&255,this[Y+1]=z>>>8,Y+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(z,Y,X){return z=+z,Y=Y>>>0,X||S(this,z,Y,2,65535,0),this[Y]=z>>>8,this[Y+1]=z&255,Y+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(z,Y,X){return z=+z,Y=Y>>>0,X||S(this,z,Y,4,4294967295,0),this[Y+3]=z>>>24,this[Y+2]=z>>>16,this[Y+1]=z>>>8,this[Y]=z&255,Y+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(z,Y,X){return z=+z,Y=Y>>>0,X||S(this,z,Y,4,4294967295,0),this[Y]=z>>>24,this[Y+1]=z>>>16,this[Y+2]=z>>>8,this[Y+3]=z&255,Y+4},a.prototype.writeIntLE=function(z,Y,X,re){if(z=+z,Y=Y>>>0,!re){var le=Math.pow(2,8*X-1);S(this,z,Y,X,le-1,-le)}var pe=0,_e=1,xe=0;for(this[Y]=z&255;++pe<X&&(_e*=256);)z<0&&xe===0&&this[Y+pe-1]!==0&&(xe=1),this[Y+pe]=(z/_e>>0)-xe&255;return Y+X},a.prototype.writeIntBE=function(z,Y,X,re){if(z=+z,Y=Y>>>0,!re){var le=Math.pow(2,8*X-1);S(this,z,Y,X,le-1,-le)}var pe=X-1,_e=1,xe=0;for(this[Y+pe]=z&255;--pe>=0&&(_e*=256);)z<0&&xe===0&&this[Y+pe+1]!==0&&(xe=1),this[Y+pe]=(z/_e>>0)-xe&255;return Y+X},a.prototype.writeInt8=function(z,Y,X){return z=+z,Y=Y>>>0,X||S(this,z,Y,1,127,-128),z<0&&(z=255+z+1),this[Y]=z&255,Y+1},a.prototype.writeInt16LE=function(z,Y,X){return z=+z,Y=Y>>>0,X||S(this,z,Y,2,32767,-32768),this[Y]=z&255,this[Y+1]=z>>>8,Y+2},a.prototype.writeInt16BE=function(z,Y,X){return z=+z,Y=Y>>>0,X||S(this,z,Y,2,32767,-32768),this[Y]=z>>>8,this[Y+1]=z&255,Y+2},a.prototype.writeInt32LE=function(z,Y,X){return z=+z,Y=Y>>>0,X||S(this,z,Y,4,2147483647,-2147483648),this[Y]=z&255,this[Y+1]=z>>>8,this[Y+2]=z>>>16,this[Y+3]=z>>>24,Y+4},a.prototype.writeInt32BE=function(z,Y,X){return z=+z,Y=Y>>>0,X||S(this,z,Y,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),this[Y]=z>>>24,this[Y+1]=z>>>16,this[Y+2]=z>>>8,this[Y+3]=z&255,Y+4};function A(z,Y,X,re,le,pe){if(X+re>z.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("Index out of range")}function N(z,Y,X,re,le){return Y=+Y,X=X>>>0,le||A(z,Y,X,4,34028234663852886e22,-34028234663852886e22),r.write(z,Y,X,re,23,4),X+4}a.prototype.writeFloatLE=function(z,Y,X){return N(this,z,Y,!0,X)},a.prototype.writeFloatBE=function(z,Y,X){return N(this,z,Y,!1,X)};function G(z,Y,X,re,le){return Y=+Y,X=X>>>0,le||A(z,Y,X,8,17976931348623157e292,-17976931348623157e292),r.write(z,Y,X,re,52,8),X+8}a.prototype.writeDoubleLE=function(z,Y,X){return G(this,z,Y,!0,X)},a.prototype.writeDoubleBE=function(z,Y,X){return G(this,z,Y,!1,X)},a.prototype.copy=function(z,Y,X,re){if(!a.isBuffer(z))throw new TypeError("argument should be a Buffer");if(X||(X=0),!re&&re!==0&&(re=this.length),Y>=z.length&&(Y=z.length),Y||(Y=0),re>0&&re<X&&(re=X),re===X||z.length===0||this.length===0)return 0;if(Y<0)throw new RangeError("targetStart out of bounds");if(X<0||X>=this.length)throw new RangeError("Index out of range");if(re<0)throw new RangeError("sourceEnd out of bounds");re>this.length&&(re=this.length),z.length-Y<re-X&&(re=z.length-Y+X);var le=re-X;return this===z&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Y,X,re):Uint8Array.prototype.set.call(z,this.subarray(X,re),Y),le},a.prototype.fill=function(z,Y,X,re){if(typeof z=="string"){if(typeof Y=="string"?(re=Y,Y=0,X=this.length):typeof X=="string"&&(re=X,X=this.length),re!==void 0&&typeof re!="string")throw new TypeError("encoding must be a string");if(typeof re=="string"&&!a.isEncoding(re))throw new TypeError("Unknown encoding: "+re);if(z.length===1){var le=z.charCodeAt(0);(re==="utf8"&&le<128||re==="latin1")&&(z=le)}}else typeof z=="number"?z=z&255:typeof z=="boolean"&&(z=Number(z));if(Y<0||this.length<Y||this.length<X)throw new RangeError("Out of range index");if(X<=Y)return this;Y=Y>>>0,X=X===void 0?this.length:X>>>0,z||(z=0);var pe;if(typeof z=="number")for(pe=Y;pe<X;++pe)this[pe]=z;else{var _e=a.isBuffer(z)?z:a.from(z,re),xe=_e.length;if(xe===0)throw new TypeError('The value "'+z+'" is invalid for argument "value"');for(pe=0;pe<X-Y;++pe)this[pe+Y]=_e[pe%xe]}return this};var Q=/[^+/0-9A-Za-z-_]/g;function ne(z){if(z=z.split("=")[0],z=z.trim().replace(Q,""),z.length<2)return"";for(;z.length%4!==0;)z=z+"=";return z}function H(z,Y){Y=Y||1/0;for(var X,re=z.length,le=null,pe=[],_e=0;_e<re;++_e){if(X=z.charCodeAt(_e),X>55295&&X<57344){if(!le){if(X>56319){(Y-=3)>-1&&pe.push(239,191,189);continue}else if(_e+1===re){(Y-=3)>-1&&pe.push(239,191,189);continue}le=X;continue}if(X<56320){(Y-=3)>-1&&pe.push(239,191,189),le=X;continue}X=(le-55296<<10|X-56320)+65536}else le&&(Y-=3)>-1&&pe.push(239,191,189);if(le=null,X<128){if((Y-=1)<0)break;pe.push(X)}else if(X<2048){if((Y-=2)<0)break;pe.push(X>>6|192,X&63|128)}else if(X<65536){if((Y-=3)<0)break;pe.push(X>>12|224,X>>6&63|128,X&63|128)}else if(X<1114112){if((Y-=4)<0)break;pe.push(X>>18|240,X>>12&63|128,X>>6&63|128,X&63|128)}else throw new Error("Invalid code point")}return pe}function Z(z){for(var Y=[],X=0;X<z.length;++X)Y.push(z.charCodeAt(X)&255);return Y}function ie(z,Y){for(var X,re,le,pe=[],_e=0;_e<z.length&&!((Y-=2)<0);++_e)X=z.charCodeAt(_e),re=X>>8,le=X%256,pe.push(le),pe.push(re);return pe}function fe(z){return e.toByteArray(ne(z))}function ue(z,Y,X,re){for(var le=0;le<re&&!(le+X>=Y.length||le>=z.length);++le)Y[le+X]=z[le];return le}function ye(z,Y){return z instanceof Y||z!=null&&z.constructor!=null&&z.constructor.name!=null&&z.constructor.name===Y.name}function $(z){return z!==z}var q=function(){for(var z="0123456789abcdef",Y=new Array(256),X=0;X<16;++X)for(var re=X*16,le=0;le<16;++le)Y[re+le]=z[X]+z[le];return Y}()}),Kp=he((t,e)=>{ee();var r=e.exports={},i,n;function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?i=setTimeout:i=s}catch{i=s}try{typeof clearTimeout=="function"?n=clearTimeout:n=o}catch{n=o}})();function a(T){if(i===setTimeout)return setTimeout(T,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(T,0);try{return i(T,0)}catch{try{return i.call(null,T,0)}catch{return i.call(this,T,0)}}}function f(T){if(n===clearTimeout)return clearTimeout(T);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(T);try{return n(T)}catch{try{return n.call(null,T)}catch{return n.call(this,T)}}}var c=[],u=!1,l,y=-1;function m(){!u||!l||(u=!1,l.length?c=l.concat(c):y=-1,c.length&&g())}function g(){if(!u){var T=a(m);u=!0;for(var M=c.length;M;){for(l=c,c=[];++y<M;)l&&l[y].run();y=-1,M=c.length}l=null,u=!1,f(T)}}r.nextTick=function(T){var M=new Array(arguments.length-1);if(arguments.length>1)for(var I=1;I<arguments.length;I++)M[I-1]=arguments[I];c.push(new E(T,M)),c.length===1&&!u&&a(g)};function E(T,M){this.fun=T,this.array=M}E.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function x(){}r.on=x,r.addListener=x,r.once=x,r.off=x,r.removeListener=x,r.removeAllListeners=x,r.emit=x,r.prependListener=x,r.prependOnceListener=x,r.listeners=function(T){return[]},r.binding=function(T){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(T){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}),Rt,Fe,xje,ee=Ri(()=>{Rt=vr(ji()),Fe=vr(Kp()),xje=function(t){function e(){var i=this||self;return delete t.prototype.__magic__,i}if(typeof globalThis=="object")return globalThis;if(this)return e();t.defineProperty(t.prototype,"__magic__",{configurable:!0,get:e});var r=__magic__;return r}(Object)}),Wa=he((t,e)=>{"use strict";ee();function r(n,s){for(let o in s)Object.defineProperty(n,o,{value:s[o],enumerable:!0,configurable:!0});return n}function i(n,s,o){if(!n||typeof n=="string")throw new TypeError("Please pass an Error to err-code");o||(o={}),typeof s=="object"&&(o=s,s=""),s&&(o.code=s);try{return r(n,o)}catch{o.message=n.message,o.stack=n.stack;let a=function(){};return a.prototype=Object.create(Object.getPrototypeOf(n)),r(new a,o)}}e.exports=i}),Ace=he((t,e)=>{"use strict";ee(),e.exports=r;function r(i,n){for(var s=new Array(arguments.length-1),o=0,a=2,f=!0;a<arguments.length;)s[o++]=arguments[a++];return new Promise(function(c,u){s[o]=function(l){if(f)if(f=!1,l)u(l);else{for(var y=new Array(arguments.length-1),m=0;m<y.length;)y[m++]=arguments[m];c.apply(null,y)}};try{i.apply(n||null,s)}catch(l){f&&(f=!1,u(l))}})}}),Mce=he(t=>{"use strict";ee();var e=t;e.length=function(o){var a=o.length;if(!a)return 0;for(var f=0;--a%4>1&&o.charAt(a)==="=";)++f;return Math.ceil(o.length*3)/4-f};var r=new Array(64),i=new Array(123);for(n=0;n<64;)i[r[n]=n<26?n+65:n<52?n+71:n<62?n-4:n-59|43]=n++;var n;e.encode=function(o,a,f){for(var c=null,u=[],l=0,y=0,m;a<f;){var g=o[a++];switch(y){case 0:u[l++]=r[g>>2],m=(g&3)<<4,y=1;break;case 1:u[l++]=r[m|g>>4],m=(g&15)<<2,y=2;break;case 2:u[l++]=r[m|g>>6],u[l++]=r[g&63],y=0;break}l>8191&&((c||(c=[])).push(String.fromCharCode.apply(String,u)),l=0)}return y&&(u[l++]=r[m],u[l++]=61,y===1&&(u[l++]=61)),c?(l&&c.push(String.fromCharCode.apply(String,u.slice(0,l))),c.join("")):String.fromCharCode.apply(String,u.slice(0,l))};var s="invalid encoding";e.decode=function(o,a,f){for(var c=f,u=0,l,y=0;y<o.length;){var m=o.charCodeAt(y++);if(m===61&&u>1)break;if((m=i[m])===void 0)throw Error(s);switch(u){case 0:l=m,u=1;break;case 1:a[f++]=l<<2|(m&48)>>4,l=m,u=2;break;case 2:a[f++]=(l&15)<<4|(m&60)>>2,l=m,u=3;break;case 3:a[f++]=(l&3)<<6|m,u=0;break}}if(u===1)throw Error(s);return f-c},e.test=function(o){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(o)}}),kce=he((t,e)=>{"use strict";ee(),e.exports=r;function r(){this._listeners={}}r.prototype.on=function(i,n,s){return(this._listeners[i]||(this._listeners[i]=[])).push({fn:n,ctx:s||this}),this},r.prototype.off=function(i,n){if(i===void 0)this._listeners={};else if(n===void 0)this._listeners[i]=[];else for(var s=this._listeners[i],o=0;o<s.length;)s[o].fn===n?s.splice(o,1):++o;return this},r.prototype.emit=function(i){var n=this._listeners[i];if(n){for(var s=[],o=1;o<arguments.length;)s.push(arguments[o++]);for(o=0;o<n.length;)n[o].fn.apply(n[o++].ctx,s)}return this}}),Tce=he((t,e)=>{"use strict";ee(),e.exports=r(r);function r(a){return typeof Float32Array<"u"?function(){var f=new Float32Array([-0]),c=new Uint8Array(f.buffer),u=c[3]===128;function l(E,x,T){f[0]=E,x[T]=c[0],x[T+1]=c[1],x[T+2]=c[2],x[T+3]=c[3]}function y(E,x,T){f[0]=E,x[T]=c[3],x[T+1]=c[2],x[T+2]=c[1],x[T+3]=c[0]}a.writeFloatLE=u?l:y,a.writeFloatBE=u?y:l;function m(E,x){return c[0]=E[x],c[1]=E[x+1],c[2]=E[x+2],c[3]=E[x+3],f[0]}function g(E,x){return c[3]=E[x],c[2]=E[x+1],c[1]=E[x+2],c[0]=E[x+3],f[0]}a.readFloatLE=u?m:g,a.readFloatBE=u?g:m}():function(){function f(u,l,y,m){var g=l<0?1:0;if(g&&(l=-l),l===0)u(1/l>0?0:2147483648,y,m);else if(isNaN(l))u(2143289344,y,m);else if(l>34028234663852886e22)u((g<<31|2139095040)>>>0,y,m);else if(l<11754943508222875e-54)u((g<<31|Math.round(l/1401298464324817e-60))>>>0,y,m);else{var E=Math.floor(Math.log(l)/Math.LN2),x=Math.round(l*Math.pow(2,-E)*8388608)&8388607;u((g<<31|E+127<<23|x)>>>0,y,m)}}a.writeFloatLE=f.bind(null,i),a.writeFloatBE=f.bind(null,n);function c(u,l,y){var m=u(l,y),g=(m>>31)*2+1,E=m>>>23&255,x=m&8388607;return E===255?x?NaN:g*(1/0):E===0?g*1401298464324817e-60*x:g*Math.pow(2,E-150)*(x+8388608)}a.readFloatLE=c.bind(null,s),a.readFloatBE=c.bind(null,o)}(),typeof Float64Array<"u"?function(){var f=new Float64Array([-0]),c=new Uint8Array(f.buffer),u=c[7]===128;function l(E,x,T){f[0]=E,x[T]=c[0],x[T+1]=c[1],x[T+2]=c[2],x[T+3]=c[3],x[T+4]=c[4],x[T+5]=c[5],x[T+6]=c[6],x[T+7]=c[7]}function y(E,x,T){f[0]=E,x[T]=c[7],x[T+1]=c[6],x[T+2]=c[5],x[T+3]=c[4],x[T+4]=c[3],x[T+5]=c[2],x[T+6]=c[1],x[T+7]=c[0]}a.writeDoubleLE=u?l:y,a.writeDoubleBE=u?y:l;function m(E,x){return c[0]=E[x],c[1]=E[x+1],c[2]=E[x+2],c[3]=E[x+3],c[4]=E[x+4],c[5]=E[x+5],c[6]=E[x+6],c[7]=E[x+7],f[0]}function g(E,x){return c[7]=E[x],c[6]=E[x+1],c[5]=E[x+2],c[4]=E[x+3],c[3]=E[x+4],c[2]=E[x+5],c[1]=E[x+6],c[0]=E[x+7],f[0]}a.readDoubleLE=u?m:g,a.readDoubleBE=u?g:m}():function(){function f(u,l,y,m,g,E){var x=m<0?1:0;if(x&&(m=-m),m===0)u(0,g,E+l),u(1/m>0?0:2147483648,g,E+y);else if(isNaN(m))u(0,g,E+l),u(2146959360,g,E+y);else if(m>17976931348623157e292)u(0,g,E+l),u((x<<31|2146435072)>>>0,g,E+y);else{var T;if(m<22250738585072014e-324)T=m/5e-324,u(T>>>0,g,E+l),u((x<<31|T/4294967296)>>>0,g,E+y);else{var M=Math.floor(Math.log(m)/Math.LN2);M===1024&&(M=1023),T=m*Math.pow(2,-M),u(T*4503599627370496>>>0,g,E+l),u((x<<31|M+1023<<20|T*1048576&1048575)>>>0,g,E+y)}}}a.writeDoubleLE=f.bind(null,i,0,4),a.writeDoubleBE=f.bind(null,n,4,0);function c(u,l,y,m,g){var E=u(m,g+l),x=u(m,g+y),T=(x>>31)*2+1,M=x>>>20&2047,I=4294967296*(x&1048575)+E;return M===2047?I?NaN:T*(1/0):M===0?T*5e-324*I:T*Math.pow(2,M-1075)*(I+4503599627370496)}a.readDoubleLE=c.bind(null,s,0,4),a.readDoubleBE=c.bind(null,o,4,0)}(),a}function i(a,f,c){f[c]=a&255,f[c+1]=a>>>8&255,f[c+2]=a>>>16&255,f[c+3]=a>>>24}function n(a,f,c){f[c]=a>>>24,f[c+1]=a>>>16&255,f[c+2]=a>>>8&255,f[c+3]=a&255}function s(a,f){return(a[f]|a[f+1]<<8|a[f+2]<<16|a[f+3]<<24)>>>0}function o(a,f){return(a[f]<<24|a[f+1]<<16|a[f+2]<<8|a[f+3])>>>0}}),Pce=he((exports,module)=>{"use strict";ee(),module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}}),Dce=he(t=>{"use strict";ee();var e=t;e.length=function(r){for(var i=0,n=0,s=0;s<r.length;++s)n=r.charCodeAt(s),n<128?i+=1:n<2048?i+=2:(n&64512)===55296&&(r.charCodeAt(s+1)&64512)===56320?(++s,i+=4):i+=3;return i},e.read=function(r,i,n){var s=n-i;if(s<1)return"";for(var o=null,a=[],f=0,c;i<n;)c=r[i++],c<128?a[f++]=c:c>191&&c<224?a[f++]=(c&31)<<6|r[i++]&63:c>239&&c<365?(c=((c&7)<<18|(r[i++]&63)<<12|(r[i++]&63)<<6|r[i++]&63)-65536,a[f++]=55296+(c>>10),a[f++]=56320+(c&1023)):a[f++]=(c&15)<<12|(r[i++]&63)<<6|r[i++]&63,f>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),f=0);return o?(f&&o.push(String.fromCharCode.apply(String,a.slice(0,f))),o.join("")):String.fromCharCode.apply(String,a.slice(0,f))},e.write=function(r,i,n){for(var s=n,o,a,f=0;f<r.length;++f)o=r.charCodeAt(f),o<128?i[n++]=o:o<2048?(i[n++]=o>>6|192,i[n++]=o&63|128):(o&64512)===55296&&((a=r.charCodeAt(f+1))&64512)===56320?(o=65536+((o&1023)<<10)+(a&1023),++f,i[n++]=o>>18|240,i[n++]=o>>12&63|128,i[n++]=o>>6&63|128,i[n++]=o&63|128):(i[n++]=o>>12|224,i[n++]=o>>6&63|128,i[n++]=o&63|128);return n-s}}),Ice=he((t,e)=>{"use strict";ee(),e.exports=r;function r(i,n,s){var o=s||8192,a=o>>>1,f=null,c=o;return function(u){if(u<1||u>a)return i(u);c+u>o&&(f=i(o),c=0);var l=n.call(f,c,c+=u);return c&7&&(c=(c|7)+1),l}}}),Aje=he((t,e)=>{"use strict";ee(),e.exports=i;var r=Zb();function i(a,f){this.lo=a>>>0,this.hi=f>>>0}var n=i.zero=new i(0,0);n.toNumber=function(){return 0},n.zzEncode=n.zzDecode=function(){return this},n.length=function(){return 1};var s=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(a){if(a===0)return n;var f=a<0;f&&(a=-a);var c=a>>>0,u=(a-c)/4294967296>>>0;return f&&(u=~u>>>0,c=~c>>>0,++c>4294967295&&(c=0,++u>4294967295&&(u=0))),new i(c,u)},i.from=function(a){if(typeof a=="number")return i.fromNumber(a);if(r.isString(a))if(r.Long)a=r.Long.fromString(a);else return i.fromNumber(parseInt(a,10));return a.low||a.high?new i(a.low>>>0,a.high>>>0):n},i.prototype.toNumber=function(a){if(!a&&this.hi>>>31){var f=~this.lo+1>>>0,c=~this.hi>>>0;return f||(c=c+1>>>0),-(f+c*4294967296)}return this.lo+this.hi*4294967296},i.prototype.toLong=function(a){return r.Long?new r.Long(this.lo|0,this.hi|0,Boolean(a)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(a)}};var o=String.prototype.charCodeAt;i.fromHash=function(a){return a===s?n:new i((o.call(a,0)|o.call(a,1)<<8|o.call(a,2)<<16|o.call(a,3)<<24)>>>0,(o.call(a,4)|o.call(a,5)<<8|o.call(a,6)<<16|o.call(a,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var a=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^a)>>>0,this.lo=(this.lo<<1^a)>>>0,this},i.prototype.zzDecode=function(){var a=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^a)>>>0,this.hi=(this.hi>>>1^a)>>>0,this},i.prototype.length=function(){var a=this.lo,f=(this.lo>>>28|this.hi<<4)>>>0,c=this.hi>>>24;return c===0?f===0?a<16384?a<128?1:2:a<2097152?3:4:f<16384?f<128?5:6:f<2097152?7:8:c<128?9:10}}),Zb=he(t=>{"use strict";ee();var e=t;e.asPromise=Ace(),e.base64=Mce(),e.EventEmitter=kce(),e.float=Tce(),e.inquire=Pce(),e.utf8=Dce(),e.pool=Ice(),e.LongBits=Aje(),e.isNode=Boolean(typeof globalThis<"u"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node),e.global=e.isNode&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||t,e.emptyArray=Object.freeze?Object.freeze([]):[],e.emptyObject=Object.freeze?Object.freeze({}):{},e.isInteger=Number.isInteger||function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n},e.isString=function(n){return typeof n=="string"||n instanceof String},e.isObject=function(n){return n&&typeof n=="object"},e.isset=e.isSet=function(n,s){var o=n[s];return o!=null&&n.hasOwnProperty(s)?typeof o!="object"||(Array.isArray(o)?o.length:Object.keys(o).length)>0:!1},e.Buffer=function(){try{var n=e.inquire("buffer").Buffer;return n.prototype.utf8Write?n:null}catch{return null}}(),e._Buffer_from=null,e._Buffer_allocUnsafe=null,e.newBuffer=function(n){return typeof n=="number"?e.Buffer?e._Buffer_allocUnsafe(n):new e.Array(n):e.Buffer?e._Buffer_from(n):typeof Uint8Array>"u"?n:new Uint8Array(n)},e.Array=typeof Uint8Array<"u"?Uint8Array:Array,e.Long=e.global.dcodeIO&&e.global.dcodeIO.Long||e.global.Long||e.inquire("long"),e.key2Re=/^true|false|0|1$/,e.key32Re=/^-?(?:0|[1-9][0-9]*)$/,e.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,e.longToHash=function(n){return n?e.LongBits.from(n).toHash():e.LongBits.zeroHash},e.longFromHash=function(n,s){var o=e.LongBits.fromHash(n);return e.Long?e.Long.fromBits(o.lo,o.hi,s):o.toNumber(Boolean(s))};function r(n,s,o){for(var a=Object.keys(s),f=0;f<a.length;++f)(n[a[f]]===void 0||!o)&&(n[a[f]]=s[a[f]]);return n}e.merge=r,e.lcFirst=function(n){return n.charAt(0).toLowerCase()+n.substring(1)};function i(n){function s(o,a){if(!(this instanceof s))return new s(o,a);Object.defineProperty(this,"message",{get:function(){return o}}),Error.captureStackTrace?Error.captureStackTrace(this,s):Object.defineProperty(this,"stack",{value:new Error().stack||""}),a&&r(this,a)}return s.prototype=Object.create(Error.prototype,{constructor:{value:s,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return n},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),s}e.newError=i,e.ProtocolError=i("ProtocolError"),e.oneOfGetter=function(n){for(var s={},o=0;o<n.length;++o)s[n[o]]=1;return function(){for(var a=Object.keys(this),f=a.length-1;f>-1;--f)if(s[a[f]]===1&&this[a[f]]!==void 0&&this[a[f]]!==null)return a[f]}},e.oneOfSetter=function(n){return function(s){for(var o=0;o<n.length;++o)n[o]!==s&&delete this[n[o]]}},e.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},e._configure=function(){var n=e.Buffer;if(!n){e._Buffer_from=e._Buffer_allocUnsafe=null;return}e._Buffer_from=n.from!==Uint8Array.from&&n.from||function(s,o){return new n(s,o)},e._Buffer_allocUnsafe=n.allocUnsafe||function(s){return new n(s)}}}),Rce=he((t,e)=>{"use strict";ee(),e.exports=a;var r=Zb(),i,n=r.LongBits,s=r.utf8;function o(m,g){return RangeError("index out of range: "+m.pos+" + "+(g||1)+" > "+m.len)}function a(m){this.buf=m,this.pos=0,this.len=m.length}var f=typeof Uint8Array<"u"?function(m){if(m instanceof Uint8Array||Array.isArray(m))return new a(m);throw Error("illegal buffer")}:function(m){if(Array.isArray(m))return new a(m);throw Error("illegal buffer")},c=function(){return r.Buffer?function(m){return(a.create=function(g){return r.Buffer.isBuffer(g)?new i(g):f(g)})(m)}:f};a.create=c(),a.prototype._slice=r.Array.prototype.subarray||r.Array.prototype.slice,a.prototype.uint32=function(){var m=4294967295;return function(){if(m=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(m=(m|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(m=(m|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(m=(m|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(m=(m|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return m;if((this.pos+=5)>this.len)throw this.pos=this.len,o(this,10);return m}}(),a.prototype.int32=function(){return this.uint32()|0},a.prototype.sint32=function(){var m=this.uint32();return m>>>1^-(m&1)|0};function u(){var m=new n(0,0),g=0;if(this.len-this.pos>4){for(;g<4;++g)if(m.lo=(m.lo|(this.buf[this.pos]&127)<<g*7)>>>0,this.buf[this.pos++]<128)return m;if(m.lo=(m.lo|(this.buf[this.pos]&127)<<28)>>>0,m.hi=(m.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return m;g=0}else{for(;g<3;++g){if(this.pos>=this.len)throw o(this);if(m.lo=(m.lo|(this.buf[this.pos]&127)<<g*7)>>>0,this.buf[this.pos++]<128)return m}return m.lo=(m.lo|(this.buf[this.pos++]&127)<<g*7)>>>0,m}if(this.len-this.pos>4){for(;g<5;++g)if(m.hi=(m.hi|(this.buf[this.pos]&127)<<g*7+3)>>>0,this.buf[this.pos++]<128)return m}else for(;g<5;++g){if(this.pos>=this.len)throw o(this);if(m.hi=(m.hi|(this.buf[this.pos]&127)<<g*7+3)>>>0,this.buf[this.pos++]<128)return m}throw Error("invalid varint encoding")}a.prototype.bool=function(){return this.uint32()!==0};function l(m,g){return(m[g-4]|m[g-3]<<8|m[g-2]<<16|m[g-1]<<24)>>>0}a.prototype.fixed32=function(){if(this.pos+4>this.len)throw o(this,4);return l(this.buf,this.pos+=4)},a.prototype.sfixed32=function(){if(this.pos+4>this.len)throw o(this,4);return l(this.buf,this.pos+=4)|0};function y(){if(this.pos+8>this.len)throw o(this,8);return new n(l(this.buf,this.pos+=4),l(this.buf,this.pos+=4))}a.prototype.float=function(){if(this.pos+4>this.len)throw o(this,4);var m=r.float.readFloatLE(this.buf,this.pos);return this.pos+=4,m},a.prototype.double=function(){if(this.pos+8>this.len)throw o(this,4);var m=r.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,m},a.prototype.bytes=function(){var m=this.uint32(),g=this.pos,E=this.pos+m;if(E>this.len)throw o(this,m);return this.pos+=m,Array.isArray(this.buf)?this.buf.slice(g,E):g===E?new this.buf.constructor(0):this._slice.call(this.buf,g,E)},a.prototype.string=function(){var m=this.bytes();return s.read(m,0,m.length)},a.prototype.skip=function(m){if(typeof m=="number"){if(this.pos+m>this.len)throw o(this,m);this.pos+=m}else do if(this.pos>=this.len)throw o(this);while(this.buf[this.pos++]&128);return this},a.prototype.skipType=function(m){switch(m){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(m=this.uint32()&7)!==4;)this.skipType(m);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+m+" at offset "+this.pos)}return this},a._configure=function(m){i=m,a.create=c(),i._configure();var g=r.Long?"toLong":"toNumber";r.merge(a.prototype,{int64:function(){return u.call(this)[g](!1)},uint64:function(){return u.call(this)[g](!0)},sint64:function(){return u.call(this).zzDecode()[g](!1)},fixed64:function(){return y.call(this)[g](!0)},sfixed64:function(){return y.call(this)[g](!1)}})}}),Mje=he((t,e)=>{"use strict";ee(),e.exports=n;var r=Rce();(n.prototype=Object.create(r.prototype)).constructor=n;var i=Zb();function n(s){r.call(this,s)}n._configure=function(){i.Buffer&&(n.prototype._slice=i.Buffer.prototype.slice)},n.prototype.string=function(){var s=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+s,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+s,this.len))},n._configure()}),Bce=he((t,e)=>{"use strict";ee(),e.exports=u;var r=Zb(),i,n=r.LongBits,s=r.base64,o=r.utf8;function a(M,I,R){this.fn=M,this.len=I,this.next=void 0,this.val=R}function f(){}function c(M){this.head=M.head,this.tail=M.tail,this.len=M.len,this.next=M.states}function u(){this.len=0,this.head=new a(f,0,0),this.tail=this.head,this.states=null}var l=function(){return r.Buffer?function(){return(u.create=function(){return new i})()}:function(){return new u}};u.create=l(),u.alloc=function(M){return new r.Array(M)},r.Array!==Array&&(u.alloc=r.pool(u.alloc,r.Array.prototype.subarray)),u.prototype._push=function(M,I,R){return this.tail=this.tail.next=new a(M,I,R),this.len+=I,this};function y(M,I,R){I[R]=M&255}function m(M,I,R){for(;M>127;)I[R++]=M&127|128,M>>>=7;I[R]=M}function g(M,I){this.len=M,this.next=void 0,this.val=I}g.prototype=Object.create(a.prototype),g.prototype.fn=m,u.prototype.uint32=function(M){return this.len+=(this.tail=this.tail.next=new g((M=M>>>0)<128?1:M<16384?2:M<2097152?3:M<268435456?4:5,M)).len,this},u.prototype.int32=function(M){return M<0?this._push(E,10,n.fromNumber(M)):this.uint32(M)},u.prototype.sint32=function(M){return this.uint32((M<<1^M>>31)>>>0)};function E(M,I,R){for(;M.hi;)I[R++]=M.lo&127|128,M.lo=(M.lo>>>7|M.hi<<25)>>>0,M.hi>>>=7;for(;M.lo>127;)I[R++]=M.lo&127|128,M.lo=M.lo>>>7;I[R++]=M.lo}u.prototype.uint64=function(M){var I=n.from(M);return this._push(E,I.length(),I)},u.prototype.int64=u.prototype.uint64,u.prototype.sint64=function(M){var I=n.from(M).zzEncode();return this._push(E,I.length(),I)},u.prototype.bool=function(M){return this._push(y,1,M?1:0)};function x(M,I,R){I[R]=M&255,I[R+1]=M>>>8&255,I[R+2]=M>>>16&255,I[R+3]=M>>>24}u.prototype.fixed32=function(M){return this._push(x,4,M>>>0)},u.prototype.sfixed32=u.prototype.fixed32,u.prototype.fixed64=function(M){var I=n.from(M);return this._push(x,4,I.lo)._push(x,4,I.hi)},u.prototype.sfixed64=u.prototype.fixed64,u.prototype.float=function(M){return this._push(r.float.writeFloatLE,4,M)},u.prototype.double=function(M){return this._push(r.float.writeDoubleLE,8,M)};var T=r.Array.prototype.set?function(M,I,R){I.set(M,R)}:function(M,I,R){for(var O=0;O<M.length;++O)I[R+O]=M[O]};u.prototype.bytes=function(M){var I=M.length>>>0;if(!I)return this._push(y,1,0);if(r.isString(M)){var R=u.alloc(I=s.length(M));s.decode(M,R,0),M=R}return this.uint32(I)._push(T,I,M)},u.prototype.string=function(M){var I=o.length(M);return I?this.uint32(I)._push(o.write,I,M):this._push(y,1,0)},u.prototype.fork=function(){return this.states=new c(this),this.head=this.tail=new a(f,0,0),this.len=0,this},u.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new a(f,0,0),this.len=0),this},u.prototype.ldelim=function(){var M=this.head,I=this.tail,R=this.len;return this.reset().uint32(R),R&&(this.tail.next=M.next,this.tail=I,this.len+=R),this},u.prototype.finish=function(){for(var M=this.head.next,I=this.constructor.alloc(this.len),R=0;M;)M.fn(M.val,I,R),R+=M.len,M=M.next;return I},u._configure=function(M){i=M,u.create=l(),i._configure()}}),kje=he((t,e)=>{"use strict";ee(),e.exports=n;var r=Bce();(n.prototype=Object.create(r.prototype)).constructor=n;var i=Zb();function n(){r.call(this)}n._configure=function(){n.alloc=i._Buffer_allocUnsafe,n.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&i.Buffer.prototype.set.name==="set"?function(o,a,f){a.set(o,f)}:function(o,a,f){if(o.copy)o.copy(a,f,0,o.length);else for(var c=0;c<o.length;)a[f++]=o[c++]}},n.prototype.bytes=function(o){i.isString(o)&&(o=i._Buffer_from(o,"base64"));var a=o.length>>>0;return this.uint32(a),a&&this._push(n.writeBytesBuffer,a,o),this};function s(o,a,f){o.length<40?i.utf8.write(o,a,f):a.utf8Write?a.utf8Write(o,f):a.write(o,f)}n.prototype.string=function(o){var a=i.Buffer.byteLength(o);return this.uint32(a),a&&this._push(s,a,o),this},n._configure()}),Cce=he((t,e)=>{"use strict";ee(),e.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(o,a){let f=this._internalPositionFor(o,!1);if(a===void 0)f!==-1&&(this._unsetInternalPos(f),this._unsetBit(o),this._changedLength=!0,this._changedData=!0);else{let c=!1;f===-1?(f=this._data.length,this._setBit(o),this._changedData=!0):c=!0,this._setInternalPos(f,o,a,c),this._changedLength=!0}}unset(o){this.set(o,void 0)}get(o){this._sortData();let a=this._internalPositionFor(o,!0);if(a!==-1)return this._data[a][1]}push(o){return this.set(this.length,o),this.length}get length(){if(this._sortData(),this._changedLength){let o=this._data[this._data.length-1];this._length=o?o[0]+1:0,this._changedLength=!1}return this._length}forEach(o){let a=0;for(;a<this.length;)o(this.get(a),a,this),a++}map(o){let a=0,f=new Array(this.length);for(;a<this.length;)f[a]=o(this.get(a),a,this),a++;return f}reduce(o,a){let f=0,c=a;for(;f<this.length;){let u=this.get(f);c=o(c,u,f),f++}return c}find(o){let a=0,f,c;for(;a<this.length&&!f;)c=this.get(a),f=o(c),a++;return f?c:void 0}_internalPositionFor(o,a){let f=this._bytePosFor(o,a);if(f>=this._bitArrays.length)return-1;let c=this._bitArrays[f],u=o-f*7;if(!((c&1<<u)>0))return-1;let l=this._bitArrays.slice(0,f).reduce(r,0),y=~(4294967295<<u+1),m=i(c&y);return l+m-1}_bytePosFor(o,a){let f=Math.floor(o/7),c=f+1;for(;!a&&this._bitArrays.length<c;)this._bitArrays.push(0);return f}_setBit(o){let a=this._bytePosFor(o,!1);this._bitArrays[a]|=1<<o-a*7}_unsetBit(o){let a=this._bytePosFor(o,!1);this._bitArrays[a]&=~(1<<o-a*7)}_setInternalPos(o,a,f,c){let u=this._data,l=[a,f];if(c)this._sortData(),u[o]=l;else{if(u.length)if(u[u.length-1][0]>=a)u.push(l);else if(u[0][0]<=a)u.unshift(l);else{let y=Math.round(u.length/2);this._data=u.slice(0,y).concat(l).concat(u.slice(y))}else this._data.push(l);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(o){this._data.splice(o,1)}_sortData(){this._changedData&&this._data.sort(n),this._changedData=!1}bitField(){let o=[],a=8,f=0,c=0,u,l=this._bitArrays.slice();for(;l.length||f;){f===0&&(u=l.shift(),f=7);let m=Math.min(f,a),g=~(255<<m),E=u&g;c|=E<<8-a,u=u>>>m,f-=m,a-=m,(!a||!f&&!l.length)&&(o.push(c),c=0,a=8)}for(var y=o.length-1;y>0&&o[y]===0;y--)o.pop();return o}compactArray(){return this._sortData(),this._data.map(s)}};function r(o,a){return o+i(a)}function i(o){let a=o;return a=a-(a>>1&1431655765),a=(a&858993459)+(a>>2&858993459),(a+(a>>4)&252645135)*16843009>>24}function n(o,a){return o[0]-a[0]}function s(o){return o[1]}}),Tje=he((t,e)=>{ee(),function(r,i){"use strict";var n={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function s(E){if(!Array.isArray(E)&&!ArrayBuffer.isView(E))return!1;for(var x=0;x<E.length;x++)if(!Number.isInteger(E[x])||E[x]<0||E[x]>255)return!1;return!0}function o(E,x){return(E&65535)*x+(((E>>>16)*x&65535)<<16)}function a(E,x){return E<<x|E>>>32-x}function f(E){return E^=E>>>16,E=o(E,2246822507),E^=E>>>13,E=o(E,3266489909),E^=E>>>16,E}function c(E,x){E=[E[0]>>>16,E[0]&65535,E[1]>>>16,E[1]&65535],x=[x[0]>>>16,x[0]&65535,x[1]>>>16,x[1]&65535];var T=[0,0,0,0];return T[3]+=E[3]+x[3],T[2]+=T[3]>>>16,T[3]&=65535,T[2]+=E[2]+x[2],T[1]+=T[2]>>>16,T[2]&=65535,T[1]+=E[1]+x[1],T[0]+=T[1]>>>16,T[1]&=65535,T[0]+=E[0]+x[0],T[0]&=65535,[T[0]<<16|T[1],T[2]<<16|T[3]]}function u(E,x){E=[E[0]>>>16,E[0]&65535,E[1]>>>16,E[1]&65535],x=[x[0]>>>16,x[0]&65535,x[1]>>>16,x[1]&65535];var T=[0,0,0,0];return T[3]+=E[3]*x[3],T[2]+=T[3]>>>16,T[3]&=65535,T[2]+=E[2]*x[3],T[1]+=T[2]>>>16,T[2]&=65535,T[2]+=E[3]*x[2],T[1]+=T[2]>>>16,T[2]&=65535,T[1]+=E[1]*x[3],T[0]+=T[1]>>>16,T[1]&=65535,T[1]+=E[2]*x[2],T[0]+=T[1]>>>16,T[1]&=65535,T[1]+=E[3]*x[1],T[0]+=T[1]>>>16,T[1]&=65535,T[0]+=E[0]*x[3]+E[1]*x[2]+E[2]*x[1]+E[3]*x[0],T[0]&=65535,[T[0]<<16|T[1],T[2]<<16|T[3]]}function l(E,x){return x%=64,x===32?[E[1],E[0]]:x<32?[E[0]<<x|E[1]>>>32-x,E[1]<<x|E[0]>>>32-x]:(x-=32,[E[1]<<x|E[0]>>>32-x,E[0]<<x|E[1]>>>32-x])}function y(E,x){return x%=64,x===0?E:x<32?[E[0]<<x|E[1]>>>32-x,E[1]<<x]:[E[1]<<x-32,0]}function m(E,x){return[E[0]^x[0],E[1]^x[1]]}function g(E){return E=m(E,[0,E[0]>>>1]),E=u(E,[4283543511,3981806797]),E=m(E,[0,E[0]>>>1]),E=u(E,[3301882366,444984403]),E=m(E,[0,E[0]>>>1]),E}n.x86.hash32=function(E,x){if(n.inputValidation&&!s(E))return i;x=x||0;for(var T=E.length%4,M=E.length-T,I=x,R=0,O=3432918353,B=461845907,C=0;C<M;C=C+4)R=E[C]|E[C+1]<<8|E[C+2]<<16|E[C+3]<<24,R=o(R,O),R=a(R,15),R=o(R,B),I^=R,I=a(I,13),I=o(I,5)+3864292196;switch(R=0,T){case 3:R^=E[C+2]<<16;case 2:R^=E[C+1]<<8;case 1:R^=E[C],R=o(R,O),R=a(R,15),R=o(R,B),I^=R}return I^=E.length,I=f(I),I>>>0},n.x86.hash128=function(E,x){if(n.inputValidation&&!s(E))return i;x=x||0;for(var T=E.length%16,M=E.length-T,I=x,R=x,O=x,B=x,C=0,U=0,W=0,L=0,j=597399067,k=2869860233,P=951274213,p=2716044179,d=0;d<M;d=d+16)C=E[d]|E[d+1]<<8|E[d+2]<<16|E[d+3]<<24,U=E[d+4]|E[d+5]<<8|E[d+6]<<16|E[d+7]<<24,W=E[d+8]|E[d+9]<<8|E[d+10]<<16|E[d+11]<<24,L=E[d+12]|E[d+13]<<8|E[d+14]<<16|E[d+15]<<24,C=o(C,j),C=a(C,15),C=o(C,k),I^=C,I=a(I,19),I+=R,I=o(I,5)+1444728091,U=o(U,k),U=a(U,16),U=o(U,P),R^=U,R=a(R,17),R+=O,R=o(R,5)+197830471,W=o(W,P),W=a(W,17),W=o(W,p),O^=W,O=a(O,15),O+=B,O=o(O,5)+2530024501,L=o(L,p),L=a(L,18),L=o(L,j),B^=L,B=a(B,13),B+=I,B=o(B,5)+850148119;switch(C=0,U=0,W=0,L=0,T){case 15:L^=E[d+14]<<16;case 14:L^=E[d+13]<<8;case 13:L^=E[d+12],L=o(L,p),L=a(L,18),L=o(L,j),B^=L;case 12:W^=E[d+11]<<24;case 11:W^=E[d+10]<<16;case 10:W^=E[d+9]<<8;case 9:W^=E[d+8],W=o(W,P),W=a(W,17),W=o(W,p),O^=W;case 8:U^=E[d+7]<<24;case 7:U^=E[d+6]<<16;case 6:U^=E[d+5]<<8;case 5:U^=E[d+4],U=o(U,k),U=a(U,16),U=o(U,P),R^=U;case 4:C^=E[d+3]<<24;case 3:C^=E[d+2]<<16;case 2:C^=E[d+1]<<8;case 1:C^=E[d],C=o(C,j),C=a(C,15),C=o(C,k),I^=C}return I^=E.length,R^=E.length,O^=E.length,B^=E.length,I+=R,I+=O,I+=B,R+=I,O+=I,B+=I,I=f(I),R=f(R),O=f(O),B=f(B),I+=R,I+=O,I+=B,R+=I,O+=I,B+=I,("00000000"+(I>>>0).toString(16)).slice(-8)+("00000000"+(R>>>0).toString(16)).slice(-8)+("00000000"+(O>>>0).toString(16)).slice(-8)+("00000000"+(B>>>0).toString(16)).slice(-8)},n.x64.hash128=function(E,x){if(n.inputValidation&&!s(E))return i;x=x||0;for(var T=E.length%16,M=E.length-T,I=[0,x],R=[0,x],O=[0,0],B=[0,0],C=[2277735313,289559509],U=[1291169091,658871167],W=0;W<M;W=W+16)O=[E[W+4]|E[W+5]<<8|E[W+6]<<16|E[W+7]<<24,E[W]|E[W+1]<<8|E[W+2]<<16|E[W+3]<<24],B=[E[W+12]|E[W+13]<<8|E[W+14]<<16|E[W+15]<<24,E[W+8]|E[W+9]<<8|E[W+10]<<16|E[W+11]<<24],O=u(O,C),O=l(O,31),O=u(O,U),I=m(I,O),I=l(I,27),I=c(I,R),I=c(u(I,[0,5]),[0,1390208809]),B=u(B,U),B=l(B,33),B=u(B,C),R=m(R,B),R=l(R,31),R=c(R,I),R=c(u(R,[0,5]),[0,944331445]);switch(O=[0,0],B=[0,0],T){case 15:B=m(B,y([0,E[W+14]],48));case 14:B=m(B,y([0,E[W+13]],40));case 13:B=m(B,y([0,E[W+12]],32));case 12:B=m(B,y([0,E[W+11]],24));case 11:B=m(B,y([0,E[W+10]],16));case 10:B=m(B,y([0,E[W+9]],8));case 9:B=m(B,[0,E[W+8]]),B=u(B,U),B=l(B,33),B=u(B,C),R=m(R,B);case 8:O=m(O,y([0,E[W+7]],56));case 7:O=m(O,y([0,E[W+6]],48));case 6:O=m(O,y([0,E[W+5]],40));case 5:O=m(O,y([0,E[W+4]],32));case 4:O=m(O,y([0,E[W+3]],24));case 3:O=m(O,y([0,E[W+2]],16));case 2:O=m(O,y([0,E[W+1]],8));case 1:O=m(O,[0,E[W]]),O=u(O,C),O=l(O,31),O=u(O,U),I=m(I,O)}return I=m(I,[0,E.length]),R=m(R,[0,E.length]),I=c(I,R),R=c(R,I),I=g(I),R=g(R),I=c(I,R),R=c(R,I),("00000000"+(I[0]>>>0).toString(16)).slice(-8)+("00000000"+(I[1]>>>0).toString(16)).slice(-8)+("00000000"+(R[0]>>>0).toString(16)).slice(-8)+("00000000"+(R[1]>>>0).toString(16)).slice(-8)},typeof t<"u"?(typeof e<"u"&&e.exports&&(t=e.exports=n),t.murmurHash3=n):typeof define=="function"&&define.amd?define([],function(){return n}):(n._murmurHash3=r.murmurHash3,n.noConflict=function(){return r.murmurHash3=n._murmurHash3,n._murmurHash3=i,n.noConflict=i,n},r.murmurHash3=n)}(t)}),Oce=he((t,e)=>{ee(),e.exports=Tje()}),Pje=he((t,e)=>{ee(),function(r,i){typeof t=="object"&&typeof e<"u"?e.exports=i():typeof define=="function"&&define.amd?define(i):(r=r||self,r.JSBI=i())}(t,function(){"use strict";var r=Math.imul,i=Math.clz32;function n(L){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},n(L)}function s(L,j){if(!(L instanceof j))throw new TypeError("Cannot call a class as a function")}function o(L,j){for(var k,P=0;P<j.length;P++)k=j[P],k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(L,k.key,k)}function a(L,j,k){return j&&o(L.prototype,j),k&&o(L,k),Object.defineProperty(L,"prototype",{writable:!1}),L}function f(L,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(j&&j.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),Object.defineProperty(L,"prototype",{writable:!1}),j&&u(L,j)}function c(L){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},c(L)}function u(L,j){return u=Object.setPrototypeOf||function(k,P){return k.__proto__=P,k},u(L,j)}function l(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function y(){return y=l()?Reflect.construct:function(L,j,k){var P=[null];P.push.apply(P,j);var p=Function.bind.apply(L,P),d=new p;return k&&u(d,k.prototype),d},y.apply(null,arguments)}function m(L){return Function.toString.call(L).indexOf("[native code]")!==-1}function g(L){var j=typeof Map=="function"?new Map:void 0;return g=function(k){function P(){return y(k,arguments,c(this).constructor)}if(k===null||!m(k))return k;if(typeof k!="function")throw new TypeError("Super expression must either be null or a function");if(typeof j<"u"){if(j.has(k))return j.get(k);j.set(k,P)}return P.prototype=Object.create(k.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),u(P,k)},g(L)}function E(L){if(L===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}function x(L,j){if(j&&(typeof j=="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E(L)}function T(L){var j=l();return function(){var k,P=c(L);if(j){var p=c(this).constructor;k=Reflect.construct(P,arguments,p)}else k=P.apply(this,arguments);return x(this,k)}}function M(L,j){return I(L)||R(L,j)||O(L,j)||C()}function I(L){if(Array.isArray(L))return L}function R(L,j){var k=L==null?null:typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"];if(k!=null){var P,p,d=[],h=!0,b=!1;try{for(k=k.call(L);!(h=(P=k.next()).done)&&(d.push(P.value),!(j&&d.length===j));h=!0);}catch(v){b=!0,p=v}finally{try{h||k.return==null||k.return()}finally{if(b)throw p}}return d}}function O(L,j){if(L){if(typeof L=="string")return B(L,j);var k=Object.prototype.toString.call(L).slice(8,-1);return k==="Object"&&L.constructor&&(k=L.constructor.name),k==="Map"||k==="Set"?Array.from(L):k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k)?B(L,j):void 0}}function B(L,j){(j==null||j>L.length)&&(j=L.length);for(var k=0,P=Array(j);k<j;k++)P[k]=L[k];return P}function C(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U(L,j){var k=typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"];if(!k){if(Array.isArray(L)||(k=O(L))||j&&L&&typeof L.length=="number"){k&&(L=k);var P=0,p=function(){};return{s:p,n:function(){return P>=L.length?{done:!0}:{done:!1,value:L[P++]}},e:function(v){throw v},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var d,h=!0,b=!1;return{s:function(){k=k.call(L)},n:function(){var v=k.next();return h=v.done,v},e:function(v){b=!0,d=v},f:function(){try{h||k.return==null||k.return()}finally{if(b)throw d}}}}var W=function(L){var j=Math.abs,k=Math.max,P=Math.floor;function p(h,b){var v;if(s(this,p),v=d.call(this,h),v.sign=b,Object.setPrototypeOf(E(v),p.prototype),h>p.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return v}f(p,L);var d=T(p);return a(p,[{key:"toDebugString",value:function(){var h,b=["BigInt["],v=U(this);try{for(v.s();!(h=v.n()).done;){var w=h.value;b.push((w&&(w>>>0).toString(16))+", ")}}catch(_){v.e(_)}finally{v.f()}return b.push("]"),b.join("")}},{key:"toString",value:function(){var h=0<arguments.length&&arguments[0]!==void 0?arguments[0]:10;if(2>h||36<h)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":h&h-1?p.__toStringGeneric(this,h,!1):p.__toStringBasePowerOfTwo(this,h)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var h=new p(this.length,this.sign),b=0;b<this.length;b++)h[b]=this[b];return h}},{key:"__trim",value:function(){for(var h=this.length,b=this[h-1];b===0;)h--,b=this[h-1],this.pop();return h===0&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var h=0;h<this.length;h++)this[h]=0}},{key:"__clzmsd",value:function(){return p.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(h,b,v){v>this.length&&(v=this.length);for(var w=32767&h,_=h>>>15,D=0,S=b,A=0;A<v;A++){var N=this.__digit(A),G=32767&N,Q=N>>>15,ne=p.__imul(G,w),H=p.__imul(G,_),Z=p.__imul(Q,w),ie=p.__imul(Q,_),fe=S+ne+D;D=fe>>>30,fe&=1073741823,fe+=((32767&H)<<15)+((32767&Z)<<15),D+=fe>>>30,S=ie+(H>>>15)+(Z>>>15),this.__setDigit(A,1073741823&fe)}if(D!==0||S!==0)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(h,b,v){for(var w,_=0,D=0;D<v;D++)w=this.__halfDigit(b+D)+h.__halfDigit(D)+_,_=w>>>15,this.__setHalfDigit(b+D,32767&w);return _}},{key:"__inplaceSub",value:function(h,b,v){var w=0;if(1&b){b>>=1;for(var _=this.__digit(b),D=32767&_,S=0;S<v-1>>>1;S++){var A=h.__digit(S),N=(_>>>15)-(32767&A)-w;w=1&N>>>15,this.__setDigit(b+S,(32767&N)<<15|32767&D),_=this.__digit(b+S+1),D=(32767&_)-(A>>>15)-w,w=1&D>>>15}var G=h.__digit(S),Q=(_>>>15)-(32767&G)-w;if(w=1&Q>>>15,this.__setDigit(b+S,(32767&Q)<<15|32767&D),b+S+1>=this.length)throw new RangeError("out of bounds");!(1&v)&&(_=this.__digit(b+S+1),D=(32767&_)-(G>>>15)-w,w=1&D>>>15,this.__setDigit(b+h.length,1073709056&_|32767&D))}else{b>>=1;for(var ne=0;ne<h.length-1;ne++){var H=this.__digit(b+ne),Z=h.__digit(ne),ie=(32767&H)-(32767&Z)-w;w=1&ie>>>15;var fe=(H>>>15)-(Z>>>15)-w;w=1&fe>>>15,this.__setDigit(b+ne,(32767&fe)<<15|32767&ie)}var ue=this.__digit(b+ne),ye=h.__digit(ne),$=(32767&ue)-(32767&ye)-w;w=1&$>>>15;var q=0;!(1&v)&&(q=(ue>>>15)-(ye>>>15)-w,w=1&q>>>15),this.__setDigit(b+ne,(32767&q)<<15|32767&$)}return w}},{key:"__inplaceRightShift",value:function(h){if(h!==0){for(var b,v=this.__digit(0)>>>h,w=this.length-1,_=0;_<w;_++)b=this.__digit(_+1),this.__setDigit(_,1073741823&b<<30-h|v),v=b>>>h;this.__setDigit(w,v)}}},{key:"__digit",value:function(h){return this[h]}},{key:"__unsignedDigit",value:function(h){return this[h]>>>0}},{key:"__setDigit",value:function(h,b){this[h]=0|b}},{key:"__setDigitGrow",value:function(h,b){this[h]=0|b}},{key:"__halfDigitLength",value:function(){var h=this.length;return 32767>=this.__unsignedDigit(h-1)?2*h-1:2*h}},{key:"__halfDigit",value:function(h){return 32767&this[h>>>1]>>>15*(1&h)}},{key:"__setHalfDigit",value:function(h,b){var v=h>>>1,w=this.__digit(v),_=1&h?32767&w|b<<15:1073709056&w|32767&b;this.__setDigit(v,_)}}],[{key:"BigInt",value:function(h){var b=Number.isFinite;if(typeof h=="number"){if(h===0)return p.__zero();if(p.__isOneDigitInt(h))return 0>h?p.__oneDigit(-h,!0):p.__oneDigit(h,!1);if(!b(h)||P(h)!==h)throw new RangeError("The number "+h+" cannot be converted to BigInt because it is not an integer");return p.__fromDouble(h)}if(typeof h=="string"){var v=p.__fromString(h);if(v===null)throw new SyntaxError("Cannot convert "+h+" to a BigInt");return v}if(typeof h=="boolean")return h===!0?p.__oneDigit(1,!1):p.__zero();if(n(h)==="object"){if(h.constructor===p)return h;var w=p.__toPrimitive(h);return p.BigInt(w)}throw new TypeError("Cannot convert "+h+" to a BigInt")}},{key:"toNumber",value:function(h){var b=h.length;if(b===0)return 0;if(b===1){var v=h.__unsignedDigit(0);return h.sign?-v:v}var w=h.__digit(b-1),_=p.__clz30(w),D=30*b-_;if(1024<D)return h.sign?-1/0:1/0;var S=D-1,A=w,N=b-1,G=_+3,Q=G===32?0:A<<G;Q>>>=12;var ne=G-12,H=12<=G?0:A<<20+G,Z=20+G;for(0<ne&&0<N&&(N--,A=h.__digit(N),Q|=A>>>30-ne,H=A<<ne+2,Z=ne+2);0<Z&&0<N;)N--,A=h.__digit(N),H|=30<=Z?A<<Z-30:A>>>30-Z,Z-=30;var ie=p.__decideRounding(h,Z,N,A);if((ie===1||ie===0&&(1&H)==1)&&(H=H+1>>>0,H===0&&(Q++,Q>>>20!=0&&(Q=0,S++,1023<S))))return h.sign?-1/0:1/0;var fe=h.sign?-2147483648:0;return S=S+1023<<20,p.__kBitConversionInts[1]=fe|S|Q,p.__kBitConversionInts[0]=H,p.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(h){if(h.length===0)return h;var b=h.__copy();return b.sign=!h.sign,b}},{key:"bitwiseNot",value:function(h){return h.sign?p.__absoluteSubOne(h).__trim():p.__absoluteAddOne(h,!0)}},{key:"exponentiate",value:function(h,b){if(b.sign)throw new RangeError("Exponent must be positive");if(b.length===0)return p.__oneDigit(1,!1);if(h.length===0)return h;if(h.length===1&&h.__digit(0)===1)return h.sign&&!(1&b.__digit(0))?p.unaryMinus(h):h;if(1<b.length)throw new RangeError("BigInt too big");var v=b.__unsignedDigit(0);if(v===1)return h;if(v>=p.__kMaxLengthBits)throw new RangeError("BigInt too big");if(h.length===1&&h.__digit(0)===2){var w=1+(0|v/30),_=h.sign&&(1&v)!=0,D=new p(w,_);D.__initializeDigits();var S=1<<v%30;return D.__setDigit(w-1,S),D}var A=null,N=h;for(1&v&&(A=h),v>>=1;v!==0;v>>=1)N=p.multiply(N,N),1&v&&(A===null?A=N:A=p.multiply(A,N));return A}},{key:"multiply",value:function(h,b){if(h.length===0)return h;if(b.length===0)return b;var v=h.length+b.length;30<=h.__clzmsd()+b.__clzmsd()&&v--;var w=new p(v,h.sign!==b.sign);w.__initializeDigits();for(var _=0;_<h.length;_++)p.__multiplyAccumulate(b,h.__digit(_),w,_);return w.__trim()}},{key:"divide",value:function(h,b){if(b.length===0)throw new RangeError("Division by zero");if(0>p.__absoluteCompare(h,b))return p.__zero();var v,w=h.sign!==b.sign,_=b.__unsignedDigit(0);if(b.length===1&&32767>=_){if(_===1)return w===h.sign?h:p.unaryMinus(h);v=p.__absoluteDivSmall(h,_,null)}else v=p.__absoluteDivLarge(h,b,!0,!1);return v.sign=w,v.__trim()}},{key:"remainder",value:function(h,b){if(b.length===0)throw new RangeError("Division by zero");if(0>p.__absoluteCompare(h,b))return h;var v=b.__unsignedDigit(0);if(b.length===1&&32767>=v){if(v===1)return p.__zero();var w=p.__absoluteModSmall(h,v);return w===0?p.__zero():p.__oneDigit(w,h.sign)}var _=p.__absoluteDivLarge(h,b,!1,!0);return _.sign=h.sign,_.__trim()}},{key:"add",value:function(h,b){var v=h.sign;return v===b.sign?p.__absoluteAdd(h,b,v):0<=p.__absoluteCompare(h,b)?p.__absoluteSub(h,b,v):p.__absoluteSub(b,h,!v)}},{key:"subtract",value:function(h,b){var v=h.sign;return v===b.sign?0<=p.__absoluteCompare(h,b)?p.__absoluteSub(h,b,v):p.__absoluteSub(b,h,!v):p.__absoluteAdd(h,b,v)}},{key:"leftShift",value:function(h,b){return b.length===0||h.length===0?h:b.sign?p.__rightShiftByAbsolute(h,b):p.__leftShiftByAbsolute(h,b)}},{key:"signedRightShift",value:function(h,b){return b.length===0||h.length===0?h:b.sign?p.__leftShiftByAbsolute(h,b):p.__rightShiftByAbsolute(h,b)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(h,b){return 0>p.__compareToBigInt(h,b)}},{key:"lessThanOrEqual",value:function(h,b){return 0>=p.__compareToBigInt(h,b)}},{key:"greaterThan",value:function(h,b){return 0<p.__compareToBigInt(h,b)}},{key:"greaterThanOrEqual",value:function(h,b){return 0<=p.__compareToBigInt(h,b)}},{key:"equal",value:function(h,b){if(h.sign!==b.sign||h.length!==b.length)return!1;for(var v=0;v<h.length;v++)if(h.__digit(v)!==b.__digit(v))return!1;return!0}},{key:"notEqual",value:function(h,b){return!p.equal(h,b)}},{key:"bitwiseAnd",value:function(h,b){if(!h.sign&&!b.sign)return p.__absoluteAnd(h,b).__trim();if(h.sign&&b.sign){var v=k(h.length,b.length)+1,w=p.__absoluteSubOne(h,v),_=p.__absoluteSubOne(b);return w=p.__absoluteOr(w,_,w),p.__absoluteAddOne(w,!0,w).__trim()}if(h.sign){var D=[b,h];h=D[0],b=D[1]}return p.__absoluteAndNot(h,p.__absoluteSubOne(b)).__trim()}},{key:"bitwiseXor",value:function(h,b){if(!h.sign&&!b.sign)return p.__absoluteXor(h,b).__trim();if(h.sign&&b.sign){var v=k(h.length,b.length),w=p.__absoluteSubOne(h,v),_=p.__absoluteSubOne(b);return p.__absoluteXor(w,_,w).__trim()}var D=k(h.length,b.length)+1;if(h.sign){var S=[b,h];h=S[0],b=S[1]}var A=p.__absoluteSubOne(b,D);return A=p.__absoluteXor(A,h,A),p.__absoluteAddOne(A,!0,A).__trim()}},{key:"bitwiseOr",value:function(h,b){var v=k(h.length,b.length);if(!h.sign&&!b.sign)return p.__absoluteOr(h,b).__trim();if(h.sign&&b.sign){var w=p.__absoluteSubOne(h,v),_=p.__absoluteSubOne(b);return w=p.__absoluteAnd(w,_,w),p.__absoluteAddOne(w,!0,w).__trim()}if(h.sign){var D=[b,h];h=D[0],b=D[1]}var S=p.__absoluteSubOne(b,v);return S=p.__absoluteAndNot(S,h,S),p.__absoluteAddOne(S,!0,S).__trim()}},{key:"asIntN",value:function(h,b){if(b.length===0)return b;if(h=P(h),0>h)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(h===0)return p.__zero();if(h>=p.__kMaxLengthBits)return b;var v=0|(h+29)/30;if(b.length<v)return b;var w=b.__unsignedDigit(v-1),_=1<<(h-1)%30;if(b.length===v&&w<_)return b;if((w&_)!==_)return p.__truncateToNBits(h,b);if(!b.sign)return p.__truncateAndSubFromPowerOfTwo(h,b,!0);if(!(w&_-1)){for(var D=v-2;0<=D;D--)if(b.__digit(D)!==0)return p.__truncateAndSubFromPowerOfTwo(h,b,!1);return b.length===v&&w===_?b:p.__truncateToNBits(h,b)}return p.__truncateAndSubFromPowerOfTwo(h,b,!1)}},{key:"asUintN",value:function(h,b){if(b.length===0)return b;if(h=P(h),0>h)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(h===0)return p.__zero();if(b.sign){if(h>p.__kMaxLengthBits)throw new RangeError("BigInt too big");return p.__truncateAndSubFromPowerOfTwo(h,b,!1)}if(h>=p.__kMaxLengthBits)return b;var v=0|(h+29)/30;if(b.length<v)return b;var w=h%30;if(b.length==v){if(w===0)return b;var _=b.__digit(v-1);if(!(_>>>w))return b}return p.__truncateToNBits(h,b)}},{key:"ADD",value:function(h,b){if(h=p.__toPrimitive(h),b=p.__toPrimitive(b),typeof h=="string")return typeof b!="string"&&(b=b.toString()),h+b;if(typeof b=="string")return h.toString()+b;if(h=p.__toNumeric(h),b=p.__toNumeric(b),p.__isBigInt(h)&&p.__isBigInt(b))return p.add(h,b);if(typeof h=="number"&&typeof b=="number")return h+b;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(h,b){return p.__compare(h,b,0)}},{key:"LE",value:function(h,b){return p.__compare(h,b,1)}},{key:"GT",value:function(h,b){return p.__compare(h,b,2)}},{key:"GE",value:function(h,b){return p.__compare(h,b,3)}},{key:"EQ",value:function(h,b){for(;;){if(p.__isBigInt(h))return p.__isBigInt(b)?p.equal(h,b):p.EQ(b,h);if(typeof h=="number"){if(p.__isBigInt(b))return p.__equalToNumber(b,h);if(n(b)!=="object")return h==b;b=p.__toPrimitive(b)}else if(typeof h=="string"){if(p.__isBigInt(b))return h=p.__fromString(h),h!==null&&p.equal(h,b);if(n(b)!=="object")return h==b;b=p.__toPrimitive(b)}else if(typeof h=="boolean"){if(p.__isBigInt(b))return p.__equalToNumber(b,+h);if(n(b)!=="object")return h==b;b=p.__toPrimitive(b)}else if(n(h)==="symbol"){if(p.__isBigInt(b))return!1;if(n(b)!=="object")return h==b;b=p.__toPrimitive(b)}else if(n(h)==="object"){if(n(b)==="object"&&b.constructor!==p)return h==b;h=p.__toPrimitive(h)}else return h==b}}},{key:"NE",value:function(h,b){return!p.EQ(h,b)}},{key:"DataViewGetBigInt64",value:function(h,b){var v=2<arguments.length&&arguments[2]!==void 0&&arguments[2];return p.asIntN(64,p.DataViewGetBigUint64(h,b,v))}},{key:"DataViewGetBigUint64",value:function(h,b){var v=2<arguments.length&&arguments[2]!==void 0&&arguments[2],w=v?[4,0]:[0,4],_=M(w,2),D=_[0],S=_[1],A=h.getUint32(b+D,v),N=h.getUint32(b+S,v),G=new p(3,!1);return G.__setDigit(0,1073741823&N),G.__setDigit(1,(268435455&A)<<2|N>>>30),G.__setDigit(2,A>>>28),G.__trim()}},{key:"DataViewSetBigInt64",value:function(h,b,v){var w=3<arguments.length&&arguments[3]!==void 0&&arguments[3];p.DataViewSetBigUint64(h,b,v,w)}},{key:"DataViewSetBigUint64",value:function(h,b,v){var w=3<arguments.length&&arguments[3]!==void 0&&arguments[3];v=p.asUintN(64,v);var _=0,D=0;if(0<v.length&&(D=v.__digit(0),1<v.length)){var S=v.__digit(1);D|=S<<30,_=S>>>2,2<v.length&&(_|=v.__digit(2)<<28)}var A=w?[4,0]:[0,4],N=M(A,2),G=N[0],Q=N[1];h.setUint32(b+G,_,w),h.setUint32(b+Q,D,w)}},{key:"__zero",value:function(){return new p(0,!1)}},{key:"__oneDigit",value:function(h,b){var v=new p(1,b);return v.__setDigit(0,h),v}},{key:"__decideRounding",value:function(h,b,v,w){if(0<b)return-1;var _;if(0>b)_=-b-1;else{if(v===0)return-1;v--,w=h.__digit(v),_=29}var D=1<<_;if(!(w&D))return-1;if(D-=1,(w&D)!=0)return 1;for(;0<v;)if(v--,h.__digit(v)!==0)return 1;return 0}},{key:"__fromDouble",value:function(h){p.__kBitConversionDouble[0]=h;var b,v=2047&p.__kBitConversionInts[1]>>>20,w=v-1023,_=(0|w/30)+1,D=new p(_,0>h),S=1048575&p.__kBitConversionInts[1]|1048576,A=p.__kBitConversionInts[0],N=20,G=w%30,Q=0;if(G<N){var ne=N-G;Q=ne+32,b=S>>>ne,S=S<<32-ne|A>>>ne,A<<=32-ne}else if(G===N)Q=32,b=S,S=A,A=0;else{var H=G-N;Q=32-H,b=S<<H|A>>>32-H,S=A<<H,A=0}D.__setDigit(_-1,b);for(var Z=_-2;0<=Z;Z--)0<Q?(Q-=30,b=S>>>2,S=S<<30|A>>>2,A<<=30):b=0,D.__setDigit(Z,b);return D.__trim()}},{key:"__isWhitespace",value:function(h){return 13>=h&&9<=h||(159>=h?h==32:131071>=h?h==160||h==5760:196607>=h?(h&=131071,10>=h||h==40||h==41||h==47||h==95||h==4096):h==65279)}},{key:"__fromString",value:function(h){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,v=0,w=h.length,_=0;if(_===w)return p.__zero();for(var D=h.charCodeAt(_);p.__isWhitespace(D);){if(++_===w)return p.__zero();D=h.charCodeAt(_)}if(D===43){if(++_===w)return null;D=h.charCodeAt(_),v=1}else if(D===45){if(++_===w)return null;D=h.charCodeAt(_),v=-1}if(b===0){if(b=10,D===48){if(++_===w)return p.__zero();if(D=h.charCodeAt(_),D===88||D===120){if(b=16,++_===w)return null;D=h.charCodeAt(_)}else if(D===79||D===111){if(b=8,++_===w)return null;D=h.charCodeAt(_)}else if(D===66||D===98){if(b=2,++_===w)return null;D=h.charCodeAt(_)}}}else if(b===16&&D===48){if(++_===w)return p.__zero();if(D=h.charCodeAt(_),D===88||D===120){if(++_===w)return null;D=h.charCodeAt(_)}}if(v!==0&&b!==10)return null;for(;D===48;){if(++_===w)return p.__zero();D=h.charCodeAt(_)}var S=w-_,A=p.__kMaxBitsPerChar[b],N=p.__kBitsPerCharTableMultiplier-1;if(S>1073741824/A)return null;var G=A*S+N>>>p.__kBitsPerCharTableShift,Q=new p(0|(G+29)/30,!1),ne=10>b?b:10,H=10<b?b-10:0;if(b&b-1){Q.__initializeDigits();var Z=!1,ie=0;do{for(var fe,ue=0,ye=1;;){if(fe=void 0,D-48>>>0<ne)fe=D-48;else if((32|D)-97>>>0<H)fe=(32|D)-87;else{Z=!0;break}var $=ye*b;if(1073741823<$)break;if(ye=$,ue=ue*b+fe,ie++,++_===w){Z=!0;break}D=h.charCodeAt(_)}N=30*p.__kBitsPerCharTableMultiplier-1;var q=0|(A*ie+N>>>p.__kBitsPerCharTableShift)/30;Q.__inplaceMultiplyAdd(ye,ue,q)}while(!Z)}else{A>>=p.__kBitsPerCharTableShift;var z=[],Y=[],X=!1;do{for(var re,le=0,pe=0;;){if(re=void 0,D-48>>>0<ne)re=D-48;else if((32|D)-97>>>0<H)re=(32|D)-87;else{X=!0;break}if(pe+=A,le=le<<A|re,++_===w){X=!0;break}if(D=h.charCodeAt(_),30<pe+A)break}z.push(le),Y.push(pe)}while(!X);p.__fillFromParts(Q,z,Y)}if(_!==w){if(!p.__isWhitespace(D))return null;for(_++;_<w;_++)if(D=h.charCodeAt(_),!p.__isWhitespace(D))return null}return Q.sign=v===-1,Q.__trim()}},{key:"__fillFromParts",value:function(h,b,v){for(var w=0,_=0,D=0,S=b.length-1;0<=S;S--){var A=b[S],N=v[S];_|=A<<D,D+=N,D===30?(h.__setDigit(w++,_),D=0,_=0):30<D&&(h.__setDigit(w++,1073741823&_),D-=30,_=A>>>N-D)}if(_!==0){if(w>=h.length)throw new Error("implementation bug");h.__setDigit(w++,_)}for(;w<h.length;w++)h.__setDigit(w,0)}},{key:"__toStringBasePowerOfTwo",value:function(h,b){var v=h.length,w=b-1;w=(85&w>>>1)+(85&w),w=(51&w>>>2)+(51&w),w=(15&w>>>4)+(15&w);var _=w,D=b-1,S=h.__digit(v-1),A=p.__clz30(S),N=0|(30*v-A+_-1)/_;if(h.sign&&N++,268435456<N)throw new Error("string too long");for(var G=Array(N),Q=N-1,ne=0,H=0,Z=0;Z<v-1;Z++){var ie=h.__digit(Z),fe=(ne|ie<<H)&D;G[Q--]=p.__kConversionChars[fe];var ue=_-H;for(ne=ie>>>ue,H=30-ue;H>=_;)G[Q--]=p.__kConversionChars[ne&D],ne>>>=_,H-=_}var ye=(ne|S<<H)&D;for(G[Q--]=p.__kConversionChars[ye],ne=S>>>_-H;ne!==0;)G[Q--]=p.__kConversionChars[ne&D],ne>>>=_;if(h.sign&&(G[Q--]="-"),Q!==-1)throw new Error("implementation bug");return G.join("")}},{key:"__toStringGeneric",value:function(h,b,v){var w=h.length;if(w===0)return"";if(w===1){var _=h.__unsignedDigit(0).toString(b);return v===!1&&h.sign&&(_="-"+_),_}var D=30*w-p.__clz30(h.__digit(w-1)),S=p.__kMaxBitsPerChar[b],A=S-1,N=D*p.__kBitsPerCharTableMultiplier;N+=A-1,N=0|N/A;var G,Q,ne=N+1>>1,H=p.exponentiate(p.__oneDigit(b,!1),p.__oneDigit(ne,!1)),Z=H.__unsignedDigit(0);if(H.length===1&&32767>=Z){G=new p(h.length,!1),G.__initializeDigits();for(var ie,fe=0,ue=2*h.length-1;0<=ue;ue--)ie=fe<<15|h.__halfDigit(ue),G.__setHalfDigit(ue,0|ie/Z),fe=0|ie%Z;Q=fe.toString(b)}else{var ye=p.__absoluteDivLarge(h,H,!0,!0);G=ye.quotient;var $=ye.remainder.__trim();Q=p.__toStringGeneric($,b,!0)}G.__trim();for(var q=p.__toStringGeneric(G,b,!0);Q.length<ne;)Q="0"+Q;return v===!1&&h.sign&&(q="-"+q),q+Q}},{key:"__unequalSign",value:function(h){return h?-1:1}},{key:"__absoluteGreater",value:function(h){return h?-1:1}},{key:"__absoluteLess",value:function(h){return h?1:-1}},{key:"__compareToBigInt",value:function(h,b){var v=h.sign;if(v!==b.sign)return p.__unequalSign(v);var w=p.__absoluteCompare(h,b);return 0<w?p.__absoluteGreater(v):0>w?p.__absoluteLess(v):0}},{key:"__compareToNumber",value:function(h,b){if(p.__isOneDigitInt(b)){var v=h.sign,w=0>b;if(v!==w)return p.__unequalSign(v);if(h.length===0){if(w)throw new Error("implementation bug");return b===0?0:-1}if(1<h.length)return p.__absoluteGreater(v);var _=j(b),D=h.__unsignedDigit(0);return D>_?p.__absoluteGreater(v):D<_?p.__absoluteLess(v):0}return p.__compareToDouble(h,b)}},{key:"__compareToDouble",value:function(h,b){if(b!==b)return b;if(b===1/0)return-1;if(b===-1/0)return 1;var v=h.sign;if(v!==0>b)return p.__unequalSign(v);if(b===0)throw new Error("implementation bug: should be handled elsewhere");if(h.length===0)return-1;p.__kBitConversionDouble[0]=b;var w=2047&p.__kBitConversionInts[1]>>>20;if(w==2047)throw new Error("implementation bug: handled elsewhere");var _=w-1023;if(0>_)return p.__absoluteGreater(v);var D=h.length,S=h.__digit(D-1),A=p.__clz30(S),N=30*D-A,G=_+1;if(N<G)return p.__absoluteLess(v);if(N>G)return p.__absoluteGreater(v);var Q=1048576|1048575&p.__kBitConversionInts[1],ne=p.__kBitConversionInts[0],H=20,Z=29-A;if(Z!==(0|(N-1)%30))throw new Error("implementation bug");var ie,fe=0;if(Z<H){var ue=H-Z;fe=ue+32,ie=Q>>>ue,Q=Q<<32-ue|ne>>>ue,ne<<=32-ue}else if(Z===H)fe=32,ie=Q,Q=ne,ne=0;else{var ye=Z-H;fe=32-ye,ie=Q<<ye|ne>>>32-ye,Q=ne<<ye,ne=0}if(S>>>=0,ie>>>=0,S>ie)return p.__absoluteGreater(v);if(S<ie)return p.__absoluteLess(v);for(var $=D-2;0<=$;$--){0<fe?(fe-=30,ie=Q>>>2,Q=Q<<30|ne>>>2,ne<<=30):ie=0;var q=h.__unsignedDigit($);if(q>ie)return p.__absoluteGreater(v);if(q<ie)return p.__absoluteLess(v)}if(Q!==0||ne!==0){if(fe===0)throw new Error("implementation bug");return p.__absoluteLess(v)}return 0}},{key:"__equalToNumber",value:function(h,b){return p.__isOneDigitInt(b)?b===0?h.length===0:h.length===1&&h.sign===0>b&&h.__unsignedDigit(0)===j(b):p.__compareToDouble(h,b)===0}},{key:"__comparisonResultToBool",value:function(h,b){return b===0?0>h:b===1?0>=h:b===2?0<h:b===3?0<=h:void 0}},{key:"__compare",value:function(h,b,v){if(h=p.__toPrimitive(h),b=p.__toPrimitive(b),typeof h=="string"&&typeof b=="string")switch(v){case 0:return h<b;case 1:return h<=b;case 2:return h>b;case 3:return h>=b}if(p.__isBigInt(h)&&typeof b=="string")return b=p.__fromString(b),b!==null&&p.__comparisonResultToBool(p.__compareToBigInt(h,b),v);if(typeof h=="string"&&p.__isBigInt(b))return h=p.__fromString(h),h!==null&&p.__comparisonResultToBool(p.__compareToBigInt(h,b),v);if(h=p.__toNumeric(h),b=p.__toNumeric(b),p.__isBigInt(h)){if(p.__isBigInt(b))return p.__comparisonResultToBool(p.__compareToBigInt(h,b),v);if(typeof b!="number")throw new Error("implementation bug");return p.__comparisonResultToBool(p.__compareToNumber(h,b),v)}if(typeof h!="number")throw new Error("implementation bug");if(p.__isBigInt(b))return p.__comparisonResultToBool(p.__compareToNumber(b,h),2^v);if(typeof b!="number")throw new Error("implementation bug");return v===0?h<b:v===1?h<=b:v===2?h>b:v===3?h>=b:void 0}},{key:"__absoluteAdd",value:function(h,b,v){if(h.length<b.length)return p.__absoluteAdd(b,h,v);if(h.length===0)return h;if(b.length===0)return h.sign===v?h:p.unaryMinus(h);var w=h.length;(h.__clzmsd()===0||b.length===h.length&&b.__clzmsd()===0)&&w++;for(var _,D=new p(w,v),S=0,A=0;A<b.length;A++)_=h.__digit(A)+b.__digit(A)+S,S=_>>>30,D.__setDigit(A,1073741823&_);for(;A<h.length;A++){var N=h.__digit(A)+S;S=N>>>30,D.__setDigit(A,1073741823&N)}return A<D.length&&D.__setDigit(A,S),D.__trim()}},{key:"__absoluteSub",value:function(h,b,v){if(h.length===0)return h;if(b.length===0)return h.sign===v?h:p.unaryMinus(h);for(var w,_=new p(h.length,v),D=0,S=0;S<b.length;S++)w=h.__digit(S)-b.__digit(S)-D,D=1&w>>>30,_.__setDigit(S,1073741823&w);for(;S<h.length;S++){var A=h.__digit(S)-D;D=1&A>>>30,_.__setDigit(S,1073741823&A)}return _.__trim()}},{key:"__absoluteAddOne",value:function(h,b){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,w=h.length;v===null?v=new p(w,b):v.sign=b;for(var _,D=1,S=0;S<w;S++)_=h.__digit(S)+D,D=_>>>30,v.__setDigit(S,1073741823&_);return D!==0&&v.__setDigitGrow(w,1),v}},{key:"__absoluteSubOne",value:function(h,b){var v=h.length;b=b||v;for(var w,_=new p(b,!1),D=1,S=0;S<v;S++)w=h.__digit(S)-D,D=1&w>>>30,_.__setDigit(S,1073741823&w);if(D!==0)throw new Error("implementation bug");for(var A=v;A<b;A++)_.__setDigit(A,0);return _}},{key:"__absoluteAnd",value:function(h,b){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,w=h.length,_=b.length,D=_;if(w<_){D=w;var S=h,A=w;h=b,w=_,b=S,_=A}var N=D;v===null?v=new p(N,!1):N=v.length;for(var G=0;G<D;G++)v.__setDigit(G,h.__digit(G)&b.__digit(G));for(;G<N;G++)v.__setDigit(G,0);return v}},{key:"__absoluteAndNot",value:function(h,b){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,w=h.length,_=b.length,D=_;w<_&&(D=w);var S=w;v===null?v=new p(S,!1):S=v.length;for(var A=0;A<D;A++)v.__setDigit(A,h.__digit(A)&~b.__digit(A));for(;A<w;A++)v.__setDigit(A,h.__digit(A));for(;A<S;A++)v.__setDigit(A,0);return v}},{key:"__absoluteOr",value:function(h,b){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,w=h.length,_=b.length,D=_;if(w<_){D=w;var S=h,A=w;h=b,w=_,b=S,_=A}var N=w;v===null?v=new p(N,!1):N=v.length;for(var G=0;G<D;G++)v.__setDigit(G,h.__digit(G)|b.__digit(G));for(;G<w;G++)v.__setDigit(G,h.__digit(G));for(;G<N;G++)v.__setDigit(G,0);return v}},{key:"__absoluteXor",value:function(h,b){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,w=h.length,_=b.length,D=_;if(w<_){D=w;var S=h,A=w;h=b,w=_,b=S,_=A}var N=w;v===null?v=new p(N,!1):N=v.length;for(var G=0;G<D;G++)v.__setDigit(G,h.__digit(G)^b.__digit(G));for(;G<w;G++)v.__setDigit(G,h.__digit(G));for(;G<N;G++)v.__setDigit(G,0);return v}},{key:"__absoluteCompare",value:function(h,b){var v=h.length-b.length;if(v!=0)return v;for(var w=h.length-1;0<=w&&h.__digit(w)===b.__digit(w);)w--;return 0>w?0:h.__unsignedDigit(w)>b.__unsignedDigit(w)?1:-1}},{key:"__multiplyAccumulate",value:function(h,b,v,w){if(b!==0){for(var _=32767&b,D=b>>>15,S=0,A=0,N=0;N<h.length;N++,w++){var G=v.__digit(w),Q=h.__digit(N),ne=32767&Q,H=Q>>>15,Z=p.__imul(ne,_),ie=p.__imul(ne,D),fe=p.__imul(H,_),ue=p.__imul(H,D);G+=A+Z+S,S=G>>>30,G&=1073741823,G+=((32767&ie)<<15)+((32767&fe)<<15),S+=G>>>30,A=ue+(ie>>>15)+(fe>>>15),v.__setDigit(w,1073741823&G)}for(;S!==0||A!==0;w++){var ye=v.__digit(w);ye+=S+A,A=0,S=ye>>>30,v.__setDigit(w,1073741823&ye)}}}},{key:"__internalMultiplyAdd",value:function(h,b,v,w,_){for(var D=v,S=0,A=0;A<w;A++){var N=h.__digit(A),G=p.__imul(32767&N,b),Q=p.__imul(N>>>15,b),ne=G+((32767&Q)<<15)+S+D;D=ne>>>30,S=Q>>>15,_.__setDigit(A,1073741823&ne)}if(_.length>w)for(_.__setDigit(w++,D+S);w<_.length;)_.__setDigit(w++,0);else if(D+S!==0)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(h,b){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;v===null&&(v=new p(h.length,!1));for(var w=0,_=2*h.length-1;0<=_;_-=2){var D=(w<<15|h.__halfDigit(_))>>>0,S=0|D/b;w=0|D%b,D=(w<<15|h.__halfDigit(_-1))>>>0;var A=0|D/b;w=0|D%b,v.__setDigit(_>>>1,S<<15|A)}return v}},{key:"__absoluteModSmall",value:function(h,b){for(var v,w=0,_=2*h.length-1;0<=_;_--)v=(w<<15|h.__halfDigit(_))>>>0,w=0|v%b;return w}},{key:"__absoluteDivLarge",value:function(h,b,v,w){var _=b.__halfDigitLength(),D=b.length,S=h.__halfDigitLength()-_,A=null;v&&(A=new p(S+2>>>1,!1),A.__initializeDigits());var N=new p(_+2>>>1,!1);N.__initializeDigits();var G=p.__clz15(b.__halfDigit(_-1));0<G&&(b=p.__specialLeftShift(b,G,0));for(var Q=p.__specialLeftShift(h,G,1),ne=b.__halfDigit(_-1),H=0,Z=S;0<=Z;Z--){var ie=32767,fe=Q.__halfDigit(Z+_);if(fe!==ne){var ue=(fe<<15|Q.__halfDigit(Z+_-1))>>>0;ie=0|ue/ne;for(var ye=0|ue%ne,$=b.__halfDigit(_-2),q=Q.__halfDigit(Z+_-2);p.__imul(ie,$)>>>0>(ye<<16|q)>>>0&&(ie--,ye+=ne,!(32767<ye)););}p.__internalMultiplyAdd(b,ie,0,D,N);var z=Q.__inplaceSub(N,Z,_+1);z!==0&&(z=Q.__inplaceAdd(b,Z,_),Q.__setHalfDigit(Z+_,32767&Q.__halfDigit(Z+_)+z),ie--),v&&(1&Z?H=ie<<15:A.__setDigit(Z>>>1,H|ie))}if(w)return Q.__inplaceRightShift(G),v?{quotient:A,remainder:Q}:Q;if(v)return A;throw new Error("unreachable")}},{key:"__clz15",value:function(h){return p.__clz30(h)-15}},{key:"__specialLeftShift",value:function(h,b,v){var w=h.length,_=new p(w+v,!1);if(b===0){for(var D=0;D<w;D++)_.__setDigit(D,h.__digit(D));return 0<v&&_.__setDigit(w,0),_}for(var S,A=0,N=0;N<w;N++)S=h.__digit(N),_.__setDigit(N,1073741823&S<<b|A),A=S>>>30-b;return 0<v&&_.__setDigit(w,A),_}},{key:"__leftShiftByAbsolute",value:function(h,b){var v=p.__toShiftAmount(b);if(0>v)throw new RangeError("BigInt too big");var w=0|v/30,_=v%30,D=h.length,S=_!==0&&h.__digit(D-1)>>>30-_!=0,A=D+w+(S?1:0),N=new p(A,h.sign);if(_===0){for(var G=0;G<w;G++)N.__setDigit(G,0);for(;G<A;G++)N.__setDigit(G,h.__digit(G-w))}else{for(var Q=0,ne=0;ne<w;ne++)N.__setDigit(ne,0);for(var H,Z=0;Z<D;Z++)H=h.__digit(Z),N.__setDigit(Z+w,1073741823&H<<_|Q),Q=H>>>30-_;if(S)N.__setDigit(D+w,Q);else if(Q!==0)throw new Error("implementation bug")}return N.__trim()}},{key:"__rightShiftByAbsolute",value:function(h,b){var v=h.length,w=h.sign,_=p.__toShiftAmount(b);if(0>_)return p.__rightShiftByMaximum(w);var D=0|_/30,S=_%30,A=v-D;if(0>=A)return p.__rightShiftByMaximum(w);var N=!1;if(w){if(h.__digit(D)&(1<<S)-1)N=!0;else for(var G=0;G<D;G++)if(h.__digit(G)!==0){N=!0;break}}if(N&&S===0){var Q=h.__digit(v-1);!~Q&&A++}var ne=new p(A,w);if(S===0){ne.__setDigit(A-1,0);for(var H=D;H<v;H++)ne.__setDigit(H-D,h.__digit(H))}else{for(var Z,ie=h.__digit(D)>>>S,fe=v-D-1,ue=0;ue<fe;ue++)Z=h.__digit(ue+D+1),ne.__setDigit(ue,1073741823&Z<<30-S|ie),ie=Z>>>S;ne.__setDigit(fe,ie)}return N&&(ne=p.__absoluteAddOne(ne,!0,ne)),ne.__trim()}},{key:"__rightShiftByMaximum",value:function(h){return h?p.__oneDigit(1,!0):p.__zero()}},{key:"__toShiftAmount",value:function(h){if(1<h.length)return-1;var b=h.__unsignedDigit(0);return b>p.__kMaxLengthBits?-1:b}},{key:"__toPrimitive",value:function(h){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"default";if(n(h)!=="object"||h.constructor===p)return h;if(typeof Symbol<"u"&&n(Symbol.toPrimitive)==="symbol"){var v=h[Symbol.toPrimitive];if(v){var w=v(b);if(n(w)!=="object")return w;throw new TypeError("Cannot convert object to primitive value")}}var _=h.valueOf;if(_){var D=_.call(h);if(n(D)!=="object")return D}var S=h.toString;if(S){var A=S.call(h);if(n(A)!=="object")return A}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(h){return p.__isBigInt(h)?h:+h}},{key:"__isBigInt",value:function(h){return n(h)==="object"&&h!==null&&h.constructor===p}},{key:"__truncateToNBits",value:function(h,b){for(var v=0|(h+29)/30,w=new p(v,b.sign),_=v-1,D=0;D<_;D++)w.__setDigit(D,b.__digit(D));var S=b.__digit(_);if(h%30!=0){var A=32-h%30;S=S<<A>>>A}return w.__setDigit(_,S),w.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(h,b,v){for(var w=Math.min,_,D=0|(h+29)/30,S=new p(D,v),A=0,N=D-1,G=0,Q=w(N,b.length);A<Q;A++)_=0-b.__digit(A)-G,G=1&_>>>30,S.__setDigit(A,1073741823&_);for(;A<N;A++)S.__setDigit(A,0|1073741823&-G);var ne,H=N<b.length?b.__digit(N):0,Z=h%30;if(Z===0)ne=0-H-G,ne&=1073741823;else{var ie=32-Z;H=H<<ie>>>ie;var fe=1<<32-ie;ne=fe-H-G,ne&=fe-1}return S.__setDigit(N,ne),S.__trim()}},{key:"__digitPow",value:function(h,b){for(var v=1;0<b;)1&b&&(v*=h),b>>>=1,h*=h;return v}},{key:"__isOneDigitInt",value:function(h){return(1073741823&h)===h}}]),p}(g(Array));return W.__kMaxLength=33554432,W.__kMaxLengthBits=W.__kMaxLength<<5,W.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],W.__kBitsPerCharTableShift=5,W.__kBitsPerCharTableMultiplier=1<<W.__kBitsPerCharTableShift,W.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],W.__kBitConversionBuffer=new ArrayBuffer(8),W.__kBitConversionDouble=new Float64Array(W.__kBitConversionBuffer),W.__kBitConversionInts=new Int32Array(W.__kBitConversionBuffer),W.__clz30=i?function(L){return i(L)-2}:function(L){var j=Math.LN2,k=Math.log;return L===0?30:0|29-(0|k(L>>>0)/j)},W.__imul=r||function(L,j){return 0|L*j},W})}),Dje=he(t=>{"use strict";ee(),t.supports=function(...e){let r=e.reduce((i,n)=>Object.assign(i,n),{});return Object.assign(r,{snapshots:r.snapshots||!1,permanence:r.permanence||!1,seek:r.seek||!1,clear:r.clear||!1,getMany:r.getMany||!1,keyIterator:r.keyIterator||!1,valueIterator:r.valueIterator||!1,iteratorNextv:r.iteratorNextv||!1,iteratorAll:r.iteratorAll||!1,status:r.status||!1,createIfMissing:r.createIfMissing||!1,errorIfExists:r.errorIfExists||!1,deferredOpen:r.deferredOpen||!1,promises:r.promises||!1,streams:r.streams||!1,encodings:Object.assign({},r.encodings),events:Object.assign({},r.events),additionalMethods:Object.assign({},r.additionalMethods)})}}),pl=he((t,e)=>{"use strict";ee(),e.exports=class extends Error{constructor(r,i){super(r||""),typeof i=="object"&&i!==null&&(i.code&&(this.code=String(i.code)),i.expected&&(this.expected=!0),i.transient&&(this.transient=!0),i.cause&&(this.cause=i.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}}),jce=he((t,e)=>{"use strict";ee();var r=null;e.exports=function(){return r===null&&(r={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),r}}),Lce=he(t=>{"use strict";ee();var e=pl(),r=new Set(["buffer","view","utf8"]),i=class{constructor(n){if(this.encode=n.encode||this.encode,this.decode=n.decode||this.decode,this.name=n.name||this.name,this.format=n.format||this.format,typeof this.encode!="function")throw new TypeError("The 'encode' property must be a function");if(typeof this.decode!="function")throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),typeof this.name!="string"||this.name==="")throw new TypeError("The 'name' property must be a string");if(typeof this.format!="string"||!r.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");n.createViewTranscoder&&(this.createViewTranscoder=n.createViewTranscoder),n.createBufferTranscoder&&(this.createBufferTranscoder=n.createBufferTranscoder),n.createUTF8Transcoder&&(this.createUTF8Transcoder=n.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new e(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new e(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new e(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}};t.Encoding=i}),Nce=he(t=>{"use strict";ee();var{Buffer:e}=ji()||{},{Encoding:r}=Lce(),i=jce(),n=class extends r{constructor(a){super({...a,format:"buffer"})}createViewTranscoder(){return new s({encode:this.encode,decode:a=>this.decode(e.from(a.buffer,a.byteOffset,a.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}},s=class extends r{constructor(a){super({...a,format:"view"})}createBufferTranscoder(){return new n({encode:a=>{let f=this.encode(a);return e.from(f.buffer,f.byteOffset,f.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}},o=class extends r{constructor(a){super({...a,format:"utf8"})}createBufferTranscoder(){return new n({encode:a=>e.from(this.encode(a),"utf8"),decode:a=>this.decode(a.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){let{textEncoder:a,textDecoder:f}=i();return new s({encode:c=>a.encode(this.encode(c)),decode:c=>this.decode(f.decode(c)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}};t.BufferFormat=n,t.ViewFormat=s,t.UTF8Format=o}),Ije=he(t=>{"use strict";ee();var{Buffer:e}=ji()||{Buffer:{isBuffer:()=>!1}},{textEncoder:r,textDecoder:i}=jce()(),{BufferFormat:n,ViewFormat:s,UTF8Format:o}=Nce(),a=f=>f;t.utf8=new o({encode:function(f){return e.isBuffer(f)?f.toString("utf8"):ArrayBuffer.isView(f)?i.decode(f):String(f)},decode:a,name:"utf8",createViewTranscoder(){return new s({encode:function(f){return ArrayBuffer.isView(f)?f:r.encode(f)},decode:function(f){return i.decode(f)},name:`${this.name}+view`})},createBufferTranscoder(){return new n({encode:function(f){return e.isBuffer(f)?f:ArrayBuffer.isView(f)?e.from(f.buffer,f.byteOffset,f.byteLength):e.from(String(f),"utf8")},decode:function(f){return f.toString("utf8")},name:`${this.name}+buffer`})}}),t.json=new o({encode:JSON.stringify,decode:JSON.parse,name:"json"}),t.buffer=new n({encode:function(f){return e.isBuffer(f)?f:ArrayBuffer.isView(f)?e.from(f.buffer,f.byteOffset,f.byteLength):e.from(String(f),"utf8")},decode:a,name:"buffer",createViewTranscoder(){return new s({encode:function(f){return ArrayBuffer.isView(f)?f:e.from(String(f),"utf8")},decode:function(f){return e.from(f.buffer,f.byteOffset,f.byteLength)},name:`${this.name}+view`})}}),t.view=new s({encode:function(f){return ArrayBuffer.isView(f)?f:r.encode(f)},decode:a,name:"view",createBufferTranscoder(){return new n({encode:function(f){return e.isBuffer(f)?f:ArrayBuffer.isView(f)?e.from(f.buffer,f.byteOffset,f.byteLength):e.from(String(f),"utf8")},decode:a,name:`${this.name}+buffer`})}}),t.hex=new n({encode:function(f){return e.isBuffer(f)?f:e.from(String(f),"hex")},decode:function(f){return f.toString("hex")},name:"hex"}),t.base64=new n({encode:function(f){return e.isBuffer(f)?f:e.from(String(f),"base64")},decode:function(f){return f.toString("base64")},name:"base64"})}),Rje=he(t=>{"use strict";ee();var e=pl(),r=Ije(),{Encoding:i}=Lce(),{BufferFormat:n,ViewFormat:s,UTF8Format:o}=Nce(),a=Symbol("formats"),f=Symbol("encodings"),c=new Set(["buffer","view","utf8"]),u=class{constructor(x){if(Array.isArray(x)){if(!x.every(T=>c.has(T)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}else throw new TypeError("The first argument 'formats' must be an array");this[f]=new Map,this[a]=new Set(x);for(let T in r)try{this.encoding(T)}catch(M){if(M.code!=="LEVEL_ENCODING_NOT_SUPPORTED")throw M}}encodings(){return Array.from(new Set(this[f].values()))}encoding(x){let T=this[f].get(x);if(T===void 0){if(typeof x=="string"&&x!==""){if(T=g[x],!T)throw new e(`Encoding '${x}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if(typeof x!="object"||x===null)throw new TypeError("First argument 'encoding' must be a string or object");T=l(x)}let{name:M,format:I}=T;if(!this[a].has(I))if(this[a].has("view"))T=T.createViewTranscoder();else if(this[a].has("buffer"))T=T.createBufferTranscoder();else if(this[a].has("utf8"))T=T.createUTF8Transcoder();else throw new e(`Encoding '${M}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});for(let R of[x,M,T.name,T.commonName])this[f].set(R,T)}return T}};t.Transcoder=u;function l(x){if(x instanceof i)return x;let T="type"in x&&typeof x.type=="string"?x.type:void 0,M=x.name||T||`anonymous-${E++}`;switch(y(x)){case"view":return new s({...x,name:M});case"utf8":return new o({...x,name:M});case"buffer":return new n({...x,name:M});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}function y(x){return"format"in x&&x.format!==void 0?x.format:"buffer"in x&&typeof x.buffer=="boolean"?x.buffer?"buffer":"utf8":"code"in x&&Number.isInteger(x.code)?"view":"buffer"}var m={binary:r.buffer,"utf-8":r.utf8},g={...r,...m},E=0}),nc=he((t,e)=>{"use strict";ee();var r=typeof Reflect=="object"?Reflect:null,i=r&&typeof r.apply=="function"?r.apply:function(B,C,U){return Function.prototype.apply.call(B,C,U)},n;r&&typeof r.ownKeys=="function"?n=r.ownKeys:Object.getOwnPropertySymbols?n=function(B){return Object.getOwnPropertyNames(B).concat(Object.getOwnPropertySymbols(B))}:n=function(B){return Object.getOwnPropertyNames(B)};function s(B){console&&console.warn&&console.warn(B)}var o=Number.isNaN||function(B){return B!==B};function a(){a.init.call(this)}e.exports=a,e.exports.once=I,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var f=10;function c(B){if(typeof B!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof B)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(B){if(typeof B!="number"||B<0||o(B))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+B+".");f=B}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(B){if(typeof B!="number"||B<0||o(B))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+B+".");return this._maxListeners=B,this};function u(B){return B._maxListeners===void 0?a.defaultMaxListeners:B._maxListeners}a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(B){for(var C=[],U=1;U<arguments.length;U++)C.push(arguments[U]);var W=B==="error",L=this._events;if(L!==void 0)W=W&&L.error===void 0;else if(!W)return!1;if(W){var j;if(C.length>0&&(j=C[0]),j instanceof Error)throw j;var k=new Error("Unhandled error."+(j?" ("+j.message+")":""));throw k.context=j,k}var P=L[B];if(P===void 0)return!1;if(typeof P=="function")i(P,this,C);else for(var p=P.length,d=x(P,p),U=0;U<p;++U)i(d[U],this,C);return!0};function l(B,C,U,W){var L,j,k;if(c(U),j=B._events,j===void 0?(j=B._events=Object.create(null),B._eventsCount=0):(j.newListener!==void 0&&(B.emit("newListener",C,U.listener?U.listener:U),j=B._events),k=j[C]),k===void 0)k=j[C]=U,++B._eventsCount;else if(typeof k=="function"?k=j[C]=W?[U,k]:[k,U]:W?k.unshift(U):k.push(U),L=u(B),L>0&&k.length>L&&!k.warned){k.warned=!0;var P=new Error("Possible EventEmitter memory leak detected. "+k.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");P.name="MaxListenersExceededWarning",P.emitter=B,P.type=C,P.count=k.length,s(P)}return B}a.prototype.addListener=function(B,C){return l(this,B,C,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(B,C){return l(this,B,C,!0)};function y(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(B,C,U){var W={fired:!1,wrapFn:void 0,target:B,type:C,listener:U},L=y.bind(W);return L.listener=U,W.wrapFn=L,L}a.prototype.once=function(B,C){return c(C),this.on(B,m(this,B,C)),this},a.prototype.prependOnceListener=function(B,C){return c(C),this.prependListener(B,m(this,B,C)),this},a.prototype.removeListener=function(B,C){var U,W,L,j,k;if(c(C),W=this._events,W===void 0)return this;if(U=W[B],U===void 0)return this;if(U===C||U.listener===C)--this._eventsCount===0?this._events=Object.create(null):(delete W[B],W.removeListener&&this.emit("removeListener",B,U.listener||C));else if(typeof U!="function"){for(L=-1,j=U.length-1;j>=0;j--)if(U[j]===C||U[j].listener===C){k=U[j].listener,L=j;break}if(L<0)return this;L===0?U.shift():T(U,L),U.length===1&&(W[B]=U[0]),W.removeListener!==void 0&&this.emit("removeListener",B,k||C)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(B){var C,U,W;if(U=this._events,U===void 0)return this;if(U.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):U[B]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete U[B]),this;if(arguments.length===0){var L=Object.keys(U),j;for(W=0;W<L.length;++W)j=L[W],j!=="removeListener"&&this.removeAllListeners(j);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(C=U[B],typeof C=="function")this.removeListener(B,C);else if(C!==void 0)for(W=C.length-1;W>=0;W--)this.removeListener(B,C[W]);return this};function g(B,C,U){var W=B._events;if(W===void 0)return[];var L=W[C];return L===void 0?[]:typeof L=="function"?U?[L.listener||L]:[L]:U?M(L):x(L,L.length)}a.prototype.listeners=function(B){return g(this,B,!0)},a.prototype.rawListeners=function(B){return g(this,B,!1)},a.listenerCount=function(B,C){return typeof B.listenerCount=="function"?B.listenerCount(C):E.call(B,C)},a.prototype.listenerCount=E;function E(B){var C=this._events;if(C!==void 0){var U=C[B];if(typeof U=="function")return 1;if(U!==void 0)return U.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function x(B,C){for(var U=new Array(C),W=0;W<C;++W)U[W]=B[W];return U}function T(B,C){for(;C+1<B.length;C++)B[C]=B[C+1];B.pop()}function M(B){for(var C=new Array(B.length),U=0;U<C.length;++U)C[U]=B[U].listener||B[U];return C}function I(B,C){return new Promise(function(U,W){function L(k){B.removeListener(C,j),W(k)}function j(){typeof B.removeListener=="function"&&B.removeListener("error",L),U([].slice.call(arguments))}O(B,C,j,{once:!0}),C!=="error"&&R(B,L,{once:!0})})}function R(B,C,U){typeof B.on=="function"&&O(B,"error",C,U)}function O(B,C,U,W){if(typeof B.on=="function")W.once?B.once(C,U):B.on(C,U);else if(typeof B.addEventListener=="function")B.addEventListener(C,function L(j){W.once&&B.removeEventListener(C,L),U(j)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof B)}}),Bje=he((t,e)=>{ee(),e.exports=typeof queueMicrotask=="function"?queueMicrotask:r=>Promise.resolve().then(r)}),bS=he(t=>{"use strict";ee();var e=Bje();t.fromCallback=function(r,i){if(r===void 0){var n=new Promise(function(s,o){r=function(a,f){a?o(a):s(f)}});r[i!==void 0?i:"promise"]=n}else if(typeof r!="function")throw new TypeError("Callback must be a function");return r},t.fromPromise=function(r,i){if(i===void 0)return r;r.then(function(n){e(()=>i(null,n))}).catch(function(n){e(()=>i(n))})}}),aj=he(t=>{"use strict";ee(),t.getCallback=function(e,r){return typeof e=="function"?e:r},t.getOptions=function(e,r){return typeof e=="object"&&e!==null?e:r!==void 0?r:{}}}),am=he(t=>{"use strict";ee();var{fromCallback:e}=bS(),r=pl(),{getOptions:i,getCallback:n}=aj(),s=Symbol("promise"),o=Symbol("callback"),a=Symbol("working"),f=Symbol("handleOne"),c=Symbol("handleMany"),u=Symbol("autoClose"),l=Symbol("finishWork"),y=Symbol("returnMany"),m=Symbol("closing"),g=Symbol("handleClose"),E=Symbol("closed"),x=Symbol("closeCallbacks"),T=Symbol("keyEncoding"),M=Symbol("valueEncoding"),I=Symbol("abortOnClose"),R=Symbol("legacy"),O=Symbol("keys"),B=Symbol("values"),C=Symbol("limit"),U=Symbol("count"),W=Object.freeze({}),L=()=>{},j=!1,k=class{constructor(b,v,w){if(typeof b!="object"||b===null){let _=b===null?"null":typeof b;throw new TypeError(`The first argument must be an abstract-level database, received ${_}`)}if(typeof v!="object"||v===null)throw new TypeError("The second argument must be an options object");this[E]=!1,this[x]=[],this[a]=!1,this[m]=!1,this[u]=!1,this[o]=null,this[f]=this[f].bind(this),this[c]=this[c].bind(this),this[g]=this[g].bind(this),this[T]=v[T],this[M]=v[M],this[R]=w,this[C]=Number.isInteger(v.limit)&&v.limit>=0?v.limit:1/0,this[U]=0,this[I]=!!v.abortOnClose,this.db=b,this.db.attachResource(this),this.nextTick=b.nextTick}get count(){return this[U]}get limit(){return this[C]}next(b){let v;if(b===void 0)v=new Promise((w,_)=>{b=(D,S,A)=>{D?_(D):this[R]?S===void 0&&A===void 0?w():w([S,A]):w(S)}});else if(typeof b!="function")throw new TypeError("Callback must be a function");return this[m]?this.nextTick(b,new r("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[a]?this.nextTick(b,new r("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[a]=!0,this[o]=b,this[U]>=this[C]?this.nextTick(this[f],null):this._next(this[f])),v}_next(b){this.nextTick(b)}nextv(b,v,w){return w=n(v,w),w=e(w,s),v=i(v,W),Number.isInteger(b)?(this[m]?this.nextTick(w,new r("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[a]?this.nextTick(w,new r("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(b<1&&(b=1),this[C]<1/0&&(b=Math.min(b,this[C]-this[U])),this[a]=!0,this[o]=w,b<=0?this.nextTick(this[c],null,[]):this._nextv(b,v,this[c])),w[s]):(this.nextTick(w,new TypeError("The first argument 'size' must be an integer")),w[s])}_nextv(b,v,w){let _=[],D=(S,A,N)=>{if(S)return w(S);if(this[R]?A===void 0&&N===void 0:A===void 0)return w(null,_);_.push(this[R]?[A,N]:A),_.length===b?w(null,_):this._next(D)};this._next(D)}all(b,v){return v=n(b,v),v=e(v,s),b=i(b,W),this[m]?this.nextTick(v,new r("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[a]?this.nextTick(v,new r("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[a]=!0,this[o]=v,this[u]=!0,this[U]>=this[C]?this.nextTick(this[c],null,[]):this._all(b,this[c])),v[s]}_all(b,v){let w=this[U],_=[],D=()=>{let A=this[C]<1/0?Math.min(1e3,this[C]-w):1e3;A<=0?this.nextTick(v,null,_):this._nextv(A,W,S)},S=(A,N)=>{A?v(A):N.length===0?v(null,_):(_.push.apply(_,N),w+=N.length,D())};D()}[l](){let b=this[o];return this[I]&&b===null?L:(this[a]=!1,this[o]=null,this[m]&&this._close(this[g]),b)}[y](b,v,w){this[u]?this.close(b.bind(null,v,w)):b(v,w)}seek(b,v){if(v=i(v,W),!this[m]){if(this[a])throw new r("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{let w=this.db.keyEncoding(v.keyEncoding||this[T]),_=w.format;v.keyEncoding!==_&&(v={...v,keyEncoding:_});let D=this.db.prefixKey(w.encode(b),_);this._seek(D,v)}}}_seek(b,v){throw new r("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(b){return b=e(b,s),this[E]?this.nextTick(b):this[m]?this[x].push(b):(this[m]=!0,this[x].push(b),this[a]?this[I]&&this[l]()(new r("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[g])),b[s]}_close(b){this.nextTick(b)}[g](){this[E]=!0,this.db.detachResource(this);let b=this[x];this[x]=[];for(let v of b)v()}async*[Symbol.asyncIterator](){try{let b;for(;(b=await this.next())!==void 0;)yield b}finally{this[E]||await this.close()}}},P=class extends k{constructor(b,v){super(b,v,!0),this[O]=v.keys!==!1,this[B]=v.values!==!1}[f](b,v,w){let _=this[l]();if(b)return _(b);try{v=this[O]&&v!==void 0?this[T].decode(v):void 0,w=this[B]&&w!==void 0?this[M].decode(w):void 0}catch(D){return _(new h("entry",D))}v===void 0&&w===void 0||this[U]++,_(null,v,w)}[c](b,v){let w=this[l]();if(b)return this[y](w,b);try{for(let _ of v){let D=_[0],S=_[1];_[0]=this[O]&&D!==void 0?this[T].decode(D):void 0,_[1]=this[B]&&S!==void 0?this[M].decode(S):void 0}}catch(_){return this[y](w,new h("entries",_))}this[U]+=v.length,this[y](w,null,v)}end(b){return!j&&typeof console<"u"&&(j=!0,console.warn(new r("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(b)}},p=class extends k{constructor(b,v){super(b,v,!1)}[f](b,v){let w=this[l]();if(b)return w(b);try{v=v!==void 0?this[T].decode(v):void 0}catch(_){return w(new h("key",_))}v!==void 0&&this[U]++,w(null,v)}[c](b,v){let w=this[l]();if(b)return this[y](w,b);try{for(let _=0;_<v.length;_++){let D=v[_];v[_]=D!==void 0?this[T].decode(D):void 0}}catch(_){return this[y](w,new h("keys",_))}this[U]+=v.length,this[y](w,null,v)}},d=class extends k{constructor(b,v){super(b,v,!1)}[f](b,v){let w=this[l]();if(b)return w(b);try{v=v!==void 0?this[M].decode(v):void 0}catch(_){return w(new h("value",_))}v!==void 0&&this[U]++,w(null,v)}[c](b,v){let w=this[l]();if(b)return this[y](w,b);try{for(let _=0;_<v.length;_++){let D=v[_];v[_]=D!==void 0?this[M].decode(D):void 0}}catch(_){return this[y](w,new h("values",_))}this[U]+=v.length,this[y](w,null,v)}},h=class extends r{constructor(b,v){super(`Iterator could not decode ${b}`,{code:"LEVEL_DECODE_ERROR",cause:v})}};for(let b of["_ended property","_nexting property","_end method"])Object.defineProperty(P.prototype,b.split(" ")[0],{get(){throw new r(`The ${b} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new r(`The ${b} has been removed`,{code:"LEVEL_LEGACY"})}});P.keyEncoding=T,P.valueEncoding=M,t.AbstractIterator=P,t.AbstractKeyIterator=p,t.AbstractValueIterator=d}),Cje=he(t=>{"use strict";ee();var{AbstractKeyIterator:e,AbstractValueIterator:r}=am(),i=Symbol("iterator"),n=Symbol("callback"),s=Symbol("handleOne"),o=Symbol("handleMany"),a=class extends e{constructor(c,u){super(c,u),this[i]=c.iterator({...u,keys:!0,values:!1}),this[s]=this[s].bind(this),this[o]=this[o].bind(this)}},f=class extends r{constructor(c,u){super(c,u),this[i]=c.iterator({...u,keys:!1,values:!0}),this[s]=this[s].bind(this),this[o]=this[o].bind(this)}};for(let c of[a,f]){let u=c===a,l=u?y=>y[0]:y=>y[1];c.prototype._next=function(y){this[n]=y,this[i].next(this[s])},c.prototype[s]=function(y,m,g){let E=this[n];y?E(y):E(null,u?m:g)},c.prototype._nextv=function(y,m,g){this[n]=g,this[i].nextv(y,m,this[o])},c.prototype._all=function(y,m){this[n]=m,this[i].all(y,this[o])},c.prototype[o]=function(y,m){let g=this[n];y?g(y):g(null,m.map(l))},c.prototype._seek=function(y,m){this[i].seek(y,m)},c.prototype._close=function(y){this[i].close(y)}}t.DefaultKeyIterator=a,t.DefaultValueIterator=f}),Oje=he(t=>{"use strict";ee();var{AbstractIterator:e,AbstractKeyIterator:r,AbstractValueIterator:i}=am(),n=pl(),s=Symbol("nut"),o=Symbol("undefer"),a=Symbol("factory"),f=class extends e{constructor(l,y){super(l,y),this[s]=null,this[a]=()=>l.iterator(y),this.db.defer(()=>this[o]())}},c=class extends r{constructor(l,y){super(l,y),this[s]=null,this[a]=()=>l.keys(y),this.db.defer(()=>this[o]())}},u=class extends i{constructor(l,y){super(l,y),this[s]=null,this[a]=()=>l.values(y),this.db.defer(()=>this[o]())}};for(let l of[f,c,u])l.prototype[o]=function(){this.db.status==="open"&&(this[s]=this[a]())},l.prototype._next=function(y){this[s]!==null?this[s].next(y):this.db.status==="opening"?this.db.defer(()=>this._next(y)):this.nextTick(y,new n("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},l.prototype._nextv=function(y,m,g){this[s]!==null?this[s].nextv(y,m,g):this.db.status==="opening"?this.db.defer(()=>this._nextv(y,m,g)):this.nextTick(g,new n("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},l.prototype._all=function(y,m){this[s]!==null?this[s].all(m):this.db.status==="opening"?this.db.defer(()=>this._all(y,m)):this.nextTick(m,new n("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},l.prototype._seek=function(y,m){this[s]!==null?this[s]._seek(y,m):this.db.status==="opening"&&this.db.defer(()=>this._seek(y,m))},l.prototype._close=function(y){this[s]!==null?this[s].close(y):this.db.status==="opening"?this.db.defer(()=>this._close(y)):this.nextTick(y)};t.DeferredIterator=f,t.DeferredKeyIterator=c,t.DeferredValueIterator=u}),qce=he(t=>{"use strict";ee();var{fromCallback:e}=bS(),r=pl(),{getCallback:i,getOptions:n}=aj(),s=Symbol("promise"),o=Symbol("status"),a=Symbol("operations"),f=Symbol("finishClose"),c=Symbol("closeCallbacks"),u=class{constructor(l){if(typeof l!="object"||l===null){let y=l===null?"null":typeof l;throw new TypeError(`The first argument must be an abstract-level database, received ${y}`)}this[a]=[],this[c]=[],this[o]="open",this[f]=this[f].bind(this),this.db=l,this.db.attachResource(this),this.nextTick=l.nextTick}get length(){return this[a].length}put(l,y,m){if(this[o]!=="open")throw new r("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let g=this.db._checkKey(l)||this.db._checkValue(y);if(g)throw g;let E=m&&m.sublevel!=null?m.sublevel:this.db,x=m,T=E.keyEncoding(m&&m.keyEncoding),M=E.valueEncoding(m&&m.valueEncoding),I=T.format;m={...m,keyEncoding:I,valueEncoding:M.format},E!==this.db&&(m.sublevel=null);let R=E.prefixKey(T.encode(l),I),O=M.encode(y);return this._put(R,O,m),this[a].push({...x,type:"put",key:l,value:y}),this}_put(l,y,m){}del(l,y){if(this[o]!=="open")throw new r("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let m=this.db._checkKey(l);if(m)throw m;let g=y&&y.sublevel!=null?y.sublevel:this.db,E=y,x=g.keyEncoding(y&&y.keyEncoding),T=x.format;return y={...y,keyEncoding:T},g!==this.db&&(y.sublevel=null),this._del(g.prefixKey(x.encode(l),T),y),this[a].push({...E,type:"del",key:l}),this}_del(l,y){}clear(){if(this[o]!=="open")throw new r("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[a]=[],this}_clear(){}write(l,y){return y=i(l,y),y=e(y,s),l=n(l),this[o]!=="open"?this.nextTick(y,new r("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):this.length===0?this.close(y):(this[o]="writing",this._write(l,m=>{this[o]="closing",this[c].push(()=>y(m)),m||this.db.emit("batch",this[a]),this._close(this[f])})),y[s]}_write(l,y){}close(l){return l=e(l,s),this[o]==="closing"?this[c].push(l):this[o]==="closed"?this.nextTick(l):(this[c].push(l),this[o]!=="writing"&&(this[o]="closing",this._close(this[f]))),l[s]}_close(l){this.nextTick(l)}[f](){this[o]="closed",this.db.detachResource(this);let l=this[c];this[c]=[];for(let y of l)y()}};t.AbstractChainedBatch=u}),jje=he(t=>{"use strict";ee();var{AbstractChainedBatch:e}=qce(),r=pl(),i=Symbol("encoded"),n=class extends e{constructor(s){super(s),this[i]=[]}_put(s,o,a){this[i].push({...a,type:"put",key:s,value:o})}_del(s,o){this[i].push({...o,type:"del",key:s})}_clear(){this[i]=[]}_write(s,o){this.db.status==="opening"?this.db.defer(()=>this._write(s,o)):this.db.status==="open"?this[i].length===0?this.nextTick(o):this.db._batch(this[i],s,o):this.nextTick(o,new r("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}};t.DefaultChainedBatch=n}),Lje=he((t,e)=>{"use strict";ee();var r=pl(),i=Object.prototype.hasOwnProperty,n=new Set(["lt","lte","gt","gte"]);e.exports=function(s,o){let a={};for(let f in s)if(i.call(s,f)&&!(f==="keyEncoding"||f==="valueEncoding")){if(f==="start"||f==="end")throw new r(`The legacy range option '${f}' has been removed`,{code:"LEVEL_LEGACY"});if(f==="encoding")throw new r("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});n.has(f)?a[f]=o.encode(s[f]):a[f]=s[f]}return a.reverse=!!a.reverse,a.limit=Number.isInteger(a.limit)&&a.limit>=0?a.limit:-1,a}}),zce=he((t,e)=>{ee();var r;e.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:globalThis):i=>(r||(r=Promise.resolve())).then(i).catch(n=>setTimeout(()=>{throw n},0))}),Nje=he((t,e)=>{"use strict";ee();var r=zce();e.exports=function(i,...n){n.length===0?r(i):r(()=>i(...n))}}),qje=he(t=>{"use strict";ee();var{AbstractIterator:e,AbstractKeyIterator:r,AbstractValueIterator:i}=am(),n=Symbol("unfix"),s=Symbol("iterator"),o=Symbol("handleOne"),a=Symbol("handleMany"),f=Symbol("callback"),c=class extends e{constructor(y,m,g,E){super(y,m),this[s]=g,this[n]=E,this[o]=this[o].bind(this),this[a]=this[a].bind(this),this[f]=null}[o](y,m,g){let E=this[f];if(y)return E(y);m!==void 0&&(m=this[n](m)),E(y,m,g)}[a](y,m){let g=this[f];if(y)return g(y);for(let E of m){let x=E[0];x!==void 0&&(E[0]=this[n](x))}g(y,m)}},u=class extends r{constructor(y,m,g,E){super(y,m),this[s]=g,this[n]=E,this[o]=this[o].bind(this),this[a]=this[a].bind(this),this[f]=null}[o](y,m){let g=this[f];if(y)return g(y);m!==void 0&&(m=this[n](m)),g(y,m)}[a](y,m){let g=this[f];if(y)return g(y);for(let E=0;E<m.length;E++){let x=m[E];x!==void 0&&(m[E]=this[n](x))}g(y,m)}},l=class extends i{constructor(y,m,g){super(y,m),this[s]=g}};for(let y of[c,u])y.prototype._next=function(m){this[f]=m,this[s].next(this[o])},y.prototype._nextv=function(m,g,E){this[f]=E,this[s].nextv(m,g,this[a])},y.prototype._all=function(m,g){this[f]=g,this[s].all(m,this[a])};for(let y of[l])y.prototype._next=function(m){this[s].next(m)},y.prototype._nextv=function(m,g,E){this[s].nextv(m,g,E)},y.prototype._all=function(m,g){this[s].all(m,g)};for(let y of[c,u,l])y.prototype._seek=function(m,g){this[s].seek(m,g)},y.prototype._close=function(m){this[s].close(m)};t.AbstractSublevelIterator=c,t.AbstractSublevelKeyIterator=u,t.AbstractSublevelValueIterator=l}),zje=he((t,e)=>{"use strict";ee();var r=pl(),{Buffer:i}=ji()||{},{AbstractSublevelIterator:n,AbstractSublevelKeyIterator:s,AbstractSublevelValueIterator:o}=qje(),a=Symbol("prefix"),f=Symbol("upperBound"),c=Symbol("prefixRange"),u=Symbol("parent"),l=Symbol("unfix"),y=new TextEncoder,m={separator:"!"};e.exports=function({AbstractLevel:I}){class R extends I{static defaults(B){if(typeof B=="string")throw new r("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(B&&B.open)throw new r("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return B==null?m:B.separator?B:{...B,separator:"!"}}constructor(B,C,U){let{separator:W,manifest:L,...j}=R.defaults(U);C=M(C,W);let k=W.charCodeAt(0)+1,P=B[u]||B;if(!y.encode(C).every(h=>h>k&&h<127))throw new r(`Prefix must use bytes > ${k} < ${127}`,{code:"LEVEL_INVALID_PREFIX"});super(g(P,L),j);let p=(B.prefix||"")+W+C+W,d=p.slice(0,-1)+String.fromCharCode(k);this[u]=P,this[a]=new x(p),this[f]=new x(d),this[l]=new T,this.nextTick=P.nextTick}prefixKey(B,C){if(C==="utf8")return this[a].utf8+B;if(B.byteLength===0)return this[a][C];if(C==="view"){let U=this[a].view,W=new Uint8Array(U.byteLength+B.byteLength);return W.set(U,0),W.set(B,U.byteLength),W}else{let U=this[a].buffer;return i.concat([U,B],U.byteLength+B.byteLength)}}[c](B,C){B.gte!==void 0?B.gte=this.prefixKey(B.gte,C):B.gt!==void 0?B.gt=this.prefixKey(B.gt,C):B.gte=this[a][C],B.lte!==void 0?B.lte=this.prefixKey(B.lte,C):B.lt!==void 0?B.lt=this.prefixKey(B.lt,C):B.lte=this[f][C]}get prefix(){return this[a].utf8}get db(){return this[u]}_open(B,C){this[u].open({passive:!0},C)}_put(B,C,U,W){this[u].put(B,C,U,W)}_get(B,C,U){this[u].get(B,C,U)}_getMany(B,C,U){this[u].getMany(B,C,U)}_del(B,C,U){this[u].del(B,C,U)}_batch(B,C,U){this[u].batch(B,C,U)}_clear(B,C){this[c](B,B.keyEncoding),this[u].clear(B,C)}_iterator(B){this[c](B,B.keyEncoding);let C=this[u].iterator(B),U=this[l].get(this[a].utf8.length,B.keyEncoding);return new n(this,B,C,U)}_keys(B){this[c](B,B.keyEncoding);let C=this[u].keys(B),U=this[l].get(this[a].utf8.length,B.keyEncoding);return new s(this,B,C,U)}_values(B){this[c](B,B.keyEncoding);let C=this[u].values(B);return new o(this,B,C)}}return{AbstractSublevel:R}};var g=function(I,R){return{...I.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...R,encodings:{utf8:E(I,"utf8"),buffer:E(I,"buffer"),view:E(I,"view")}}},E=function(I,R){return I.supports.encodings[R]?I.keyEncoding(R).name===R:!1},x=class{constructor(I){this.utf8=I,this.view=y.encode(I),this.buffer=i?i.from(this.view.buffer,0,this.view.byteLength):{}}},T=class{constructor(){this.cache=new Map}get(I,R){let O=this.cache.get(R);return O===void 0&&(R==="view"?O=function(B,C){return C.subarray(B)}.bind(null,I):O=function(B,C){return C.slice(B)}.bind(null,I),this.cache.set(R,O)),O}},M=function(I,R){let O=0,B=I.length;for(;O<B&&I[O]===R;)O++;for(;B>O&&I[B-1]===R;)B--;return I.slice(O,B)}}),Lae=he(t=>{"use strict";ee();var{supports:e}=Dje(),{Transcoder:r}=Rje(),{EventEmitter:i}=nc(),{fromCallback:n}=bS(),s=pl(),{AbstractIterator:o}=am(),{DefaultKeyIterator:a,DefaultValueIterator:f}=Cje(),{DeferredIterator:c,DeferredKeyIterator:u,DeferredValueIterator:l}=Oje(),{DefaultChainedBatch:y}=jje(),{getCallback:m,getOptions:g}=aj(),E=Lje(),x=Symbol("promise"),T=Symbol("landed"),M=Symbol("resources"),I=Symbol("closeResources"),R=Symbol("operations"),O=Symbol("undefer"),B=Symbol("deferOpen"),C=Symbol("options"),U=Symbol("status"),W=Symbol("defaultOptions"),L=Symbol("transcoder"),j=Symbol("keyEncoding"),k=Symbol("valueEncoding"),P=()=>{},p=class extends i{constructor(v,w){if(super(),typeof v!="object"||v===null)throw new TypeError("The first argument 'manifest' must be an object");w=g(w);let{keyEncoding:_,valueEncoding:D,passive:S,...A}=w;this[M]=new Set,this[R]=[],this[B]=!0,this[C]=A,this[U]="opening",this.supports=e(v,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:v.snapshots!==!1,permanence:v.permanence!==!1,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:v.encodings||{},events:Object.assign({},v.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[L]=new r(b(this)),this[j]=this[L].encoding(_||"utf8"),this[k]=this[L].encoding(D||"utf8");for(let N of this[L].encodings())this.supports.encodings[N.commonName]||(this.supports.encodings[N.commonName]=!0);this[W]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[j].commonName,valueEncoding:this[k].commonName}),key:Object.freeze({keyEncoding:this[j].commonName})},this.nextTick(()=>{this[B]&&this.open({passive:!1},P)})}get status(){return this[U]}keyEncoding(v){return this[L].encoding(v??this[j])}valueEncoding(v){return this[L].encoding(v??this[k])}open(v,w){w=m(v,w),w=n(w,x),v={...this[C],...g(v)},v.createIfMissing=v.createIfMissing!==!1,v.errorIfExists=!!v.errorIfExists;let _=D=>{this[U]==="closing"||this[U]==="opening"?this.once(T,D?()=>_(D):_):this[U]!=="open"?w(new s("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:D})):w()};return v.passive?this[U]==="opening"?this.once(T,_):this.nextTick(_):this[U]==="closed"||this[B]?(this[B]=!1,this[U]="opening",this.emit("opening"),this._open(v,D=>{if(D){this[U]="closed",this[I](()=>{this.emit(T),_(D)}),this[O]();return}this[U]="open",this[O](),this.emit(T),this[U]==="open"&&this.emit("open"),this[U]==="open"&&this.emit("ready"),_()})):this[U]==="open"?this.nextTick(_):this.once(T,()=>this.open(v,w)),w[x]}_open(v,w){this.nextTick(w)}close(v){v=n(v,x);let w=_=>{this[U]==="opening"||this[U]==="closing"?this.once(T,_?w(_):w):this[U]!=="closed"?v(new s("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:_})):v()};if(this[U]==="open"){this[U]="closing",this.emit("closing");let _=D=>{this[U]="open",this[O](),this.emit(T),w(D)};this[I](()=>{this._close(D=>{if(D)return _(D);this[U]="closed",this[O](),this.emit(T),this[U]==="closed"&&this.emit("closed"),w()})})}else this[U]==="closed"?this.nextTick(w):this.once(T,()=>this.close(v));return v[x]}[I](v){if(this[M].size===0)return this.nextTick(v);let w=this[M].size,_=!0,D=()=>{--w===0&&(_?this.nextTick(v):v())};for(let S of this[M])S.close(D);_=!1,this[M].clear()}_close(v){this.nextTick(v)}get(v,w,_){if(_=m(w,_),_=n(_,x),w=g(w,this[W].entry),this[U]==="opening")return this.defer(()=>this.get(v,w,_)),_[x];if(h(this,_))return _[x];let D=this._checkKey(v);if(D)return this.nextTick(_,D),_[x];let S=this.keyEncoding(w.keyEncoding),A=this.valueEncoding(w.valueEncoding),N=S.format,G=A.format;return(w.keyEncoding!==N||w.valueEncoding!==G)&&(w=Object.assign({},w,{keyEncoding:N,valueEncoding:G})),this._get(this.prefixKey(S.encode(v),N),w,(Q,ne)=>{if(Q)return(Q.code==="LEVEL_NOT_FOUND"||Q.notFound||/NotFound/i.test(Q))&&(Q.code||(Q.code="LEVEL_NOT_FOUND"),Q.notFound||(Q.notFound=!0),Q.status||(Q.status=404)),_(Q);try{ne=A.decode(ne)}catch(H){return _(new s("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:H}))}_(null,ne)}),_[x]}_get(v,w,_){this.nextTick(_,new Error("NotFound"))}getMany(v,w,_){if(_=m(w,_),_=n(_,x),w=g(w,this[W].entry),this[U]==="opening")return this.defer(()=>this.getMany(v,w,_)),_[x];if(h(this,_))return _[x];if(!Array.isArray(v))return this.nextTick(_,new TypeError("The first argument 'keys' must be an array")),_[x];if(v.length===0)return this.nextTick(_,null,[]),_[x];let D=this.keyEncoding(w.keyEncoding),S=this.valueEncoding(w.valueEncoding),A=D.format,N=S.format;(w.keyEncoding!==A||w.valueEncoding!==N)&&(w=Object.assign({},w,{keyEncoding:A,valueEncoding:N}));let G=new Array(v.length);for(let Q=0;Q<v.length;Q++){let ne=v[Q],H=this._checkKey(ne);if(H)return this.nextTick(_,H),_[x];G[Q]=this.prefixKey(D.encode(ne),A)}return this._getMany(G,w,(Q,ne)=>{if(Q)return _(Q);try{for(let H=0;H<ne.length;H++)ne[H]!==void 0&&(ne[H]=S.decode(ne[H]))}catch(H){return _(new s(`Could not decode one or more of ${ne.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:H}))}_(null,ne)}),_[x]}_getMany(v,w,_){this.nextTick(_,null,new Array(v.length).fill(void 0))}put(v,w,_,D){if(D=m(_,D),D=n(D,x),_=g(_,this[W].entry),this[U]==="opening")return this.defer(()=>this.put(v,w,_,D)),D[x];if(h(this,D))return D[x];let S=this._checkKey(v)||this._checkValue(w);if(S)return this.nextTick(D,S),D[x];let A=this.keyEncoding(_.keyEncoding),N=this.valueEncoding(_.valueEncoding),G=A.format,Q=N.format;(_.keyEncoding!==G||_.valueEncoding!==Q)&&(_=Object.assign({},_,{keyEncoding:G,valueEncoding:Q}));let ne=this.prefixKey(A.encode(v),G),H=N.encode(w);return this._put(ne,H,_,Z=>{if(Z)return D(Z);this.emit("put",v,w),D()}),D[x]}_put(v,w,_,D){this.nextTick(D)}del(v,w,_){if(_=m(w,_),_=n(_,x),w=g(w,this[W].key),this[U]==="opening")return this.defer(()=>this.del(v,w,_)),_[x];if(h(this,_))return _[x];let D=this._checkKey(v);if(D)return this.nextTick(_,D),_[x];let S=this.keyEncoding(w.keyEncoding),A=S.format;return w.keyEncoding!==A&&(w=Object.assign({},w,{keyEncoding:A})),this._del(this.prefixKey(S.encode(v),A),w,N=>{if(N)return _(N);this.emit("del",v),_()}),_[x]}_del(v,w,_){this.nextTick(_)}batch(v,w,_){if(!arguments.length){if(this[U]==="opening")return new y(this);if(this[U]!=="open")throw new s("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(typeof v=="function"?_=v:_=m(w,_),_=n(_,x),w=g(w,this[W].empty),this[U]==="opening")return this.defer(()=>this.batch(v,w,_)),_[x];if(h(this,_))return _[x];if(!Array.isArray(v))return this.nextTick(_,new TypeError("The first argument 'operations' must be an array")),_[x];if(v.length===0)return this.nextTick(_),_[x];let D=new Array(v.length),{keyEncoding:S,valueEncoding:A,...N}=w;for(let G=0;G<v.length;G++){if(typeof v[G]!="object"||v[G]===null)return this.nextTick(_,new TypeError("A batch operation must be an object")),_[x];let Q=Object.assign({},v[G]);if(Q.type!=="put"&&Q.type!=="del")return this.nextTick(_,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),_[x];let ne=this._checkKey(Q.key);if(ne)return this.nextTick(_,ne),_[x];let H=Q.sublevel!=null?Q.sublevel:this,Z=H.keyEncoding(Q.keyEncoding||S),ie=Z.format;if(Q.key=H.prefixKey(Z.encode(Q.key),ie),Q.keyEncoding=ie,Q.type==="put"){let fe=this._checkValue(Q.value);if(fe)return this.nextTick(_,fe),_[x];let ue=H.valueEncoding(Q.valueEncoding||A);Q.value=ue.encode(Q.value),Q.valueEncoding=ue.format}H!==this&&(Q.sublevel=null),D[G]=Q}return this._batch(D,N,G=>{if(G)return _(G);this.emit("batch",v),_()}),_[x]}_batch(v,w,_){this.nextTick(_)}sublevel(v,w){return this._sublevel(v,d.defaults(w))}_sublevel(v,w){return new d(this,v,w)}prefixKey(v,w){return v}clear(v,w){if(w=m(v,w),w=n(w,x),v=g(v,this[W].empty),this[U]==="opening")return this.defer(()=>this.clear(v,w)),w[x];if(h(this,w))return w[x];let _=v,D=this.keyEncoding(v.keyEncoding);return v=E(v,D),v.keyEncoding=D.format,v.limit===0?this.nextTick(w):this._clear(v,S=>{if(S)return w(S);this.emit("clear",_),w()}),w[x]}_clear(v,w){this.nextTick(w)}iterator(v){let w=this.keyEncoding(v&&v.keyEncoding),_=this.valueEncoding(v&&v.valueEncoding);if(v=E(v,w),v.keys=v.keys!==!1,v.values=v.values!==!1,v[o.keyEncoding]=w,v[o.valueEncoding]=_,v.keyEncoding=w.format,v.valueEncoding=_.format,this[U]==="opening")return new c(this,v);if(this[U]!=="open")throw new s("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(v)}_iterator(v){return new o(this,v)}keys(v){let w=this.keyEncoding(v&&v.keyEncoding),_=this.valueEncoding(v&&v.valueEncoding);if(v=E(v,w),v[o.keyEncoding]=w,v[o.valueEncoding]=_,v.keyEncoding=w.format,v.valueEncoding=_.format,this[U]==="opening")return new u(this,v);if(this[U]!=="open")throw new s("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(v)}_keys(v){return new a(this,v)}values(v){let w=this.keyEncoding(v&&v.keyEncoding),_=this.valueEncoding(v&&v.valueEncoding);if(v=E(v,w),v[o.keyEncoding]=w,v[o.valueEncoding]=_,v.keyEncoding=w.format,v.valueEncoding=_.format,this[U]==="opening")return new l(this,v);if(this[U]!=="open")throw new s("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(v)}_values(v){return new f(this,v)}defer(v){if(typeof v!="function")throw new TypeError("The first argument must be a function");this[R].push(v)}[O](){if(this[R].length===0)return;let v=this[R];this[R]=[];for(let w of v)w()}attachResource(v){if(typeof v!="object"||v===null||typeof v.close!="function")throw new TypeError("The first argument must be a resource object");this[M].add(v)}detachResource(v){this[M].delete(v)}_chainedBatch(){return new y(this)}_checkKey(v){if(v==null)return new s("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(v){if(v==null)return new s("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}};p.prototype.nextTick=Nje();var{AbstractSublevel:d}=zje()({AbstractLevel:p});t.AbstractLevel=p,t.AbstractSublevel=d;var h=function(v,w){return v[U]!=="open"?(v.nextTick(w,new s("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0):!1},b=function(v){return Object.keys(v.supports.encodings).filter(w=>!!v.supports.encodings[w])}}),Fce=he(t=>{"use strict";ee(),t.AbstractLevel=Lae().AbstractLevel,t.AbstractSublevel=Lae().AbstractSublevel,t.AbstractIterator=am().AbstractIterator,t.AbstractKeyIterator=am().AbstractKeyIterator,t.AbstractValueIterator=am().AbstractValueIterator,t.AbstractChainedBatch=qce().AbstractChainedBatch}),Fje=he((t,e)=>{ee(),e.exports=i;var r=zce();function i(n,s,o){if(typeof s!="number")throw new Error("second argument must be a Number");let a,f,c,u,l,y=!0,m;Array.isArray(n)?(a=[],c=f=n.length):(u=Object.keys(n),a={},c=f=u.length);function g(x){function T(){o&&o(x,a),o=null}y?r(T):T()}function E(x,T,M){if(a[x]=M,T&&(l=!0),--c===0||T)g(T);else if(!l&&m<f){let I;u?(I=u[m],m+=1,n[I](function(R,O){E(I,R,O)})):(I=m,m+=1,n[I](function(R,O){E(I,R,O)}))}}m=s,c?u?u.some(function(x,T){return n[x](function(M,I){E(x,M,I)}),T===s-1}):n.some(function(x,T){return x(function(M,I){E(T,M,I)}),T===s-1}):g(null),y=!1}}),Uce=he((t,e)=>{"use strict";ee(),e.exports=function(r){let i=r.gte!==void 0?r.gte:r.gt!==void 0?r.gt:void 0,n=r.lte!==void 0?r.lte:r.lt!==void 0?r.lt:void 0,s=r.gte===void 0,o=r.lte===void 0;return i!==void 0&&n!==void 0?IDBKeyRange.bound(i,n,s,o):i!==void 0?IDBKeyRange.lowerBound(i,s):n!==void 0?IDBKeyRange.upperBound(n,o):null}}),$ce=he((t,e)=>{"use strict";ee();var r=new TextEncoder;e.exports=function(i){return i instanceof Uint8Array?i:i instanceof ArrayBuffer?new Uint8Array(i):r.encode(i)}}),Uje=he(t=>{"use strict";ee();var{AbstractIterator:e}=Fce(),r=Uce(),i=$ce(),n=Symbol("cache"),s=Symbol("finished"),o=Symbol("options"),a=Symbol("currentOptions"),f=Symbol("position"),c=Symbol("location"),u=Symbol("first"),l={},y=class extends e{constructor(g,E,x){super(g,x),this[n]=[],this[s]=this.limit===0,this[o]=x,this[a]={...x},this[f]=void 0,this[c]=E,this[u]=!0}_nextv(g,E,x){if(this[u]=!1,this[s])return this.nextTick(x,null,[]);if(this[n].length>0)return g=Math.min(g,this[n].length),this.nextTick(x,null,this[n].splice(0,g));this[f]!==void 0&&(this[o].reverse?(this[a].lt=this[f],this[a].lte=void 0):(this[a].gt=this[f],this[a].gte=void 0));let T;try{T=r(this[a])}catch{return this[s]=!0,this.nextTick(x,null,[])}let M=this.db.db.transaction([this[c]],"readonly"),I=M.objectStore(this[c]),R=[];if(this[o].reverse){let O=!this[o].values&&I.openKeyCursor?"openKeyCursor":"openCursor";I[O](T,"prev").onsuccess=B=>{let C=B.target.result;if(C){let{key:U,value:W}=C;this[f]=U,R.push([this[o].keys&&U!==void 0?i(U):void 0,this[o].values&&W!==void 0?i(W):void 0]),R.length<g?C.continue():m(M)}else this[s]=!0}}else{let O,B,C=()=>{if(O===void 0||B===void 0)return;let U=Math.max(O.length,B.length);U===0||g===1/0?this[s]=!0:this[f]=O[U-1],R.length=U;for(let W=0;W<U;W++){let L=O[W],j=B[W];R[W]=[this[o].keys&&L!==void 0?i(L):void 0,this[o].values&&j!==void 0?i(j):void 0]}m(M)};this[o].keys||g<1/0?I.getAllKeys(T,g<1/0?g:void 0).onsuccess=U=>{O=U.target.result,C()}:(O=[],this.nextTick(C)),this[o].values?I.getAll(T,g<1/0?g:void 0).onsuccess=U=>{B=U.target.result,C()}:(B=[],this.nextTick(C))}M.onabort=()=>{x(M.error||new Error("aborted by user")),x=null},M.oncomplete=()=>{x(null,R),x=null}}_next(g){if(this[n].length>0){let[E,x]=this[n].shift();this.nextTick(g,null,E,x)}else if(this[s])this.nextTick(g);else{let E=Math.min(100,this.limit-this.count);this[u]&&(this[u]=!1,E=1),this._nextv(E,l,(x,T)=>{if(x)return g(x);this[n]=T,this._next(g)})}}_all(g,E){this[u]=!1;let x=this[n].splice(0,this[n].length),T=this.limit-this.count-x.length;if(T<=0)return this.nextTick(E,null,x);this._nextv(T,l,(M,I)=>{if(M)return E(M);x.length>0&&(I=x.concat(I)),E(null,I)})}_seek(g,E){this[u]=!0,this[n]=[],this[s]=!1,this[f]=void 0,this[a]={...this[o]};let x;try{x=r(this[o])}catch{this[s]=!0;return}x!==null&&!x.includes(g)?this[s]=!0:this[o].reverse?this[a].lte=g:this[a].gte=g}};t.Iterator=y;function m(g){typeof g.commit=="function"&&g.commit()}}),$je=he((t,e)=>{"use strict";ee(),e.exports=function(r,i,n,s,o){if(s.limit===0)return r.nextTick(o);let a=r.db.transaction([i],"readwrite"),f=a.objectStore(i),c=0;a.oncomplete=function(){o()},a.onabort=function(){o(a.error||new Error("aborted by user"))};let u=f.openKeyCursor?"openKeyCursor":"openCursor",l=s.reverse?"prev":"next";f[u](n,l).onsuccess=function(y){let m=y.target.result;m&&(f.delete(m.key).onsuccess=function(){(s.limit<=0||++c<s.limit)&&m.continue()})}}}),Vje=he(t=>{"use strict";ee();var{AbstractLevel:e}=Fce(),r=pl(),i=Fje(),{fromCallback:n}=bS(),{Iterator:s}=Uje(),o=$ce(),a=$je(),f=Uce(),c="level-js-",u=Symbol("idb"),l=Symbol("namePrefix"),y=Symbol("location"),m=Symbol("version"),g=Symbol("store"),E=Symbol("onComplete"),x=Symbol("promise"),T=class extends e{constructor(M,I,R){if(typeof I=="function"||typeof R=="function")throw new r("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});let{prefix:O,version:B,...C}=I||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},C),typeof M!="string")throw new Error("constructor requires a location string argument");this[y]=M,this[l]=O??c,this[m]=parseInt(B||1,10),this[u]=null}get location(){return this[y]}get namePrefix(){return this[l]}get version(){return this[m]}get db(){return this[u]}get type(){return"browser-level"}_open(M,I){let R=indexedDB.open(this[l]+this[y],this[m]);R.onerror=function(){I(R.error||new Error("unknown error"))},R.onsuccess=()=>{this[u]=R.result,I()},R.onupgradeneeded=O=>{let B=O.target.result;B.objectStoreNames.contains(this[y])||B.createObjectStore(this[y])}}[g](M){return this[u].transaction([this[y]],M).objectStore(this[y])}[E](M,I){let R=M.transaction;R.onabort=function(){I(R.error||new Error("aborted by user"))},R.oncomplete=function(){I(null,M.result)}}_get(M,I,R){let O=this[g]("readonly"),B;try{B=O.get(M)}catch(C){return this.nextTick(R,C)}this[E](B,function(C,U){if(C)return R(C);if(U===void 0)return R(new r("Entry not found",{code:"LEVEL_NOT_FOUND"}));R(null,o(U))})}_getMany(M,I,R){let O=this[g]("readonly"),B=M.map(C=>U=>{let W;try{W=O.get(C)}catch(L){return U(L)}W.onsuccess=()=>{let L=W.result;U(null,L===void 0?L:o(L))},W.onerror=L=>{L.stopPropagation(),U(W.error)}});i(B,16,R)}_del(M,I,R){let O=this[g]("readwrite"),B;try{B=O.delete(M)}catch(C){return this.nextTick(R,C)}this[E](B,R)}_put(M,I,R,O){let B=this[g]("readwrite"),C;try{C=B.put(I,M)}catch(U){return this.nextTick(O,U)}this[E](C,O)}_iterator(M){return new s(this,this[y],M)}_batch(M,I,R){let O=this[g]("readwrite"),B=O.transaction,C=0,U;B.onabort=function(){R(U||B.error||new Error("aborted by user"))},B.oncomplete=function(){R()};function W(){let L=M[C++],j=L.key,k;try{k=L.type==="del"?O.delete(j):O.put(L.value,j)}catch(P){U=P,B.abort();return}C<M.length?k.onsuccess=W:typeof B.commit=="function"&&B.commit()}W()}_clear(M,I){let R,O;try{R=f(M)}catch{return this.nextTick(I)}if(M.limit>=0)return a(this,this[y],R,M,I);try{let B=this[g]("readwrite");O=R?B.delete(R):B.clear()}catch(B){return this.nextTick(I,B)}this[E](O,I)}_close(M){this[u].close(),this.nextTick(M)}};T.destroy=function(M,I,R){typeof I=="function"&&(R=I,I=c),R=n(R,x);let O=indexedDB.deleteDatabase(I+M);return O.onsuccess=function(){R()},O.onerror=function(B){R(B)},R[x]},t.BrowserLevel=T}),Kje=he(t=>{ee(),t.Level=Vje().BrowserLevel}),Hje=he((t,e)=>{"use strict";ee(),e.exports=i;var r=wm();function i(a,f){this.lo=a>>>0,this.hi=f>>>0}var n=i.zero=new i(0,0);n.toNumber=function(){return 0},n.zzEncode=n.zzDecode=function(){return this},n.length=function(){return 1};var s=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(a){if(a===0)return n;var f=a<0;f&&(a=-a);var c=a>>>0,u=(a-c)/4294967296>>>0;return f&&(u=~u>>>0,c=~c>>>0,++c>4294967295&&(c=0,++u>4294967295&&(u=0))),new i(c,u)},i.from=function(a){if(typeof a=="number")return i.fromNumber(a);if(r.isString(a))if(r.Long)a=r.Long.fromString(a);else return i.fromNumber(parseInt(a,10));return a.low||a.high?new i(a.low>>>0,a.high>>>0):n},i.prototype.toNumber=function(a){if(!a&&this.hi>>>31){var f=~this.lo+1>>>0,c=~this.hi>>>0;return f||(c=c+1>>>0),-(f+c*4294967296)}return this.lo+this.hi*4294967296},i.prototype.toLong=function(a){return r.Long?new r.Long(this.lo|0,this.hi|0,Boolean(a)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(a)}};var o=String.prototype.charCodeAt;i.fromHash=function(a){return a===s?n:new i((o.call(a,0)|o.call(a,1)<<8|o.call(a,2)<<16|o.call(a,3)<<24)>>>0,(o.call(a,4)|o.call(a,5)<<8|o.call(a,6)<<16|o.call(a,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var a=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^a)>>>0,this.lo=(this.lo<<1^a)>>>0,this},i.prototype.zzDecode=function(){var a=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^a)>>>0,this.hi=(this.hi>>>1^a)>>>0,this},i.prototype.length=function(){var a=this.lo,f=(this.lo>>>28|this.hi<<4)>>>0,c=this.hi>>>24;return c===0?f===0?a<16384?a<128?1:2:a<2097152?3:4:f<16384?f<128?5:6:f<2097152?7:8:c<128?9:10}}),wm=he(t=>{"use strict";ee();var e=t;e.asPromise=Ace(),e.base64=Mce(),e.EventEmitter=kce(),e.float=Tce(),e.inquire=Pce(),e.utf8=Dce(),e.pool=Ice(),e.LongBits=Hje(),e.isNode=Boolean(typeof globalThis<"u"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node),e.global=e.isNode&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||t,e.emptyArray=Object.freeze?Object.freeze([]):[],e.emptyObject=Object.freeze?Object.freeze({}):{},e.isInteger=Number.isInteger||function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n},e.isString=function(n){return typeof n=="string"||n instanceof String},e.isObject=function(n){return n&&typeof n=="object"},e.isset=e.isSet=function(n,s){var o=n[s];return o!=null&&n.hasOwnProperty(s)?typeof o!="object"||(Array.isArray(o)?o.length:Object.keys(o).length)>0:!1},e.Buffer=function(){try{var n=e.inquire("buffer").Buffer;return n.prototype.utf8Write?n:null}catch{return null}}(),e._Buffer_from=null,e._Buffer_allocUnsafe=null,e.newBuffer=function(n){return typeof n=="number"?e.Buffer?e._Buffer_allocUnsafe(n):new e.Array(n):e.Buffer?e._Buffer_from(n):typeof Uint8Array>"u"?n:new Uint8Array(n)},e.Array=typeof Uint8Array<"u"?Uint8Array:Array,e.Long=e.global.dcodeIO&&e.global.dcodeIO.Long||e.global.Long||e.inquire("long"),e.key2Re=/^true|false|0|1$/,e.key32Re=/^-?(?:0|[1-9][0-9]*)$/,e.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,e.longToHash=function(n){return n?e.LongBits.from(n).toHash():e.LongBits.zeroHash},e.longFromHash=function(n,s){var o=e.LongBits.fromHash(n);return e.Long?e.Long.fromBits(o.lo,o.hi,s):o.toNumber(Boolean(s))};function r(n,s,o){for(var a=Object.keys(s),f=0;f<a.length;++f)(n[a[f]]===void 0||!o)&&(n[a[f]]=s[a[f]]);return n}e.merge=r,e.lcFirst=function(n){return n.charAt(0).toLowerCase()+n.substring(1)};function i(n){function s(o,a){if(!(this instanceof s))return new s(o,a);Object.defineProperty(this,"message",{get:function(){return o}}),Error.captureStackTrace?Error.captureStackTrace(this,s):Object.defineProperty(this,"stack",{value:new Error().stack||""}),a&&r(this,a)}return(s.prototype=Object.create(Error.prototype)).constructor=s,Object.defineProperty(s.prototype,"name",{get:function(){return n}}),s.prototype.toString=function(){return this.name+": "+this.message},s}e.newError=i,e.ProtocolError=i("ProtocolError"),e.oneOfGetter=function(n){for(var s={},o=0;o<n.length;++o)s[n[o]]=1;return function(){for(var a=Object.keys(this),f=a.length-1;f>-1;--f)if(s[a[f]]===1&&this[a[f]]!==void 0&&this[a[f]]!==null)return a[f]}},e.oneOfSetter=function(n){return function(s){for(var o=0;o<n.length;++o)n[o]!==s&&delete this[n[o]]}},e.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},e._configure=function(){var n=e.Buffer;if(!n){e._Buffer_from=e._Buffer_allocUnsafe=null;return}e._Buffer_from=n.from!==Uint8Array.from&&n.from||function(s,o){return new n(s,o)},e._Buffer_allocUnsafe=n.allocUnsafe||function(s){return new n(s)}}}),Vce=he((t,e)=>{"use strict";ee(),e.exports=u;var r=wm(),i,n=r.LongBits,s=r.base64,o=r.utf8;function a(M,I,R){this.fn=M,this.len=I,this.next=void 0,this.val=R}function f(){}function c(M){this.head=M.head,this.tail=M.tail,this.len=M.len,this.next=M.states}function u(){this.len=0,this.head=new a(f,0,0),this.tail=this.head,this.states=null}var l=function(){return r.Buffer?function(){return(u.create=function(){return new i})()}:function(){return new u}};u.create=l(),u.alloc=function(M){return new r.Array(M)},r.Array!==Array&&(u.alloc=r.pool(u.alloc,r.Array.prototype.subarray)),u.prototype._push=function(M,I,R){return this.tail=this.tail.next=new a(M,I,R),this.len+=I,this};function y(M,I,R){I[R]=M&255}function m(M,I,R){for(;M>127;)I[R++]=M&127|128,M>>>=7;I[R]=M}function g(M,I){this.len=M,this.next=void 0,this.val=I}g.prototype=Object.create(a.prototype),g.prototype.fn=m,u.prototype.uint32=function(M){return this.len+=(this.tail=this.tail.next=new g((M=M>>>0)<128?1:M<16384?2:M<2097152?3:M<268435456?4:5,M)).len,this},u.prototype.int32=function(M){return M<0?this._push(E,10,n.fromNumber(M)):this.uint32(M)},u.prototype.sint32=function(M){return this.uint32((M<<1^M>>31)>>>0)};function E(M,I,R){for(;M.hi;)I[R++]=M.lo&127|128,M.lo=(M.lo>>>7|M.hi<<25)>>>0,M.hi>>>=7;for(;M.lo>127;)I[R++]=M.lo&127|128,M.lo=M.lo>>>7;I[R++]=M.lo}u.prototype.uint64=function(M){var I=n.from(M);return this._push(E,I.length(),I)},u.prototype.int64=u.prototype.uint64,u.prototype.sint64=function(M){var I=n.from(M).zzEncode();return this._push(E,I.length(),I)},u.prototype.bool=function(M){return this._push(y,1,M?1:0)};function x(M,I,R){I[R]=M&255,I[R+1]=M>>>8&255,I[R+2]=M>>>16&255,I[R+3]=M>>>24}u.prototype.fixed32=function(M){return this._push(x,4,M>>>0)},u.prototype.sfixed32=u.prototype.fixed32,u.prototype.fixed64=function(M){var I=n.from(M);return this._push(x,4,I.lo)._push(x,4,I.hi)},u.prototype.sfixed64=u.prototype.fixed64,u.prototype.float=function(M){return this._push(r.float.writeFloatLE,4,M)},u.prototype.double=function(M){return this._push(r.float.writeDoubleLE,8,M)};var T=r.Array.prototype.set?function(M,I,R){I.set(M,R)}:function(M,I,R){for(var O=0;O<M.length;++O)I[R+O]=M[O]};u.prototype.bytes=function(M){var I=M.length>>>0;if(!I)return this._push(y,1,0);if(r.isString(M)){var R=u.alloc(I=s.length(M));s.decode(M,R,0),M=R}return this.uint32(I)._push(T,I,M)},u.prototype.string=function(M){var I=o.length(M);return I?this.uint32(I)._push(o.write,I,M):this._push(y,1,0)},u.prototype.fork=function(){return this.states=new c(this),this.head=this.tail=new a(f,0,0),this.len=0,this},u.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new a(f,0,0),this.len=0),this},u.prototype.ldelim=function(){var M=this.head,I=this.tail,R=this.len;return this.reset().uint32(R),R&&(this.tail.next=M.next,this.tail=I,this.len+=R),this},u.prototype.finish=function(){for(var M=this.head.next,I=this.constructor.alloc(this.len),R=0;M;)M.fn(M.val,I,R),R+=M.len,M=M.next;return I},u._configure=function(M){i=M,u.create=l(),i._configure()}}),Wje=he((t,e)=>{"use strict";ee(),e.exports=n;var r=Vce();(n.prototype=Object.create(r.prototype)).constructor=n;var i=wm();function n(){r.call(this)}n._configure=function(){n.alloc=i._Buffer_allocUnsafe,n.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&i.Buffer.prototype.set.name==="set"?function(o,a,f){a.set(o,f)}:function(o,a,f){if(o.copy)o.copy(a,f,0,o.length);else for(var c=0;c<o.length;)a[f++]=o[c++]}},n.prototype.bytes=function(o){i.isString(o)&&(o=i._Buffer_from(o,"base64"));var a=o.length>>>0;return this.uint32(a),a&&this._push(n.writeBytesBuffer,a,o),this};function s(o,a,f){o.length<40?i.utf8.write(o,a,f):a.utf8Write?a.utf8Write(o,f):a.write(o,f)}n.prototype.string=function(o){var a=i.Buffer.byteLength(o);return this.uint32(a),a&&this._push(s,a,o),this},n._configure()}),Kce=he((t,e)=>{"use strict";ee(),e.exports=a;var r=wm(),i,n=r.LongBits,s=r.utf8;function o(m,g){return RangeError("index out of range: "+m.pos+" + "+(g||1)+" > "+m.len)}function a(m){this.buf=m,this.pos=0,this.len=m.length}var f=typeof Uint8Array<"u"?function(m){if(m instanceof Uint8Array||Array.isArray(m))return new a(m);throw Error("illegal buffer")}:function(m){if(Array.isArray(m))return new a(m);throw Error("illegal buffer")},c=function(){return r.Buffer?function(m){return(a.create=function(g){return r.Buffer.isBuffer(g)?new i(g):f(g)})(m)}:f};a.create=c(),a.prototype._slice=r.Array.prototype.subarray||r.Array.prototype.slice,a.prototype.uint32=function(){var m=4294967295;return function(){if(m=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(m=(m|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(m=(m|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(m=(m|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(m=(m|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return m;if((this.pos+=5)>this.len)throw this.pos=this.len,o(this,10);return m}}(),a.prototype.int32=function(){return this.uint32()|0},a.prototype.sint32=function(){var m=this.uint32();return m>>>1^-(m&1)|0};function u(){var m=new n(0,0),g=0;if(this.len-this.pos>4){for(;g<4;++g)if(m.lo=(m.lo|(this.buf[this.pos]&127)<<g*7)>>>0,this.buf[this.pos++]<128)return m;if(m.lo=(m.lo|(this.buf[this.pos]&127)<<28)>>>0,m.hi=(m.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return m;g=0}else{for(;g<3;++g){if(this.pos>=this.len)throw o(this);if(m.lo=(m.lo|(this.buf[this.pos]&127)<<g*7)>>>0,this.buf[this.pos++]<128)return m}return m.lo=(m.lo|(this.buf[this.pos++]&127)<<g*7)>>>0,m}if(this.len-this.pos>4){for(;g<5;++g)if(m.hi=(m.hi|(this.buf[this.pos]&127)<<g*7+3)>>>0,this.buf[this.pos++]<128)return m}else for(;g<5;++g){if(this.pos>=this.len)throw o(this);if(m.hi=(m.hi|(this.buf[this.pos]&127)<<g*7+3)>>>0,this.buf[this.pos++]<128)return m}throw Error("invalid varint encoding")}a.prototype.bool=function(){return this.uint32()!==0};function l(m,g){return(m[g-4]|m[g-3]<<8|m[g-2]<<16|m[g-1]<<24)>>>0}a.prototype.fixed32=function(){if(this.pos+4>this.len)throw o(this,4);return l(this.buf,this.pos+=4)},a.prototype.sfixed32=function(){if(this.pos+4>this.len)throw o(this,4);return l(this.buf,this.pos+=4)|0};function y(){if(this.pos+8>this.len)throw o(this,8);return new n(l(this.buf,this.pos+=4),l(this.buf,this.pos+=4))}a.prototype.float=function(){if(this.pos+4>this.len)throw o(this,4);var m=r.float.readFloatLE(this.buf,this.pos);return this.pos+=4,m},a.prototype.double=function(){if(this.pos+8>this.len)throw o(this,4);var m=r.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,m},a.prototype.bytes=function(){var m=this.uint32(),g=this.pos,E=this.pos+m;if(E>this.len)throw o(this,m);return this.pos+=m,Array.isArray(this.buf)?this.buf.slice(g,E):g===E?new this.buf.constructor(0):this._slice.call(this.buf,g,E)},a.prototype.string=function(){var m=this.bytes();return s.read(m,0,m.length)},a.prototype.skip=function(m){if(typeof m=="number"){if(this.pos+m>this.len)throw o(this,m);this.pos+=m}else do if(this.pos>=this.len)throw o(this);while(this.buf[this.pos++]&128);return this},a.prototype.skipType=function(m){switch(m){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(m=this.uint32()&7)!==4;)this.skipType(m);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+m+" at offset "+this.pos)}return this},a._configure=function(m){i=m,a.create=c(),i._configure();var g=r.Long?"toLong":"toNumber";r.merge(a.prototype,{int64:function(){return u.call(this)[g](!1)},uint64:function(){return u.call(this)[g](!0)},sint64:function(){return u.call(this).zzDecode()[g](!1)},fixed64:function(){return y.call(this)[g](!0)},sfixed64:function(){return y.call(this)[g](!1)}})}}),Yje=he((t,e)=>{"use strict";ee(),e.exports=n;var r=Kce();(n.prototype=Object.create(r.prototype)).constructor=n;var i=wm();function n(s){r.call(this,s)}n._configure=function(){i.Buffer&&(n.prototype._slice=i.Buffer.prototype.slice)},n.prototype.string=function(){var s=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+s,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+s,this.len))},n._configure()}),Zje=he((t,e)=>{"use strict";ee(),e.exports=i;var r=wm();(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i;function i(n,s,o){if(typeof n!="function")throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=n,this.requestDelimited=Boolean(s),this.responseDelimited=Boolean(o)}i.prototype.rpcCall=function n(s,o,a,f,c){if(!f)throw TypeError("request must be specified");var u=this;if(!c)return r.asPromise(n,u,s,o,a,f);if(!u.rpcImpl){setTimeout(function(){c(Error("already ended"))},0);return}try{return u.rpcImpl(s,o[u.requestDelimited?"encodeDelimited":"encode"](f).finish(),function(l,y){if(l)return u.emit("error",l,s),c(l);if(y===null){u.end(!0);return}if(!(y instanceof a))try{y=a[u.responseDelimited?"decodeDelimited":"decode"](y)}catch(m){return u.emit("error",m,s),c(m)}return u.emit("data",y,s),c(null,y)})}catch(l){u.emit("error",l,s),setTimeout(function(){c(l)},0);return}},i.prototype.end=function(n){return this.rpcImpl&&(n||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}}),Gje=he(t=>{"use strict";ee();var e=t;e.Service=Zje()}),Jje=he((t,e)=>{"use strict";ee(),e.exports={}}),Xje=he(t=>{"use strict";ee();var e=t;e.build="minimal",e.Writer=Vce(),e.BufferWriter=Wje(),e.Reader=Kce(),e.BufferReader=Yje(),e.util=wm(),e.rpc=Gje(),e.roots=Jje(),e.configure=r;function r(){e.util._configure(),e.Writer._configure(e.BufferWriter),e.Reader._configure(e.BufferReader)}r()}),Qje=he((t,e)=>{"use strict";ee(),e.exports=Xje()});function eLe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var s=t.charAt(n),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=n}var a=t.length,f=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function l(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var E=0,x=0,T=0,M=g.length;T!==M&&g[T]===0;)T++,E++;for(var I=(M-T)*u+1>>>0,R=new Uint8Array(I);T!==M;){for(var O=g[T],B=0,C=I-1;(O!==0||B<x)&&C!==-1;C--,B++)O+=256*R[C]>>>0,R[C]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");x=B,T++}for(var U=I-x;U!==I&&R[U]===0;)U++;for(var W=f.repeat(E);U<I;++U)W+=t.charAt(R[U]);return W}function y(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var E=0;if(g[E]!==" "){for(var x=0,T=0;g[E]===f;)x++,E++;for(var M=(g.length-E)*c+1>>>0,I=new Uint8Array(M);g[E];){var R=r[g.charCodeAt(E)];if(R===255)return;for(var O=0,B=M-1;(R!==0||O<T)&&B!==-1;B--,O++)R+=a*I[B]>>>0,I[B]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");T=O,E++}if(g[E]!==" "){for(var C=M-T;C!==M&&I[C]===0;)C++;for(var U=new Uint8Array(x+(M-C)),W=x;C!==M;)U[W++]=I[C++];return U}}}function m(g){var E=y(g);if(E)return E;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:y,decode:m}}var Nae,qae,Hce,tLe=Ri(()=>{ee(),Nae=eLe,qae=Nae,Hce=qae}),rLe,Wce,k_,Yce,Zce,_m=Ri(()=>{ee(),rLe=new Uint8Array(0),Wce=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},k_=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Yce=t=>new TextEncoder().encode(t),Zce=t=>new TextDecoder().decode(t)}),zae,Fae,Uae,IC,$ae,t_,Cb,Vae,Kae,rs,yl=Ri(()=>{ee(),tLe(),_m(),zae=class{constructor(t,e,r){this.name=t,this.prefix=e,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Fae=class{constructor(t,e,r){if(this.name=t,this.prefix=e,e.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return IC(this,t)}},Uae=class{constructor(t){this.decoders=t}or(t){return IC(this,t)}decode(t){let e=t[0],r=this.decoders[e];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},IC=(t,e)=>new Uae({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),$ae=class{constructor(t,e,r,i){this.name=t,this.prefix=e,this.baseEncode=r,this.baseDecode=i,this.encoder=new zae(t,e,r),this.decoder=new Fae(t,e,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}},t_=({name:t,prefix:e,encode:r,decode:i})=>new $ae(t,e,r,i),Cb=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=Hce(r,e);return t_({prefix:t,name:e,encode:i,decode:s=>k_(n(s))})},Vae=(t,e,r,i)=>{let n={};for(let u=0;u<e.length;++u)n[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),a=0,f=0,c=0;for(let u=0;u<s;++u){let l=n[t[u]];if(l===void 0)throw new SyntaxError(`Non-${i} character`);f=f<<r|l,a+=r,a>=8&&(a-=8,o[c++]=255&f>>a)}if(a>=r||255&f<<8-a)throw new SyntaxError("Unexpected end of data");return o},Kae=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,s="",o=0,a=0;for(let f=0;f<t.length;++f)for(a=a<<8|t[f],o+=8;o>r;)o-=r,s+=e[n&a>>o];if(o&&(s+=e[n&a<<r-o]),i)for(;s.length*r&7;)s+="=";return s},rs=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>t_({prefix:e,name:t,encode(n){return Kae(n,i,r)},decode(n){return Vae(n,i,r,t)}})}),Gce={};wi(Gce,{identity:()=>Jce});var Jce,iLe=Ri(()=>{ee(),yl(),_m(),Jce=t_({prefix:"\0",name:"identity",encode:t=>Zce(t),decode:t=>Yce(t)})}),Xce={};wi(Xce,{base2:()=>Qce});var Qce,nLe=Ri(()=>{ee(),yl(),Qce=rs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),ele={};wi(ele,{base8:()=>tle});var tle,oLe=Ri(()=>{ee(),yl(),tle=rs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),rle={};wi(rle,{base10:()=>ile});var ile,sLe=Ri(()=>{ee(),yl(),ile=Cb({prefix:"9",name:"base10",alphabet:"0123456789"})}),nle={};wi(nle,{base16:()=>ole,base16upper:()=>sle});var ole,sle,aLe=Ri(()=>{ee(),yl(),ole=rs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),sle=rs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})}),ale={};wi(ale,{base32:()=>_b,base32hex:()=>lle,base32hexpad:()=>hle,base32hexpadupper:()=>ple,base32hexupper:()=>dle,base32pad:()=>ule,base32padupper:()=>cle,base32upper:()=>fle,base32z:()=>yle});var _b,fle,ule,cle,lle,dle,hle,ple,yle,mle=Ri(()=>{ee(),yl(),_b=rs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),fle=rs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ule=rs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),cle=rs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),lle=rs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),dle=rs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),hle=rs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ple=rs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),yle=rs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),gle={};wi(gle,{base36:()=>ble,base36upper:()=>vle});var ble,vle,fLe=Ri(()=>{ee(),yl(),ble=Cb({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),vle=Cb({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),wle={};wi(wle,{base58btc:()=>sl,base58flickr:()=>_le});var sl,_le,Ele=Ri(()=>{ee(),yl(),sl=Cb({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),_le=Cb({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})}),Sle={};wi(Sle,{base64:()=>xle,base64pad:()=>Ale,base64url:()=>Mle,base64urlpad:()=>kle});var xle,Ale,Mle,kle,uLe=Ri(()=>{ee(),yl(),xle=rs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Ale=rs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Mle=rs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),kle=rs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})}),Tle={};wi(Tle,{base256emoji:()=>Ile});function cLe(t){return t.reduce((e,r)=>(e+=Ple[r],e),"")}function lLe(t){let e=[];for(let r of t){let i=Dle[r.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(i)}return new Uint8Array(e)}var RC,Ple,Dle,Ile,dLe=Ri(()=>{ee(),yl(),RC=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Ple=RC.reduce((t,e,r)=>(t[r]=e,t),[]),Dle=RC.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]),Ile=t_({prefix:"\u{1F680}",name:"base256emoji",encode:cLe,decode:lLe})});function Rle(t,e,r){e=e||[],r=r||0;for(var i=r;t>=Cle;)e[r++]=t&255|aO,t/=128;for(;t&Ble;)e[r++]=t&255|aO,t>>>=7;return e[r]=t|0,Rle.bytes=r-i+1,e}function sO(t,i){var r=0,i=i||0,n=0,s=i,o,a=t.length;do{if(s>=a)throw sO.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=n<28?(o&fO)<<n:(o&fO)*Math.pow(2,n),n+=7}while(o>=Ole);return sO.bytes=s-i,r}var Hae,aO,Wae,Ble,Cle,Yae,Ole,fO,Zae,Gae,Jae,Xae,Qae,efe,tfe,rfe,ife,nfe,ofe,sfe,Z3,hLe=Ri(()=>{ee(),Hae=Rle,aO=128,Wae=127,Ble=~Wae,Cle=Math.pow(2,31),Yae=sO,Ole=128,fO=127,Zae=Math.pow(2,7),Gae=Math.pow(2,14),Jae=Math.pow(2,21),Xae=Math.pow(2,28),Qae=Math.pow(2,35),efe=Math.pow(2,42),tfe=Math.pow(2,49),rfe=Math.pow(2,56),ife=Math.pow(2,63),nfe=function(t){return t<Zae?1:t<Gae?2:t<Jae?3:t<Xae?4:t<Qae?5:t<efe?6:t<tfe?7:t<rfe?8:t<ife?9:10},ofe={encode:Hae,decode:Yae,encodingLength:nfe},sfe=ofe,Z3=sfe}),P9,f_,u_,fj=Ri(()=>{ee(),hLe(),P9=(t,e=0)=>[Z3.decode(t,e),Z3.decode.bytes],f_=(t,e,r=0)=>(Z3.encode(t,e,r),e),u_=t=>Z3.encodingLength(t)}),c_,jle,Lle,g9,vS=Ri(()=>{ee(),_m(),fj(),c_=(t,e)=>{let r=e.byteLength,i=u_(t),n=i+u_(r),s=new Uint8Array(n+r);return f_(t,s,0),f_(r,s,i),s.set(e,n),new g9(t,r,e,s)},jle=t=>{let e=k_(t),[r,i]=P9(e),[n,s]=P9(e.subarray(i)),o=e.subarray(i+s);if(o.byteLength!==n)throw new Error("Incorrect length");return new g9(r,n,o,e)},Lle=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&Wce(t.bytes,e.bytes),g9=class{constructor(t,e,r,i){this.code=t,this.size=e,this.digest=r,this.bytes=i}}}),uO,afe,Nle=Ri(()=>{ee(),vS(),uO=({name:t,code:e,encode:r})=>new afe(t,e,r),afe=class{constructor(t,e,r){this.name=t,this.code=e,this.encode=r}digest(t){if(t instanceof Uint8Array){let e=this.encode(t);return e instanceof Uint8Array?c_(this.code,e):e.then(r=>c_(this.code,r))}else throw Error("Unknown type, must be binary type")}}}),qle={};wi(qle,{sha256:()=>zle,sha512:()=>Fle});var BC,zle,Fle,pLe=Ri(()=>{ee(),Nle(),BC=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),zle=uO({name:"sha2-256",code:18,encode:BC("SHA-256")}),Fle=uO({name:"sha2-512",code:19,encode:BC("SHA-512")})}),Ule={};wi(Ule,{identity:()=>$le});var CC,ffe,OC,ufe,$le,yLe=Ri(()=>{ee(),_m(),vS(),CC=0,ffe="identity",OC=k_,ufe=t=>c_(CC,OC(t)),$le={code:CC,name:ffe,encode:OC,digest:ufe}}),mLe=Ri(()=>{ee(),_m()}),gLe,bLe,vLe=Ri(()=>{ee(),gLe=new TextEncoder,bLe=new TextDecoder}),ya,cfe,lfe,dfe,gb,hfe,jC,LC,F3,U3,pfe,yfe,mfe,wLe=Ri(()=>{ee(),fj(),vS(),Ele(),mle(),_m(),ya=class{constructor(t,e,r,i){this.code=e,this.version=t,this.multihash=r,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:U3,byteLength:U3,code:F3,version:F3,multihash:F3,bytes:F3,_baseCache:U3,asCID:U3})}toV0(){switch(this.version){case 0:return this;default:{let{code:t,multihash:e}=this;if(t!==gb)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(e.code!==hfe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return ya.createV0(e)}}}toV1(){switch(this.version){case 0:{let{code:t,digest:e}=this.multihash,r=c_(t,e);return ya.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(t){return t&&this.code===t.code&&this.version===t.version&&Lle(this.multihash,t.multihash)}toString(t){let{bytes:e,version:r,_baseCache:i}=this;switch(r){case 0:return lfe(e,i,t||sl.encoder);default:return dfe(e,i,t||_b.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(t){return yfe(/^0\.0/,mfe),!!(t&&(t[LC]||t.asCID===t))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(t){if(t instanceof ya)return t;if(t!=null&&t.asCID===t){let{version:e,code:r,multihash:i,bytes:n}=t;return new ya(e,r,i,n||jC(e,r,i.bytes))}else if(t!=null&&t[LC]===!0){let{version:e,multihash:r,code:i}=t,n=jle(r);return ya.create(e,i,n)}else return null}static create(t,e,r){if(typeof e!="number")throw new Error("String codecs are no longer supported");switch(t){case 0:{if(e!==gb)throw new Error(`Version 0 CID must use dag-pb (code: ${gb}) block encoding`);return new ya(t,e,r,r.bytes)}case 1:{let i=jC(t,e,r.bytes);return new ya(t,e,r,i)}default:throw new Error("Invalid version")}}static createV0(t){return ya.create(0,gb,t)}static createV1(t,e){return ya.create(1,t,e)}static decode(t){let[e,r]=ya.decodeFirst(t);if(r.length)throw new Error("Incorrect length");return e}static decodeFirst(t){let e=ya.inspectBytes(t),r=e.size-e.multihashSize,i=k_(t.subarray(r,r+e.multihashSize));if(i.byteLength!==e.multihashSize)throw new Error("Incorrect length");let n=i.subarray(e.multihashSize-e.digestSize),s=new g9(e.multihashCode,e.digestSize,n,i);return[e.version===0?ya.createV0(s):ya.createV1(e.codec,s),t.subarray(e.size)]}static inspectBytes(t){let e=0,r=()=>{let[u,l]=P9(t.subarray(e));return e+=l,u},i=r(),n=gb;if(i===18?(i=0,e=0):i===1&&(n=r()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let s=e,o=r(),a=r(),f=e+a,c=f-s;return{version:i,codec:n,multihashCode:o,digestSize:a,multihashSize:c,size:f}}static parse(t,e){let[r,i]=cfe(t,e),n=ya.decode(i);return n._baseCache.set(r,t),n}},cfe=(t,e)=>{switch(t[0]){case"Q":{let r=e||sl;return[sl.prefix,r.decode(`${sl.prefix}${t}`)]}case sl.prefix:{let r=e||sl;return[sl.prefix,r.decode(t)]}case _b.prefix:{let r=e||_b;return[_b.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},lfe=(t,e,r)=>{let{prefix:i}=r;if(i!==sl.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let s=r.encode(t).slice(1);return e.set(i,s),s}else return n},dfe=(t,e,r)=>{let{prefix:i}=r,n=e.get(i);if(n==null){let s=r.encode(t);return e.set(i,s),s}else return n},gb=112,hfe=18,jC=(t,e,r)=>{let i=u_(t),n=i+u_(e),s=new Uint8Array(n+r.byteLength);return f_(t,s,0),f_(e,s,i),s.set(r,n),s},LC=Symbol.for("@ipld/js-cid/CID"),F3={writable:!1,configurable:!1,enumerable:!0},U3={writable:!1,enumerable:!1,configurable:!1},pfe="0.0.0-dev",yfe=(t,e)=>{if(t.test(pfe))console.warn(e);else throw new Error(e)},mfe=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`}),_Le=Ri(()=>{ee(),wLe(),fj(),_m(),Nle(),vS()}),cO,ELe,SLe=Ri(()=>{ee(),iLe(),nLe(),oLe(),sLe(),aLe(),mle(),fLe(),Ele(),uLe(),dLe(),pLe(),yLe(),mLe(),vLe(),_Le(),cO={...Gce,...Xce,...ele,...rle,...nle,...ale,...gle,...wle,...Sle,...Tle},ELe={...qle,...Ule}});function uj(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}var cj=Ri(()=>{ee()});function Vle(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?uj(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}var Kle=Ri(()=>{ee(),cj()});function gfe(t,e,r,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:i}}}var NC,J7,bfe,Hle,xLe=Ri(()=>{ee(),SLe(),Kle(),NC=gfe("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),J7=gfe("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=Vle(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),bfe={utf8:NC,"utf-8":NC,hex:cO.base16,latin1:J7,ascii:J7,binary:J7,...cO},Hle=bfe}),Wle={};wi(Wle,{fromString:()=>ALe});function ALe(t,e="utf8"){let r=Hle[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?uj(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var MLe=Ri(()=>{ee(),xLe(),cj()}),kLe=he((t,e)=>{"use strict";ee();var r=Cce(),{fromString:i}=(MLe(),xce(Wle)),n=class{constructor(c,u,l=0){this._options=c,this._popCount=0,this._parent=u,this._posAtParent=l,this._children=new r,this.key=null}async put(c,u){let l=await this._findNewBucketAndPos(c);await l.bucket._putAt(l,c,u)}async get(c){let u=await this._findChild(c);if(u)return u.value}async del(c){let u=await this._findPlace(c),l=u.bucket._at(u.pos);l&&l.key===c&&u.bucket._delAt(u.pos)}leafCount(){return this._children.compactArray().reduce((c,u)=>u instanceof n?c+u.leafCount():c+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){let c=this._children.compactArray();for(let u of c)u instanceof n?yield*u.eachLeafSeries():yield u;return[]}serialize(c,u){let l=[];return u(this._children.reduce((y,m,g)=>(m&&(m instanceof n?y.push(m.serialize(c,u)):y.push(c(m,g))),y),l))}asyncTransform(c,u){return f(this,c,u)}toJSON(){return this.serialize(o,a)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(c){let u=await this._findPlace(c),l=u.bucket._at(u.pos);if(!(l instanceof n)&&l&&l.key===c)return l}async _findPlace(c){let u=this._options.hash(typeof c=="string"?i(c):c),l=await u.take(this._options.bits),y=this._children.get(l);return y instanceof n?y._findPlace(u):{bucket:this,pos:l,hash:u,existingChild:y}}async _findNewBucketAndPos(c){let u=await this._findPlace(c);if(u.existingChild&&u.existingChild.key!==c){let l=new n(this._options,u.bucket,u.pos);u.bucket._putObjectAt(u.pos,l);let y=await l._findPlace(u.existingChild.hash);return y.bucket._putAt(y,u.existingChild.key,u.existingChild.value),l._findNewBucketAndPos(u.hash)}return u}_putAt(c,u,l){this._putObjectAt(c.pos,{key:u,value:l,hash:c.hash})}_putObjectAt(c,u){this._children.get(c)||this._popCount++,this._children.set(c,u)}_delAt(c){if(c===-1)throw new Error("Invalid position");this._children.get(c)&&this._popCount--,this._children.unset(c),this._level()}_level(){if(this._parent&&this._popCount<=1)if(this._popCount===1){let c=this._children.find(s);if(c&&!(c instanceof n)){let u=c.hash;u.untake(this._options.bits);let l={pos:this._posAtParent,hash:u,bucket:this._parent};this._parent._putAt(l,c.key,c.value)}}else this._parent._delAt(this._posAtParent)}_at(c){return this._children.get(c)}};function s(c){return Boolean(c)}function o(c,u){return c.key}function a(c){return c}async function f(c,u,l){let y=[];for(let m of c._children.compactArray())if(m instanceof n)await f(m,u,l);else{let g=await u(m);y.push({bitField:c._children.bitField(),children:g})}return l(y)}e.exports=n}),TLe=he((t,e)=>{"use strict";ee();var r=[255,254,252,248,240,224,192,128],i=[1,3,7,15,31,63,127,255];e.exports=class{constructor(o){this._value=o,this._currentBytePos=o.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+this._currentBytePos*8}totalBits(){return this._value.length*8}take(o){let a=o,f=0;for(;a&&this._haveBits();){let c=this._value[this._currentBytePos],u=this._currentBitPos+1,l=Math.min(u,a),y=n(c,u-l,l);f=(f<<l)+y,a-=l,this._currentBitPos-=l,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return f}untake(o){for(this._currentBitPos+=o;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}};function n(o,a,f){let c=s(a,f);return(o&c)>>>a}function s(o,a){return r[o]&i[Math.min(a+o-1,7)]}}),Yle={};wi(Yle,{concat:()=>PLe});function PLe(t,e){e||(e=t.reduce((n,s)=>n+s.length,0));let r=Vle(e),i=0;for(let n of t)r.set(n,i),i+=n.length;return uj(r)}var DLe=Ri(()=>{ee(),Kle(),cj()}),ILe=he((t,e)=>{"use strict";ee();var r=TLe(),{concat:i}=(DLe(),xce(Yle));function n(o){function a(f){return f instanceof s?f:new s(f,o)}return a}var s=class{constructor(o,a){if(!(o instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=o,this._hashFn=a,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(o){let a=o;for(;this._availableBits<a;)await this._produceMoreBits();let f=0;for(;a>0;){let c=this._buffers[this._currentBufferIndex],u=Math.min(c.availableBits(),a),l=c.take(u);f=(f<<u)+l,a-=u,this._availableBits-=u,c.availableBits()===0&&this._currentBufferIndex++}return f}untake(o){let a=o;for(;a>0;){let f=this._buffers[this._currentBufferIndex],c=Math.min(f.totalBits()-f.availableBits(),a);f.untake(c),a-=c,this._availableBits+=c,this._currentBufferIndex>0&&f.totalBits()===f.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;let o=this._depth?i([this._value,Uint8Array.from([this._depth])]):this._value,a=await this._hashFn(o),f=new r(a);this._buffers.push(f),this._availableBits+=f.availableBits()}};e.exports=n,e.exports.InfiniteHash=s}),RLe=he((t,e)=>{"use strict";ee();var r=kLe(),i=ILe();function n(s){if(!s||!s.hashFn)throw new Error("please define an options.hashFn");let o={bits:s.bits||8,hash:i(s.hashFn)};return new r(o)}e.exports={createHAMT:n,Bucket:r}}),BLe=he((t,e)=>{"use strict";ee();var r=async i=>{let n;for await(let s of i)n=s;return n};e.exports=r}),qo=he((t,e)=>{"use strict";ee(),e.exports={ArrayIsArray(r){return Array.isArray(r)},ArrayPrototypeIncludes(r,i){return r.includes(i)},ArrayPrototypeIndexOf(r,i){return r.indexOf(i)},ArrayPrototypeJoin(r,i){return r.join(i)},ArrayPrototypeMap(r,i){return r.map(i)},ArrayPrototypePop(r,i){return r.pop(i)},ArrayPrototypePush(r,i){return r.push(i)},ArrayPrototypeSlice(r,i,n){return r.slice(i,n)},Error,FunctionPrototypeCall(r,i,...n){return r.call(i,...n)},FunctionPrototypeSymbolHasInstance(r,i){return Function.prototype[Symbol.hasInstance].call(r,i)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(r,i){return Object.defineProperties(r,i)},ObjectDefineProperty(r,i,n){return Object.defineProperty(r,i,n)},ObjectGetOwnPropertyDescriptor(r,i){return Object.getOwnPropertyDescriptor(r,i)},ObjectKeys(r){return Object.keys(r)},ObjectSetPrototypeOf(r,i){return Object.setPrototypeOf(r,i)},Promise,PromisePrototypeCatch(r,i){return r.catch(i)},PromisePrototypeThen(r,i,n){return r.then(i,n)},PromiseReject(r){return Promise.reject(r)},ReflectApply:Reflect.apply,RegExpPrototypeTest(r,i){return r.test(i)},SafeSet:Set,String,StringPrototypeSlice(r,i,n){return r.slice(i,n)},StringPrototypeToLowerCase(r){return r.toLowerCase()},StringPrototypeToUpperCase(r){return r.toUpperCase()},StringPrototypeTrim(r){return r.trim()},Symbol,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(r,i,n){return r.set(i,n)},Uint8Array}}),Ld=he((t,e)=>{"use strict";ee();var r=ji(),i=Object.getPrototypeOf(async function(){}).constructor,n=globalThis.Blob||r.Blob,s=typeof n<"u"?function(a){return a instanceof n}:function(a){return!1},o=class extends Error{constructor(a){if(!Array.isArray(a))throw new TypeError(`Expected input to be an Array, got ${typeof a}`);let f="";for(let c=0;c<a.length;c++)f+=`    ${a[c].stack}
`;super(f),this.name="AggregateError",this.errors=a}};e.exports={AggregateError:o,kEmptyObject:Object.freeze({}),once(a){let f=!1;return function(...c){f||(f=!0,a.apply(this,c))}},createDeferredPromise:function(){let a,f;return{promise:new Promise((c,u)=>{a=c,f=u}),resolve:a,reject:f}},promisify(a){return new Promise((f,c)=>{a((u,...l)=>u?c(u):f(...l))})},debuglog(){return function(){}},format(a,...f){return a.replace(/%([sdifj])/g,function(...[c,u]){let l=f.shift();return u==="f"?l.toFixed(6):u==="j"?JSON.stringify(l):u==="s"&&typeof l=="object"?`${l.constructor!==Object?l.constructor.name:""} {}`.trim():l.toString()})},inspect(a){switch(typeof a){case"string":if(a.includes("'"))if(a.includes('"')){if(!a.includes("`")&&!a.includes("${"))return`\`${a}\``}else return`"${a}"`;return`'${a}'`;case"number":return isNaN(a)?"NaN":Object.is(a,-0)?String(a):a;case"bigint":return`${String(a)}n`;case"boolean":case"undefined":return String(a);case"object":return"{}"}},types:{isAsyncFunction(a){return a instanceof i},isArrayBufferView(a){return ArrayBuffer.isView(a)}},isBlob:s},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),lj=he((t,e)=>{"use strict";ee();var{AbortController:r,AbortSignal:i}=typeof self<"u"?self:typeof window<"u"?window:void 0;e.exports=r,e.exports.AbortSignal=i,e.exports.default=r}),Ya=he((t,e)=>{"use strict";ee();var{format:r,inspect:i,AggregateError:n}=Ld(),s=globalThis.AggregateError||n,o=Symbol("kIsNodeError"),a=["string","function","number","object","Function","Object","boolean","bigint","symbol"],f=/^([A-Z][a-z0-9]*)+$/,c="__node_internal_",u={};function l(M,I){if(!M)throw new u.ERR_INTERNAL_ASSERTION(I)}function y(M){let I="",R=M.length,O=M[0]==="-"?1:0;for(;R>=O+4;R-=3)I=`_${M.slice(R-3,R)}${I}`;return`${M.slice(0,R)}${I}`}function m(M,I,R){if(typeof I=="function")return l(I.length<=R.length,`Code: ${M}; The provided arguments length (${R.length}) does not match the required ones (${I.length}).`),I(...R);let O=(I.match(/%[dfijoOs]/g)||[]).length;return l(O===R.length,`Code: ${M}; The provided arguments length (${R.length}) does not match the required ones (${O}).`),R.length===0?I:r(I,...R)}function g(M,I,R){R||(R=Error);class O extends R{constructor(...C){super(m(M,I,C))}toString(){return`${this.name} [${M}]: ${this.message}`}}Object.defineProperties(O.prototype,{name:{value:R.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${M}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),O.prototype.code=M,O.prototype[o]=!0,u[M]=O}function E(M){let I=c+M.name;return Object.defineProperty(M,"name",{value:I}),M}function x(M,I){if(M&&I&&M!==I){if(Array.isArray(I.errors))return I.errors.push(M),I;let R=new s([I,M],I.message);return R.code=I.code,R}return M||I}var T=class extends Error{constructor(M="The operation was aborted",I=void 0){if(I!==void 0&&typeof I!="object")throw new u.ERR_INVALID_ARG_TYPE("options","Object",I);super(M,I),this.code="ABORT_ERR",this.name="AbortError"}};g("ERR_ASSERTION","%s",Error),g("ERR_INVALID_ARG_TYPE",(M,I,R)=>{l(typeof M=="string","'name' must be a string"),Array.isArray(I)||(I=[I]);let O="The ";M.endsWith(" argument")?O+=`${M} `:O+=`"${M}" ${M.includes(".")?"property":"argument"} `,O+="must be ";let B=[],C=[],U=[];for(let L of I)l(typeof L=="string","All expected entries have to be of type string"),a.includes(L)?B.push(L.toLowerCase()):f.test(L)?C.push(L):(l(L!=="object",'The value "object" should be written as "Object"'),U.push(L));if(C.length>0){let L=B.indexOf("object");L!==-1&&(B.splice(B,L,1),C.push("Object"))}if(B.length>0){switch(B.length){case 1:O+=`of type ${B[0]}`;break;case 2:O+=`one of type ${B[0]} or ${B[1]}`;break;default:{let L=B.pop();O+=`one of type ${B.join(", ")}, or ${L}`}}(C.length>0||U.length>0)&&(O+=" or ")}if(C.length>0){switch(C.length){case 1:O+=`an instance of ${C[0]}`;break;case 2:O+=`an instance of ${C[0]} or ${C[1]}`;break;default:{let L=C.pop();O+=`an instance of ${C.join(", ")}, or ${L}`}}U.length>0&&(O+=" or ")}switch(U.length){case 0:break;case 1:U[0].toLowerCase()!==U[0]&&(O+="an "),O+=`${U[0]}`;break;case 2:O+=`one of ${U[0]} or ${U[1]}`;break;default:{let L=U.pop();O+=`one of ${U.join(", ")}, or ${L}`}}if(R==null)O+=`. Received ${R}`;else if(typeof R=="function"&&R.name)O+=`. Received function ${R.name}`;else if(typeof R=="object"){var W;if((W=R.constructor)!==null&&W!==void 0&&W.name)O+=`. Received an instance of ${R.constructor.name}`;else{let L=i(R,{depth:-1});O+=`. Received ${L}`}}else{let L=i(R,{colors:!1});L.length>25&&(L=`${L.slice(0,25)}...`),O+=`. Received type ${typeof R} (${L})`}return O},TypeError),g("ERR_INVALID_ARG_VALUE",(M,I,R="is invalid")=>{let O=i(I);return O.length>128&&(O=O.slice(0,128)+"..."),`The ${M.includes(".")?"property":"argument"} '${M}' ${R}. Received ${O}`},TypeError),g("ERR_INVALID_RETURN_VALUE",(M,I,R)=>{var O;let B=R!=null&&(O=R.constructor)!==null&&O!==void 0&&O.name?`instance of ${R.constructor.name}`:`type ${typeof R}`;return`Expected ${M} to be returned from the "${I}" function but got ${B}.`},TypeError),g("ERR_MISSING_ARGS",(...M)=>{l(M.length>0,"At least one arg needs to be specified");let I,R=M.length;switch(M=(Array.isArray(M)?M:[M]).map(O=>`"${O}"`).join(" or "),R){case 1:I+=`The ${M[0]} argument`;break;case 2:I+=`The ${M[0]} and ${M[1]} arguments`;break;default:{let O=M.pop();I+=`The ${M.join(", ")}, and ${O} arguments`}break}return`${I} must be specified`},TypeError),g("ERR_OUT_OF_RANGE",(M,I,R)=>{l(I,'Missing "range" argument');let O;return Number.isInteger(R)&&Math.abs(R)>2**32?O=y(String(R)):typeof R=="bigint"?(O=String(R),(R>2n**32n||R<-(2n**32n))&&(O=y(O)),O+="n"):O=i(R),`The value of "${M}" is out of range. It must be ${I}. Received ${O}`},RangeError),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),g("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),g("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),g("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),g("ERR_STREAM_WRITE_AFTER_END","write after end",Error),g("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:T,aggregateTwoErrors:E(x),hideStackFrames:E,codes:u}}),wS=he((t,e)=>{"use strict";ee();var{ArrayIsArray:r,ArrayPrototypeIncludes:i,ArrayPrototypeJoin:n,ArrayPrototypeMap:s,NumberIsInteger:o,NumberIsNaN:a,NumberMAX_SAFE_INTEGER:f,NumberMIN_SAFE_INTEGER:c,NumberParseInt:u,ObjectPrototypeHasOwnProperty:l,RegExpPrototypeExec:y,String:m,StringPrototypeToUpperCase:g,StringPrototypeTrim:E}=qo(),{hideStackFrames:x,codes:{ERR_SOCKET_BAD_PORT:T,ERR_INVALID_ARG_TYPE:M,ERR_INVALID_ARG_VALUE:I,ERR_OUT_OF_RANGE:R,ERR_UNKNOWN_SIGNAL:O}}=Ya(),{normalizeEncoding:B}=Ld(),{isAsyncFunction:C,isArrayBufferView:U}=Ld().types,W={};function L($){return $===($|0)}function j($){return $===$>>>0}var k=/^[0-7]+$/,P="must be a 32-bit unsigned integer or an octal string";function p($,q,z){if(typeof $>"u"&&($=z),typeof $=="string"){if(y(k,$)===null)throw new I(q,$,P);$=u($,8)}return b($,q),$}var d=x(($,q,z=c,Y=f)=>{if(typeof $!="number")throw new M(q,"number",$);if(!o($))throw new R(q,"an integer",$);if($<z||$>Y)throw new R(q,`>= ${z} && <= ${Y}`,$)}),h=x(($,q,z=-2147483648,Y=2147483647)=>{if(typeof $!="number")throw new M(q,"number",$);if(!o($))throw new R(q,"an integer",$);if($<z||$>Y)throw new R(q,`>= ${z} && <= ${Y}`,$)}),b=x(($,q,z=!1)=>{if(typeof $!="number")throw new M(q,"number",$);if(!o($))throw new R(q,"an integer",$);let Y=z?1:0,X=4294967295;if($<Y||$>X)throw new R(q,`>= ${Y} && <= ${X}`,$)});function v($,q){if(typeof $!="string")throw new M(q,"string",$)}function w($,q,z=void 0,Y){if(typeof $!="number")throw new M(q,"number",$);if(z!=null&&$<z||Y!=null&&$>Y||(z!=null||Y!=null)&&a($))throw new R(q,`${z!=null?`>= ${z}`:""}${z!=null&&Y!=null?" && ":""}${Y!=null?`<= ${Y}`:""}`,$)}var _=x(($,q,z)=>{if(!i(z,$)){let Y="must be one of: "+n(s(z,X=>typeof X=="string"?`'${X}'`:m(X)),", ");throw new I(q,$,Y)}});function D($,q){if(typeof $!="boolean")throw new M(q,"boolean",$)}function S($,q,z){return $==null||!l($,q)?z:$[q]}var A=x(($,q,z=null)=>{let Y=S(z,"allowArray",!1),X=S(z,"allowFunction",!1);if(!S(z,"nullable",!1)&&$===null||!Y&&r($)||typeof $!="object"&&(!X||typeof $!="function"))throw new M(q,"Object",$)}),N=x(($,q,z=0)=>{if(!r($))throw new M(q,"Array",$);if($.length<z){let Y=`must be longer than ${z}`;throw new I(q,$,Y)}});function G($,q="signal"){if(v($,q),W[$]===void 0)throw W[g($)]!==void 0?new O($+" (signals must use all capital letters)"):new O($)}var Q=x(($,q="buffer")=>{if(!U($))throw new M(q,["Buffer","TypedArray","DataView"],$)});function ne($,q){let z=B(q),Y=$.length;if(z==="hex"&&Y%2!==0)throw new I("encoding",q,`is invalid for data of length ${Y}`)}function H($,q="Port",z=!0){if(typeof $!="number"&&typeof $!="string"||typeof $=="string"&&E($).length===0||+$!==+$>>>0||$>65535||$===0&&!z)throw new T(q,$,z);return $|0}var Z=x(($,q)=>{if($!==void 0&&($===null||typeof $!="object"||!("aborted"in $)))throw new M(q,"AbortSignal",$)}),ie=x(($,q)=>{if(typeof $!="function")throw new M(q,"Function",$)}),fe=x(($,q)=>{if(typeof $!="function"||C($))throw new M(q,"Function",$)}),ue=x(($,q)=>{if($!==void 0)throw new M(q,"undefined",$)});function ye($,q,z){if(!i(z,$))throw new M(q,`('${n(z,"|")}')`,$)}e.exports={isInt32:L,isUint32:j,parseFileMode:p,validateArray:N,validateBoolean:D,validateBuffer:Q,validateEncoding:ne,validateFunction:ie,validateInt32:h,validateInteger:d,validateNumber:w,validateObject:A,validateOneOf:_,validatePlainFunction:fe,validatePort:H,validateSignalName:G,validateString:v,validateUint32:b,validateUndefined:ue,validateUnion:ye,validateAbortSignal:Z}}),Em=he((t,e)=>{"use strict";ee();var{Symbol:r,SymbolAsyncIterator:i,SymbolIterator:n}=qo(),s=r("kDestroyed"),o=r("kIsErrored"),a=r("kIsReadable"),f=r("kIsDisturbed");function c(d,h=!1){var b;return!!(d&&typeof d.pipe=="function"&&typeof d.on=="function"&&(!h||typeof d.pause=="function"&&typeof d.resume=="function")&&(!d._writableState||((b=d._readableState)===null||b===void 0?void 0:b.readable)!==!1)&&(!d._writableState||d._readableState))}function u(d){var h;return!!(d&&typeof d.write=="function"&&typeof d.on=="function"&&(!d._readableState||((h=d._writableState)===null||h===void 0?void 0:h.writable)!==!1))}function l(d){return!!(d&&typeof d.pipe=="function"&&d._readableState&&typeof d.on=="function"&&typeof d.write=="function")}function y(d){return d&&(d._readableState||d._writableState||typeof d.write=="function"&&typeof d.on=="function"||typeof d.pipe=="function"&&typeof d.on=="function")}function m(d,h){return d==null?!1:h===!0?typeof d[i]=="function":h===!1?typeof d[n]=="function":typeof d[i]=="function"||typeof d[n]=="function"}function g(d){if(!y(d))return null;let h=d._writableState,b=d._readableState,v=h||b;return!!(d.destroyed||d[s]||v!=null&&v.destroyed)}function E(d){if(!u(d))return null;if(d.writableEnded===!0)return!0;let h=d._writableState;return h!=null&&h.errored?!1:typeof h?.ended!="boolean"?null:h.ended}function x(d,h){if(!u(d))return null;if(d.writableFinished===!0)return!0;let b=d._writableState;return b!=null&&b.errored?!1:typeof b?.finished!="boolean"?null:!!(b.finished||h===!1&&b.ended===!0&&b.length===0)}function T(d){if(!c(d))return null;if(d.readableEnded===!0)return!0;let h=d._readableState;return!h||h.errored?!1:typeof h?.ended!="boolean"?null:h.ended}function M(d,h){if(!c(d))return null;let b=d._readableState;return b!=null&&b.errored?!1:typeof b?.endEmitted!="boolean"?null:!!(b.endEmitted||h===!1&&b.ended===!0&&b.length===0)}function I(d){return d&&d[a]!=null?d[a]:typeof d?.readable!="boolean"?null:g(d)?!1:c(d)&&d.readable&&!M(d)}function R(d){return typeof d?.writable!="boolean"?null:g(d)?!1:u(d)&&d.writable&&!E(d)}function O(d,h){return y(d)?g(d)?!0:!(h?.readable!==!1&&I(d)||h?.writable!==!1&&R(d)):null}function B(d){var h,b;return y(d)?d.writableErrored?d.writableErrored:(h=(b=d._writableState)===null||b===void 0?void 0:b.errored)!==null&&h!==void 0?h:null:null}function C(d){var h,b;return y(d)?d.readableErrored?d.readableErrored:(h=(b=d._readableState)===null||b===void 0?void 0:b.errored)!==null&&h!==void 0?h:null:null}function U(d){if(!y(d))return null;if(typeof d.closed=="boolean")return d.closed;let h=d._writableState,b=d._readableState;return typeof h?.closed=="boolean"||typeof b?.closed=="boolean"?h?.closed||b?.closed:typeof d._closed=="boolean"&&W(d)?d._closed:null}function W(d){return typeof d._closed=="boolean"&&typeof d._defaultKeepAlive=="boolean"&&typeof d._removedConnection=="boolean"&&typeof d._removedContLen=="boolean"}function L(d){return typeof d._sent100=="boolean"&&W(d)}function j(d){var h;return typeof d._consuming=="boolean"&&typeof d._dumped=="boolean"&&((h=d.req)===null||h===void 0?void 0:h.upgradeOrConnect)===void 0}function k(d){if(!y(d))return null;let h=d._writableState,b=d._readableState,v=h||b;return!v&&L(d)||!!(v&&v.autoDestroy&&v.emitClose&&v.closed===!1)}function P(d){var h;return!!(d&&((h=d[f])!==null&&h!==void 0?h:d.readableDidRead||d.readableAborted))}function p(d){var h,b,v,w,_,D,S,A,N,G;return!!(d&&((h=(b=(v=(w=(_=(D=d[o])!==null&&D!==void 0?D:d.readableErrored)!==null&&_!==void 0?_:d.writableErrored)!==null&&w!==void 0?w:(S=d._readableState)===null||S===void 0?void 0:S.errorEmitted)!==null&&v!==void 0?v:(A=d._writableState)===null||A===void 0?void 0:A.errorEmitted)!==null&&b!==void 0?b:(N=d._readableState)===null||N===void 0?void 0:N.errored)!==null&&h!==void 0?h:!((G=d._writableState)===null||G===void 0)&&G.errored))}e.exports={kDestroyed:s,isDisturbed:P,kIsDisturbed:f,isErrored:p,kIsErrored:o,isReadable:I,kIsReadable:a,isClosed:U,isDestroyed:g,isDuplexNodeStream:l,isFinished:O,isIterable:m,isReadableNodeStream:c,isReadableEnded:T,isReadableFinished:M,isReadableErrored:C,isNodeStream:y,isWritable:R,isWritableNodeStream:u,isWritableEnded:E,isWritableFinished:x,isWritableErrored:B,isServerRequest:j,isServerResponse:L,willEmitClose:k}}),Sm=he((t,e)=>{ee();var r=Kp(),{AbortError:i,codes:n}=Ya(),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_PREMATURE_CLOSE:o}=n,{kEmptyObject:a,once:f}=Ld(),{validateAbortSignal:c,validateFunction:u,validateObject:l}=wS(),{Promise:y}=qo(),{isClosed:m,isReadable:g,isReadableNodeStream:E,isReadableFinished:x,isReadableErrored:T,isWritable:M,isWritableNodeStream:I,isWritableFinished:R,isWritableErrored:O,isNodeStream:B,willEmitClose:C}=Em();function U(k){return k.setHeader&&typeof k.abort=="function"}var W=()=>{};function L(k,P,p){var d,h;arguments.length===2?(p=P,P=a):P==null?P=a:l(P,"options"),u(p,"callback"),c(P.signal,"options.signal"),p=f(p);let b=(d=P.readable)!==null&&d!==void 0?d:E(k),v=(h=P.writable)!==null&&h!==void 0?h:I(k);if(!B(k))throw new s("stream","Stream",k);let w=k._writableState,_=k._readableState,D=()=>{k.writable||N()},S=C(k)&&E(k)===b&&I(k)===v,A=R(k,!1),N=()=>{A=!0,k.destroyed&&(S=!1),!(S&&(!k.readable||b))&&(!b||G)&&p.call(k)},G=x(k,!1),Q=()=>{G=!0,k.destroyed&&(S=!1),!(S&&(!k.writable||v))&&(!v||A)&&p.call(k)},ne=ue=>{p.call(k,ue)},H=m(k),Z=()=>{H=!0;let ue=O(k)||T(k);if(ue&&typeof ue!="boolean")return p.call(k,ue);if(b&&!G&&E(k,!0)&&!x(k,!1))return p.call(k,new o);if(v&&!A&&!R(k,!1))return p.call(k,new o);p.call(k)},ie=()=>{k.req.on("finish",N)};U(k)?(k.on("complete",N),S||k.on("abort",Z),k.req?ie():k.on("request",ie)):v&&!w&&(k.on("end",D),k.on("close",D)),!S&&typeof k.aborted=="boolean"&&k.on("aborted",Z),k.on("end",Q),k.on("finish",N),P.error!==!1&&k.on("error",ne),k.on("close",Z),H?r.nextTick(Z):w!=null&&w.errorEmitted||_!=null&&_.errorEmitted?S||r.nextTick(Z):(!b&&(!S||g(k))&&(A||M(k)===!1)||!v&&(!S||M(k))&&(G||g(k)===!1)||_&&k.req&&k.aborted)&&r.nextTick(Z);let fe=()=>{p=W,k.removeListener("aborted",Z),k.removeListener("complete",N),k.removeListener("abort",Z),k.removeListener("request",ie),k.req&&k.req.removeListener("finish",N),k.removeListener("end",D),k.removeListener("close",D),k.removeListener("finish",N),k.removeListener("end",Q),k.removeListener("error",ne),k.removeListener("close",Z)};if(P.signal&&!H){let ue=()=>{let ye=p;fe(),ye.call(k,new i(void 0,{cause:P.signal.reason}))};if(P.signal.aborted)r.nextTick(ue);else{let ye=p;p=f((...$)=>{P.signal.removeEventListener("abort",ue),ye.apply(k,$)}),P.signal.addEventListener("abort",ue)}}return fe}function j(k,P){return new y((p,d)=>{L(k,P,h=>{h?d(h):p()})})}e.exports=L,e.exports.finished=j}),CLe=he((t,e)=>{"use strict";ee();var r=globalThis.AbortController||lj().AbortController,{codes:{ERR_INVALID_ARG_TYPE:i,ERR_MISSING_ARGS:n,ERR_OUT_OF_RANGE:s},AbortError:o}=Ya(),{validateAbortSignal:a,validateInteger:f,validateObject:c}=wS(),u=qo().Symbol("kWeak"),{finished:l}=Sm(),{ArrayPrototypePush:y,MathFloor:m,Number:g,NumberIsNaN:E,Promise:x,PromiseReject:T,PromisePrototypeThen:M,Symbol:I}=qo(),R=I("kEmpty"),O=I("kEof");function B(_,D){if(typeof _!="function")throw new i("fn",["Function","AsyncFunction"],_);D!=null&&c(D,"options"),D?.signal!=null&&a(D.signal,"options.signal");let S=1;return D?.concurrency!=null&&(S=m(D.concurrency)),f(S,"concurrency",1),async function*(){var A,N;let G=new r,Q=this,ne=[],H=G.signal,Z={signal:H},ie=()=>G.abort();D!=null&&(A=D.signal)!==null&&A!==void 0&&A.aborted&&ie(),D==null||(N=D.signal)===null||N===void 0||N.addEventListener("abort",ie);let fe,ue,ye=!1;function $(){ye=!0}async function q(){try{for await(let X of Q){var z;if(ye)return;if(H.aborted)throw new o;try{X=_(X,Z)}catch(re){X=T(re)}X!==R&&(typeof((z=X)===null||z===void 0?void 0:z.catch)=="function"&&X.catch($),ne.push(X),fe&&(fe(),fe=null),!ye&&ne.length&&ne.length>=S&&await new x(re=>{ue=re}))}ne.push(O)}catch(X){let re=T(X);M(re,void 0,$),ne.push(re)}finally{var Y;ye=!0,fe&&(fe(),fe=null),D==null||(Y=D.signal)===null||Y===void 0||Y.removeEventListener("abort",ie)}}q();try{for(;;){for(;ne.length>0;){let z=await ne[0];if(z===O)return;if(H.aborted)throw new o;z!==R&&(yield z),ne.shift(),ue&&(ue(),ue=null)}await new x(z=>{fe=z})}}finally{G.abort(),ye=!0,ue&&(ue(),ue=null)}}.call(this)}function C(_=void 0){return _!=null&&c(_,"options"),_?.signal!=null&&a(_.signal,"options.signal"),async function*(){let D=0;for await(let A of this){var S;if(_!=null&&(S=_.signal)!==null&&S!==void 0&&S.aborted)throw new o({cause:_.signal.reason});yield[D++,A]}}.call(this)}async function U(_,D=void 0){for await(let S of k.call(this,_,D))return!0;return!1}async function W(_,D=void 0){if(typeof _!="function")throw new i("fn",["Function","AsyncFunction"],_);return!await U.call(this,async(...S)=>!await _(...S),D)}async function L(_,D){for await(let S of k.call(this,_,D))return S}async function j(_,D){if(typeof _!="function")throw new i("fn",["Function","AsyncFunction"],_);async function S(A,N){return await _(A,N),R}for await(let A of B.call(this,S,D));}function k(_,D){if(typeof _!="function")throw new i("fn",["Function","AsyncFunction"],_);async function S(A,N){return await _(A,N)?A:R}return B.call(this,S,D)}var P=class extends n{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function p(_,D,S){var A;if(typeof _!="function")throw new i("reducer",["Function","AsyncFunction"],_);S!=null&&c(S,"options"),S?.signal!=null&&a(S.signal,"options.signal");let N=arguments.length>1;if(S!=null&&(A=S.signal)!==null&&A!==void 0&&A.aborted){let Z=new o(void 0,{cause:S.signal.reason});throw this.once("error",()=>{}),await l(this.destroy(Z)),Z}let G=new r,Q=G.signal;if(S!=null&&S.signal){let Z={once:!0,[u]:this};S.signal.addEventListener("abort",()=>G.abort(),Z)}let ne=!1;try{for await(let Z of this){var H;if(ne=!0,S!=null&&(H=S.signal)!==null&&H!==void 0&&H.aborted)throw new o;N?D=await _(D,Z,{signal:Q}):(D=Z,N=!0)}if(!ne&&!N)throw new P}finally{G.abort()}return D}async function d(_){_!=null&&c(_,"options"),_?.signal!=null&&a(_.signal,"options.signal");let D=[];for await(let A of this){var S;if(_!=null&&(S=_.signal)!==null&&S!==void 0&&S.aborted)throw new o(void 0,{cause:_.signal.reason});y(D,A)}return D}function h(_,D){let S=B.call(this,_,D);return async function*(){for await(let A of S)yield*A}.call(this)}function b(_){if(_=g(_),E(_))return 0;if(_<0)throw new s("number",">= 0",_);return _}function v(_,D=void 0){return D!=null&&c(D,"options"),D?.signal!=null&&a(D.signal,"options.signal"),_=b(_),async function*(){var S;if(D!=null&&(S=D.signal)!==null&&S!==void 0&&S.aborted)throw new o;for await(let N of this){var A;if(D!=null&&(A=D.signal)!==null&&A!==void 0&&A.aborted)throw new o;_--<=0&&(yield N)}}.call(this)}function w(_,D=void 0){return D!=null&&c(D,"options"),D?.signal!=null&&a(D.signal,"options.signal"),_=b(_),async function*(){var S;if(D!=null&&(S=D.signal)!==null&&S!==void 0&&S.aborted)throw new o;for await(let N of this){var A;if(D!=null&&(A=D.signal)!==null&&A!==void 0&&A.aborted)throw new o;if(_-- >0)yield N;else return}}.call(this)}e.exports.streamReturningOperators={asIndexedPairs:C,drop:v,filter:k,flatMap:h,map:B,take:w},e.exports.promiseReturningOperators={every:W,forEach:j,reduce:p,toArray:d,some:U,find:L}}),Gb=he((t,e)=>{"use strict";ee();var r=Kp(),{aggregateTwoErrors:i,codes:{ERR_MULTIPLE_CALLBACK:n},AbortError:s}=Ya(),{Symbol:o}=qo(),{kDestroyed:a,isDestroyed:f,isFinished:c,isServerRequest:u}=Em(),l=o("kDestroy"),y=o("kConstruct");function m(k,P,p){k&&(k.stack,P&&!P.errored&&(P.errored=k),p&&!p.errored&&(p.errored=k))}function g(k,P){let p=this._readableState,d=this._writableState,h=d||p;return d&&d.destroyed||p&&p.destroyed?(typeof P=="function"&&P(),this):(m(k,d,p),d&&(d.destroyed=!0),p&&(p.destroyed=!0),h.constructed?E(this,k,P):this.once(l,function(b){E(this,i(b,k),P)}),this)}function E(k,P,p){let d=!1;function h(b){if(d)return;d=!0;let v=k._readableState,w=k._writableState;m(b,w,v),w&&(w.closed=!0),v&&(v.closed=!0),typeof p=="function"&&p(b),b?r.nextTick(x,k,b):r.nextTick(T,k)}try{k._destroy(P||null,h)}catch(b){h(b)}}function x(k,P){M(k,P),T(k)}function T(k){let P=k._readableState,p=k._writableState;p&&(p.closeEmitted=!0),P&&(P.closeEmitted=!0),(p&&p.emitClose||P&&P.emitClose)&&k.emit("close")}function M(k,P){let p=k._readableState,d=k._writableState;d&&d.errorEmitted||p&&p.errorEmitted||(d&&(d.errorEmitted=!0),p&&(p.errorEmitted=!0),k.emit("error",P))}function I(){let k=this._readableState,P=this._writableState;k&&(k.constructed=!0,k.closed=!1,k.closeEmitted=!1,k.destroyed=!1,k.errored=null,k.errorEmitted=!1,k.reading=!1,k.ended=k.readable===!1,k.endEmitted=k.readable===!1),P&&(P.constructed=!0,P.destroyed=!1,P.closed=!1,P.closeEmitted=!1,P.errored=null,P.errorEmitted=!1,P.finalCalled=!1,P.prefinished=!1,P.ended=P.writable===!1,P.ending=P.writable===!1,P.finished=P.writable===!1)}function R(k,P,p){let d=k._readableState,h=k._writableState;if(h&&h.destroyed||d&&d.destroyed)return this;d&&d.autoDestroy||h&&h.autoDestroy?k.destroy(P):P&&(P.stack,h&&!h.errored&&(h.errored=P),d&&!d.errored&&(d.errored=P),p?r.nextTick(M,k,P):M(k,P))}function O(k,P){if(typeof k._construct!="function")return;let p=k._readableState,d=k._writableState;p&&(p.constructed=!1),d&&(d.constructed=!1),k.once(y,P),!(k.listenerCount(y)>1)&&r.nextTick(B,k)}function B(k){let P=!1;function p(d){if(P){R(k,d??new n);return}P=!0;let h=k._readableState,b=k._writableState,v=b||h;h&&(h.constructed=!0),b&&(b.constructed=!0),v.destroyed?k.emit(l,d):d?R(k,d,!0):r.nextTick(C,k)}try{k._construct(p)}catch(d){p(d)}}function C(k){k.emit(y)}function U(k){return k&&k.setHeader&&typeof k.abort=="function"}function W(k){k.emit("close")}function L(k,P){k.emit("error",P),r.nextTick(W,k)}function j(k,P){!k||f(k)||(!P&&!c(k)&&(P=new s),u(k)?(k.socket=null,k.destroy(P)):U(k)?k.abort():U(k.req)?k.req.abort():typeof k.destroy=="function"?k.destroy(P):typeof k.close=="function"?k.close():P?r.nextTick(L,k,P):r.nextTick(W,k),k.destroyed||(k[a]=!0))}e.exports={construct:O,destroyer:j,destroy:g,undestroy:I,errorOrDestroy:R}}),dj=he((t,e)=>{"use strict";ee();var{ArrayIsArray:r,ObjectSetPrototypeOf:i}=qo(),{EventEmitter:n}=nc();function s(a){n.call(this,a)}i(s.prototype,n.prototype),i(s,n),s.prototype.pipe=function(a,f){let c=this;function u(T){a.writable&&a.write(T)===!1&&c.pause&&c.pause()}c.on("data",u);function l(){c.readable&&c.resume&&c.resume()}a.on("drain",l),!a._isStdio&&(!f||f.end!==!1)&&(c.on("end",m),c.on("close",g));let y=!1;function m(){y||(y=!0,a.end())}function g(){y||(y=!0,typeof a.destroy=="function"&&a.destroy())}function E(T){x(),n.listenerCount(this,"error")===0&&this.emit("error",T)}o(c,"error",E),o(a,"error",E);function x(){c.removeListener("data",u),a.removeListener("drain",l),c.removeListener("end",m),c.removeListener("close",g),c.removeListener("error",E),a.removeListener("error",E),c.removeListener("end",x),c.removeListener("close",x),a.removeListener("close",x)}return c.on("end",x),c.on("close",x),a.on("close",x),a.emit("pipe",c),a};function o(a,f,c){if(typeof a.prependListener=="function")return a.prependListener(f,c);!a._events||!a._events[f]?a.on(f,c):r(a._events[f])?a._events[f].unshift(c):a._events[f]=[c,a._events[f]]}e.exports={Stream:s,prependListener:o}}),hj=he((t,e)=>{"use strict";ee();var{AbortError:r,codes:i}=Ya(),n=Sm(),{ERR_INVALID_ARG_TYPE:s}=i,o=(f,c)=>{if(typeof f!="object"||!("aborted"in f))throw new s(c,"AbortSignal",f)};function a(f){return!!(f&&typeof f.pipe=="function")}e.exports.addAbortSignal=function(f,c){if(o(f,"signal"),!a(c))throw new s("stream","stream.Stream",c);return e.exports.addAbortSignalNoValidate(f,c)},e.exports.addAbortSignalNoValidate=function(f,c){if(typeof f!="object"||!("aborted"in f))return c;let u=()=>{c.destroy(new r(void 0,{cause:f.reason}))};return f.aborted?u():(f.addEventListener("abort",u),n(c,()=>f.removeEventListener("abort",u))),c}}),OLe=he((t,e)=>{"use strict";ee();var{StringPrototypeSlice:r,SymbolIterator:i,TypedArrayPrototypeSet:n,Uint8Array:s}=qo(),{Buffer:o}=ji(),{inspect:a}=Ld();e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(f){let c={data:f,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}unshift(f){let c={data:f,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length}shift(){if(this.length===0)return;let f=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,f}clear(){this.head=this.tail=null,this.length=0}join(f){if(this.length===0)return"";let c=this.head,u=""+c.data;for(;(c=c.next)!==null;)u+=f+c.data;return u}concat(f){if(this.length===0)return o.alloc(0);let c=o.allocUnsafe(f>>>0),u=this.head,l=0;for(;u;)n(c,u.data,l),l+=u.data.length,u=u.next;return c}consume(f,c){let u=this.head.data;if(f<u.length){let l=u.slice(0,f);return this.head.data=u.slice(f),l}return f===u.length?this.shift():c?this._getString(f):this._getBuffer(f)}first(){return this.head.data}*[i](){for(let f=this.head;f;f=f.next)yield f.data}_getString(f){let c="",u=this.head,l=0;do{let y=u.data;if(f>y.length)c+=y,f-=y.length;else{f===y.length?(c+=y,++l,u.next?this.head=u.next:this.head=this.tail=null):(c+=r(y,0,f),this.head=u,u.data=r(y,f));break}++l}while((u=u.next)!==null);return this.length-=l,c}_getBuffer(f){let c=o.allocUnsafe(f),u=f,l=this.head,y=0;do{let m=l.data;if(f>m.length)n(c,m,u-f),f-=m.length;else{f===m.length?(n(c,m,u-f),++y,l.next?this.head=l.next:this.head=this.tail=null):(n(c,new s(m.buffer,m.byteOffset,f),u-f),this.head=l,l.data=m.slice(f));break}++y}while((l=l.next)!==null);return this.length-=y,c}[Symbol.for("nodejs.util.inspect.custom")](f,c){return a(this,{...c,depth:0,customInspect:!1})}}}),pj=he((t,e)=>{"use strict";ee();var{MathFloor:r,NumberIsInteger:i}=qo(),{ERR_INVALID_ARG_VALUE:n}=Ya().codes;function s(f,c,u){return f.highWaterMark!=null?f.highWaterMark:c?f[u]:null}function o(f){return f?16:16*1024}function a(f,c,u,l){let y=s(c,l,u);if(y!=null){if(!i(y)||y<0){let m=l?`options.${u}`:"options.highWaterMark";throw new n(m,y)}return r(y)}return o(f.objectMode)}e.exports={getHighWaterMark:a,getDefaultHighWaterMark:o}}),jLe=he((t,e)=>{ee();var r=ji(),i=r.Buffer;function n(o,a){for(var f in o)a[f]=o[f]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(n(r,t),t.Buffer=s);function s(o,a,f){return i(o,a,f)}s.prototype=Object.create(i.prototype),n(i,s),s.from=function(o,a,f){if(typeof o=="number")throw new TypeError("Argument must not be a number");return i(o,a,f)},s.alloc=function(o,a,f){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=i(o);return a!==void 0?typeof f=="string"?c.fill(a,f):c.fill(a):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return i(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}),Rp=he(t=>{"use strict";ee();var e=jLe().Buffer,r=e.isEncoding||function(M){switch(M=""+M,M&&M.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(M){if(!M)return"utf8";for(var I;;)switch(M){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return M;default:if(I)return;M=(""+M).toLowerCase(),I=!0}}function n(M){var I=i(M);if(typeof I!="string"&&(e.isEncoding===r||!r(M)))throw new Error("Unknown encoding: "+M);return I||M}t.StringDecoder=s;function s(M){this.encoding=n(M);var I;switch(this.encoding){case"utf16le":this.text=y,this.end=m,I=4;break;case"utf8":this.fillLast=c,I=4;break;case"base64":this.text=g,this.end=E,I=3;break;default:this.write=x,this.end=T;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(I)}s.prototype.write=function(M){if(M.length===0)return"";var I,R;if(this.lastNeed){if(I=this.fillLast(M),I===void 0)return"";R=this.lastNeed,this.lastNeed=0}else R=0;return R<M.length?I?I+this.text(M,R):this.text(M,R):I||""},s.prototype.end=l,s.prototype.text=u,s.prototype.fillLast=function(M){if(this.lastNeed<=M.length)return M.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);M.copy(this.lastChar,this.lastTotal-this.lastNeed,0,M.length),this.lastNeed-=M.length};function o(M){return M<=127?0:M>>5===6?2:M>>4===14?3:M>>3===30?4:M>>6===2?-1:-2}function a(M,I,R){var O=I.length-1;if(O<R)return 0;var B=o(I[O]);return B>=0?(B>0&&(M.lastNeed=B-1),B):--O<R||B===-2?0:(B=o(I[O]),B>=0?(B>0&&(M.lastNeed=B-2),B):--O<R||B===-2?0:(B=o(I[O]),B>=0?(B>0&&(B===2?B=0:M.lastNeed=B-3),B):0))}function f(M,I,R){if((I[0]&192)!==128)return M.lastNeed=0,"\uFFFD";if(M.lastNeed>1&&I.length>1){if((I[1]&192)!==128)return M.lastNeed=1,"\uFFFD";if(M.lastNeed>2&&I.length>2&&(I[2]&192)!==128)return M.lastNeed=2,"\uFFFD"}}function c(M){var I=this.lastTotal-this.lastNeed,R=f(this,M,I);if(R!==void 0)return R;if(this.lastNeed<=M.length)return M.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);M.copy(this.lastChar,I,0,M.length),this.lastNeed-=M.length}function u(M,I){var R=a(this,M,I);if(!this.lastNeed)return M.toString("utf8",I);this.lastTotal=R;var O=M.length-(R-this.lastNeed);return M.copy(this.lastChar,0,O),M.toString("utf8",I,O)}function l(M){var I=M&&M.length?this.write(M):"";return this.lastNeed?I+"\uFFFD":I}function y(M,I){if((M.length-I)%2===0){var R=M.toString("utf16le",I);if(R){var O=R.charCodeAt(R.length-1);if(O>=55296&&O<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=M[M.length-2],this.lastChar[1]=M[M.length-1],R.slice(0,-1)}return R}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=M[M.length-1],M.toString("utf16le",I,M.length-1)}function m(M){var I=M&&M.length?this.write(M):"";if(this.lastNeed){var R=this.lastTotal-this.lastNeed;return I+this.lastChar.toString("utf16le",0,R)}return I}function g(M,I){var R=(M.length-I)%3;return R===0?M.toString("base64",I):(this.lastNeed=3-R,this.lastTotal=3,R===1?this.lastChar[0]=M[M.length-1]:(this.lastChar[0]=M[M.length-2],this.lastChar[1]=M[M.length-1]),M.toString("base64",I,M.length-R))}function E(M){var I=M&&M.length?this.write(M):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function x(M){return M.toString(this.encoding)}function T(M){return M&&M.length?this.write(M):""}}),Zle=he((t,e)=>{"use strict";ee();var r=Kp(),{PromisePrototypeThen:i,SymbolAsyncIterator:n,SymbolIterator:s}=qo(),{Buffer:o}=ji(),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:f}=Ya().codes;function c(u,l,y){let m;if(typeof l=="string"||l instanceof o)return new u({objectMode:!0,...y,read(){this.push(l),this.push(null)}});let g;if(l&&l[n])g=!0,m=l[n]();else if(l&&l[s])g=!1,m=l[s]();else throw new a("iterable",["Iterable"],l);let E=new u({objectMode:!0,highWaterMark:1,...y}),x=!1;E._read=function(){x||(x=!0,M())},E._destroy=function(I,R){i(T(I),()=>r.nextTick(R,I),O=>r.nextTick(R,O||I))};async function T(I){let R=I!=null,O=typeof m.throw=="function";if(R&&O){let{value:B,done:C}=await m.throw(I);if(await B,C)return}if(typeof m.return=="function"){let{value:B}=await m.return();await B}}async function M(){for(;;){try{let{value:I,done:R}=g?await m.next():m.next();if(R)E.push(null);else{let O=I&&typeof I.then=="function"?await I:I;if(O===null)throw x=!1,new f;if(E.push(O))continue;x=!1}}catch(I){E.destroy(I)}break}}return E}e.exports=c}),_S=he((t,e)=>{ee();var r=Kp(),{ArrayPrototypeIndexOf:i,NumberIsInteger:n,NumberIsNaN:s,NumberParseInt:o,ObjectDefineProperties:a,ObjectKeys:f,ObjectSetPrototypeOf:c,Promise:u,SafeSet:l,SymbolAsyncIterator:y,Symbol:m}=qo();e.exports=S,S.ReadableState=D;var{EventEmitter:g}=nc(),{Stream:E,prependListener:x}=dj(),{Buffer:T}=ji(),{addAbortSignal:M}=hj(),I=Sm(),R=Ld().debuglog("stream",oe=>{R=oe}),O=OLe(),B=Gb(),{getHighWaterMark:C,getDefaultHighWaterMark:U}=pj(),{aggregateTwoErrors:W,codes:{ERR_INVALID_ARG_TYPE:L,ERR_METHOD_NOT_IMPLEMENTED:j,ERR_OUT_OF_RANGE:k,ERR_STREAM_PUSH_AFTER_EOF:P,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:p}}=Ya(),{validateObject:d}=wS(),h=m("kPaused"),{StringDecoder:b}=Rp(),v=Zle();c(S.prototype,E.prototype),c(S,E);var w=()=>{},{errorOrDestroy:_}=B;function D(oe,ce,ge){typeof ge!="boolean"&&(ge=ce instanceof Nd()),this.objectMode=!!(oe&&oe.objectMode),ge&&(this.objectMode=this.objectMode||!!(oe&&oe.readableObjectMode)),this.highWaterMark=oe?C(this,oe,"readableHighWaterMark",ge):U(!1),this.buffer=new O,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[h]=null,this.errorEmitted=!1,this.emitClose=!oe||oe.emitClose!==!1,this.autoDestroy=!oe||oe.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=oe&&oe.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,oe&&oe.encoding&&(this.decoder=new b(oe.encoding),this.encoding=oe.encoding)}function S(oe){if(!(this instanceof S))return new S(oe);let ce=this instanceof Nd();this._readableState=new D(oe,this,ce),oe&&(typeof oe.read=="function"&&(this._read=oe.read),typeof oe.destroy=="function"&&(this._destroy=oe.destroy),typeof oe.construct=="function"&&(this._construct=oe.construct),oe.signal&&!ce&&M(oe.signal,this)),E.call(this,oe),B.construct(this,()=>{this._readableState.needReadable&&fe(this,this._readableState)})}S.prototype.destroy=B.destroy,S.prototype._undestroy=B.undestroy,S.prototype._destroy=function(oe,ce){ce(oe)},S.prototype[g.captureRejectionSymbol]=function(oe){this.destroy(oe)},S.prototype.push=function(oe,ce){return A(this,oe,ce,!1)},S.prototype.unshift=function(oe,ce){return A(this,oe,ce,!0)};function A(oe,ce,ge,me){R("readableAddChunk",ce);let Ee=oe._readableState,$e;if(Ee.objectMode||(typeof ce=="string"?(ge=ge||Ee.defaultEncoding,Ee.encoding!==ge&&(me&&Ee.encoding?ce=T.from(ce,ge).toString(Ee.encoding):(ce=T.from(ce,ge),ge=""))):ce instanceof T?ge="":E._isUint8Array(ce)?(ce=E._uint8ArrayToBuffer(ce),ge=""):ce!=null&&($e=new L("chunk",["string","Buffer","Uint8Array"],ce))),$e)_(oe,$e);else if(ce===null)Ee.reading=!1,H(oe,Ee);else if(Ee.objectMode||ce&&ce.length>0)if(me)if(Ee.endEmitted)_(oe,new p);else{if(Ee.destroyed||Ee.errored)return!1;N(oe,Ee,ce,!0)}else if(Ee.ended)_(oe,new P);else{if(Ee.destroyed||Ee.errored)return!1;Ee.reading=!1,Ee.decoder&&!ge?(ce=Ee.decoder.write(ce),Ee.objectMode||ce.length!==0?N(oe,Ee,ce,!1):fe(oe,Ee)):N(oe,Ee,ce,!1)}else me||(Ee.reading=!1,fe(oe,Ee));return!Ee.ended&&(Ee.length<Ee.highWaterMark||Ee.length===0)}function N(oe,ce,ge,me){ce.flowing&&ce.length===0&&!ce.sync&&oe.listenerCount("data")>0?(ce.multiAwaitDrain?ce.awaitDrainWriters.clear():ce.awaitDrainWriters=null,ce.dataEmitted=!0,oe.emit("data",ge)):(ce.length+=ce.objectMode?1:ge.length,me?ce.buffer.unshift(ge):ce.buffer.push(ge),ce.needReadable&&Z(oe)),fe(oe,ce)}S.prototype.isPaused=function(){let oe=this._readableState;return oe[h]===!0||oe.flowing===!1},S.prototype.setEncoding=function(oe){let ce=new b(oe);this._readableState.decoder=ce,this._readableState.encoding=this._readableState.decoder.encoding;let ge=this._readableState.buffer,me="";for(let Ee of ge)me+=ce.write(Ee);return ge.clear(),me!==""&&ge.push(me),this._readableState.length=me.length,this};var G=1073741824;function Q(oe){if(oe>G)throw new k("size","<= 1GiB",oe);return oe--,oe|=oe>>>1,oe|=oe>>>2,oe|=oe>>>4,oe|=oe>>>8,oe|=oe>>>16,oe++,oe}function ne(oe,ce){return oe<=0||ce.length===0&&ce.ended?0:ce.objectMode?1:s(oe)?ce.flowing&&ce.length?ce.buffer.first().length:ce.length:oe<=ce.length?oe:ce.ended?ce.length:0}S.prototype.read=function(oe){R("read",oe),oe===void 0?oe=NaN:n(oe)||(oe=o(oe,10));let ce=this._readableState,ge=oe;if(oe>ce.highWaterMark&&(ce.highWaterMark=Q(oe)),oe!==0&&(ce.emittedReadable=!1),oe===0&&ce.needReadable&&((ce.highWaterMark!==0?ce.length>=ce.highWaterMark:ce.length>0)||ce.ended))return R("read: emitReadable",ce.length,ce.ended),ce.length===0&&ce.ended?_e(this):Z(this),null;if(oe=ne(oe,ce),oe===0&&ce.ended)return ce.length===0&&_e(this),null;let me=ce.needReadable;if(R("need readable",me),(ce.length===0||ce.length-oe<ce.highWaterMark)&&(me=!0,R("length less than watermark",me)),ce.ended||ce.reading||ce.destroyed||ce.errored||!ce.constructed)me=!1,R("reading, ended or constructing",me);else if(me){R("do read"),ce.reading=!0,ce.sync=!0,ce.length===0&&(ce.needReadable=!0);try{this._read(ce.highWaterMark)}catch($e){_(this,$e)}ce.sync=!1,ce.reading||(oe=ne(ge,ce))}let Ee;return oe>0?Ee=pe(oe,ce):Ee=null,Ee===null?(ce.needReadable=ce.length<=ce.highWaterMark,oe=0):(ce.length-=oe,ce.multiAwaitDrain?ce.awaitDrainWriters.clear():ce.awaitDrainWriters=null),ce.length===0&&(ce.ended||(ce.needReadable=!0),ge!==oe&&ce.ended&&_e(this)),Ee!==null&&!ce.errorEmitted&&!ce.closeEmitted&&(ce.dataEmitted=!0,this.emit("data",Ee)),Ee};function H(oe,ce){if(R("onEofChunk"),!ce.ended){if(ce.decoder){let ge=ce.decoder.end();ge&&ge.length&&(ce.buffer.push(ge),ce.length+=ce.objectMode?1:ge.length)}ce.ended=!0,ce.sync?Z(oe):(ce.needReadable=!1,ce.emittedReadable=!0,ie(oe))}}function Z(oe){let ce=oe._readableState;R("emitReadable",ce.needReadable,ce.emittedReadable),ce.needReadable=!1,ce.emittedReadable||(R("emitReadable",ce.flowing),ce.emittedReadable=!0,r.nextTick(ie,oe))}function ie(oe){let ce=oe._readableState;R("emitReadable_",ce.destroyed,ce.length,ce.ended),!ce.destroyed&&!ce.errored&&(ce.length||ce.ended)&&(oe.emit("readable"),ce.emittedReadable=!1),ce.needReadable=!ce.flowing&&!ce.ended&&ce.length<=ce.highWaterMark,X(oe)}function fe(oe,ce){!ce.readingMore&&ce.constructed&&(ce.readingMore=!0,r.nextTick(ue,oe,ce))}function ue(oe,ce){for(;!ce.reading&&!ce.ended&&(ce.length<ce.highWaterMark||ce.flowing&&ce.length===0);){let ge=ce.length;if(R("maybeReadMore read 0"),oe.read(0),ge===ce.length)break}ce.readingMore=!1}S.prototype._read=function(oe){throw new j("_read()")},S.prototype.pipe=function(oe,ce){let ge=this,me=this._readableState;me.pipes.length===1&&(me.multiAwaitDrain||(me.multiAwaitDrain=!0,me.awaitDrainWriters=new l(me.awaitDrainWriters?[me.awaitDrainWriters]:[]))),me.pipes.push(oe),R("pipe count=%d opts=%j",me.pipes.length,ce);let Ee=(!ce||ce.end!==!1)&&oe!==r.stdout&&oe!==r.stderr?Se:Ae;me.endEmitted?r.nextTick(Ee):ge.once("end",Ee),oe.on("unpipe",$e);function $e(Ye,He){R("onunpipe"),Ye===ge&&He&&He.hasUnpiped===!1&&(He.hasUnpiped=!0,Te())}function Se(){R("onend"),oe.end()}let We,it=!1;function Te(){R("cleanup"),oe.removeListener("close",tt),oe.removeListener("finish",rt),We&&oe.removeListener("drain",We),oe.removeListener("error",ke),oe.removeListener("unpipe",$e),ge.removeListener("end",Se),ge.removeListener("end",Ae),ge.removeListener("data",ot),it=!0,We&&me.awaitDrainWriters&&(!oe._writableState||oe._writableState.needDrain)&&We()}function nt(){it||(me.pipes.length===1&&me.pipes[0]===oe?(R("false write response, pause",0),me.awaitDrainWriters=oe,me.multiAwaitDrain=!1):me.pipes.length>1&&me.pipes.includes(oe)&&(R("false write response, pause",me.awaitDrainWriters.size),me.awaitDrainWriters.add(oe)),ge.pause()),We||(We=ye(ge,oe),oe.on("drain",We))}ge.on("data",ot);function ot(Ye){R("ondata");let He=oe.write(Ye);R("dest.write",He),He===!1&&nt()}function ke(Ye){if(R("onerror",Ye),Ae(),oe.removeListener("error",ke),oe.listenerCount("error")===0){let He=oe._writableState||oe._readableState;He&&!He.errorEmitted?_(oe,Ye):oe.emit("error",Ye)}}x(oe,"error",ke);function tt(){oe.removeListener("finish",rt),Ae()}oe.once("close",tt);function rt(){R("onfinish"),oe.removeListener("close",tt),Ae()}oe.once("finish",rt);function Ae(){R("unpipe"),ge.unpipe(oe)}return oe.emit("pipe",ge),oe.writableNeedDrain===!0?me.flowing&&nt():me.flowing||(R("pipe resume"),ge.resume()),oe};function ye(oe,ce){return function(){let ge=oe._readableState;ge.awaitDrainWriters===ce?(R("pipeOnDrain",1),ge.awaitDrainWriters=null):ge.multiAwaitDrain&&(R("pipeOnDrain",ge.awaitDrainWriters.size),ge.awaitDrainWriters.delete(ce)),(!ge.awaitDrainWriters||ge.awaitDrainWriters.size===0)&&oe.listenerCount("data")&&oe.resume()}}S.prototype.unpipe=function(oe){let ce=this._readableState,ge={hasUnpiped:!1};if(ce.pipes.length===0)return this;if(!oe){let Ee=ce.pipes;ce.pipes=[],this.pause();for(let $e=0;$e<Ee.length;$e++)Ee[$e].emit("unpipe",this,{hasUnpiped:!1});return this}let me=i(ce.pipes,oe);return me===-1?this:(ce.pipes.splice(me,1),ce.pipes.length===0&&this.pause(),oe.emit("unpipe",this,ge),this)},S.prototype.on=function(oe,ce){let ge=E.prototype.on.call(this,oe,ce),me=this._readableState;return oe==="data"?(me.readableListening=this.listenerCount("readable")>0,me.flowing!==!1&&this.resume()):oe==="readable"&&!me.endEmitted&&!me.readableListening&&(me.readableListening=me.needReadable=!0,me.flowing=!1,me.emittedReadable=!1,R("on readable",me.length,me.reading),me.length?Z(this):me.reading||r.nextTick(q,this)),ge},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(oe,ce){let ge=E.prototype.removeListener.call(this,oe,ce);return oe==="readable"&&r.nextTick($,this),ge},S.prototype.off=S.prototype.removeListener,S.prototype.removeAllListeners=function(oe){let ce=E.prototype.removeAllListeners.apply(this,arguments);return(oe==="readable"||oe===void 0)&&r.nextTick($,this),ce};function $(oe){let ce=oe._readableState;ce.readableListening=oe.listenerCount("readable")>0,ce.resumeScheduled&&ce[h]===!1?ce.flowing=!0:oe.listenerCount("data")>0?oe.resume():ce.readableListening||(ce.flowing=null)}function q(oe){R("readable nexttick read 0"),oe.read(0)}S.prototype.resume=function(){let oe=this._readableState;return oe.flowing||(R("resume"),oe.flowing=!oe.readableListening,z(this,oe)),oe[h]=!1,this};function z(oe,ce){ce.resumeScheduled||(ce.resumeScheduled=!0,r.nextTick(Y,oe,ce))}function Y(oe,ce){R("resume",ce.reading),ce.reading||oe.read(0),ce.resumeScheduled=!1,oe.emit("resume"),X(oe),ce.flowing&&!ce.reading&&oe.read(0)}S.prototype.pause=function(){return R("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(R("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[h]=!0,this};function X(oe){let ce=oe._readableState;for(R("flow",ce.flowing);ce.flowing&&oe.read()!==null;);}S.prototype.wrap=function(oe){let ce=!1;oe.on("data",me=>{!this.push(me)&&oe.pause&&(ce=!0,oe.pause())}),oe.on("end",()=>{this.push(null)}),oe.on("error",me=>{_(this,me)}),oe.on("close",()=>{this.destroy()}),oe.on("destroy",()=>{this.destroy()}),this._read=()=>{ce&&oe.resume&&(ce=!1,oe.resume())};let ge=f(oe);for(let me=1;me<ge.length;me++){let Ee=ge[me];this[Ee]===void 0&&typeof oe[Ee]=="function"&&(this[Ee]=oe[Ee].bind(oe))}return this},S.prototype[y]=function(){return re(this)},S.prototype.iterator=function(oe){return oe!==void 0&&d(oe,"options"),re(this,oe)};function re(oe,ce){typeof oe.read!="function"&&(oe=S.wrap(oe,{objectMode:!0}));let ge=le(oe,ce);return ge.stream=oe,ge}async function*le(oe,ce){let ge=w;function me(Se){this===oe?(ge(),ge=w):ge=Se}oe.on("readable",me);let Ee,$e=I(oe,{writable:!1},Se=>{Ee=Se?W(Ee,Se):null,ge(),ge=w});try{for(;;){let Se=oe.destroyed?null:oe.read();if(Se!==null)yield Se;else{if(Ee)throw Ee;if(Ee===null)return;await new u(me)}}}catch(Se){throw Ee=W(Ee,Se),Ee}finally{(Ee||ce?.destroyOnReturn!==!1)&&(Ee===void 0||oe._readableState.autoDestroy)?B.destroyer(oe,null):(oe.off("readable",me),$e())}}a(S.prototype,{readable:{__proto__:null,get(){let oe=this._readableState;return!!oe&&oe.readable!==!1&&!oe.destroyed&&!oe.errorEmitted&&!oe.endEmitted},set(oe){this._readableState&&(this._readableState.readable=!!oe)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(oe){this._readableState&&(this._readableState.flowing=oe)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(oe){this._readableState&&(this._readableState.destroyed=oe)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),a(D.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[h]!==!1},set(oe){this[h]=!!oe}}}),S._fromList=pe;function pe(oe,ce){if(ce.length===0)return null;let ge;return ce.objectMode?ge=ce.buffer.shift():!oe||oe>=ce.length?(ce.decoder?ge=ce.buffer.join(""):ce.buffer.length===1?ge=ce.buffer.first():ge=ce.buffer.concat(ce.length),ce.buffer.clear()):ge=ce.buffer.consume(oe,ce.decoder),ge}function _e(oe){let ce=oe._readableState;R("endReadable",ce.endEmitted),ce.endEmitted||(ce.ended=!0,r.nextTick(xe,ce,oe))}function xe(oe,ce){if(R("endReadableNT",oe.endEmitted,oe.length),!oe.errored&&!oe.closeEmitted&&!oe.endEmitted&&oe.length===0){if(oe.endEmitted=!0,ce.emit("end"),ce.writable&&ce.allowHalfOpen===!1)r.nextTick(be,ce);else if(oe.autoDestroy){let ge=ce._writableState;(!ge||ge.autoDestroy&&(ge.finished||ge.writable===!1))&&ce.destroy()}}}function be(oe){oe.writable&&!oe.writableEnded&&!oe.destroyed&&oe.end()}S.from=function(oe,ce){return v(S,oe,ce)};var Me;function Le(){return Me===void 0&&(Me={}),Me}S.fromWeb=function(oe,ce){return Le().newStreamReadableFromReadableStream(oe,ce)},S.toWeb=function(oe,ce){return Le().newReadableStreamFromStreamReadable(oe,ce)},S.wrap=function(oe,ce){var ge,me;return new S({objectMode:(ge=(me=oe.readableObjectMode)!==null&&me!==void 0?me:oe.objectMode)!==null&&ge!==void 0?ge:!0,...ce,destroy(Ee,$e){B.destroyer(oe,Ee),$e(Ee)}}).wrap(oe)}}),Gle=he((t,e)=>{ee();var r=Kp(),{ArrayPrototypeSlice:i,Error:n,FunctionPrototypeSymbolHasInstance:s,ObjectDefineProperty:o,ObjectDefineProperties:a,ObjectSetPrototypeOf:f,StringPrototypeToLowerCase:c,Symbol:u,SymbolHasInstance:l}=qo();e.exports=b,b.WritableState=d;var{EventEmitter:y}=nc(),m=dj().Stream,{Buffer:g}=ji(),E=Gb(),{addAbortSignal:x}=hj(),{getHighWaterMark:T,getDefaultHighWaterMark:M}=pj(),{ERR_INVALID_ARG_TYPE:I,ERR_METHOD_NOT_IMPLEMENTED:R,ERR_MULTIPLE_CALLBACK:O,ERR_STREAM_CANNOT_PIPE:B,ERR_STREAM_DESTROYED:C,ERR_STREAM_ALREADY_FINISHED:U,ERR_STREAM_NULL_VALUES:W,ERR_STREAM_WRITE_AFTER_END:L,ERR_UNKNOWN_ENCODING:j}=Ya().codes,{errorOrDestroy:k}=E;f(b.prototype,m.prototype),f(b,m);function P(){}var p=u("kOnFinished");function d(q,z,Y){typeof Y!="boolean"&&(Y=z instanceof Nd()),this.objectMode=!!(q&&q.objectMode),Y&&(this.objectMode=this.objectMode||!!(q&&q.writableObjectMode)),this.highWaterMark=q?T(this,q,"writableHighWaterMark",Y):M(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let X=!!(q&&q.decodeStrings===!1);this.decodeStrings=!X,this.defaultEncoding=q&&q.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=S.bind(void 0,z),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,h(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!q||q.emitClose!==!1,this.autoDestroy=!q||q.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[p]=[]}function h(q){q.buffered=[],q.bufferedIndex=0,q.allBuffers=!0,q.allNoop=!0}d.prototype.getBuffer=function(){return i(this.buffered,this.bufferedIndex)},o(d.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function b(q){let z=this instanceof Nd();if(!z&&!s(b,this))return new b(q);this._writableState=new d(q,this,z),q&&(typeof q.write=="function"&&(this._write=q.write),typeof q.writev=="function"&&(this._writev=q.writev),typeof q.destroy=="function"&&(this._destroy=q.destroy),typeof q.final=="function"&&(this._final=q.final),typeof q.construct=="function"&&(this._construct=q.construct),q.signal&&x(q.signal,this)),m.call(this,q),E.construct(this,()=>{let Y=this._writableState;Y.writing||Q(this,Y),ie(this,Y)})}o(b,l,{__proto__:null,value:function(q){return s(this,q)?!0:this!==b?!1:q&&q._writableState instanceof d}}),b.prototype.pipe=function(){k(this,new B)};function v(q,z,Y,X){let re=q._writableState;if(typeof Y=="function")X=Y,Y=re.defaultEncoding;else{if(!Y)Y=re.defaultEncoding;else if(Y!=="buffer"&&!g.isEncoding(Y))throw new j(Y);typeof X!="function"&&(X=P)}if(z===null)throw new W;if(!re.objectMode)if(typeof z=="string")re.decodeStrings!==!1&&(z=g.from(z,Y),Y="buffer");else if(z instanceof g)Y="buffer";else if(m._isUint8Array(z))z=m._uint8ArrayToBuffer(z),Y="buffer";else throw new I("chunk",["string","Buffer","Uint8Array"],z);let le;return re.ending?le=new L:re.destroyed&&(le=new C("write")),le?(r.nextTick(X,le),k(q,le,!0),le):(re.pendingcb++,w(q,re,z,Y,X))}b.prototype.write=function(q,z,Y){return v(this,q,z,Y)===!0},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){let q=this._writableState;q.corked&&(q.corked--,q.writing||Q(this,q))},b.prototype.setDefaultEncoding=function(q){if(typeof q=="string"&&(q=c(q)),!g.isEncoding(q))throw new j(q);return this._writableState.defaultEncoding=q,this};function w(q,z,Y,X,re){let le=z.objectMode?1:Y.length;z.length+=le;let pe=z.length<z.highWaterMark;return pe||(z.needDrain=!0),z.writing||z.corked||z.errored||!z.constructed?(z.buffered.push({chunk:Y,encoding:X,callback:re}),z.allBuffers&&X!=="buffer"&&(z.allBuffers=!1),z.allNoop&&re!==P&&(z.allNoop=!1)):(z.writelen=le,z.writecb=re,z.writing=!0,z.sync=!0,q._write(Y,X,z.onwrite),z.sync=!1),pe&&!z.errored&&!z.destroyed}function _(q,z,Y,X,re,le,pe){z.writelen=X,z.writecb=pe,z.writing=!0,z.sync=!0,z.destroyed?z.onwrite(new C("write")):Y?q._writev(re,z.onwrite):q._write(re,le,z.onwrite),z.sync=!1}function D(q,z,Y,X){--z.pendingcb,X(Y),G(z),k(q,Y)}function S(q,z){let Y=q._writableState,X=Y.sync,re=Y.writecb;if(typeof re!="function"){k(q,new O);return}Y.writing=!1,Y.writecb=null,Y.length-=Y.writelen,Y.writelen=0,z?(z.stack,Y.errored||(Y.errored=z),q._readableState&&!q._readableState.errored&&(q._readableState.errored=z),X?r.nextTick(D,q,Y,z,re):D(q,Y,z,re)):(Y.buffered.length>Y.bufferedIndex&&Q(q,Y),X?Y.afterWriteTickInfo!==null&&Y.afterWriteTickInfo.cb===re?Y.afterWriteTickInfo.count++:(Y.afterWriteTickInfo={count:1,cb:re,stream:q,state:Y},r.nextTick(A,Y.afterWriteTickInfo)):N(q,Y,1,re))}function A({stream:q,state:z,count:Y,cb:X}){return z.afterWriteTickInfo=null,N(q,z,Y,X)}function N(q,z,Y,X){for(!z.ending&&!q.destroyed&&z.length===0&&z.needDrain&&(z.needDrain=!1,q.emit("drain"));Y-- >0;)z.pendingcb--,X();z.destroyed&&G(z),ie(q,z)}function G(q){if(q.writing)return;for(let re=q.bufferedIndex;re<q.buffered.length;++re){var z;let{chunk:le,callback:pe}=q.buffered[re],_e=q.objectMode?1:le.length;q.length-=_e,pe((z=q.errored)!==null&&z!==void 0?z:new C("write"))}let Y=q[p].splice(0);for(let re=0;re<Y.length;re++){var X;Y[re]((X=q.errored)!==null&&X!==void 0?X:new C("end"))}h(q)}function Q(q,z){if(z.corked||z.bufferProcessing||z.destroyed||!z.constructed)return;let{buffered:Y,bufferedIndex:X,objectMode:re}=z,le=Y.length-X;if(!le)return;let pe=X;if(z.bufferProcessing=!0,le>1&&q._writev){z.pendingcb-=le-1;let _e=z.allNoop?P:be=>{for(let Me=pe;Me<Y.length;++Me)Y[Me].callback(be)},xe=z.allNoop&&pe===0?Y:i(Y,pe);xe.allBuffers=z.allBuffers,_(q,z,!0,z.length,xe,"",_e),h(z)}else{do{let{chunk:_e,encoding:xe,callback:be}=Y[pe];Y[pe++]=null;let Me=re?1:_e.length;_(q,z,!1,Me,_e,xe,be)}while(pe<Y.length&&!z.writing);pe===Y.length?h(z):pe>256?(Y.splice(0,pe),z.bufferedIndex=0):z.bufferedIndex=pe}z.bufferProcessing=!1}b.prototype._write=function(q,z,Y){if(this._writev)this._writev([{chunk:q,encoding:z}],Y);else throw new R("_write()")},b.prototype._writev=null,b.prototype.end=function(q,z,Y){let X=this._writableState;typeof q=="function"?(Y=q,q=null,z=null):typeof z=="function"&&(Y=z,z=null);let re;if(q!=null){let le=v(this,q,z);le instanceof n&&(re=le)}return X.corked&&(X.corked=1,this.uncork()),re||(!X.errored&&!X.ending?(X.ending=!0,ie(this,X,!0),X.ended=!0):X.finished?re=new U("end"):X.destroyed&&(re=new C("end"))),typeof Y=="function"&&(re||X.finished?r.nextTick(Y,re):X[p].push(Y)),this};function ne(q){return q.ending&&!q.destroyed&&q.constructed&&q.length===0&&!q.errored&&q.buffered.length===0&&!q.finished&&!q.writing&&!q.errorEmitted&&!q.closeEmitted}function H(q,z){let Y=!1;function X(re){if(Y){k(q,re??O());return}if(Y=!0,z.pendingcb--,re){let le=z[p].splice(0);for(let pe=0;pe<le.length;pe++)le[pe](re);k(q,re,z.sync)}else ne(z)&&(z.prefinished=!0,q.emit("prefinish"),z.pendingcb++,r.nextTick(fe,q,z))}z.sync=!0,z.pendingcb++;try{q._final(X)}catch(re){X(re)}z.sync=!1}function Z(q,z){!z.prefinished&&!z.finalCalled&&(typeof q._final=="function"&&!z.destroyed?(z.finalCalled=!0,H(q,z)):(z.prefinished=!0,q.emit("prefinish")))}function ie(q,z,Y){ne(z)&&(Z(q,z),z.pendingcb===0&&(Y?(z.pendingcb++,r.nextTick((X,re)=>{ne(re)?fe(X,re):re.pendingcb--},q,z)):ne(z)&&(z.pendingcb++,fe(q,z))))}function fe(q,z){z.pendingcb--,z.finished=!0;let Y=z[p].splice(0);for(let X=0;X<Y.length;X++)Y[X]();if(q.emit("finish"),z.autoDestroy){let X=q._readableState;(!X||X.autoDestroy&&(X.endEmitted||X.readable===!1))&&q.destroy()}}a(b.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(q){this._writableState&&(this._writableState.destroyed=q)}},writable:{__proto__:null,get(){let q=this._writableState;return!!q&&q.writable!==!1&&!q.destroyed&&!q.errored&&!q.ending&&!q.ended},set(q){this._writableState&&(this._writableState.writable=!!q)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let q=this._writableState;return q?!q.destroyed&&!q.ending&&q.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var ue=E.destroy;b.prototype.destroy=function(q,z){let Y=this._writableState;return!Y.destroyed&&(Y.bufferedIndex<Y.buffered.length||Y[p].length)&&r.nextTick(G,Y),ue.call(this,q,z),this},b.prototype._undestroy=E.undestroy,b.prototype._destroy=function(q,z){z(q)},b.prototype[y.captureRejectionSymbol]=function(q){this.destroy(q)};var ye;function $(){return ye===void 0&&(ye={}),ye}b.fromWeb=function(q,z){return $().newStreamWritableFromWritableStream(q,z)},b.toWeb=function(q){return $().newWritableStreamFromStreamWritable(q)}}),LLe=he((t,e)=>{ee();var r=Kp(),i=ji(),{isReadable:n,isWritable:s,isIterable:o,isNodeStream:a,isReadableNodeStream:f,isWritableNodeStream:c,isDuplexNodeStream:u}=Em(),l=Sm(),{AbortError:y,codes:{ERR_INVALID_ARG_TYPE:m,ERR_INVALID_RETURN_VALUE:g}}=Ya(),{destroyer:E}=Gb(),x=Nd(),T=_S(),{createDeferredPromise:M}=Ld(),I=Zle(),R=globalThis.Blob||i.Blob,O=typeof R<"u"?function(j){return j instanceof R}:function(j){return!1},B=globalThis.AbortController||lj().AbortController,{FunctionPrototypeCall:C}=qo(),U=class extends x{constructor(j){super(j),j?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),j?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};e.exports=function j(k,P){if(u(k))return k;if(f(k))return L({readable:k});if(c(k))return L({writable:k});if(a(k))return L({writable:!1,readable:!1});if(typeof k=="function"){let{value:d,write:h,final:b,destroy:v}=W(k);if(o(d))return I(U,d,{objectMode:!0,write:h,final:b,destroy:v});let w=d?.then;if(typeof w=="function"){let _,D=C(w,d,S=>{if(S!=null)throw new g("nully","body",S)},S=>{E(_,S)});return _=new U({objectMode:!0,readable:!1,write:h,final(S){b(async()=>{try{await D,r.nextTick(S,null)}catch(A){r.nextTick(S,A)}})},destroy:v})}throw new g("Iterable, AsyncIterable or AsyncFunction",P,d)}if(O(k))return j(k.arrayBuffer());if(o(k))return I(U,k,{objectMode:!0,writable:!1});if(typeof k?.writable=="object"||typeof k?.readable=="object"){let d=k!=null&&k.readable?f(k?.readable)?k?.readable:j(k.readable):void 0,h=k!=null&&k.writable?c(k?.writable)?k?.writable:j(k.writable):void 0;return L({readable:d,writable:h})}let p=k?.then;if(typeof p=="function"){let d;return C(p,k,h=>{h!=null&&d.push(h),d.push(null)},h=>{E(d,h)}),d=new U({objectMode:!0,writable:!1,read(){}})}throw new m(P,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],k)};function W(j){let{promise:k,resolve:P}=M(),p=new B,d=p.signal;return{value:j(async function*(){for(;;){let h=k;k=null;let{chunk:b,done:v,cb:w}=await h;if(r.nextTick(w),v)return;if(d.aborted)throw new y(void 0,{cause:d.reason});({promise:k,resolve:P}=M()),yield b}}(),{signal:d}),write(h,b,v){let w=P;P=null,w({chunk:h,done:!1,cb:v})},final(h){let b=P;P=null,b({done:!0,cb:h})},destroy(h,b){p.abort(),b(h)}}}function L(j){let k=j.readable&&typeof j.readable.read!="function"?T.wrap(j.readable):j.readable,P=j.writable,p=!!n(k),d=!!s(P),h,b,v,w,_;function D(S){let A=w;w=null,A?A(S):S?_.destroy(S):!p&&!d&&_.destroy()}return _=new U({readableObjectMode:!!(k!=null&&k.readableObjectMode),writableObjectMode:!!(P!=null&&P.writableObjectMode),readable:p,writable:d}),d&&(l(P,S=>{d=!1,S&&E(k,S),D(S)}),_._write=function(S,A,N){P.write(S,A)?N():h=N},_._final=function(S){P.end(),b=S},P.on("drain",function(){if(h){let S=h;h=null,S()}}),P.on("finish",function(){if(b){let S=b;b=null,S()}})),p&&(l(k,S=>{p=!1,S&&E(k,S),D(S)}),k.on("readable",function(){if(v){let S=v;v=null,S()}}),k.on("end",function(){_.push(null)}),_._read=function(){for(;;){let S=k.read();if(S===null){v=_._read;return}if(!_.push(S))return}}),_._destroy=function(S,A){!S&&w!==null&&(S=new y),v=null,h=null,b=null,w===null?A(S):(w=A,E(P,S),E(k,S))},_}}),Nd=he((t,e)=>{"use strict";ee();var{ObjectDefineProperties:r,ObjectGetOwnPropertyDescriptor:i,ObjectKeys:n,ObjectSetPrototypeOf:s}=qo();e.exports=f;var o=_S(),a=Gle();s(f.prototype,o.prototype),s(f,o);{let y=n(a.prototype);for(let m=0;m<y.length;m++){let g=y[m];f.prototype[g]||(f.prototype[g]=a.prototype[g])}}function f(y){if(!(this instanceof f))return new f(y);o.call(this,y),a.call(this,y),y?(this.allowHalfOpen=y.allowHalfOpen!==!1,y.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),y.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}r(f.prototype,{writable:{__proto__:null,...i(a.prototype,"writable")},writableHighWaterMark:{__proto__:null,...i(a.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...i(a.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...i(a.prototype,"writableBuffer")},writableLength:{__proto__:null,...i(a.prototype,"writableLength")},writableFinished:{__proto__:null,...i(a.prototype,"writableFinished")},writableCorked:{__proto__:null,...i(a.prototype,"writableCorked")},writableEnded:{__proto__:null,...i(a.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...i(a.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(y){this._readableState&&this._writableState&&(this._readableState.destroyed=y,this._writableState.destroyed=y)}}});var c;function u(){return c===void 0&&(c={}),c}f.fromWeb=function(y,m){return u().newStreamDuplexFromReadableWritablePair(y,m)},f.toWeb=function(y){return u().newReadableWritablePairFromDuplex(y)};var l;f.from=function(y){return l||(l=LLe()),l(y,"body")}}),Jle=he((t,e)=>{"use strict";ee();var{ObjectSetPrototypeOf:r,Symbol:i}=qo();e.exports=f;var{ERR_METHOD_NOT_IMPLEMENTED:n}=Ya().codes,s=Nd(),{getHighWaterMark:o}=pj();r(f.prototype,s.prototype),r(f,s);var a=i("kCallback");function f(l){if(!(this instanceof f))return new f(l);let y=l?o(this,l,"readableHighWaterMark",!0):null;y===0&&(l={...l,highWaterMark:null,readableHighWaterMark:y,writableHighWaterMark:l.writableHighWaterMark||0}),s.call(this,l),this._readableState.sync=!1,this[a]=null,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",u)}function c(l){typeof this._flush=="function"&&!this.destroyed?this._flush((y,m)=>{if(y){l?l(y):this.destroy(y);return}m!=null&&this.push(m),this.push(null),l&&l()}):(this.push(null),l&&l())}function u(){this._final!==c&&c.call(this)}f.prototype._final=c,f.prototype._transform=function(l,y,m){throw new n("_transform()")},f.prototype._write=function(l,y,m){let g=this._readableState,E=this._writableState,x=g.length;this._transform(l,y,(T,M)=>{if(T){m(T);return}M!=null&&this.push(M),E.ended||x===g.length||g.length<g.highWaterMark?m():this[a]=m})},f.prototype._read=function(){if(this[a]){let l=this[a];this[a]=null,l()}}}),Xle=he((t,e)=>{"use strict";ee();var{ObjectSetPrototypeOf:r}=qo();e.exports=n;var i=Jle();r(n.prototype,i.prototype),r(n,i);function n(s){if(!(this instanceof n))return new n(s);i.call(this,s)}n.prototype._transform=function(s,o,a){a(null,s)}}),yj=he((t,e)=>{ee();var r=Kp(),{ArrayIsArray:i,Promise:n,SymbolAsyncIterator:s}=qo(),o=Sm(),{once:a}=Ld(),f=Gb(),c=Nd(),{aggregateTwoErrors:u,codes:{ERR_INVALID_ARG_TYPE:l,ERR_INVALID_RETURN_VALUE:y,ERR_MISSING_ARGS:m,ERR_STREAM_DESTROYED:g,ERR_STREAM_PREMATURE_CLOSE:E},AbortError:x}=Ya(),{validateFunction:T,validateAbortSignal:M}=wS(),{isIterable:I,isReadable:R,isReadableNodeStream:O,isNodeStream:B}=Em(),C=globalThis.AbortController||lj().AbortController,U,W;function L(v,w,_){let D=!1;v.on("close",()=>{D=!0});let S=o(v,{readable:w,writable:_},A=>{D=!A});return{destroy:A=>{D||(D=!0,f.destroyer(v,A||new g("pipe")))},cleanup:S}}function j(v){return T(v[v.length-1],"streams[stream.length - 1]"),v.pop()}function k(v){if(I(v))return v;if(O(v))return P(v);throw new l("val",["Readable","Iterable","AsyncIterable"],v)}async function*P(v){W||(W=_S()),yield*W.prototype[s].call(v)}async function p(v,w,_,{end:D}){let S,A=null,N=ne=>{if(ne&&(S=ne),A){let H=A;A=null,H()}},G=()=>new n((ne,H)=>{S?H(S):A=()=>{S?H(S):ne()}});w.on("drain",N);let Q=o(w,{readable:!1},N);try{w.writableNeedDrain&&await G();for await(let ne of v)w.write(ne)||await G();D&&w.end(),await G(),_()}catch(ne){_(S!==ne?u(S,ne):ne)}finally{Q(),w.off("drain",N)}}function d(...v){return h(v,a(j(v)))}function h(v,w,_){if(v.length===1&&i(v[0])&&(v=v[0]),v.length<2)throw new m("streams");let D=new C,S=D.signal,A=_?.signal,N=[];M(A,"options.signal");function G(){fe(new x)}A?.addEventListener("abort",G);let Q,ne,H=[],Z=0;function ie(q){fe(q,--Z===0)}function fe(q,z){if(q&&(!Q||Q.code==="ERR_STREAM_PREMATURE_CLOSE")&&(Q=q),!(!Q&&!z)){for(;H.length;)H.shift()(Q);A?.removeEventListener("abort",G),D.abort(),z&&(Q||N.forEach(Y=>Y()),r.nextTick(w,Q,ne))}}let ue;for(let q=0;q<v.length;q++){let z=v[q],Y=q<v.length-1,X=q>0,re=Y||_?.end!==!1,le=q===v.length-1;if(B(z)){let pe=function(_e){_e&&_e.name!=="AbortError"&&_e.code!=="ERR_STREAM_PREMATURE_CLOSE"&&ie(_e)};var ye=pe;if(re){let{destroy:_e,cleanup:xe}=L(z,Y,X);H.push(_e),R(z)&&le&&N.push(xe)}z.on("error",pe),R(z)&&le&&N.push(()=>{z.removeListener("error",pe)})}if(q===0)if(typeof z=="function"){if(ue=z({signal:S}),!I(ue))throw new y("Iterable, AsyncIterable or Stream","source",ue)}else I(z)||O(z)?ue=z:ue=c.from(z);else if(typeof z=="function")if(ue=k(ue),ue=z(ue,{signal:S}),Y){if(!I(ue,!0))throw new y("AsyncIterable",`transform[${q-1}]`,ue)}else{var $;U||(U=Xle());let pe=new U({objectMode:!0}),_e=($=ue)===null||$===void 0?void 0:$.then;if(typeof _e=="function")Z++,_e.call(ue,Me=>{ne=Me,Me!=null&&pe.write(Me),re&&pe.end(),r.nextTick(ie)},Me=>{pe.destroy(Me),r.nextTick(ie,Me)});else if(I(ue,!0))Z++,p(ue,pe,ie,{end:re});else throw new y("AsyncIterable or Promise","destination",ue);ue=pe;let{destroy:xe,cleanup:be}=L(ue,!1,!0);H.push(xe),le&&N.push(be)}else if(B(z)){if(O(ue)){Z+=2;let pe=b(ue,z,ie,{end:re});R(z)&&le&&N.push(pe)}else if(I(ue))Z++,p(ue,z,ie,{end:re});else throw new l("val",["Readable","Iterable","AsyncIterable"],ue);ue=z}else ue=c.from(z)}return(S!=null&&S.aborted||A!=null&&A.aborted)&&r.nextTick(G),ue}function b(v,w,_,{end:D}){let S=!1;return w.on("close",()=>{S||_(new E)}),v.pipe(w,{end:D}),D?v.once("end",()=>{S=!0,w.end()}):_(),o(v,{readable:!0,writable:!1},A=>{let N=v._readableState;A&&A.code==="ERR_STREAM_PREMATURE_CLOSE"&&N&&N.ended&&!N.errored&&!N.errorEmitted?v.once("end",_).once("error",_):_(A)}),o(w,{readable:!1,writable:!0},_)}e.exports={pipelineImpl:h,pipeline:d}}),NLe=he((t,e)=>{"use strict";ee();var{pipeline:r}=yj(),i=Nd(),{destroyer:n}=Gb(),{isNodeStream:s,isReadable:o,isWritable:a}=Em(),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:c,ERR_MISSING_ARGS:u}}=Ya();e.exports=function(...l){if(l.length===0)throw new u("streams");if(l.length===1)return i.from(l[0]);let y=[...l];if(typeof l[0]=="function"&&(l[0]=i.from(l[0])),typeof l[l.length-1]=="function"){let C=l.length-1;l[C]=i.from(l[C])}for(let C=0;C<l.length;++C)if(s(l[C])){if(C<l.length-1&&!o(l[C]))throw new c(`streams[${C}]`,y[C],"must be readable");if(C>0&&!a(l[C]))throw new c(`streams[${C}]`,y[C],"must be writable")}let m,g,E,x,T;function M(C){let U=x;x=null,U?U(C):C?T.destroy(C):!B&&!O&&T.destroy()}let I=l[0],R=r(l,M),O=!!a(I),B=!!o(R);return T=new i({writableObjectMode:!!(I!=null&&I.writableObjectMode),readableObjectMode:!!(R!=null&&R.writableObjectMode),writable:O,readable:B}),O&&(T._write=function(C,U,W){I.write(C,U)?W():m=W},T._final=function(C){I.end(),g=C},I.on("drain",function(){if(m){let C=m;m=null,C()}}),R.on("finish",function(){if(g){let C=g;g=null,C()}})),B&&(R.on("readable",function(){if(E){let C=E;E=null,C()}}),R.on("end",function(){T.push(null)}),T._read=function(){for(;;){let C=R.read();if(C===null){E=T._read;return}if(!T.push(C))return}}),T._destroy=function(C,U){!C&&x!==null&&(C=new f),E=null,m=null,g=null,x===null?U(C):(x=U,n(R,C))},T}}),Qle=he((t,e)=>{"use strict";ee();var{ArrayPrototypePop:r,Promise:i}=qo(),{isIterable:n,isNodeStream:s}=Em(),{pipelineImpl:o}=yj(),{finished:a}=Sm();function f(...c){return new i((u,l)=>{let y,m,g=c[c.length-1];if(g&&typeof g=="object"&&!s(g)&&!n(g)){let E=r(c);y=E.signal,m=E.end}o(c,(E,x)=>{E?l(E):u(x)},{signal:y,end:m})})}e.exports={finished:a,pipeline:f}}),qLe=he((t,e)=>{ee();var{Buffer:r}=ji(),{ObjectDefineProperty:i,ObjectKeys:n,ReflectApply:s}=qo(),{promisify:{custom:o}}=Ld(),{streamReturningOperators:a,promiseReturningOperators:f}=CLe(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:c}}=Ya(),u=NLe(),{pipeline:l}=yj(),{destroyer:y}=Gb(),m=Sm(),g=Qle(),E=Em(),x=e.exports=dj().Stream;x.isDisturbed=E.isDisturbed,x.isErrored=E.isErrored,x.isReadable=E.isReadable,x.Readable=_S();for(let I of n(a)){let R=function(...B){if(new.target)throw c();return x.Readable.from(s(O,this,B))};T=R;let O=a[I];i(R,"name",{__proto__:null,value:O.name}),i(R,"length",{__proto__:null,value:O.length}),i(x.Readable.prototype,I,{__proto__:null,value:R,enumerable:!1,configurable:!0,writable:!0})}var T;for(let I of n(f)){let R=function(...B){if(new.target)throw c();return s(O,this,B)};T=R;let O=f[I];i(R,"name",{__proto__:null,value:O.name}),i(R,"length",{__proto__:null,value:O.length}),i(x.Readable.prototype,I,{__proto__:null,value:R,enumerable:!1,configurable:!0,writable:!0})}var T;x.Writable=Gle(),x.Duplex=Nd(),x.Transform=Jle(),x.PassThrough=Xle(),x.pipeline=l;var{addAbortSignal:M}=hj();x.addAbortSignal=M,x.finished=m,x.destroy=y,x.compose=u,i(x,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return g}}),i(l,o,{__proto__:null,enumerable:!0,get(){return g.pipeline}}),i(m,o,{__proto__:null,enumerable:!0,get(){return g.finished}}),x.Stream=x,x._isUint8Array=function(I){return I instanceof Uint8Array},x._uint8ArrayToBuffer=function(I){return r.from(I.buffer,I.byteOffset,I.byteLength)}}),mj=he((t,e)=>{"use strict";ee();var r=qLe(),i=Qle(),n=r.Readable.destroy;e.exports=r.Readable,e.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,e.exports._isUint8Array=r._isUint8Array,e.exports.isDisturbed=r.isDisturbed,e.exports.isErrored=r.isErrored,e.exports.isReadable=r.isReadable,e.exports.Readable=r.Readable,e.exports.Writable=r.Writable,e.exports.Duplex=r.Duplex,e.exports.Transform=r.Transform,e.exports.PassThrough=r.PassThrough,e.exports.addAbortSignal=r.addAbortSignal,e.exports.finished=r.finished,e.exports.destroy=r.destroy,e.exports.destroy=n,e.exports.pipeline=r.pipeline,e.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get(){return i}}),e.exports.Stream=r.Stream,e.exports.default=e.exports}),si=he((t,e)=>{ee();var r=ji(),i=r.Buffer;function n(o,a){for(var f in o)a[f]=o[f]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(n(r,t),t.Buffer=s);function s(o,a,f){return i(o,a,f)}n(i,s),s.from=function(o,a,f){if(typeof o=="number")throw new TypeError("Argument must not be a number");return i(o,a,f)},s.alloc=function(o,a,f){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=i(o);return a!==void 0?typeof f=="string"?c.fill(a,f):c.fill(a):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return i(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}),Jb=he((t,e)=>{"use strict";ee();var r=65536,i=4294967295;function n(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var s=si().Buffer,o=globalThis.crypto||globalThis.msCrypto;o&&o.getRandomValues?e.exports=a:e.exports=n;function a(f,c){if(f>i)throw new RangeError("requested too many random bytes");var u=s.allocUnsafe(f);if(f>0)if(f>r)for(var l=0;l<f;l+=r)o.getRandomValues(u.slice(l,l+r));else o.getRandomValues(u);return typeof c=="function"?Fe.default.nextTick(function(){c(null,u)}):u}}),rr=he((t,e)=>{ee(),typeof Object.create=="function"?e.exports=function(r,i){i&&(r.super_=i,r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(r,i){if(i){r.super_=i;var n=function(){};n.prototype=i.prototype,r.prototype=new n,r.prototype.constructor=r}}}),zLe=he((t,e)=>{ee();var r=ji(),i=r.Buffer;function n(o,a){for(var f in o)a[f]=o[f]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(n(r,t),t.Buffer=s);function s(o,a,f){return i(o,a,f)}s.prototype=Object.create(i.prototype),n(i,s),s.from=function(o,a,f){if(typeof o=="number")throw new TypeError("Argument must not be a number");return i(o,a,f)},s.alloc=function(o,a,f){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=i(o);return a!==void 0?typeof f=="string"?c.fill(a,f):c.fill(a):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return i(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}),ede=he((t,e)=>{ee(),e.exports=nc().EventEmitter}),tde=he((t,e)=>{"use strict";ee(),e.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},i=Symbol("test"),n=Object(i);if(typeof i=="string"||Object.prototype.toString.call(i)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;r[i]=s;for(i in r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var o=Object.getOwnPropertySymbols(r);if(o.length!==1||o[0]!==i||!Object.prototype.propertyIsEnumerable.call(r,i))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(r,i);if(a.value!==s||a.enumerable!==!0)return!1}return!0}}),ES=he((t,e)=>{"use strict";ee();var r=tde();e.exports=function(){return r()&&!!Symbol.toStringTag}}),FLe=he((t,e)=>{"use strict";ee();var r=typeof Symbol<"u"&&Symbol,i=tde();e.exports=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:i()}}),ULe=he((t,e)=>{"use strict";ee();var r="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,n=Object.prototype.toString,s="[object Function]";e.exports=function(o){var a=this;if(typeof a!="function"||n.call(a)!==s)throw new TypeError(r+a);for(var f=i.call(arguments,1),c,u=function(){if(this instanceof c){var E=a.apply(this,f.concat(i.call(arguments)));return Object(E)===E?E:this}else return a.apply(o,f.concat(i.call(arguments)))},l=Math.max(0,a.length-f.length),y=[],m=0;m<l;m++)y.push("$"+m);if(c=Function("binder","return function ("+y.join(",")+"){ return binder.apply(this,arguments); }")(u),a.prototype){var g=function(){};g.prototype=a.prototype,c.prototype=new g,g.prototype=null}return c}}),gj=he((t,e)=>{"use strict";ee();var r=ULe();e.exports=Function.prototype.bind||r}),$Le=he((t,e)=>{"use strict";ee();var r=gj();e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)}),bj=he((t,e)=>{"use strict";ee();var r,i=SyntaxError,n=Function,s=TypeError,o=function(P){try{return n('"use strict"; return ('+P+").constructor;")()}catch{}},a=Object.getOwnPropertyDescriptor;if(a)try{a({},"")}catch{a=null}var f=function(){throw new s},c=a?function(){try{return arguments.callee,f}catch{try{return a(arguments,"callee").get}catch{return f}}}():f,u=FLe()(),l=Object.getPrototypeOf||function(P){return P.__proto__},y={},m=typeof Uint8Array>"u"?r:l(Uint8Array),g={"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":u?l([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":y,"%AsyncGenerator%":y,"%AsyncGeneratorFunction%":y,"%AsyncIteratorPrototype%":y,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":n,"%GeneratorFunction%":y,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?l(l([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!u?r:l(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!u?r:l(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?l(""[Symbol.iterator]()):r,"%Symbol%":u?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":c,"%TypedArray%":m,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet};try{null.error}catch(P){E=l(l(P)),g["%Error.prototype%"]=E}var E,x=function P(p){var d;if(p==="%AsyncFunction%")d=o("async function () {}");else if(p==="%GeneratorFunction%")d=o("function* () {}");else if(p==="%AsyncGeneratorFunction%")d=o("async function* () {}");else if(p==="%AsyncGenerator%"){var h=P("%AsyncGeneratorFunction%");h&&(d=h.prototype)}else if(p==="%AsyncIteratorPrototype%"){var b=P("%AsyncGenerator%");b&&(d=l(b.prototype))}return g[p]=d,d},T={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},M=gj(),I=$Le(),R=M.call(Function.call,Array.prototype.concat),O=M.call(Function.apply,Array.prototype.splice),B=M.call(Function.call,String.prototype.replace),C=M.call(Function.call,String.prototype.slice),U=M.call(Function.call,RegExp.prototype.exec),W=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,L=/\\(\\)?/g,j=function(P){var p=C(P,0,1),d=C(P,-1);if(p==="%"&&d!=="%")throw new i("invalid intrinsic syntax, expected closing `%`");if(d==="%"&&p!=="%")throw new i("invalid intrinsic syntax, expected opening `%`");var h=[];return B(P,W,function(b,v,w,_){h[h.length]=w?B(_,L,"$1"):v||b}),h},k=function(P,p){var d=P,h;if(I(T,d)&&(h=T[d],d="%"+h[0]+"%"),I(g,d)){var b=g[d];if(b===y&&(b=x(d)),typeof b>"u"&&!p)throw new s("intrinsic "+P+" exists, but is not available. Please file an issue!");return{alias:h,name:d,value:b}}throw new i("intrinsic "+P+" does not exist!")};e.exports=function(P,p){if(typeof P!="string"||P.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof p!="boolean")throw new s('"allowMissing" argument must be a boolean');if(U(/^%?[^%]*%?$/,P)===null)throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var d=j(P),h=d.length>0?d[0]:"",b=k("%"+h+"%",p),v=b.name,w=b.value,_=!1,D=b.alias;D&&(h=D[0],O(d,R([0,1],D)));for(var S=1,A=!0;S<d.length;S+=1){var N=d[S],G=C(N,0,1),Q=C(N,-1);if((G==='"'||G==="'"||G==="`"||Q==='"'||Q==="'"||Q==="`")&&G!==Q)throw new i("property names with quotes must have matching quotes");if((N==="constructor"||!A)&&(_=!0),h+="."+N,v="%"+h+"%",I(g,v))w=g[v];else if(w!=null){if(!(N in w)){if(!p)throw new s("base intrinsic for "+P+" exists, but the property is not available.");return}if(a&&S+1>=d.length){var ne=a(w,N);A=!!ne,A&&"get"in ne&&!("originalValue"in ne.get)?w=ne.get:w=w[N]}else A=I(w,N),w=w[N];A&&!_&&(g[v]=w)}}return w}}),VLe=he((t,e)=>{"use strict";ee();var r=gj(),i=bj(),n=i("%Function.prototype.apply%"),s=i("%Function.prototype.call%"),o=i("%Reflect.apply%",!0)||r.call(s,n),a=i("%Object.getOwnPropertyDescriptor%",!0),f=i("%Object.defineProperty%",!0),c=i("%Math.max%");if(f)try{f({},"a",{value:1})}catch{f=null}e.exports=function(l){var y=o(r,s,arguments);if(a&&f){var m=a(y,"length");m.configurable&&f(y,"length",{value:1+c(0,l.length-(arguments.length-1))})}return y};var u=function(){return o(r,n,arguments)};f?f(e.exports,"apply",{value:u}):e.exports.apply=u}),vj=he((t,e)=>{"use strict";ee();var r=bj(),i=VLe(),n=i(r("String.prototype.indexOf"));e.exports=function(s,o){var a=r(s,!!o);return typeof a=="function"&&n(s,".prototype.")>-1?i(a):a}}),KLe=he((t,e)=>{"use strict";ee();var r=ES()(),i=vj(),n=i("Object.prototype.toString"),s=function(f){return r&&f&&typeof f=="object"&&Symbol.toStringTag in f?!1:n(f)==="[object Arguments]"},o=function(f){return s(f)?!0:f!==null&&typeof f=="object"&&typeof f.length=="number"&&f.length>=0&&n(f)!=="[object Array]"&&n(f.callee)==="[object Function]"},a=function(){return s(arguments)}();s.isLegacyArguments=o,e.exports=a?s:o}),HLe=he((t,e)=>{"use strict";ee();var r=Object.prototype.toString,i=Function.prototype.toString,n=/^\s*(?:function)?\*/,s=ES()(),o=Object.getPrototypeOf,a=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch{}},f;e.exports=function(c){if(typeof c!="function")return!1;if(n.test(i.call(c)))return!0;if(!s){var u=r.call(c);return u==="[object GeneratorFunction]"}if(!o)return!1;if(typeof f>"u"){var l=a();f=l?o(l):!1}return o(c)===f}}),WLe=he((t,e)=>{"use strict";ee();var r=Function.prototype.toString,i=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,n,s;if(typeof i=="function"&&typeof Object.defineProperty=="function")try{n=Object.defineProperty({},"length",{get:function(){throw s}}),s={},i(function(){throw 42},null,n)}catch(R){R!==s&&(i=null)}else i=null;var o=/^\s*class\b/,a=function(R){try{var O=r.call(R);return o.test(O)}catch{return!1}},f=function(R){try{return a(R)?!1:(r.call(R),!0)}catch{return!1}},c=Object.prototype.toString,u="[object Object]",l="[object Function]",y="[object GeneratorFunction]",m="[object HTMLAllCollection]",g="[object HTML document.all class]",E="[object HTMLCollection]",x=typeof Symbol=="function"&&!!Symbol.toStringTag,T=!(0 in[,]),M=function(){return!1};typeof document=="object"&&(I=document.all,c.call(I)===c.call(document.all)&&(M=function(R){if((T||!R)&&(typeof R>"u"||typeof R=="object"))try{var O=c.call(R);return(O===m||O===g||O===E||O===u)&&R("")==null}catch{}return!1}));var I;e.exports=i?function(R){if(M(R))return!0;if(!R||typeof R!="function"&&typeof R!="object")return!1;try{i(R,null,n)}catch(O){if(O!==s)return!1}return!a(R)&&f(R)}:function(R){if(M(R))return!0;if(!R||typeof R!="function"&&typeof R!="object")return!1;if(x)return f(R);if(a(R))return!1;var O=c.call(R);return O!==l&&O!==y&&!/^\[object HTML/.test(O)?!1:f(R)}}),rde=he((t,e)=>{"use strict";ee();var r=WLe(),i=Object.prototype.toString,n=Object.prototype.hasOwnProperty,s=function(c,u,l){for(var y=0,m=c.length;y<m;y++)n.call(c,y)&&(l==null?u(c[y],y,c):u.call(l,c[y],y,c))},o=function(c,u,l){for(var y=0,m=c.length;y<m;y++)l==null?u(c.charAt(y),y,c):u.call(l,c.charAt(y),y,c)},a=function(c,u,l){for(var y in c)n.call(c,y)&&(l==null?u(c[y],y,c):u.call(l,c[y],y,c))},f=function(c,u,l){if(!r(u))throw new TypeError("iterator must be a function");var y;arguments.length>=3&&(y=l),i.call(c)==="[object Array]"?s(c,u,y):typeof c=="string"?o(c,u,y):a(c,u,y)};e.exports=f}),ide=he((t,e)=>{"use strict";ee();var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],i=globalThis;e.exports=function(){for(var n=[],s=0;s<r.length;s++)typeof i[r[s]]=="function"&&(n[n.length]=r[s]);return n}}),nde=he((t,e)=>{"use strict";ee();var r=bj(),i=r("%Object.getOwnPropertyDescriptor%",!0);if(i)try{i([],"length")}catch{i=null}e.exports=i}),ode=he((t,e)=>{"use strict";ee();var r=rde(),i=ide(),n=vj(),s=n("Object.prototype.toString"),o=ES()(),a=nde(),f=globalThis,c=i(),u=n("Array.prototype.indexOf",!0)||function(E,x){for(var T=0;T<E.length;T+=1)if(E[T]===x)return T;return-1},l=n("String.prototype.slice"),y={},m=Object.getPrototypeOf;o&&a&&m&&r(c,function(E){var x=new f[E];if(Symbol.toStringTag in x){var T=m(x),M=a(T,Symbol.toStringTag);if(!M){var I=m(T);M=a(I,Symbol.toStringTag)}y[E]=M.get}});var g=function(E){var x=!1;return r(y,function(T,M){if(!x)try{x=T.call(E)===M}catch{}}),x};e.exports=function(E){if(!E||typeof E!="object")return!1;if(!o||!(Symbol.toStringTag in E)){var x=l(s(E),8,-1);return u(c,x)>-1}return a?g(E):!1}}),YLe=he((t,e)=>{"use strict";ee();var r=rde(),i=ide(),n=vj(),s=nde(),o=n("Object.prototype.toString"),a=ES()(),f=globalThis,c=i(),u=n("String.prototype.slice"),l={},y=Object.getPrototypeOf;a&&s&&y&&r(c,function(E){if(typeof f[E]=="function"){var x=new f[E];if(Symbol.toStringTag in x){var T=y(x),M=s(T,Symbol.toStringTag);if(!M){var I=y(T);M=s(I,Symbol.toStringTag)}l[E]=M.get}}});var m=function(E){var x=!1;return r(l,function(T,M){if(!x)try{var I=T.call(E);I===M&&(x=I)}catch{}}),x},g=ode();e.exports=function(E){return g(E)?!a||!(Symbol.toStringTag in E)?u(o(E),8,-1):m(E):!1}}),ZLe=he(t=>{"use strict";ee();var e=KLe(),r=HLe(),i=YLe(),n=ode();function s(re){return re.call.bind(re)}var o=typeof BigInt<"u",a=typeof Symbol<"u",f=s(Object.prototype.toString),c=s(Number.prototype.valueOf),u=s(String.prototype.valueOf),l=s(Boolean.prototype.valueOf);o&&(y=s(BigInt.prototype.valueOf));var y;a&&(m=s(Symbol.prototype.valueOf));var m;function g(re,le){if(typeof re!="object")return!1;try{return le(re),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=n;function E(re){return typeof Promise<"u"&&re instanceof Promise||re!==null&&typeof re=="object"&&typeof re.then=="function"&&typeof re.catch=="function"}t.isPromise=E;function x(re){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(re):n(re)||A(re)}t.isArrayBufferView=x;function T(re){return i(re)==="Uint8Array"}t.isUint8Array=T;function M(re){return i(re)==="Uint8ClampedArray"}t.isUint8ClampedArray=M;function I(re){return i(re)==="Uint16Array"}t.isUint16Array=I;function R(re){return i(re)==="Uint32Array"}t.isUint32Array=R;function O(re){return i(re)==="Int8Array"}t.isInt8Array=O;function B(re){return i(re)==="Int16Array"}t.isInt16Array=B;function C(re){return i(re)==="Int32Array"}t.isInt32Array=C;function U(re){return i(re)==="Float32Array"}t.isFloat32Array=U;function W(re){return i(re)==="Float64Array"}t.isFloat64Array=W;function L(re){return i(re)==="BigInt64Array"}t.isBigInt64Array=L;function j(re){return i(re)==="BigUint64Array"}t.isBigUint64Array=j;function k(re){return f(re)==="[object Map]"}k.working=typeof Map<"u"&&k(new Map);function P(re){return typeof Map>"u"?!1:k.working?k(re):re instanceof Map}t.isMap=P;function p(re){return f(re)==="[object Set]"}p.working=typeof Set<"u"&&p(new Set);function d(re){return typeof Set>"u"?!1:p.working?p(re):re instanceof Set}t.isSet=d;function h(re){return f(re)==="[object WeakMap]"}h.working=typeof WeakMap<"u"&&h(new WeakMap);function b(re){return typeof WeakMap>"u"?!1:h.working?h(re):re instanceof WeakMap}t.isWeakMap=b;function v(re){return f(re)==="[object WeakSet]"}v.working=typeof WeakSet<"u"&&v(new WeakSet);function w(re){return v(re)}t.isWeakSet=w;function _(re){return f(re)==="[object ArrayBuffer]"}_.working=typeof ArrayBuffer<"u"&&_(new ArrayBuffer);function D(re){return typeof ArrayBuffer>"u"?!1:_.working?_(re):re instanceof ArrayBuffer}t.isArrayBuffer=D;function S(re){return f(re)==="[object DataView]"}S.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&S(new DataView(new ArrayBuffer(1),0,1));function A(re){return typeof DataView>"u"?!1:S.working?S(re):re instanceof DataView}t.isDataView=A;var N=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function G(re){return f(re)==="[object SharedArrayBuffer]"}function Q(re){return typeof N>"u"?!1:(typeof G.working>"u"&&(G.working=G(new N)),G.working?G(re):re instanceof N)}t.isSharedArrayBuffer=Q;function ne(re){return f(re)==="[object AsyncFunction]"}t.isAsyncFunction=ne;function H(re){return f(re)==="[object Map Iterator]"}t.isMapIterator=H;function Z(re){return f(re)==="[object Set Iterator]"}t.isSetIterator=Z;function ie(re){return f(re)==="[object Generator]"}t.isGeneratorObject=ie;function fe(re){return f(re)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=fe;function ue(re){return g(re,c)}t.isNumberObject=ue;function ye(re){return g(re,u)}t.isStringObject=ye;function $(re){return g(re,l)}t.isBooleanObject=$;function q(re){return o&&g(re,y)}t.isBigIntObject=q;function z(re){return a&&g(re,m)}t.isSymbolObject=z;function Y(re){return ue(re)||ye(re)||$(re)||q(re)||z(re)}t.isBoxedPrimitive=Y;function X(re){return typeof Uint8Array<"u"&&(D(re)||Q(re))}t.isAnyArrayBuffer=X,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(re){Object.defineProperty(t,re,{enumerable:!1,value:function(){throw new Error(re+" is not supported in userland")}})})}),GLe=he((t,e)=>{ee(),e.exports=function(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"}}),Xb=he(t=>{ee();var e=Object.getOwnPropertyDescriptors||function(S){for(var A=Object.keys(S),N={},G=0;G<A.length;G++)N[A[G]]=Object.getOwnPropertyDescriptor(S,A[G]);return N},r=/%[sdj%]/g;t.format=function(S){if(!O(S)){for(var A=[],N=0;N<arguments.length;N++)A.push(o(arguments[N]));return A.join(" ")}for(var N=1,G=arguments,Q=G.length,ne=String(S).replace(r,function(ie){if(ie==="%%")return"%";if(N>=Q)return ie;switch(ie){case"%s":return String(G[N++]);case"%d":return Number(G[N++]);case"%j":try{return JSON.stringify(G[N++])}catch{return"[Circular]"}default:return ie}}),H=G[N];N<Q;H=G[++N])M(H)||!W(H)?ne+=" "+H:ne+=" "+o(H);return ne},t.deprecate=function(S,A){if(typeof Fe.default<"u"&&Fe.default.noDeprecation===!0)return S;if(typeof Fe.default>"u")return function(){return t.deprecate(S,A).apply(this,arguments)};var N=!1;function G(){if(!N){if(Fe.default.throwDeprecation)throw new Error(A);Fe.default.traceDeprecation?console.trace(A):console.error(A),N=!0}return S.apply(this,arguments)}return G};var i={},n=/^$/;Fe.default.env.NODE_DEBUG&&(s=Fe.default.env.NODE_DEBUG,s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),n=new RegExp("^"+s+"$","i"));var s;t.debuglog=function(S){if(S=S.toUpperCase(),!i[S])if(n.test(S)){var A=Fe.default.pid;i[S]=function(){var N=t.format.apply(t,arguments);console.error("%s %d: %s",S,A,N)}}else i[S]=function(){};return i[S]};function o(S,A){var N={seen:[],stylize:f};return arguments.length>=3&&(N.depth=arguments[2]),arguments.length>=4&&(N.colors=arguments[3]),T(A)?N.showHidden=A:A&&t._extend(N,A),C(N.showHidden)&&(N.showHidden=!1),C(N.depth)&&(N.depth=2),C(N.colors)&&(N.colors=!1),C(N.customInspect)&&(N.customInspect=!0),N.colors&&(N.stylize=a),u(N,S,N.depth)}t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(S,A){var N=o.styles[A];return N?"\x1B["+o.colors[N][0]+"m"+S+"\x1B["+o.colors[N][1]+"m":S}function f(S,A){return S}function c(S){var A={};return S.forEach(function(N,G){A[N]=!0}),A}function u(S,A,N){if(S.customInspect&&A&&k(A.inspect)&&A.inspect!==t.inspect&&!(A.constructor&&A.constructor.prototype===A)){var G=A.inspect(N,S);return O(G)||(G=u(S,G,N)),G}var Q=l(S,A);if(Q)return Q;var ne=Object.keys(A),H=c(ne);if(S.showHidden&&(ne=Object.getOwnPropertyNames(A)),j(A)&&(ne.indexOf("message")>=0||ne.indexOf("description")>=0))return y(A);if(ne.length===0){if(k(A)){var Z=A.name?": "+A.name:"";return S.stylize("[Function"+Z+"]","special")}if(U(A))return S.stylize(RegExp.prototype.toString.call(A),"regexp");if(L(A))return S.stylize(Date.prototype.toString.call(A),"date");if(j(A))return y(A)}var ie="",fe=!1,ue=["{","}"];if(x(A)&&(fe=!0,ue=["[","]"]),k(A)){var ye=A.name?": "+A.name:"";ie=" [Function"+ye+"]"}if(U(A)&&(ie=" "+RegExp.prototype.toString.call(A)),L(A)&&(ie=" "+Date.prototype.toUTCString.call(A)),j(A)&&(ie=" "+y(A)),ne.length===0&&(!fe||A.length==0))return ue[0]+ie+ue[1];if(N<0)return U(A)?S.stylize(RegExp.prototype.toString.call(A),"regexp"):S.stylize("[Object]","special");S.seen.push(A);var $;return fe?$=m(S,A,N,H,ne):$=ne.map(function(q){return g(S,A,N,H,q,fe)}),S.seen.pop(),E($,ie,ue)}function l(S,A){if(C(A))return S.stylize("undefined","undefined");if(O(A)){var N="'"+JSON.stringify(A).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return S.stylize(N,"string")}if(R(A))return S.stylize(""+A,"number");if(T(A))return S.stylize(""+A,"boolean");if(M(A))return S.stylize("null","null")}function y(S){return"["+Error.prototype.toString.call(S)+"]"}function m(S,A,N,G,Q){for(var ne=[],H=0,Z=A.length;H<Z;++H)v(A,String(H))?ne.push(g(S,A,N,G,String(H),!0)):ne.push("");return Q.forEach(function(ie){ie.match(/^\d+$/)||ne.push(g(S,A,N,G,ie,!0))}),ne}function g(S,A,N,G,Q,ne){var H,Z,ie;if(ie=Object.getOwnPropertyDescriptor(A,Q)||{value:A[Q]},ie.get?ie.set?Z=S.stylize("[Getter/Setter]","special"):Z=S.stylize("[Getter]","special"):ie.set&&(Z=S.stylize("[Setter]","special")),v(G,Q)||(H="["+Q+"]"),Z||(S.seen.indexOf(ie.value)<0?(M(N)?Z=u(S,ie.value,null):Z=u(S,ie.value,N-1),Z.indexOf(`
`)>-1&&(ne?Z=Z.split(`
`).map(function(fe){return"  "+fe}).join(`
`).substr(2):Z=`
`+Z.split(`
`).map(function(fe){return"   "+fe}).join(`
`))):Z=S.stylize("[Circular]","special")),C(H)){if(ne&&Q.match(/^\d+$/))return Z;H=JSON.stringify(""+Q),H.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(H=H.substr(1,H.length-2),H=S.stylize(H,"name")):(H=H.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),H=S.stylize(H,"string"))}return H+": "+Z}function E(S,A,N){var G=0,Q=S.reduce(function(ne,H){return G++,H.indexOf(`
`)>=0&&G++,ne+H.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Q>60?N[0]+(A===""?"":A+`
 `)+" "+S.join(`,
  `)+" "+N[1]:N[0]+A+" "+S.join(", ")+" "+N[1]}t.types=ZLe();function x(S){return Array.isArray(S)}t.isArray=x;function T(S){return typeof S=="boolean"}t.isBoolean=T;function M(S){return S===null}t.isNull=M;function I(S){return S==null}t.isNullOrUndefined=I;function R(S){return typeof S=="number"}t.isNumber=R;function O(S){return typeof S=="string"}t.isString=O;function B(S){return typeof S=="symbol"}t.isSymbol=B;function C(S){return S===void 0}t.isUndefined=C;function U(S){return W(S)&&p(S)==="[object RegExp]"}t.isRegExp=U,t.types.isRegExp=U;function W(S){return typeof S=="object"&&S!==null}t.isObject=W;function L(S){return W(S)&&p(S)==="[object Date]"}t.isDate=L,t.types.isDate=L;function j(S){return W(S)&&(p(S)==="[object Error]"||S instanceof Error)}t.isError=j,t.types.isNativeError=j;function k(S){return typeof S=="function"}t.isFunction=k;function P(S){return S===null||typeof S=="boolean"||typeof S=="number"||typeof S=="string"||typeof S=="symbol"||typeof S>"u"}t.isPrimitive=P,t.isBuffer=GLe();function p(S){return Object.prototype.toString.call(S)}function d(S){return S<10?"0"+S.toString(10):S.toString(10)}var h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function b(){var S=new Date,A=[d(S.getHours()),d(S.getMinutes()),d(S.getSeconds())].join(":");return[S.getDate(),h[S.getMonth()],A].join(" ")}t.log=function(){console.log("%s - %s",b(),t.format.apply(t,arguments))},t.inherits=rr(),t._extend=function(S,A){if(!A||!W(A))return S;for(var N=Object.keys(A),G=N.length;G--;)S[N[G]]=A[N[G]];return S};function v(S,A){return Object.prototype.hasOwnProperty.call(S,A)}var w=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(S){if(typeof S!="function")throw new TypeError('The "original" argument must be of type Function');if(w&&S[w]){var A=S[w];if(typeof A!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(A,w,{value:A,enumerable:!1,writable:!1,configurable:!0}),A}function A(){for(var N,G,Q=new Promise(function(Z,ie){N=Z,G=ie}),ne=[],H=0;H<arguments.length;H++)ne.push(arguments[H]);ne.push(function(Z,ie){Z?G(Z):N(ie)});try{S.apply(this,ne)}catch(Z){G(Z)}return Q}return Object.setPrototypeOf(A,Object.getPrototypeOf(S)),w&&Object.defineProperty(A,w,{value:A,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(A,e(S))},t.promisify.custom=w;function _(S,A){if(!S){var N=new Error("Promise was rejected with a falsy value");N.reason=S,S=N}return A(S)}function D(S){if(typeof S!="function")throw new TypeError('The "original" argument must be of type Function');function A(){for(var N=[],G=0;G<arguments.length;G++)N.push(arguments[G]);var Q=N.pop();if(typeof Q!="function")throw new TypeError("The last argument must be of type Function");var ne=this,H=function(){return Q.apply(ne,arguments)};S.apply(this,N).then(function(Z){Fe.default.nextTick(H.bind(null,null,Z))},function(Z){Fe.default.nextTick(_.bind(null,Z,H))})}return Object.setPrototypeOf(A,Object.getPrototypeOf(S)),Object.defineProperties(A,e(S)),A}t.callbackify=D}),JLe=he((t,e)=>{"use strict";ee();function r(x,T){var M=Object.keys(x);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(x);T&&(I=I.filter(function(R){return Object.getOwnPropertyDescriptor(x,R).enumerable})),M.push.apply(M,I)}return M}function i(x){for(var T=1;T<arguments.length;T++){var M=arguments[T]!=null?arguments[T]:{};T%2?r(Object(M),!0).forEach(function(I){n(x,I,M[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(M)):r(Object(M)).forEach(function(I){Object.defineProperty(x,I,Object.getOwnPropertyDescriptor(M,I))})}return x}function n(x,T,M){return T=f(T),T in x?Object.defineProperty(x,T,{value:M,enumerable:!0,configurable:!0,writable:!0}):x[T]=M,x}function s(x,T){if(!(x instanceof T))throw new TypeError("Cannot call a class as a function")}function o(x,T){for(var M=0;M<T.length;M++){var I=T[M];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(x,f(I.key),I)}}function a(x,T,M){return T&&o(x.prototype,T),M&&o(x,M),Object.defineProperty(x,"prototype",{writable:!1}),x}function f(x){var T=c(x,"string");return typeof T=="symbol"?T:String(T)}function c(x,T){if(typeof x!="object"||x===null)return x;var M=x[Symbol.toPrimitive];if(M!==void 0){var I=M.call(x,T||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(x)}var u=ji(),l=u.Buffer,y=Xb(),m=y.inspect,g=m&&m.custom||"inspect";function E(x,T,M){l.prototype.copy.call(x,T,M)}e.exports=function(){function x(){s(this,x),this.head=null,this.tail=null,this.length=0}return a(x,[{key:"push",value:function(T){var M={data:T,next:null};this.length>0?this.tail.next=M:this.head=M,this.tail=M,++this.length}},{key:"unshift",value:function(T){var M={data:T,next:this.head};this.length===0&&(this.tail=M),this.head=M,++this.length}},{key:"shift",value:function(){if(this.length!==0){var T=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,T}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(T){if(this.length===0)return"";for(var M=this.head,I=""+M.data;M=M.next;)I+=T+M.data;return I}},{key:"concat",value:function(T){if(this.length===0)return l.alloc(0);for(var M=l.allocUnsafe(T>>>0),I=this.head,R=0;I;)E(I.data,M,R),R+=I.data.length,I=I.next;return M}},{key:"consume",value:function(T,M){var I;return T<this.head.data.length?(I=this.head.data.slice(0,T),this.head.data=this.head.data.slice(T)):T===this.head.data.length?I=this.shift():I=M?this._getString(T):this._getBuffer(T),I}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(T){var M=this.head,I=1,R=M.data;for(T-=R.length;M=M.next;){var O=M.data,B=T>O.length?O.length:T;if(B===O.length?R+=O:R+=O.slice(0,T),T-=B,T===0){B===O.length?(++I,M.next?this.head=M.next:this.head=this.tail=null):(this.head=M,M.data=O.slice(B));break}++I}return this.length-=I,R}},{key:"_getBuffer",value:function(T){var M=l.allocUnsafe(T),I=this.head,R=1;for(I.data.copy(M),T-=I.data.length;I=I.next;){var O=I.data,B=T>O.length?O.length:T;if(O.copy(M,M.length-T,0,B),T-=B,T===0){B===O.length?(++R,I.next?this.head=I.next:this.head=this.tail=null):(this.head=I,I.data=O.slice(B));break}++R}return this.length-=R,M}},{key:g,value:function(T,M){return m(this,i(i({},M),{},{depth:0,customInspect:!1}))}}]),x}()}),sde=he((t,e)=>{"use strict";ee();function r(f,c){var u=this,l=this._readableState&&this._readableState.destroyed,y=this._writableState&&this._writableState.destroyed;return l||y?(c?c(f):f&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Fe.default.nextTick(o,this,f)):Fe.default.nextTick(o,this,f)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(f||null,function(m){!c&&m?u._writableState?u._writableState.errorEmitted?Fe.default.nextTick(n,u):(u._writableState.errorEmitted=!0,Fe.default.nextTick(i,u,m)):Fe.default.nextTick(i,u,m):c?(Fe.default.nextTick(n,u),c(m)):Fe.default.nextTick(n,u)}),this)}function i(f,c){o(f,c),n(f)}function n(f){f._writableState&&!f._writableState.emitClose||f._readableState&&!f._readableState.emitClose||f.emit("close")}function s(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(f,c){f.emit("error",c)}function a(f,c){var u=f._readableState,l=f._writableState;u&&u.autoDestroy||l&&l.autoDestroy?f.destroy(c):f.emit("error",c)}e.exports={destroy:r,undestroy:s,errorOrDestroy:a}}),Qb=he((t,e)=>{"use strict";ee();function r(c,u){c.prototype=Object.create(u.prototype),c.prototype.constructor=c,c.__proto__=u}var i={};function n(c,u,l){l||(l=Error);function y(g,E,x){return typeof u=="string"?u:u(g,E,x)}var m=function(g){r(E,g);function E(x,T,M){return g.call(this,y(x,T,M))||this}return E}(l);m.prototype.name=l.name,m.prototype.code=c,i[c]=m}function s(c,u){if(Array.isArray(c)){var l=c.length;return c=c.map(function(y){return String(y)}),l>2?"one of ".concat(u," ").concat(c.slice(0,l-1).join(", "),", or ")+c[l-1]:l===2?"one of ".concat(u," ").concat(c[0]," or ").concat(c[1]):"of ".concat(u," ").concat(c[0])}else return"of ".concat(u," ").concat(String(c))}function o(c,u,l){return c.substr(!l||l<0?0:+l,u.length)===u}function a(c,u,l){return(l===void 0||l>c.length)&&(l=c.length),c.substring(l-u.length,l)===u}function f(c,u,l){return typeof l!="number"&&(l=0),l+u.length>c.length?!1:c.indexOf(u,l)!==-1}n("ERR_INVALID_OPT_VALUE",function(c,u){return'The value "'+u+'" is invalid for option "'+c+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(c,u,l){var y;typeof u=="string"&&o(u,"not ")?(y="must not be",u=u.replace(/^not /,"")):y="must be";var m;if(a(c," argument"))m="The ".concat(c," ").concat(y," ").concat(s(u,"type"));else{var g=f(c,".")?"property":"argument";m='The "'.concat(c,'" ').concat(g," ").concat(y," ").concat(s(u,"type"))}return m+=". Received type ".concat(typeof l),m},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=i}),ade=he((t,e)=>{"use strict";ee();var r=Qb().codes.ERR_INVALID_OPT_VALUE;function i(s,o,a){return s.highWaterMark!=null?s.highWaterMark:o?s[a]:null}function n(s,o,a,f){var c=i(o,f,a);if(c!=null){if(!(isFinite(c)&&Math.floor(c)===c)||c<0){var u=f?a:"highWaterMark";throw new r(u,c)}return Math.floor(c)}return s.objectMode?16:16*1024}e.exports={getHighWaterMark:n}}),wj=he((t,e)=>{ee(),e.exports=r;function r(n,s){if(i("noDeprecation"))return n;var o=!1;function a(){if(!o){if(i("throwDeprecation"))throw new Error(s);i("traceDeprecation")?console.trace(s):console.warn(s),o=!0}return n.apply(this,arguments)}return a}function i(n){try{if(!globalThis.localStorage)return!1}catch{return!1}var s=globalThis.localStorage[n];return s==null?!1:String(s).toLowerCase()==="true"}}),fde=he((t,e)=>{"use strict";ee(),e.exports=L;function r(H){var Z=this;this.next=null,this.entry=null,this.finish=function(){ne(Z,H)}}var i;L.WritableState=U;var n={deprecate:wj()},s=ede(),o=ji().Buffer,a=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function f(H){return o.from(H)}function c(H){return o.isBuffer(H)||H instanceof a}var u=sde(),l=ade(),y=l.getHighWaterMark,m=Qb().codes,g=m.ERR_INVALID_ARG_TYPE,E=m.ERR_METHOD_NOT_IMPLEMENTED,x=m.ERR_MULTIPLE_CALLBACK,T=m.ERR_STREAM_CANNOT_PIPE,M=m.ERR_STREAM_DESTROYED,I=m.ERR_STREAM_NULL_VALUES,R=m.ERR_STREAM_WRITE_AFTER_END,O=m.ERR_UNKNOWN_ENCODING,B=u.errorOrDestroy;rr()(L,s);function C(){}function U(H,Z,ie){i=i||Ob(),H=H||{},typeof ie!="boolean"&&(ie=Z instanceof i),this.objectMode=!!H.objectMode,ie&&(this.objectMode=this.objectMode||!!H.writableObjectMode),this.highWaterMark=y(this,H,"writableHighWaterMark",ie),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var fe=H.decodeStrings===!1;this.decodeStrings=!fe,this.defaultEncoding=H.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ue){v(Z,ue)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=H.emitClose!==!1,this.autoDestroy=!!H.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}U.prototype.getBuffer=function(){for(var H=this.bufferedRequest,Z=[];H;)Z.push(H),H=H.next;return Z},function(){try{Object.defineProperty(U.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var W;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(W=Function.prototype[Symbol.hasInstance],Object.defineProperty(L,Symbol.hasInstance,{value:function(H){return W.call(this,H)?!0:this!==L?!1:H&&H._writableState instanceof U}})):W=function(H){return H instanceof this};function L(H){i=i||Ob();var Z=this instanceof i;if(!Z&&!W.call(L,this))return new L(H);this._writableState=new U(H,this,Z),this.writable=!0,H&&(typeof H.write=="function"&&(this._write=H.write),typeof H.writev=="function"&&(this._writev=H.writev),typeof H.destroy=="function"&&(this._destroy=H.destroy),typeof H.final=="function"&&(this._final=H.final)),s.call(this)}L.prototype.pipe=function(){B(this,new T)};function j(H,Z){var ie=new R;B(H,ie),Fe.default.nextTick(Z,ie)}function k(H,Z,ie,fe){var ue;return ie===null?ue=new I:typeof ie!="string"&&!Z.objectMode&&(ue=new g("chunk",["string","Buffer"],ie)),ue?(B(H,ue),Fe.default.nextTick(fe,ue),!1):!0}L.prototype.write=function(H,Z,ie){var fe=this._writableState,ue=!1,ye=!fe.objectMode&&c(H);return ye&&!o.isBuffer(H)&&(H=f(H)),typeof Z=="function"&&(ie=Z,Z=null),ye?Z="buffer":Z||(Z=fe.defaultEncoding),typeof ie!="function"&&(ie=C),fe.ending?j(this,ie):(ye||k(this,fe,H,ie))&&(fe.pendingcb++,ue=p(this,fe,ye,H,Z,ie)),ue},L.prototype.cork=function(){this._writableState.corked++},L.prototype.uncork=function(){var H=this._writableState;H.corked&&(H.corked--,!H.writing&&!H.corked&&!H.bufferProcessing&&H.bufferedRequest&&D(this,H))},L.prototype.setDefaultEncoding=function(H){if(typeof H=="string"&&(H=H.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((H+"").toLowerCase())>-1))throw new O(H);return this._writableState.defaultEncoding=H,this},Object.defineProperty(L.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function P(H,Z,ie){return!H.objectMode&&H.decodeStrings!==!1&&typeof Z=="string"&&(Z=o.from(Z,ie)),Z}Object.defineProperty(L.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function p(H,Z,ie,fe,ue,ye){if(!ie){var $=P(Z,fe,ue);fe!==$&&(ie=!0,ue="buffer",fe=$)}var q=Z.objectMode?1:fe.length;Z.length+=q;var z=Z.length<Z.highWaterMark;if(z||(Z.needDrain=!0),Z.writing||Z.corked){var Y=Z.lastBufferedRequest;Z.lastBufferedRequest={chunk:fe,encoding:ue,isBuf:ie,callback:ye,next:null},Y?Y.next=Z.lastBufferedRequest:Z.bufferedRequest=Z.lastBufferedRequest,Z.bufferedRequestCount+=1}else d(H,Z,!1,q,fe,ue,ye);return z}function d(H,Z,ie,fe,ue,ye,$){Z.writelen=fe,Z.writecb=$,Z.writing=!0,Z.sync=!0,Z.destroyed?Z.onwrite(new M("write")):ie?H._writev(ue,Z.onwrite):H._write(ue,ye,Z.onwrite),Z.sync=!1}function h(H,Z,ie,fe,ue){--Z.pendingcb,ie?(Fe.default.nextTick(ue,fe),Fe.default.nextTick(G,H,Z),H._writableState.errorEmitted=!0,B(H,fe)):(ue(fe),H._writableState.errorEmitted=!0,B(H,fe),G(H,Z))}function b(H){H.writing=!1,H.writecb=null,H.length-=H.writelen,H.writelen=0}function v(H,Z){var ie=H._writableState,fe=ie.sync,ue=ie.writecb;if(typeof ue!="function")throw new x;if(b(ie),Z)h(H,ie,fe,Z,ue);else{var ye=S(ie)||H.destroyed;!ye&&!ie.corked&&!ie.bufferProcessing&&ie.bufferedRequest&&D(H,ie),fe?Fe.default.nextTick(w,H,ie,ye,ue):w(H,ie,ye,ue)}}function w(H,Z,ie,fe){ie||_(H,Z),Z.pendingcb--,fe(),G(H,Z)}function _(H,Z){Z.length===0&&Z.needDrain&&(Z.needDrain=!1,H.emit("drain"))}function D(H,Z){Z.bufferProcessing=!0;var ie=Z.bufferedRequest;if(H._writev&&ie&&ie.next){var fe=Z.bufferedRequestCount,ue=new Array(fe),ye=Z.corkedRequestsFree;ye.entry=ie;for(var $=0,q=!0;ie;)ue[$]=ie,ie.isBuf||(q=!1),ie=ie.next,$+=1;ue.allBuffers=q,d(H,Z,!0,Z.length,ue,"",ye.finish),Z.pendingcb++,Z.lastBufferedRequest=null,ye.next?(Z.corkedRequestsFree=ye.next,ye.next=null):Z.corkedRequestsFree=new r(Z),Z.bufferedRequestCount=0}else{for(;ie;){var z=ie.chunk,Y=ie.encoding,X=ie.callback,re=Z.objectMode?1:z.length;if(d(H,Z,!1,re,z,Y,X),ie=ie.next,Z.bufferedRequestCount--,Z.writing)break}ie===null&&(Z.lastBufferedRequest=null)}Z.bufferedRequest=ie,Z.bufferProcessing=!1}L.prototype._write=function(H,Z,ie){ie(new E("_write()"))},L.prototype._writev=null,L.prototype.end=function(H,Z,ie){var fe=this._writableState;return typeof H=="function"?(ie=H,H=null,Z=null):typeof Z=="function"&&(ie=Z,Z=null),H!=null&&this.write(H,Z),fe.corked&&(fe.corked=1,this.uncork()),fe.ending||Q(this,fe,ie),this},Object.defineProperty(L.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function S(H){return H.ending&&H.length===0&&H.bufferedRequest===null&&!H.finished&&!H.writing}function A(H,Z){H._final(function(ie){Z.pendingcb--,ie&&B(H,ie),Z.prefinished=!0,H.emit("prefinish"),G(H,Z)})}function N(H,Z){!Z.prefinished&&!Z.finalCalled&&(typeof H._final=="function"&&!Z.destroyed?(Z.pendingcb++,Z.finalCalled=!0,Fe.default.nextTick(A,H,Z)):(Z.prefinished=!0,H.emit("prefinish")))}function G(H,Z){var ie=S(Z);if(ie&&(N(H,Z),Z.pendingcb===0&&(Z.finished=!0,H.emit("finish"),Z.autoDestroy))){var fe=H._readableState;(!fe||fe.autoDestroy&&fe.endEmitted)&&H.destroy()}return ie}function Q(H,Z,ie){Z.ending=!0,G(H,Z),ie&&(Z.finished?Fe.default.nextTick(ie):H.once("finish",ie)),Z.ended=!0,H.writable=!1}function ne(H,Z,ie){var fe=H.entry;for(H.entry=null;fe;){var ue=fe.callback;Z.pendingcb--,ue(ie),fe=fe.next}Z.corkedRequestsFree.next=H}Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(H){this._writableState&&(this._writableState.destroyed=H)}}),L.prototype.destroy=u.destroy,L.prototype._undestroy=u.undestroy,L.prototype._destroy=function(H,Z){Z(H)}}),Ob=he((t,e)=>{"use strict";ee();var r=Object.keys||function(l){var y=[];for(var m in l)y.push(m);return y};e.exports=f;var i=ude(),n=fde();for(rr()(f,i),s=r(n.prototype),a=0;a<s.length;a++)o=s[a],f.prototype[o]||(f.prototype[o]=n.prototype[o]);var s,o,a;function f(l){if(!(this instanceof f))return new f(l);i.call(this,l),n.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",c)))}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function c(){this._writableState.ended||Fe.default.nextTick(u,this)}function u(l){l.end()}Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}})}),_j=he((t,e)=>{"use strict";ee();var r=Qb().codes.ERR_STREAM_PREMATURE_CLOSE;function i(a){var f=!1;return function(){if(!f){f=!0;for(var c=arguments.length,u=new Array(c),l=0;l<c;l++)u[l]=arguments[l];a.apply(this,u)}}}function n(){}function s(a){return a.setHeader&&typeof a.abort=="function"}function o(a,f,c){if(typeof f=="function")return o(a,null,f);f||(f={}),c=i(c||n);var u=f.readable||f.readable!==!1&&a.readable,l=f.writable||f.writable!==!1&&a.writable,y=function(){a.writable||g()},m=a._writableState&&a._writableState.finished,g=function(){l=!1,m=!0,u||c.call(a)},E=a._readableState&&a._readableState.endEmitted,x=function(){u=!1,E=!0,l||c.call(a)},T=function(R){c.call(a,R)},M=function(){var R;if(u&&!E)return(!a._readableState||!a._readableState.ended)&&(R=new r),c.call(a,R);if(l&&!m)return(!a._writableState||!a._writableState.ended)&&(R=new r),c.call(a,R)},I=function(){a.req.on("finish",g)};return s(a)?(a.on("complete",g),a.on("abort",M),a.req?I():a.on("request",I)):l&&!a._writableState&&(a.on("end",y),a.on("close",y)),a.on("end",x),a.on("finish",g),f.error!==!1&&a.on("error",T),a.on("close",M),function(){a.removeListener("complete",g),a.removeListener("abort",M),a.removeListener("request",I),a.req&&a.req.removeListener("finish",g),a.removeListener("end",y),a.removeListener("close",y),a.removeListener("finish",g),a.removeListener("end",x),a.removeListener("error",T),a.removeListener("close",M)}}e.exports=o}),XLe=he((t,e)=>{"use strict";ee();var r;function i(O,B,C){return B=n(B),B in O?Object.defineProperty(O,B,{value:C,enumerable:!0,configurable:!0,writable:!0}):O[B]=C,O}function n(O){var B=s(O,"string");return typeof B=="symbol"?B:String(B)}function s(O,B){if(typeof O!="object"||O===null)return O;var C=O[Symbol.toPrimitive];if(C!==void 0){var U=C.call(O,B||"default");if(typeof U!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return(B==="string"?String:Number)(O)}var o=_j(),a=Symbol("lastResolve"),f=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),y=Symbol("handlePromise"),m=Symbol("stream");function g(O,B){return{value:O,done:B}}function E(O){var B=O[a];if(B!==null){var C=O[m].read();C!==null&&(O[l]=null,O[a]=null,O[f]=null,B(g(C,!1)))}}function x(O){Fe.default.nextTick(E,O)}function T(O,B){return function(C,U){O.then(function(){if(B[u]){C(g(void 0,!0));return}B[y](C,U)},U)}}var M=Object.getPrototypeOf(function(){}),I=Object.setPrototypeOf((r={get stream(){return this[m]},next:function(){var O=this,B=this[c];if(B!==null)return Promise.reject(B);if(this[u])return Promise.resolve(g(void 0,!0));if(this[m].destroyed)return new Promise(function(L,j){Fe.default.nextTick(function(){O[c]?j(O[c]):L(g(void 0,!0))})});var C=this[l],U;if(C)U=new Promise(T(C,this));else{var W=this[m].read();if(W!==null)return Promise.resolve(g(W,!1));U=new Promise(this[y])}return this[l]=U,U}},i(r,Symbol.asyncIterator,function(){return this}),i(r,"return",function(){var O=this;return new Promise(function(B,C){O[m].destroy(null,function(U){if(U){C(U);return}B(g(void 0,!0))})})}),r),M),R=function(O){var B,C=Object.create(I,(B={},i(B,m,{value:O,writable:!0}),i(B,a,{value:null,writable:!0}),i(B,f,{value:null,writable:!0}),i(B,c,{value:null,writable:!0}),i(B,u,{value:O._readableState.endEmitted,writable:!0}),i(B,y,{value:function(U,W){var L=C[m].read();L?(C[l]=null,C[a]=null,C[f]=null,U(g(L,!1))):(C[a]=U,C[f]=W)},writable:!0}),B));return C[l]=null,o(O,function(U){if(U&&U.code!=="ERR_STREAM_PREMATURE_CLOSE"){var W=C[f];W!==null&&(C[l]=null,C[a]=null,C[f]=null,W(U)),C[c]=U;return}var L=C[a];L!==null&&(C[l]=null,C[a]=null,C[f]=null,L(g(void 0,!0))),C[u]=!0}),O.on("readable",x.bind(null,C)),C};e.exports=R}),QLe=he((t,e)=>{ee(),e.exports=function(){throw new Error("Readable.from is not available in the browser")}}),ude=he((t,e)=>{"use strict";ee(),e.exports=k;var r;k.ReadableState=j;var i=nc().EventEmitter,n=function($,q){return $.listeners(q).length},s=ede(),o=ji().Buffer,a=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function f($){return o.from($)}function c($){return o.isBuffer($)||$ instanceof a}var u=Xb(),l;u&&u.debuglog?l=u.debuglog("stream"):l=function(){};var y=JLe(),m=sde(),g=ade(),E=g.getHighWaterMark,x=Qb().codes,T=x.ERR_INVALID_ARG_TYPE,M=x.ERR_STREAM_PUSH_AFTER_EOF,I=x.ERR_METHOD_NOT_IMPLEMENTED,R=x.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,O,B,C;rr()(k,s);var U=m.errorOrDestroy,W=["error","close","destroy","pause","resume"];function L($,q,z){if(typeof $.prependListener=="function")return $.prependListener(q,z);!$._events||!$._events[q]?$.on(q,z):Array.isArray($._events[q])?$._events[q].unshift(z):$._events[q]=[z,$._events[q]]}function j($,q,z){r=r||Ob(),$=$||{},typeof z!="boolean"&&(z=q instanceof r),this.objectMode=!!$.objectMode,z&&(this.objectMode=this.objectMode||!!$.readableObjectMode),this.highWaterMark=E(this,$,"readableHighWaterMark",z),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=$.emitClose!==!1,this.autoDestroy=!!$.autoDestroy,this.destroyed=!1,this.defaultEncoding=$.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,$.encoding&&(O||(O=Rp().StringDecoder),this.decoder=new O($.encoding),this.encoding=$.encoding)}function k($){if(r=r||Ob(),!(this instanceof k))return new k($);var q=this instanceof r;this._readableState=new j($,this,q),this.readable=!0,$&&(typeof $.read=="function"&&(this._read=$.read),typeof $.destroy=="function"&&(this._destroy=$.destroy)),s.call(this)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function($){this._readableState&&(this._readableState.destroyed=$)}}),k.prototype.destroy=m.destroy,k.prototype._undestroy=m.undestroy,k.prototype._destroy=function($,q){q($)},k.prototype.push=function($,q){var z=this._readableState,Y;return z.objectMode?Y=!0:typeof $=="string"&&(q=q||z.defaultEncoding,q!==z.encoding&&($=o.from($,q),q=""),Y=!0),P(this,$,q,!1,Y)},k.prototype.unshift=function($){return P(this,$,null,!0,!1)};function P($,q,z,Y,X){l("readableAddChunk",q);var re=$._readableState;if(q===null)re.reading=!1,w($,re);else{var le;if(X||(le=d(re,q)),le)U($,le);else if(re.objectMode||q&&q.length>0)if(typeof q!="string"&&!re.objectMode&&Object.getPrototypeOf(q)!==o.prototype&&(q=f(q)),Y)re.endEmitted?U($,new R):p($,re,q,!0);else if(re.ended)U($,new M);else{if(re.destroyed)return!1;re.reading=!1,re.decoder&&!z?(q=re.decoder.write(q),re.objectMode||q.length!==0?p($,re,q,!1):S($,re)):p($,re,q,!1)}else Y||(re.reading=!1,S($,re))}return!re.ended&&(re.length<re.highWaterMark||re.length===0)}function p($,q,z,Y){q.flowing&&q.length===0&&!q.sync?(q.awaitDrain=0,$.emit("data",z)):(q.length+=q.objectMode?1:z.length,Y?q.buffer.unshift(z):q.buffer.push(z),q.needReadable&&_($)),S($,q)}function d($,q){var z;return!c(q)&&typeof q!="string"&&q!==void 0&&!$.objectMode&&(z=new T("chunk",["string","Buffer","Uint8Array"],q)),z}k.prototype.isPaused=function(){return this._readableState.flowing===!1},k.prototype.setEncoding=function($){O||(O=Rp().StringDecoder);var q=new O($);this._readableState.decoder=q,this._readableState.encoding=this._readableState.decoder.encoding;for(var z=this._readableState.buffer.head,Y="";z!==null;)Y+=q.write(z.data),z=z.next;return this._readableState.buffer.clear(),Y!==""&&this._readableState.buffer.push(Y),this._readableState.length=Y.length,this};var h=1073741824;function b($){return $>=h?$=h:($--,$|=$>>>1,$|=$>>>2,$|=$>>>4,$|=$>>>8,$|=$>>>16,$++),$}function v($,q){return $<=0||q.length===0&&q.ended?0:q.objectMode?1:$!==$?q.flowing&&q.length?q.buffer.head.data.length:q.length:($>q.highWaterMark&&(q.highWaterMark=b($)),$<=q.length?$:q.ended?q.length:(q.needReadable=!0,0))}k.prototype.read=function($){l("read",$),$=parseInt($,10);var q=this._readableState,z=$;if($!==0&&(q.emittedReadable=!1),$===0&&q.needReadable&&((q.highWaterMark!==0?q.length>=q.highWaterMark:q.length>0)||q.ended))return l("read: emitReadable",q.length,q.ended),q.length===0&&q.ended?fe(this):_(this),null;if($=v($,q),$===0&&q.ended)return q.length===0&&fe(this),null;var Y=q.needReadable;l("need readable",Y),(q.length===0||q.length-$<q.highWaterMark)&&(Y=!0,l("length less than watermark",Y)),q.ended||q.reading?(Y=!1,l("reading or ended",Y)):Y&&(l("do read"),q.reading=!0,q.sync=!0,q.length===0&&(q.needReadable=!0),this._read(q.highWaterMark),q.sync=!1,q.reading||($=v(z,q)));var X;return $>0?X=ie($,q):X=null,X===null?(q.needReadable=q.length<=q.highWaterMark,$=0):(q.length-=$,q.awaitDrain=0),q.length===0&&(q.ended||(q.needReadable=!0),z!==$&&q.ended&&fe(this)),X!==null&&this.emit("data",X),X};function w($,q){if(l("onEofChunk"),!q.ended){if(q.decoder){var z=q.decoder.end();z&&z.length&&(q.buffer.push(z),q.length+=q.objectMode?1:z.length)}q.ended=!0,q.sync?_($):(q.needReadable=!1,q.emittedReadable||(q.emittedReadable=!0,D($)))}}function _($){var q=$._readableState;l("emitReadable",q.needReadable,q.emittedReadable),q.needReadable=!1,q.emittedReadable||(l("emitReadable",q.flowing),q.emittedReadable=!0,Fe.default.nextTick(D,$))}function D($){var q=$._readableState;l("emitReadable_",q.destroyed,q.length,q.ended),!q.destroyed&&(q.length||q.ended)&&($.emit("readable"),q.emittedReadable=!1),q.needReadable=!q.flowing&&!q.ended&&q.length<=q.highWaterMark,Z($)}function S($,q){q.readingMore||(q.readingMore=!0,Fe.default.nextTick(A,$,q))}function A($,q){for(;!q.reading&&!q.ended&&(q.length<q.highWaterMark||q.flowing&&q.length===0);){var z=q.length;if(l("maybeReadMore read 0"),$.read(0),z===q.length)break}q.readingMore=!1}k.prototype._read=function($){U(this,new I("_read()"))},k.prototype.pipe=function($,q){var z=this,Y=this._readableState;switch(Y.pipesCount){case 0:Y.pipes=$;break;case 1:Y.pipes=[Y.pipes,$];break;default:Y.pipes.push($);break}Y.pipesCount+=1,l("pipe count=%d opts=%j",Y.pipesCount,q);var X=(!q||q.end!==!1)&&$!==Fe.default.stdout&&$!==Fe.default.stderr,re=X?pe:ge;Y.endEmitted?Fe.default.nextTick(re):z.once("end",re),$.on("unpipe",le);function le(me,Ee){l("onunpipe"),me===z&&Ee&&Ee.hasUnpiped===!1&&(Ee.hasUnpiped=!0,be())}function pe(){l("onend"),$.end()}var _e=N(z);$.on("drain",_e);var xe=!1;function be(){l("cleanup"),$.removeListener("close",oe),$.removeListener("finish",ce),$.removeListener("drain",_e),$.removeListener("error",Le),$.removeListener("unpipe",le),z.removeListener("end",pe),z.removeListener("end",ge),z.removeListener("data",Me),xe=!0,Y.awaitDrain&&(!$._writableState||$._writableState.needDrain)&&_e()}z.on("data",Me);function Me(me){l("ondata");var Ee=$.write(me);l("dest.write",Ee),Ee===!1&&((Y.pipesCount===1&&Y.pipes===$||Y.pipesCount>1&&ye(Y.pipes,$)!==-1)&&!xe&&(l("false write response, pause",Y.awaitDrain),Y.awaitDrain++),z.pause())}function Le(me){l("onerror",me),ge(),$.removeListener("error",Le),n($,"error")===0&&U($,me)}L($,"error",Le);function oe(){$.removeListener("finish",ce),ge()}$.once("close",oe);function ce(){l("onfinish"),$.removeListener("close",oe),ge()}$.once("finish",ce);function ge(){l("unpipe"),z.unpipe($)}return $.emit("pipe",z),Y.flowing||(l("pipe resume"),z.resume()),$};function N($){return function(){var q=$._readableState;l("pipeOnDrain",q.awaitDrain),q.awaitDrain&&q.awaitDrain--,q.awaitDrain===0&&n($,"data")&&(q.flowing=!0,Z($))}}k.prototype.unpipe=function($){var q=this._readableState,z={hasUnpiped:!1};if(q.pipesCount===0)return this;if(q.pipesCount===1)return $&&$!==q.pipes?this:($||($=q.pipes),q.pipes=null,q.pipesCount=0,q.flowing=!1,$&&$.emit("unpipe",this,z),this);if(!$){var Y=q.pipes,X=q.pipesCount;q.pipes=null,q.pipesCount=0,q.flowing=!1;for(var re=0;re<X;re++)Y[re].emit("unpipe",this,{hasUnpiped:!1});return this}var le=ye(q.pipes,$);return le===-1?this:(q.pipes.splice(le,1),q.pipesCount-=1,q.pipesCount===1&&(q.pipes=q.pipes[0]),$.emit("unpipe",this,z),this)},k.prototype.on=function($,q){var z=s.prototype.on.call(this,$,q),Y=this._readableState;return $==="data"?(Y.readableListening=this.listenerCount("readable")>0,Y.flowing!==!1&&this.resume()):$==="readable"&&!Y.endEmitted&&!Y.readableListening&&(Y.readableListening=Y.needReadable=!0,Y.flowing=!1,Y.emittedReadable=!1,l("on readable",Y.length,Y.reading),Y.length?_(this):Y.reading||Fe.default.nextTick(Q,this)),z},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function($,q){var z=s.prototype.removeListener.call(this,$,q);return $==="readable"&&Fe.default.nextTick(G,this),z},k.prototype.removeAllListeners=function($){var q=s.prototype.removeAllListeners.apply(this,arguments);return($==="readable"||$===void 0)&&Fe.default.nextTick(G,this),q};function G($){var q=$._readableState;q.readableListening=$.listenerCount("readable")>0,q.resumeScheduled&&!q.paused?q.flowing=!0:$.listenerCount("data")>0&&$.resume()}function Q($){l("readable nexttick read 0"),$.read(0)}k.prototype.resume=function(){var $=this._readableState;return $.flowing||(l("resume"),$.flowing=!$.readableListening,ne(this,$)),$.paused=!1,this};function ne($,q){q.resumeScheduled||(q.resumeScheduled=!0,Fe.default.nextTick(H,$,q))}function H($,q){l("resume",q.reading),q.reading||$.read(0),q.resumeScheduled=!1,$.emit("resume"),Z($),q.flowing&&!q.reading&&$.read(0)}k.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Z($){var q=$._readableState;for(l("flow",q.flowing);q.flowing&&$.read()!==null;);}k.prototype.wrap=function($){var q=this,z=this._readableState,Y=!1;$.on("end",function(){if(l("wrapped end"),z.decoder&&!z.ended){var le=z.decoder.end();le&&le.length&&q.push(le)}q.push(null)}),$.on("data",function(le){if(l("wrapped data"),z.decoder&&(le=z.decoder.write(le)),!(z.objectMode&&le==null)&&!(!z.objectMode&&(!le||!le.length))){var pe=q.push(le);pe||(Y=!0,$.pause())}});for(var X in $)this[X]===void 0&&typeof $[X]=="function"&&(this[X]=function(le){return function(){return $[le].apply($,arguments)}}(X));for(var re=0;re<W.length;re++)$.on(W[re],this.emit.bind(this,W[re]));return this._read=function(le){l("wrapped _read",le),Y&&(Y=!1,$.resume())},this},typeof Symbol=="function"&&(k.prototype[Symbol.asyncIterator]=function(){return B===void 0&&(B=XLe()),B(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function($){this._readableState&&(this._readableState.flowing=$)}}),k._fromList=ie,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ie($,q){if(q.length===0)return null;var z;return q.objectMode?z=q.buffer.shift():!$||$>=q.length?(q.decoder?z=q.buffer.join(""):q.buffer.length===1?z=q.buffer.first():z=q.buffer.concat(q.length),q.buffer.clear()):z=q.buffer.consume($,q.decoder),z}function fe($){var q=$._readableState;l("endReadable",q.endEmitted),q.endEmitted||(q.ended=!0,Fe.default.nextTick(ue,q,$))}function ue($,q){if(l("endReadableNT",$.endEmitted,$.length),!$.endEmitted&&$.length===0&&($.endEmitted=!0,q.readable=!1,q.emit("end"),$.autoDestroy)){var z=q._writableState;(!z||z.autoDestroy&&z.finished)&&q.destroy()}}typeof Symbol=="function"&&(k.from=function($,q){return C===void 0&&(C=QLe()),C(k,$,q)});function ye($,q){for(var z=0,Y=$.length;z<Y;z++)if($[z]===q)return z;return-1}}),cde=he((t,e)=>{"use strict";ee(),e.exports=c;var r=Qb().codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,n=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=r.ERR_TRANSFORM_WITH_LENGTH_0,a=Ob();rr()(c,a);function f(y,m){var g=this._transformState;g.transforming=!1;var E=g.writecb;if(E===null)return this.emit("error",new n);g.writechunk=null,g.writecb=null,m!=null&&this.push(m),E(y);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function c(y){if(!(this instanceof c))return new c(y);a.call(this,y),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",u)}function u(){var y=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(m,g){l(y,m,g)}):l(this,null,null)}c.prototype.push=function(y,m){return this._transformState.needTransform=!1,a.prototype.push.call(this,y,m)},c.prototype._transform=function(y,m,g){g(new i("_transform()"))},c.prototype._write=function(y,m,g){var E=this._transformState;if(E.writecb=g,E.writechunk=y,E.writeencoding=m,!E.transforming){var x=this._readableState;(E.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},c.prototype._read=function(y){var m=this._transformState;m.writechunk!==null&&!m.transforming?(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform)):m.needTransform=!0},c.prototype._destroy=function(y,m){a.prototype._destroy.call(this,y,function(g){m(g)})};function l(y,m,g){if(m)return y.emit("error",m);if(g!=null&&y.push(g),y._writableState.length)throw new o;if(y._transformState.transforming)throw new s;return y.push(null)}}),eNe=he((t,e)=>{"use strict";ee(),e.exports=i;var r=cde();rr()(i,r);function i(n){if(!(this instanceof i))return new i(n);r.call(this,n)}i.prototype._transform=function(n,s,o){o(null,n)}}),tNe=he((t,e)=>{"use strict";ee();var r;function i(g){var E=!1;return function(){E||(E=!0,g.apply(void 0,arguments))}}var n=Qb().codes,s=n.ERR_MISSING_ARGS,o=n.ERR_STREAM_DESTROYED;function a(g){if(g)throw g}function f(g){return g.setHeader&&typeof g.abort=="function"}function c(g,E,x,T){T=i(T);var M=!1;g.on("close",function(){M=!0}),r===void 0&&(r=_j()),r(g,{readable:E,writable:x},function(R){if(R)return T(R);M=!0,T()});var I=!1;return function(R){if(!M&&!I){if(I=!0,f(g))return g.abort();if(typeof g.destroy=="function")return g.destroy();T(R||new o("pipe"))}}}function u(g){g()}function l(g,E){return g.pipe(E)}function y(g){return!g.length||typeof g[g.length-1]!="function"?a:g.pop()}function m(){for(var g=arguments.length,E=new Array(g),x=0;x<g;x++)E[x]=arguments[x];var T=y(E);if(Array.isArray(E[0])&&(E=E[0]),E.length<2)throw new s("streams");var M,I=E.map(function(R,O){var B=O<E.length-1,C=O>0;return c(R,B,C,function(U){M||(M=U),U&&I.forEach(u),!B&&(I.forEach(u),T(M))})});return E.reduce(l)}e.exports=m}),rNe=he((t,e)=>{ee(),t=e.exports=ude(),t.Stream=t,t.Readable=t,t.Writable=fde(),t.Duplex=Ob(),t.Transform=cde(),t.PassThrough=eNe(),t.finished=_j(),t.pipeline=tNe()}),lde=he((t,e)=>{"use strict";ee();var r=zLe().Buffer,i=rNe().Transform,n=rr();function s(a,f){if(!r.isBuffer(a)&&typeof a!="string")throw new TypeError(f+" must be a string or a buffer")}function o(a){i.call(this),this._block=r.allocUnsafe(a),this._blockSize=a,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(o,i),o.prototype._transform=function(a,f,c){var u=null;try{this.update(a,f)}catch(l){u=l}c(u)},o.prototype._flush=function(a){var f=null;try{this.push(this.digest())}catch(c){f=c}a(f)},o.prototype.update=function(a,f){if(s(a,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(a)||(a=r.from(a,f));for(var c=this._block,u=0;this._blockOffset+a.length-u>=this._blockSize;){for(var l=this._blockOffset;l<this._blockSize;)c[l++]=a[u++];this._update(),this._blockOffset=0}for(;u<a.length;)c[this._blockOffset++]=a[u++];for(var y=0,m=a.length*8;m>0;++y)this._length[y]+=m,m=this._length[y]/4294967296|0,m>0&&(this._length[y]-=4294967296*m);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(a){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var f=this._digest();a!==void 0&&(f=f.toString(a)),this._block.fill(0),this._blockOffset=0;for(var c=0;c<4;++c)this._length[c]=0;return f},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o}),Ej=he((t,e)=>{"use strict";ee();var r=rr(),i=lde(),n=si().Buffer,s=new Array(16);function o(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}r(o,i),o.prototype._update=function(){for(var y=s,m=0;m<16;++m)y[m]=this._block.readInt32LE(m*4);var g=this._a,E=this._b,x=this._c,T=this._d;g=f(g,E,x,T,y[0],3614090360,7),T=f(T,g,E,x,y[1],3905402710,12),x=f(x,T,g,E,y[2],606105819,17),E=f(E,x,T,g,y[3],3250441966,22),g=f(g,E,x,T,y[4],4118548399,7),T=f(T,g,E,x,y[5],1200080426,12),x=f(x,T,g,E,y[6],2821735955,17),E=f(E,x,T,g,y[7],4249261313,22),g=f(g,E,x,T,y[8],1770035416,7),T=f(T,g,E,x,y[9],2336552879,12),x=f(x,T,g,E,y[10],4294925233,17),E=f(E,x,T,g,y[11],2304563134,22),g=f(g,E,x,T,y[12],1804603682,7),T=f(T,g,E,x,y[13],4254626195,12),x=f(x,T,g,E,y[14],2792965006,17),E=f(E,x,T,g,y[15],1236535329,22),g=c(g,E,x,T,y[1],4129170786,5),T=c(T,g,E,x,y[6],3225465664,9),x=c(x,T,g,E,y[11],643717713,14),E=c(E,x,T,g,y[0],3921069994,20),g=c(g,E,x,T,y[5],3593408605,5),T=c(T,g,E,x,y[10],38016083,9),x=c(x,T,g,E,y[15],3634488961,14),E=c(E,x,T,g,y[4],3889429448,20),g=c(g,E,x,T,y[9],568446438,5),T=c(T,g,E,x,y[14],3275163606,9),x=c(x,T,g,E,y[3],4107603335,14),E=c(E,x,T,g,y[8],1163531501,20),g=c(g,E,x,T,y[13],2850285829,5),T=c(T,g,E,x,y[2],4243563512,9),x=c(x,T,g,E,y[7],1735328473,14),E=c(E,x,T,g,y[12],2368359562,20),g=u(g,E,x,T,y[5],4294588738,4),T=u(T,g,E,x,y[8],2272392833,11),x=u(x,T,g,E,y[11],1839030562,16),E=u(E,x,T,g,y[14],4259657740,23),g=u(g,E,x,T,y[1],2763975236,4),T=u(T,g,E,x,y[4],1272893353,11),x=u(x,T,g,E,y[7],4139469664,16),E=u(E,x,T,g,y[10],3200236656,23),g=u(g,E,x,T,y[13],681279174,4),T=u(T,g,E,x,y[0],3936430074,11),x=u(x,T,g,E,y[3],3572445317,16),E=u(E,x,T,g,y[6],76029189,23),g=u(g,E,x,T,y[9],3654602809,4),T=u(T,g,E,x,y[12],3873151461,11),x=u(x,T,g,E,y[15],530742520,16),E=u(E,x,T,g,y[2],3299628645,23),g=l(g,E,x,T,y[0],4096336452,6),T=l(T,g,E,x,y[7],1126891415,10),x=l(x,T,g,E,y[14],2878612391,15),E=l(E,x,T,g,y[5],4237533241,21),g=l(g,E,x,T,y[12],1700485571,6),T=l(T,g,E,x,y[3],2399980690,10),x=l(x,T,g,E,y[10],4293915773,15),E=l(E,x,T,g,y[1],2240044497,21),g=l(g,E,x,T,y[8],1873313359,6),T=l(T,g,E,x,y[15],4264355552,10),x=l(x,T,g,E,y[6],2734768916,15),E=l(E,x,T,g,y[13],1309151649,21),g=l(g,E,x,T,y[4],4149444226,6),T=l(T,g,E,x,y[11],3174756917,10),x=l(x,T,g,E,y[2],718787259,15),E=l(E,x,T,g,y[9],3951481745,21),this._a=this._a+g|0,this._b=this._b+E|0,this._c=this._c+x|0,this._d=this._d+T|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var y=n.allocUnsafe(16);return y.writeInt32LE(this._a,0),y.writeInt32LE(this._b,4),y.writeInt32LE(this._c,8),y.writeInt32LE(this._d,12),y};function a(y,m){return y<<m|y>>>32-m}function f(y,m,g,E,x,T,M){return a(y+(m&g|~m&E)+x+T|0,M)+m|0}function c(y,m,g,E,x,T,M){return a(y+(m&E|g&~E)+x+T|0,M)+m|0}function u(y,m,g,E,x,T,M){return a(y+(m^g^E)+x+T|0,M)+m|0}function l(y,m,g,E,x,T,M){return a(y+(g^(m|~E))+x+T|0,M)+m|0}e.exports=o}),Sj=he((t,e)=>{"use strict";ee();var r=ji().Buffer,i=rr(),n=lde(),s=new Array(16),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],a=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],c=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],u=[0,1518500249,1859775393,2400959708,2840853838],l=[1352829926,1548603684,1836072691,2053994217,0];function y(){n.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}i(y,n),y.prototype._update=function(){for(var I=s,R=0;R<16;++R)I[R]=this._block.readInt32LE(R*4);for(var O=this._a|0,B=this._b|0,C=this._c|0,U=this._d|0,W=this._e|0,L=this._a|0,j=this._b|0,k=this._c|0,P=this._d|0,p=this._e|0,d=0;d<80;d+=1){var h,b;d<16?(h=g(O,B,C,U,W,I[o[d]],u[0],f[d]),b=M(L,j,k,P,p,I[a[d]],l[0],c[d])):d<32?(h=E(O,B,C,U,W,I[o[d]],u[1],f[d]),b=T(L,j,k,P,p,I[a[d]],l[1],c[d])):d<48?(h=x(O,B,C,U,W,I[o[d]],u[2],f[d]),b=x(L,j,k,P,p,I[a[d]],l[2],c[d])):d<64?(h=T(O,B,C,U,W,I[o[d]],u[3],f[d]),b=E(L,j,k,P,p,I[a[d]],l[3],c[d])):(h=M(O,B,C,U,W,I[o[d]],u[4],f[d]),b=g(L,j,k,P,p,I[a[d]],l[4],c[d])),O=W,W=U,U=m(C,10),C=B,B=h,L=p,p=P,P=m(k,10),k=j,j=b}var v=this._b+C+P|0;this._b=this._c+U+p|0,this._c=this._d+W+L|0,this._d=this._e+O+j|0,this._e=this._a+B+k|0,this._a=v},y.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var I=r.alloc?r.alloc(20):new r(20);return I.writeInt32LE(this._a,0),I.writeInt32LE(this._b,4),I.writeInt32LE(this._c,8),I.writeInt32LE(this._d,12),I.writeInt32LE(this._e,16),I};function m(I,R){return I<<R|I>>>32-R}function g(I,R,O,B,C,U,W,L){return m(I+(R^O^B)+U+W|0,L)+C|0}function E(I,R,O,B,C,U,W,L){return m(I+(R&O|~R&B)+U+W|0,L)+C|0}function x(I,R,O,B,C,U,W,L){return m(I+((R|~O)^B)+U+W|0,L)+C|0}function T(I,R,O,B,C,U,W,L){return m(I+(R&B|O&~B)+U+W|0,L)+C|0}function M(I,R,O,B,C,U,W,L){return m(I+(R^(O|~B))+U+W|0,L)+C|0}e.exports=y}),ev=he((t,e)=>{ee();var r=si().Buffer;function i(n,s){this._block=r.alloc(n),this._finalSize=s,this._blockSize=n,this._len=0}i.prototype.update=function(n,s){typeof n=="string"&&(s=s||"utf8",n=r.from(n,s));for(var o=this._block,a=this._blockSize,f=n.length,c=this._len,u=0;u<f;){for(var l=c%a,y=Math.min(f-u,a-l),m=0;m<y;m++)o[l+m]=n[u+m];c+=y,u+=y,c%a===0&&this._update(o)}return this._len+=f,this},i.prototype.digest=function(n){var s=this._len%this._blockSize;this._block[s]=128,this._block.fill(0,s+1),s>=this._finalSize&&(this._update(this._block),this._block.fill(0));var o=this._len*8;if(o<=4294967295)this._block.writeUInt32BE(o,this._blockSize-4);else{var a=(o&4294967295)>>>0,f=(o-a)/4294967296;this._block.writeUInt32BE(f,this._blockSize-8),this._block.writeUInt32BE(a,this._blockSize-4)}this._update(this._block);var c=this._hash();return n?c.toString(n):c},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i}),iNe=he((t,e)=>{ee();var r=rr(),i=ev(),n=si().Buffer,s=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function a(){this.init(),this._w=o,i.call(this,64,56)}r(a,i),a.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function f(l){return l<<5|l>>>27}function c(l){return l<<30|l>>>2}function u(l,y,m,g){return l===0?y&m|~y&g:l===2?y&m|y&g|m&g:y^m^g}a.prototype._update=function(l){for(var y=this._w,m=this._a|0,g=this._b|0,E=this._c|0,x=this._d|0,T=this._e|0,M=0;M<16;++M)y[M]=l.readInt32BE(M*4);for(;M<80;++M)y[M]=y[M-3]^y[M-8]^y[M-14]^y[M-16];for(var I=0;I<80;++I){var R=~~(I/20),O=f(m)+u(R,g,E,x)+T+y[I]+s[R]|0;T=x,x=E,E=c(g),g=m,m=O}this._a=m+this._a|0,this._b=g+this._b|0,this._c=E+this._c|0,this._d=x+this._d|0,this._e=T+this._e|0},a.prototype._hash=function(){var l=n.allocUnsafe(20);return l.writeInt32BE(this._a|0,0),l.writeInt32BE(this._b|0,4),l.writeInt32BE(this._c|0,8),l.writeInt32BE(this._d|0,12),l.writeInt32BE(this._e|0,16),l},e.exports=a}),nNe=he((t,e)=>{ee();var r=rr(),i=ev(),n=si().Buffer,s=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function a(){this.init(),this._w=o,i.call(this,64,56)}r(a,i),a.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function f(y){return y<<1|y>>>31}function c(y){return y<<5|y>>>27}function u(y){return y<<30|y>>>2}function l(y,m,g,E){return y===0?m&g|~m&E:y===2?m&g|m&E|g&E:m^g^E}a.prototype._update=function(y){for(var m=this._w,g=this._a|0,E=this._b|0,x=this._c|0,T=this._d|0,M=this._e|0,I=0;I<16;++I)m[I]=y.readInt32BE(I*4);for(;I<80;++I)m[I]=f(m[I-3]^m[I-8]^m[I-14]^m[I-16]);for(var R=0;R<80;++R){var O=~~(R/20),B=c(g)+l(O,E,x,T)+M+m[R]+s[O]|0;M=T,T=x,x=u(E),E=g,g=B}this._a=g+this._a|0,this._b=E+this._b|0,this._c=x+this._c|0,this._d=T+this._d|0,this._e=M+this._e|0},a.prototype._hash=function(){var y=n.allocUnsafe(20);return y.writeInt32BE(this._a|0,0),y.writeInt32BE(this._b|0,4),y.writeInt32BE(this._c|0,8),y.writeInt32BE(this._d|0,12),y.writeInt32BE(this._e|0,16),y},e.exports=a}),dde=he((t,e)=>{ee();var r=rr(),i=ev(),n=si().Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=new Array(64);function a(){this.init(),this._w=o,i.call(this,64,56)}r(a,i),a.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function f(g,E,x){return x^g&(E^x)}function c(g,E,x){return g&E|x&(g|E)}function u(g){return(g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10)}function l(g){return(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7)}function y(g){return(g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3}function m(g){return(g>>>17|g<<15)^(g>>>19|g<<13)^g>>>10}a.prototype._update=function(g){for(var E=this._w,x=this._a|0,T=this._b|0,M=this._c|0,I=this._d|0,R=this._e|0,O=this._f|0,B=this._g|0,C=this._h|0,U=0;U<16;++U)E[U]=g.readInt32BE(U*4);for(;U<64;++U)E[U]=m(E[U-2])+E[U-7]+y(E[U-15])+E[U-16]|0;for(var W=0;W<64;++W){var L=C+l(R)+f(R,O,B)+s[W]+E[W]|0,j=u(x)+c(x,T,M)|0;C=B,B=O,O=R,R=I+L|0,I=M,M=T,T=x,x=L+j|0}this._a=x+this._a|0,this._b=T+this._b|0,this._c=M+this._c|0,this._d=I+this._d|0,this._e=R+this._e|0,this._f=O+this._f|0,this._g=B+this._g|0,this._h=C+this._h|0},a.prototype._hash=function(){var g=n.allocUnsafe(32);return g.writeInt32BE(this._a,0),g.writeInt32BE(this._b,4),g.writeInt32BE(this._c,8),g.writeInt32BE(this._d,12),g.writeInt32BE(this._e,16),g.writeInt32BE(this._f,20),g.writeInt32BE(this._g,24),g.writeInt32BE(this._h,28),g},e.exports=a}),oNe=he((t,e)=>{ee();var r=rr(),i=dde(),n=ev(),s=si().Buffer,o=new Array(64);function a(){this.init(),this._w=o,n.call(this,64,56)}r(a,i),a.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},a.prototype._hash=function(){var f=s.allocUnsafe(28);return f.writeInt32BE(this._a,0),f.writeInt32BE(this._b,4),f.writeInt32BE(this._c,8),f.writeInt32BE(this._d,12),f.writeInt32BE(this._e,16),f.writeInt32BE(this._f,20),f.writeInt32BE(this._g,24),f},e.exports=a}),hde=he((t,e)=>{ee();var r=rr(),i=ev(),n=si().Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],o=new Array(160);function a(){this.init(),this._w=o,i.call(this,128,112)}r(a,i),a.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function f(T,M,I){return I^T&(M^I)}function c(T,M,I){return T&M|I&(T|M)}function u(T,M){return(T>>>28|M<<4)^(M>>>2|T<<30)^(M>>>7|T<<25)}function l(T,M){return(T>>>14|M<<18)^(T>>>18|M<<14)^(M>>>9|T<<23)}function y(T,M){return(T>>>1|M<<31)^(T>>>8|M<<24)^T>>>7}function m(T,M){return(T>>>1|M<<31)^(T>>>8|M<<24)^(T>>>7|M<<25)}function g(T,M){return(T>>>19|M<<13)^(M>>>29|T<<3)^T>>>6}function E(T,M){return(T>>>19|M<<13)^(M>>>29|T<<3)^(T>>>6|M<<26)}function x(T,M){return T>>>0<M>>>0?1:0}a.prototype._update=function(T){for(var M=this._w,I=this._ah|0,R=this._bh|0,O=this._ch|0,B=this._dh|0,C=this._eh|0,U=this._fh|0,W=this._gh|0,L=this._hh|0,j=this._al|0,k=this._bl|0,P=this._cl|0,p=this._dl|0,d=this._el|0,h=this._fl|0,b=this._gl|0,v=this._hl|0,w=0;w<32;w+=2)M[w]=T.readInt32BE(w*4),M[w+1]=T.readInt32BE(w*4+4);for(;w<160;w+=2){var _=M[w-30],D=M[w-15*2+1],S=y(_,D),A=m(D,_);_=M[w-2*2],D=M[w-2*2+1];var N=g(_,D),G=E(D,_),Q=M[w-7*2],ne=M[w-7*2+1],H=M[w-16*2],Z=M[w-16*2+1],ie=A+ne|0,fe=S+Q+x(ie,A)|0;ie=ie+G|0,fe=fe+N+x(ie,G)|0,ie=ie+Z|0,fe=fe+H+x(ie,Z)|0,M[w]=fe,M[w+1]=ie}for(var ue=0;ue<160;ue+=2){fe=M[ue],ie=M[ue+1];var ye=c(I,R,O),$=c(j,k,P),q=u(I,j),z=u(j,I),Y=l(C,d),X=l(d,C),re=s[ue],le=s[ue+1],pe=f(C,U,W),_e=f(d,h,b),xe=v+X|0,be=L+Y+x(xe,v)|0;xe=xe+_e|0,be=be+pe+x(xe,_e)|0,xe=xe+le|0,be=be+re+x(xe,le)|0,xe=xe+ie|0,be=be+fe+x(xe,ie)|0;var Me=z+$|0,Le=q+ye+x(Me,z)|0;L=W,v=b,W=U,b=h,U=C,h=d,d=p+xe|0,C=B+be+x(d,p)|0,B=O,p=P,O=R,P=k,R=I,k=j,j=xe+Me|0,I=be+Le+x(j,xe)|0}this._al=this._al+j|0,this._bl=this._bl+k|0,this._cl=this._cl+P|0,this._dl=this._dl+p|0,this._el=this._el+d|0,this._fl=this._fl+h|0,this._gl=this._gl+b|0,this._hl=this._hl+v|0,this._ah=this._ah+I+x(this._al,j)|0,this._bh=this._bh+R+x(this._bl,k)|0,this._ch=this._ch+O+x(this._cl,P)|0,this._dh=this._dh+B+x(this._dl,p)|0,this._eh=this._eh+C+x(this._el,d)|0,this._fh=this._fh+U+x(this._fl,h)|0,this._gh=this._gh+W+x(this._gl,b)|0,this._hh=this._hh+L+x(this._hl,v)|0},a.prototype._hash=function(){var T=n.allocUnsafe(64);function M(I,R,O){T.writeInt32BE(I,O),T.writeInt32BE(R,O+4)}return M(this._ah,this._al,0),M(this._bh,this._bl,8),M(this._ch,this._cl,16),M(this._dh,this._dl,24),M(this._eh,this._el,32),M(this._fh,this._fl,40),M(this._gh,this._gl,48),M(this._hh,this._hl,56),T},e.exports=a}),sNe=he((t,e)=>{ee();var r=rr(),i=hde(),n=ev(),s=si().Buffer,o=new Array(160);function a(){this.init(),this._w=o,n.call(this,128,112)}r(a,i),a.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},a.prototype._hash=function(){var f=s.allocUnsafe(48);function c(u,l,y){f.writeInt32BE(u,y),f.writeInt32BE(l,y+4)}return c(this._ah,this._al,0),c(this._bh,this._bl,8),c(this._ch,this._cl,16),c(this._dh,this._dl,24),c(this._eh,this._el,32),c(this._fh,this._fl,40),f},e.exports=a}),xj=he((r,e)=>{ee();var r=e.exports=function(i){i=i.toLowerCase();var n=r[i];if(!n)throw new Error(i+" is not supported (we accept pull requests)");return new n};r.sha=iNe(),r.sha1=nNe(),r.sha224=oNe(),r.sha256=dde(),r.sha384=sNe(),r.sha512=hde()}),pde=he((t,e)=>{ee(),e.exports=nc().EventEmitter}),aNe=he((t,e)=>{"use strict";ee();function r(x,T){var M=Object.keys(x);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(x);T&&(I=I.filter(function(R){return Object.getOwnPropertyDescriptor(x,R).enumerable})),M.push.apply(M,I)}return M}function i(x){for(var T=1;T<arguments.length;T++){var M=arguments[T]!=null?arguments[T]:{};T%2?r(Object(M),!0).forEach(function(I){n(x,I,M[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(M)):r(Object(M)).forEach(function(I){Object.defineProperty(x,I,Object.getOwnPropertyDescriptor(M,I))})}return x}function n(x,T,M){return T=f(T),T in x?Object.defineProperty(x,T,{value:M,enumerable:!0,configurable:!0,writable:!0}):x[T]=M,x}function s(x,T){if(!(x instanceof T))throw new TypeError("Cannot call a class as a function")}function o(x,T){for(var M=0;M<T.length;M++){var I=T[M];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(x,f(I.key),I)}}function a(x,T,M){return T&&o(x.prototype,T),M&&o(x,M),Object.defineProperty(x,"prototype",{writable:!1}),x}function f(x){var T=c(x,"string");return typeof T=="symbol"?T:String(T)}function c(x,T){if(typeof x!="object"||x===null)return x;var M=x[Symbol.toPrimitive];if(M!==void 0){var I=M.call(x,T||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(x)}var u=ji(),l=u.Buffer,y=Xb(),m=y.inspect,g=m&&m.custom||"inspect";function E(x,T,M){l.prototype.copy.call(x,T,M)}e.exports=function(){function x(){s(this,x),this.head=null,this.tail=null,this.length=0}return a(x,[{key:"push",value:function(T){var M={data:T,next:null};this.length>0?this.tail.next=M:this.head=M,this.tail=M,++this.length}},{key:"unshift",value:function(T){var M={data:T,next:this.head};this.length===0&&(this.tail=M),this.head=M,++this.length}},{key:"shift",value:function(){if(this.length!==0){var T=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,T}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(T){if(this.length===0)return"";for(var M=this.head,I=""+M.data;M=M.next;)I+=T+M.data;return I}},{key:"concat",value:function(T){if(this.length===0)return l.alloc(0);for(var M=l.allocUnsafe(T>>>0),I=this.head,R=0;I;)E(I.data,M,R),R+=I.data.length,I=I.next;return M}},{key:"consume",value:function(T,M){var I;return T<this.head.data.length?(I=this.head.data.slice(0,T),this.head.data=this.head.data.slice(T)):T===this.head.data.length?I=this.shift():I=M?this._getString(T):this._getBuffer(T),I}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(T){var M=this.head,I=1,R=M.data;for(T-=R.length;M=M.next;){var O=M.data,B=T>O.length?O.length:T;if(B===O.length?R+=O:R+=O.slice(0,T),T-=B,T===0){B===O.length?(++I,M.next?this.head=M.next:this.head=this.tail=null):(this.head=M,M.data=O.slice(B));break}++I}return this.length-=I,R}},{key:"_getBuffer",value:function(T){var M=l.allocUnsafe(T),I=this.head,R=1;for(I.data.copy(M),T-=I.data.length;I=I.next;){var O=I.data,B=T>O.length?O.length:T;if(O.copy(M,M.length-T,0,B),T-=B,T===0){B===O.length?(++R,I.next?this.head=I.next:this.head=this.tail=null):(this.head=I,I.data=O.slice(B));break}++R}return this.length-=R,M}},{key:g,value:function(T,M){return m(this,i(i({},M),{},{depth:0,customInspect:!1}))}}]),x}()}),yde=he((t,e)=>{"use strict";ee();function r(f,c){var u=this,l=this._readableState&&this._readableState.destroyed,y=this._writableState&&this._writableState.destroyed;return l||y?(c?c(f):f&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Fe.default.nextTick(o,this,f)):Fe.default.nextTick(o,this,f)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(f||null,function(m){!c&&m?u._writableState?u._writableState.errorEmitted?Fe.default.nextTick(n,u):(u._writableState.errorEmitted=!0,Fe.default.nextTick(i,u,m)):Fe.default.nextTick(i,u,m):c?(Fe.default.nextTick(n,u),c(m)):Fe.default.nextTick(n,u)}),this)}function i(f,c){o(f,c),n(f)}function n(f){f._writableState&&!f._writableState.emitClose||f._readableState&&!f._readableState.emitClose||f.emit("close")}function s(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(f,c){f.emit("error",c)}function a(f,c){var u=f._readableState,l=f._writableState;u&&u.autoDestroy||l&&l.autoDestroy?f.destroy(c):f.emit("error",c)}e.exports={destroy:r,undestroy:s,errorOrDestroy:a}}),tv=he((t,e)=>{"use strict";ee();function r(c,u){c.prototype=Object.create(u.prototype),c.prototype.constructor=c,c.__proto__=u}var i={};function n(c,u,l){l||(l=Error);function y(g,E,x){return typeof u=="string"?u:u(g,E,x)}var m=function(g){r(E,g);function E(x,T,M){return g.call(this,y(x,T,M))||this}return E}(l);m.prototype.name=l.name,m.prototype.code=c,i[c]=m}function s(c,u){if(Array.isArray(c)){var l=c.length;return c=c.map(function(y){return String(y)}),l>2?"one of ".concat(u," ").concat(c.slice(0,l-1).join(", "),", or ")+c[l-1]:l===2?"one of ".concat(u," ").concat(c[0]," or ").concat(c[1]):"of ".concat(u," ").concat(c[0])}else return"of ".concat(u," ").concat(String(c))}function o(c,u,l){return c.substr(!l||l<0?0:+l,u.length)===u}function a(c,u,l){return(l===void 0||l>c.length)&&(l=c.length),c.substring(l-u.length,l)===u}function f(c,u,l){return typeof l!="number"&&(l=0),l+u.length>c.length?!1:c.indexOf(u,l)!==-1}n("ERR_INVALID_OPT_VALUE",function(c,u){return'The value "'+u+'" is invalid for option "'+c+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(c,u,l){var y;typeof u=="string"&&o(u,"not ")?(y="must not be",u=u.replace(/^not /,"")):y="must be";var m;if(a(c," argument"))m="The ".concat(c," ").concat(y," ").concat(s(u,"type"));else{var g=f(c,".")?"property":"argument";m='The "'.concat(c,'" ').concat(g," ").concat(y," ").concat(s(u,"type"))}return m+=". Received type ".concat(typeof l),m},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=i}),mde=he((t,e)=>{"use strict";ee();var r=tv().codes.ERR_INVALID_OPT_VALUE;function i(s,o,a){return s.highWaterMark!=null?s.highWaterMark:o?s[a]:null}function n(s,o,a,f){var c=i(o,f,a);if(c!=null){if(!(isFinite(c)&&Math.floor(c)===c)||c<0){var u=f?a:"highWaterMark";throw new r(u,c)}return Math.floor(c)}return s.objectMode?16:16*1024}e.exports={getHighWaterMark:n}}),gde=he((t,e)=>{"use strict";ee(),e.exports=L;function r(H){var Z=this;this.next=null,this.entry=null,this.finish=function(){ne(Z,H)}}var i;L.WritableState=U;var n={deprecate:wj()},s=pde(),o=ji().Buffer,a=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function f(H){return o.from(H)}function c(H){return o.isBuffer(H)||H instanceof a}var u=yde(),l=mde(),y=l.getHighWaterMark,m=tv().codes,g=m.ERR_INVALID_ARG_TYPE,E=m.ERR_METHOD_NOT_IMPLEMENTED,x=m.ERR_MULTIPLE_CALLBACK,T=m.ERR_STREAM_CANNOT_PIPE,M=m.ERR_STREAM_DESTROYED,I=m.ERR_STREAM_NULL_VALUES,R=m.ERR_STREAM_WRITE_AFTER_END,O=m.ERR_UNKNOWN_ENCODING,B=u.errorOrDestroy;rr()(L,s);function C(){}function U(H,Z,ie){i=i||jb(),H=H||{},typeof ie!="boolean"&&(ie=Z instanceof i),this.objectMode=!!H.objectMode,ie&&(this.objectMode=this.objectMode||!!H.writableObjectMode),this.highWaterMark=y(this,H,"writableHighWaterMark",ie),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var fe=H.decodeStrings===!1;this.decodeStrings=!fe,this.defaultEncoding=H.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ue){v(Z,ue)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=H.emitClose!==!1,this.autoDestroy=!!H.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}U.prototype.getBuffer=function(){for(var H=this.bufferedRequest,Z=[];H;)Z.push(H),H=H.next;return Z},function(){try{Object.defineProperty(U.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var W;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(W=Function.prototype[Symbol.hasInstance],Object.defineProperty(L,Symbol.hasInstance,{value:function(H){return W.call(this,H)?!0:this!==L?!1:H&&H._writableState instanceof U}})):W=function(H){return H instanceof this};function L(H){i=i||jb();var Z=this instanceof i;if(!Z&&!W.call(L,this))return new L(H);this._writableState=new U(H,this,Z),this.writable=!0,H&&(typeof H.write=="function"&&(this._write=H.write),typeof H.writev=="function"&&(this._writev=H.writev),typeof H.destroy=="function"&&(this._destroy=H.destroy),typeof H.final=="function"&&(this._final=H.final)),s.call(this)}L.prototype.pipe=function(){B(this,new T)};function j(H,Z){var ie=new R;B(H,ie),Fe.default.nextTick(Z,ie)}function k(H,Z,ie,fe){var ue;return ie===null?ue=new I:typeof ie!="string"&&!Z.objectMode&&(ue=new g("chunk",["string","Buffer"],ie)),ue?(B(H,ue),Fe.default.nextTick(fe,ue),!1):!0}L.prototype.write=function(H,Z,ie){var fe=this._writableState,ue=!1,ye=!fe.objectMode&&c(H);return ye&&!o.isBuffer(H)&&(H=f(H)),typeof Z=="function"&&(ie=Z,Z=null),ye?Z="buffer":Z||(Z=fe.defaultEncoding),typeof ie!="function"&&(ie=C),fe.ending?j(this,ie):(ye||k(this,fe,H,ie))&&(fe.pendingcb++,ue=p(this,fe,ye,H,Z,ie)),ue},L.prototype.cork=function(){this._writableState.corked++},L.prototype.uncork=function(){var H=this._writableState;H.corked&&(H.corked--,!H.writing&&!H.corked&&!H.bufferProcessing&&H.bufferedRequest&&D(this,H))},L.prototype.setDefaultEncoding=function(H){if(typeof H=="string"&&(H=H.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((H+"").toLowerCase())>-1))throw new O(H);return this._writableState.defaultEncoding=H,this},Object.defineProperty(L.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function P(H,Z,ie){return!H.objectMode&&H.decodeStrings!==!1&&typeof Z=="string"&&(Z=o.from(Z,ie)),Z}Object.defineProperty(L.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function p(H,Z,ie,fe,ue,ye){if(!ie){var $=P(Z,fe,ue);fe!==$&&(ie=!0,ue="buffer",fe=$)}var q=Z.objectMode?1:fe.length;Z.length+=q;var z=Z.length<Z.highWaterMark;if(z||(Z.needDrain=!0),Z.writing||Z.corked){var Y=Z.lastBufferedRequest;Z.lastBufferedRequest={chunk:fe,encoding:ue,isBuf:ie,callback:ye,next:null},Y?Y.next=Z.lastBufferedRequest:Z.bufferedRequest=Z.lastBufferedRequest,Z.bufferedRequestCount+=1}else d(H,Z,!1,q,fe,ue,ye);return z}function d(H,Z,ie,fe,ue,ye,$){Z.writelen=fe,Z.writecb=$,Z.writing=!0,Z.sync=!0,Z.destroyed?Z.onwrite(new M("write")):ie?H._writev(ue,Z.onwrite):H._write(ue,ye,Z.onwrite),Z.sync=!1}function h(H,Z,ie,fe,ue){--Z.pendingcb,ie?(Fe.default.nextTick(ue,fe),Fe.default.nextTick(G,H,Z),H._writableState.errorEmitted=!0,B(H,fe)):(ue(fe),H._writableState.errorEmitted=!0,B(H,fe),G(H,Z))}function b(H){H.writing=!1,H.writecb=null,H.length-=H.writelen,H.writelen=0}function v(H,Z){var ie=H._writableState,fe=ie.sync,ue=ie.writecb;if(typeof ue!="function")throw new x;if(b(ie),Z)h(H,ie,fe,Z,ue);else{var ye=S(ie)||H.destroyed;!ye&&!ie.corked&&!ie.bufferProcessing&&ie.bufferedRequest&&D(H,ie),fe?Fe.default.nextTick(w,H,ie,ye,ue):w(H,ie,ye,ue)}}function w(H,Z,ie,fe){ie||_(H,Z),Z.pendingcb--,fe(),G(H,Z)}function _(H,Z){Z.length===0&&Z.needDrain&&(Z.needDrain=!1,H.emit("drain"))}function D(H,Z){Z.bufferProcessing=!0;var ie=Z.bufferedRequest;if(H._writev&&ie&&ie.next){var fe=Z.bufferedRequestCount,ue=new Array(fe),ye=Z.corkedRequestsFree;ye.entry=ie;for(var $=0,q=!0;ie;)ue[$]=ie,ie.isBuf||(q=!1),ie=ie.next,$+=1;ue.allBuffers=q,d(H,Z,!0,Z.length,ue,"",ye.finish),Z.pendingcb++,Z.lastBufferedRequest=null,ye.next?(Z.corkedRequestsFree=ye.next,ye.next=null):Z.corkedRequestsFree=new r(Z),Z.bufferedRequestCount=0}else{for(;ie;){var z=ie.chunk,Y=ie.encoding,X=ie.callback,re=Z.objectMode?1:z.length;if(d(H,Z,!1,re,z,Y,X),ie=ie.next,Z.bufferedRequestCount--,Z.writing)break}ie===null&&(Z.lastBufferedRequest=null)}Z.bufferedRequest=ie,Z.bufferProcessing=!1}L.prototype._write=function(H,Z,ie){ie(new E("_write()"))},L.prototype._writev=null,L.prototype.end=function(H,Z,ie){var fe=this._writableState;return typeof H=="function"?(ie=H,H=null,Z=null):typeof Z=="function"&&(ie=Z,Z=null),H!=null&&this.write(H,Z),fe.corked&&(fe.corked=1,this.uncork()),fe.ending||Q(this,fe,ie),this},Object.defineProperty(L.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function S(H){return H.ending&&H.length===0&&H.bufferedRequest===null&&!H.finished&&!H.writing}function A(H,Z){H._final(function(ie){Z.pendingcb--,ie&&B(H,ie),Z.prefinished=!0,H.emit("prefinish"),G(H,Z)})}function N(H,Z){!Z.prefinished&&!Z.finalCalled&&(typeof H._final=="function"&&!Z.destroyed?(Z.pendingcb++,Z.finalCalled=!0,Fe.default.nextTick(A,H,Z)):(Z.prefinished=!0,H.emit("prefinish")))}function G(H,Z){var ie=S(Z);if(ie&&(N(H,Z),Z.pendingcb===0&&(Z.finished=!0,H.emit("finish"),Z.autoDestroy))){var fe=H._readableState;(!fe||fe.autoDestroy&&fe.endEmitted)&&H.destroy()}return ie}function Q(H,Z,ie){Z.ending=!0,G(H,Z),ie&&(Z.finished?Fe.default.nextTick(ie):H.once("finish",ie)),Z.ended=!0,H.writable=!1}function ne(H,Z,ie){var fe=H.entry;for(H.entry=null;fe;){var ue=fe.callback;Z.pendingcb--,ue(ie),fe=fe.next}Z.corkedRequestsFree.next=H}Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(H){this._writableState&&(this._writableState.destroyed=H)}}),L.prototype.destroy=u.destroy,L.prototype._undestroy=u.undestroy,L.prototype._destroy=function(H,Z){Z(H)}}),jb=he((t,e)=>{"use strict";ee();var r=Object.keys||function(l){var y=[];for(var m in l)y.push(m);return y};e.exports=f;var i=bde(),n=gde();for(rr()(f,i),s=r(n.prototype),a=0;a<s.length;a++)o=s[a],f.prototype[o]||(f.prototype[o]=n.prototype[o]);var s,o,a;function f(l){if(!(this instanceof f))return new f(l);i.call(this,l),n.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",c)))}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function c(){this._writableState.ended||Fe.default.nextTick(u,this)}function u(l){l.end()}Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}})}),Aj=he((t,e)=>{"use strict";ee();var r=tv().codes.ERR_STREAM_PREMATURE_CLOSE;function i(a){var f=!1;return function(){if(!f){f=!0;for(var c=arguments.length,u=new Array(c),l=0;l<c;l++)u[l]=arguments[l];a.apply(this,u)}}}function n(){}function s(a){return a.setHeader&&typeof a.abort=="function"}function o(a,f,c){if(typeof f=="function")return o(a,null,f);f||(f={}),c=i(c||n);var u=f.readable||f.readable!==!1&&a.readable,l=f.writable||f.writable!==!1&&a.writable,y=function(){a.writable||g()},m=a._writableState&&a._writableState.finished,g=function(){l=!1,m=!0,u||c.call(a)},E=a._readableState&&a._readableState.endEmitted,x=function(){u=!1,E=!0,l||c.call(a)},T=function(R){c.call(a,R)},M=function(){var R;if(u&&!E)return(!a._readableState||!a._readableState.ended)&&(R=new r),c.call(a,R);if(l&&!m)return(!a._writableState||!a._writableState.ended)&&(R=new r),c.call(a,R)},I=function(){a.req.on("finish",g)};return s(a)?(a.on("complete",g),a.on("abort",M),a.req?I():a.on("request",I)):l&&!a._writableState&&(a.on("end",y),a.on("close",y)),a.on("end",x),a.on("finish",g),f.error!==!1&&a.on("error",T),a.on("close",M),function(){a.removeListener("complete",g),a.removeListener("abort",M),a.removeListener("request",I),a.req&&a.req.removeListener("finish",g),a.removeListener("end",y),a.removeListener("close",y),a.removeListener("finish",g),a.removeListener("end",x),a.removeListener("error",T),a.removeListener("close",M)}}e.exports=o}),fNe=he((t,e)=>{"use strict";ee();var r;function i(O,B,C){return B=n(B),B in O?Object.defineProperty(O,B,{value:C,enumerable:!0,configurable:!0,writable:!0}):O[B]=C,O}function n(O){var B=s(O,"string");return typeof B=="symbol"?B:String(B)}function s(O,B){if(typeof O!="object"||O===null)return O;var C=O[Symbol.toPrimitive];if(C!==void 0){var U=C.call(O,B||"default");if(typeof U!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return(B==="string"?String:Number)(O)}var o=Aj(),a=Symbol("lastResolve"),f=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),y=Symbol("handlePromise"),m=Symbol("stream");function g(O,B){return{value:O,done:B}}function E(O){var B=O[a];if(B!==null){var C=O[m].read();C!==null&&(O[l]=null,O[a]=null,O[f]=null,B(g(C,!1)))}}function x(O){Fe.default.nextTick(E,O)}function T(O,B){return function(C,U){O.then(function(){if(B[u]){C(g(void 0,!0));return}B[y](C,U)},U)}}var M=Object.getPrototypeOf(function(){}),I=Object.setPrototypeOf((r={get stream(){return this[m]},next:function(){var O=this,B=this[c];if(B!==null)return Promise.reject(B);if(this[u])return Promise.resolve(g(void 0,!0));if(this[m].destroyed)return new Promise(function(L,j){Fe.default.nextTick(function(){O[c]?j(O[c]):L(g(void 0,!0))})});var C=this[l],U;if(C)U=new Promise(T(C,this));else{var W=this[m].read();if(W!==null)return Promise.resolve(g(W,!1));U=new Promise(this[y])}return this[l]=U,U}},i(r,Symbol.asyncIterator,function(){return this}),i(r,"return",function(){var O=this;return new Promise(function(B,C){O[m].destroy(null,function(U){if(U){C(U);return}B(g(void 0,!0))})})}),r),M),R=function(O){var B,C=Object.create(I,(B={},i(B,m,{value:O,writable:!0}),i(B,a,{value:null,writable:!0}),i(B,f,{value:null,writable:!0}),i(B,c,{value:null,writable:!0}),i(B,u,{value:O._readableState.endEmitted,writable:!0}),i(B,y,{value:function(U,W){var L=C[m].read();L?(C[l]=null,C[a]=null,C[f]=null,U(g(L,!1))):(C[a]=U,C[f]=W)},writable:!0}),B));return C[l]=null,o(O,function(U){if(U&&U.code!=="ERR_STREAM_PREMATURE_CLOSE"){var W=C[f];W!==null&&(C[l]=null,C[a]=null,C[f]=null,W(U)),C[c]=U;return}var L=C[a];L!==null&&(C[l]=null,C[a]=null,C[f]=null,L(g(void 0,!0))),C[u]=!0}),O.on("readable",x.bind(null,C)),C};e.exports=R}),uNe=he((t,e)=>{ee(),e.exports=function(){throw new Error("Readable.from is not available in the browser")}}),bde=he((t,e)=>{"use strict";ee(),e.exports=k;var r;k.ReadableState=j;var i=nc().EventEmitter,n=function($,q){return $.listeners(q).length},s=pde(),o=ji().Buffer,a=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function f($){return o.from($)}function c($){return o.isBuffer($)||$ instanceof a}var u=Xb(),l;u&&u.debuglog?l=u.debuglog("stream"):l=function(){};var y=aNe(),m=yde(),g=mde(),E=g.getHighWaterMark,x=tv().codes,T=x.ERR_INVALID_ARG_TYPE,M=x.ERR_STREAM_PUSH_AFTER_EOF,I=x.ERR_METHOD_NOT_IMPLEMENTED,R=x.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,O,B,C;rr()(k,s);var U=m.errorOrDestroy,W=["error","close","destroy","pause","resume"];function L($,q,z){if(typeof $.prependListener=="function")return $.prependListener(q,z);!$._events||!$._events[q]?$.on(q,z):Array.isArray($._events[q])?$._events[q].unshift(z):$._events[q]=[z,$._events[q]]}function j($,q,z){r=r||jb(),$=$||{},typeof z!="boolean"&&(z=q instanceof r),this.objectMode=!!$.objectMode,z&&(this.objectMode=this.objectMode||!!$.readableObjectMode),this.highWaterMark=E(this,$,"readableHighWaterMark",z),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=$.emitClose!==!1,this.autoDestroy=!!$.autoDestroy,this.destroyed=!1,this.defaultEncoding=$.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,$.encoding&&(O||(O=Rp().StringDecoder),this.decoder=new O($.encoding),this.encoding=$.encoding)}function k($){if(r=r||jb(),!(this instanceof k))return new k($);var q=this instanceof r;this._readableState=new j($,this,q),this.readable=!0,$&&(typeof $.read=="function"&&(this._read=$.read),typeof $.destroy=="function"&&(this._destroy=$.destroy)),s.call(this)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function($){this._readableState&&(this._readableState.destroyed=$)}}),k.prototype.destroy=m.destroy,k.prototype._undestroy=m.undestroy,k.prototype._destroy=function($,q){q($)},k.prototype.push=function($,q){var z=this._readableState,Y;return z.objectMode?Y=!0:typeof $=="string"&&(q=q||z.defaultEncoding,q!==z.encoding&&($=o.from($,q),q=""),Y=!0),P(this,$,q,!1,Y)},k.prototype.unshift=function($){return P(this,$,null,!0,!1)};function P($,q,z,Y,X){l("readableAddChunk",q);var re=$._readableState;if(q===null)re.reading=!1,w($,re);else{var le;if(X||(le=d(re,q)),le)U($,le);else if(re.objectMode||q&&q.length>0)if(typeof q!="string"&&!re.objectMode&&Object.getPrototypeOf(q)!==o.prototype&&(q=f(q)),Y)re.endEmitted?U($,new R):p($,re,q,!0);else if(re.ended)U($,new M);else{if(re.destroyed)return!1;re.reading=!1,re.decoder&&!z?(q=re.decoder.write(q),re.objectMode||q.length!==0?p($,re,q,!1):S($,re)):p($,re,q,!1)}else Y||(re.reading=!1,S($,re))}return!re.ended&&(re.length<re.highWaterMark||re.length===0)}function p($,q,z,Y){q.flowing&&q.length===0&&!q.sync?(q.awaitDrain=0,$.emit("data",z)):(q.length+=q.objectMode?1:z.length,Y?q.buffer.unshift(z):q.buffer.push(z),q.needReadable&&_($)),S($,q)}function d($,q){var z;return!c(q)&&typeof q!="string"&&q!==void 0&&!$.objectMode&&(z=new T("chunk",["string","Buffer","Uint8Array"],q)),z}k.prototype.isPaused=function(){return this._readableState.flowing===!1},k.prototype.setEncoding=function($){O||(O=Rp().StringDecoder);var q=new O($);this._readableState.decoder=q,this._readableState.encoding=this._readableState.decoder.encoding;for(var z=this._readableState.buffer.head,Y="";z!==null;)Y+=q.write(z.data),z=z.next;return this._readableState.buffer.clear(),Y!==""&&this._readableState.buffer.push(Y),this._readableState.length=Y.length,this};var h=1073741824;function b($){return $>=h?$=h:($--,$|=$>>>1,$|=$>>>2,$|=$>>>4,$|=$>>>8,$|=$>>>16,$++),$}function v($,q){return $<=0||q.length===0&&q.ended?0:q.objectMode?1:$!==$?q.flowing&&q.length?q.buffer.head.data.length:q.length:($>q.highWaterMark&&(q.highWaterMark=b($)),$<=q.length?$:q.ended?q.length:(q.needReadable=!0,0))}k.prototype.read=function($){l("read",$),$=parseInt($,10);var q=this._readableState,z=$;if($!==0&&(q.emittedReadable=!1),$===0&&q.needReadable&&((q.highWaterMark!==0?q.length>=q.highWaterMark:q.length>0)||q.ended))return l("read: emitReadable",q.length,q.ended),q.length===0&&q.ended?fe(this):_(this),null;if($=v($,q),$===0&&q.ended)return q.length===0&&fe(this),null;var Y=q.needReadable;l("need readable",Y),(q.length===0||q.length-$<q.highWaterMark)&&(Y=!0,l("length less than watermark",Y)),q.ended||q.reading?(Y=!1,l("reading or ended",Y)):Y&&(l("do read"),q.reading=!0,q.sync=!0,q.length===0&&(q.needReadable=!0),this._read(q.highWaterMark),q.sync=!1,q.reading||($=v(z,q)));var X;return $>0?X=ie($,q):X=null,X===null?(q.needReadable=q.length<=q.highWaterMark,$=0):(q.length-=$,q.awaitDrain=0),q.length===0&&(q.ended||(q.needReadable=!0),z!==$&&q.ended&&fe(this)),X!==null&&this.emit("data",X),X};function w($,q){if(l("onEofChunk"),!q.ended){if(q.decoder){var z=q.decoder.end();z&&z.length&&(q.buffer.push(z),q.length+=q.objectMode?1:z.length)}q.ended=!0,q.sync?_($):(q.needReadable=!1,q.emittedReadable||(q.emittedReadable=!0,D($)))}}function _($){var q=$._readableState;l("emitReadable",q.needReadable,q.emittedReadable),q.needReadable=!1,q.emittedReadable||(l("emitReadable",q.flowing),q.emittedReadable=!0,Fe.default.nextTick(D,$))}function D($){var q=$._readableState;l("emitReadable_",q.destroyed,q.length,q.ended),!q.destroyed&&(q.length||q.ended)&&($.emit("readable"),q.emittedReadable=!1),q.needReadable=!q.flowing&&!q.ended&&q.length<=q.highWaterMark,Z($)}function S($,q){q.readingMore||(q.readingMore=!0,Fe.default.nextTick(A,$,q))}function A($,q){for(;!q.reading&&!q.ended&&(q.length<q.highWaterMark||q.flowing&&q.length===0);){var z=q.length;if(l("maybeReadMore read 0"),$.read(0),z===q.length)break}q.readingMore=!1}k.prototype._read=function($){U(this,new I("_read()"))},k.prototype.pipe=function($,q){var z=this,Y=this._readableState;switch(Y.pipesCount){case 0:Y.pipes=$;break;case 1:Y.pipes=[Y.pipes,$];break;default:Y.pipes.push($);break}Y.pipesCount+=1,l("pipe count=%d opts=%j",Y.pipesCount,q);var X=(!q||q.end!==!1)&&$!==Fe.default.stdout&&$!==Fe.default.stderr,re=X?pe:ge;Y.endEmitted?Fe.default.nextTick(re):z.once("end",re),$.on("unpipe",le);function le(me,Ee){l("onunpipe"),me===z&&Ee&&Ee.hasUnpiped===!1&&(Ee.hasUnpiped=!0,be())}function pe(){l("onend"),$.end()}var _e=N(z);$.on("drain",_e);var xe=!1;function be(){l("cleanup"),$.removeListener("close",oe),$.removeListener("finish",ce),$.removeListener("drain",_e),$.removeListener("error",Le),$.removeListener("unpipe",le),z.removeListener("end",pe),z.removeListener("end",ge),z.removeListener("data",Me),xe=!0,Y.awaitDrain&&(!$._writableState||$._writableState.needDrain)&&_e()}z.on("data",Me);function Me(me){l("ondata");var Ee=$.write(me);l("dest.write",Ee),Ee===!1&&((Y.pipesCount===1&&Y.pipes===$||Y.pipesCount>1&&ye(Y.pipes,$)!==-1)&&!xe&&(l("false write response, pause",Y.awaitDrain),Y.awaitDrain++),z.pause())}function Le(me){l("onerror",me),ge(),$.removeListener("error",Le),n($,"error")===0&&U($,me)}L($,"error",Le);function oe(){$.removeListener("finish",ce),ge()}$.once("close",oe);function ce(){l("onfinish"),$.removeListener("close",oe),ge()}$.once("finish",ce);function ge(){l("unpipe"),z.unpipe($)}return $.emit("pipe",z),Y.flowing||(l("pipe resume"),z.resume()),$};function N($){return function(){var q=$._readableState;l("pipeOnDrain",q.awaitDrain),q.awaitDrain&&q.awaitDrain--,q.awaitDrain===0&&n($,"data")&&(q.flowing=!0,Z($))}}k.prototype.unpipe=function($){var q=this._readableState,z={hasUnpiped:!1};if(q.pipesCount===0)return this;if(q.pipesCount===1)return $&&$!==q.pipes?this:($||($=q.pipes),q.pipes=null,q.pipesCount=0,q.flowing=!1,$&&$.emit("unpipe",this,z),this);if(!$){var Y=q.pipes,X=q.pipesCount;q.pipes=null,q.pipesCount=0,q.flowing=!1;for(var re=0;re<X;re++)Y[re].emit("unpipe",this,{hasUnpiped:!1});return this}var le=ye(q.pipes,$);return le===-1?this:(q.pipes.splice(le,1),q.pipesCount-=1,q.pipesCount===1&&(q.pipes=q.pipes[0]),$.emit("unpipe",this,z),this)},k.prototype.on=function($,q){var z=s.prototype.on.call(this,$,q),Y=this._readableState;return $==="data"?(Y.readableListening=this.listenerCount("readable")>0,Y.flowing!==!1&&this.resume()):$==="readable"&&!Y.endEmitted&&!Y.readableListening&&(Y.readableListening=Y.needReadable=!0,Y.flowing=!1,Y.emittedReadable=!1,l("on readable",Y.length,Y.reading),Y.length?_(this):Y.reading||Fe.default.nextTick(Q,this)),z},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function($,q){var z=s.prototype.removeListener.call(this,$,q);return $==="readable"&&Fe.default.nextTick(G,this),z},k.prototype.removeAllListeners=function($){var q=s.prototype.removeAllListeners.apply(this,arguments);return($==="readable"||$===void 0)&&Fe.default.nextTick(G,this),q};function G($){var q=$._readableState;q.readableListening=$.listenerCount("readable")>0,q.resumeScheduled&&!q.paused?q.flowing=!0:$.listenerCount("data")>0&&$.resume()}function Q($){l("readable nexttick read 0"),$.read(0)}k.prototype.resume=function(){var $=this._readableState;return $.flowing||(l("resume"),$.flowing=!$.readableListening,ne(this,$)),$.paused=!1,this};function ne($,q){q.resumeScheduled||(q.resumeScheduled=!0,Fe.default.nextTick(H,$,q))}function H($,q){l("resume",q.reading),q.reading||$.read(0),q.resumeScheduled=!1,$.emit("resume"),Z($),q.flowing&&!q.reading&&$.read(0)}k.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Z($){var q=$._readableState;for(l("flow",q.flowing);q.flowing&&$.read()!==null;);}k.prototype.wrap=function($){var q=this,z=this._readableState,Y=!1;$.on("end",function(){if(l("wrapped end"),z.decoder&&!z.ended){var le=z.decoder.end();le&&le.length&&q.push(le)}q.push(null)}),$.on("data",function(le){if(l("wrapped data"),z.decoder&&(le=z.decoder.write(le)),!(z.objectMode&&le==null)&&!(!z.objectMode&&(!le||!le.length))){var pe=q.push(le);pe||(Y=!0,$.pause())}});for(var X in $)this[X]===void 0&&typeof $[X]=="function"&&(this[X]=function(le){return function(){return $[le].apply($,arguments)}}(X));for(var re=0;re<W.length;re++)$.on(W[re],this.emit.bind(this,W[re]));return this._read=function(le){l("wrapped _read",le),Y&&(Y=!1,$.resume())},this},typeof Symbol=="function"&&(k.prototype[Symbol.asyncIterator]=function(){return B===void 0&&(B=fNe()),B(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function($){this._readableState&&(this._readableState.flowing=$)}}),k._fromList=ie,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ie($,q){if(q.length===0)return null;var z;return q.objectMode?z=q.buffer.shift():!$||$>=q.length?(q.decoder?z=q.buffer.join(""):q.buffer.length===1?z=q.buffer.first():z=q.buffer.concat(q.length),q.buffer.clear()):z=q.buffer.consume($,q.decoder),z}function fe($){var q=$._readableState;l("endReadable",q.endEmitted),q.endEmitted||(q.ended=!0,Fe.default.nextTick(ue,q,$))}function ue($,q){if(l("endReadableNT",$.endEmitted,$.length),!$.endEmitted&&$.length===0&&($.endEmitted=!0,q.readable=!1,q.emit("end"),$.autoDestroy)){var z=q._writableState;(!z||z.autoDestroy&&z.finished)&&q.destroy()}}typeof Symbol=="function"&&(k.from=function($,q){return C===void 0&&(C=uNe()),C(k,$,q)});function ye($,q){for(var z=0,Y=$.length;z<Y;z++)if($[z]===q)return z;return-1}}),vde=he((t,e)=>{"use strict";ee(),e.exports=c;var r=tv().codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,n=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=r.ERR_TRANSFORM_WITH_LENGTH_0,a=jb();rr()(c,a);function f(y,m){var g=this._transformState;g.transforming=!1;var E=g.writecb;if(E===null)return this.emit("error",new n);g.writechunk=null,g.writecb=null,m!=null&&this.push(m),E(y);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function c(y){if(!(this instanceof c))return new c(y);a.call(this,y),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",u)}function u(){var y=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(m,g){l(y,m,g)}):l(this,null,null)}c.prototype.push=function(y,m){return this._transformState.needTransform=!1,a.prototype.push.call(this,y,m)},c.prototype._transform=function(y,m,g){g(new i("_transform()"))},c.prototype._write=function(y,m,g){var E=this._transformState;if(E.writecb=g,E.writechunk=y,E.writeencoding=m,!E.transforming){var x=this._readableState;(E.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},c.prototype._read=function(y){var m=this._transformState;m.writechunk!==null&&!m.transforming?(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform)):m.needTransform=!0},c.prototype._destroy=function(y,m){a.prototype._destroy.call(this,y,function(g){m(g)})};function l(y,m,g){if(m)return y.emit("error",m);if(g!=null&&y.push(g),y._writableState.length)throw new o;if(y._transformState.transforming)throw new s;return y.push(null)}}),cNe=he((t,e)=>{"use strict";ee(),e.exports=i;var r=vde();rr()(i,r);function i(n){if(!(this instanceof i))return new i(n);r.call(this,n)}i.prototype._transform=function(n,s,o){o(null,n)}}),lNe=he((t,e)=>{"use strict";ee();var r;function i(g){var E=!1;return function(){E||(E=!0,g.apply(void 0,arguments))}}var n=tv().codes,s=n.ERR_MISSING_ARGS,o=n.ERR_STREAM_DESTROYED;function a(g){if(g)throw g}function f(g){return g.setHeader&&typeof g.abort=="function"}function c(g,E,x,T){T=i(T);var M=!1;g.on("close",function(){M=!0}),r===void 0&&(r=Aj()),r(g,{readable:E,writable:x},function(R){if(R)return T(R);M=!0,T()});var I=!1;return function(R){if(!M&&!I){if(I=!0,f(g))return g.abort();if(typeof g.destroy=="function")return g.destroy();T(R||new o("pipe"))}}}function u(g){g()}function l(g,E){return g.pipe(E)}function y(g){return!g.length||typeof g[g.length-1]!="function"?a:g.pop()}function m(){for(var g=arguments.length,E=new Array(g),x=0;x<g;x++)E[x]=arguments[x];var T=y(E);if(Array.isArray(E[0])&&(E=E[0]),E.length<2)throw new s("streams");var M,I=E.map(function(R,O){var B=O<E.length-1,C=O>0;return c(R,B,C,function(U){M||(M=U),U&&I.forEach(u),!B&&(I.forEach(u),T(M))})});return E.reduce(l)}e.exports=m}),dNe=he((t,e)=>{ee(),e.exports=n;var r=nc().EventEmitter,i=rr();i(n,r),n.Readable=bde(),n.Writable=gde(),n.Duplex=jb(),n.Transform=vde(),n.PassThrough=cNe(),n.finished=Aj(),n.pipeline=lNe(),n.Stream=n;function n(){r.call(this)}n.prototype.pipe=function(s,o){var a=this;function f(E){s.writable&&s.write(E)===!1&&a.pause&&a.pause()}a.on("data",f);function c(){a.readable&&a.resume&&a.resume()}s.on("drain",c),!s._isStdio&&(!o||o.end!==!1)&&(a.on("end",l),a.on("close",y));var u=!1;function l(){u||(u=!0,s.end())}function y(){u||(u=!0,typeof s.destroy=="function"&&s.destroy())}function m(E){if(g(),r.listenerCount(this,"error")===0)throw E}a.on("error",m),s.on("error",m);function g(){a.removeListener("data",f),s.removeListener("drain",c),a.removeListener("end",l),a.removeListener("close",y),a.removeListener("error",m),s.removeListener("error",m),a.removeListener("end",g),a.removeListener("close",g),s.removeListener("close",g)}return a.on("end",g),a.on("close",g),s.on("close",g),s.emit("pipe",a),s}}),Hp=he((t,e)=>{ee();var r=si().Buffer,i=dNe().Transform,n=Rp().StringDecoder,s=rr();function o(a){i.call(this),this.hashMode=typeof a=="string",this.hashMode?this[a]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}s(o,i),o.prototype.update=function(a,f,c){typeof a=="string"&&(a=r.from(a,f));var u=this._update(a);return this.hashMode?this:(c&&(u=this._toString(u,c)),u)},o.prototype.setAutoPadding=function(){},o.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},o.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},o.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},o.prototype._transform=function(a,f,c){var u;try{this.hashMode?this._update(a):this.push(this._update(a))}catch(l){u=l}finally{c(u)}},o.prototype._flush=function(a){var f;try{this.push(this.__final())}catch(c){f=c}a(f)},o.prototype._finalOrDigest=function(a){var f=this.__final()||r.alloc(0);return a&&(f=this._toString(f,a,!0)),f},o.prototype._toString=function(a,f,c){if(this._decoder||(this._decoder=new n(f),this._encoding=f),this._encoding!==f)throw new Error("can't switch encodings");var u=this._decoder.write(a);return c&&(u+=this._decoder.end()),u},e.exports=o}),T_=he((t,e)=>{"use strict";ee();var r=rr(),i=Ej(),n=Sj(),s=xj(),o=Hp();function a(f){o.call(this,"digest"),this._hash=f}r(a,o),a.prototype._update=function(f){this._hash.update(f)},a.prototype._final=function(){return this._hash.digest()},e.exports=function(f){return f=f.toLowerCase(),f==="md5"?new i:f==="rmd160"||f==="ripemd160"?new n:new a(s(f))}}),hNe=he((t,e)=>{"use strict";ee();var r=rr(),i=si().Buffer,n=Hp(),s=i.alloc(128),o=64;function a(f,c){n.call(this,"digest"),typeof c=="string"&&(c=i.from(c)),this._alg=f,this._key=c,c.length>o?c=f(c):c.length<o&&(c=i.concat([c,s],o));for(var u=this._ipad=i.allocUnsafe(o),l=this._opad=i.allocUnsafe(o),y=0;y<o;y++)u[y]=c[y]^54,l[y]=c[y]^92;this._hash=[u]}r(a,n),a.prototype._update=function(f){this._hash.push(f)},a.prototype._final=function(){var f=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,f]))},e.exports=a}),wde=he((t,e)=>{ee();var r=Ej();e.exports=function(i){return new r().update(i).digest()}}),_de=he((t,e)=>{"use strict";ee();var r=rr(),i=hNe(),n=Hp(),s=si().Buffer,o=wde(),a=Sj(),f=xj(),c=s.alloc(128);function u(l,y){n.call(this,"digest"),typeof y=="string"&&(y=s.from(y));var m=l==="sha512"||l==="sha384"?128:64;if(this._alg=l,this._key=y,y.length>m){var g=l==="rmd160"?new a:f(l);y=g.update(y).digest()}else y.length<m&&(y=s.concat([y,c],m));for(var E=this._ipad=s.allocUnsafe(m),x=this._opad=s.allocUnsafe(m),T=0;T<m;T++)E[T]=y[T]^54,x[T]=y[T]^92;this._hash=l==="rmd160"?new a:f(l),this._hash.update(E)}r(u,n),u.prototype._update=function(l){this._hash.update(l)},u.prototype._final=function(){var l=this._hash.digest(),y=this._alg==="rmd160"?new a:f(this._alg);return y.update(this._opad).update(l).digest()},e.exports=function(l,y){return l=l.toLowerCase(),l==="rmd160"||l==="ripemd160"?new u("rmd160",y):l==="md5"?new i(o,y):new u(l,y)}}),Ede=he((t,e)=>{e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}}),pNe=he((t,e)=>{ee(),e.exports=Ede()}),Sde=he((t,e)=>{ee();var r=Math.pow(2,30)-1;e.exports=function(i,n){if(typeof i!="number")throw new TypeError("Iterations not a number");if(i<0)throw new TypeError("Bad iterations");if(typeof n!="number")throw new TypeError("Key length not a number");if(n<0||n>r||n!==n)throw new TypeError("Bad key length")}}),xde=he((t,e)=>{ee();var r;globalThis.process&&globalThis.process.browser?r="utf-8":globalThis.process&&globalThis.process.version?(i=parseInt(Fe.default.version.split(".")[0].slice(1),10),r=i>=6?"utf-8":"binary"):r="utf-8";var i;e.exports=r}),Ade=he((t,e)=>{ee();var r=si().Buffer;e.exports=function(i,n,s){if(r.isBuffer(i))return i;if(typeof i=="string")return r.from(i,n);if(ArrayBuffer.isView(i))return r.from(i.buffer);throw new TypeError(s+" must be a string, a Buffer, a typed array or a DataView")}}),Mde=he((t,e)=>{ee();var r=wde(),i=Sj(),n=xj(),s=si().Buffer,o=Sde(),a=xde(),f=Ade(),c=s.alloc(128),u={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function l(g,E,x){var T=y(g),M=g==="sha512"||g==="sha384"?128:64;E.length>M?E=T(E):E.length<M&&(E=s.concat([E,c],M));for(var I=s.allocUnsafe(M+u[g]),R=s.allocUnsafe(M+u[g]),O=0;O<M;O++)I[O]=E[O]^54,R[O]=E[O]^92;var B=s.allocUnsafe(M+x+4);I.copy(B,0,0,M),this.ipad1=B,this.ipad2=I,this.opad=R,this.alg=g,this.blocksize=M,this.hash=T,this.size=u[g]}l.prototype.run=function(g,E){g.copy(E,this.blocksize);var x=this.hash(E);return x.copy(this.opad,this.blocksize),this.hash(this.opad)};function y(g){function E(T){return n(g).update(T).digest()}function x(T){return new i().update(T).digest()}return g==="rmd160"||g==="ripemd160"?x:g==="md5"?r:E}function m(g,E,x,T,M){o(x,T),g=f(g,a,"Password"),E=f(E,a,"Salt"),M=M||"sha1";var I=new l(M,g,E.length),R=s.allocUnsafe(T),O=s.allocUnsafe(E.length+4);E.copy(O,0,0,E.length);for(var B=0,C=u[M],U=Math.ceil(T/C),W=1;W<=U;W++){O.writeUInt32BE(W,E.length);for(var L=I.run(O,I.ipad1),j=L,k=1;k<x;k++){j=I.run(j,I.ipad2);for(var P=0;P<C;P++)L[P]^=j[P]}L.copy(R,B),B+=C}return R}e.exports=m}),yNe=he((t,e)=>{ee();var r=si().Buffer,i=Sde(),n=xde(),s=Mde(),o=Ade(),a,f=globalThis.crypto&&globalThis.crypto.subtle,c={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},u=[];function l(x){if(globalThis.process&&!globalThis.process.browser||!f||!f.importKey||!f.deriveBits)return Promise.resolve(!1);if(u[x]!==void 0)return u[x];a=a||r.alloc(8);var T=g(a,a,10,128,x).then(function(){return!0}).catch(function(){return!1});return u[x]=T,T}var y;function m(){return y||(globalThis.process&&globalThis.process.nextTick?y=globalThis.process.nextTick:globalThis.queueMicrotask?y=globalThis.queueMicrotask:globalThis.setImmediate?y=globalThis.setImmediate:y=globalThis.setTimeout,y)}function g(x,T,M,I,R){return f.importKey("raw",x,{name:"PBKDF2"},!1,["deriveBits"]).then(function(O){return f.deriveBits({name:"PBKDF2",salt:T,iterations:M,hash:{name:R}},O,I<<3)}).then(function(O){return r.from(O)})}function E(x,T){x.then(function(M){m()(function(){T(null,M)})},function(M){m()(function(){T(M)})})}e.exports=function(x,T,M,I,R,O){typeof R=="function"&&(O=R,R=void 0),R=R||"sha1";var B=c[R.toLowerCase()];if(!B||typeof globalThis.Promise!="function"){m()(function(){var C;try{C=s(x,T,M,I,R)}catch(U){return O(U)}O(null,C)});return}if(i(M,I),x=o(x,n,"Password"),T=o(T,n,"Salt"),typeof O!="function")throw new Error("No callback provided to pbkdf2");E(l(B).then(function(C){return C?g(x,T,M,I,B):s(x,T,M,I,R)}),O)}}),kde=he(t=>{ee(),t.pbkdf2=yNe(),t.pbkdf2Sync=Mde()}),Tde=he(t=>{"use strict";ee(),t.readUInt32BE=function(n,s){var o=n[0+s]<<24|n[1+s]<<16|n[2+s]<<8|n[3+s];return o>>>0},t.writeUInt32BE=function(n,s,o){n[0+o]=s>>>24,n[1+o]=s>>>16&255,n[2+o]=s>>>8&255,n[3+o]=s&255},t.ip=function(n,s,o,a){for(var f=0,c=0,u=6;u>=0;u-=2){for(var l=0;l<=24;l+=8)f<<=1,f|=s>>>l+u&1;for(var l=0;l<=24;l+=8)f<<=1,f|=n>>>l+u&1}for(var u=6;u>=0;u-=2){for(var l=1;l<=25;l+=8)c<<=1,c|=s>>>l+u&1;for(var l=1;l<=25;l+=8)c<<=1,c|=n>>>l+u&1}o[a+0]=f>>>0,o[a+1]=c>>>0},t.rip=function(n,s,o,a){for(var f=0,c=0,u=0;u<4;u++)for(var l=24;l>=0;l-=8)f<<=1,f|=s>>>l+u&1,f<<=1,f|=n>>>l+u&1;for(var u=4;u<8;u++)for(var l=24;l>=0;l-=8)c<<=1,c|=s>>>l+u&1,c<<=1,c|=n>>>l+u&1;o[a+0]=f>>>0,o[a+1]=c>>>0},t.pc1=function(n,s,o,a){for(var f=0,c=0,u=7;u>=5;u--){for(var l=0;l<=24;l+=8)f<<=1,f|=s>>l+u&1;for(var l=0;l<=24;l+=8)f<<=1,f|=n>>l+u&1}for(var l=0;l<=24;l+=8)f<<=1,f|=s>>l+u&1;for(var u=1;u<=3;u++){for(var l=0;l<=24;l+=8)c<<=1,c|=s>>l+u&1;for(var l=0;l<=24;l+=8)c<<=1,c|=n>>l+u&1}for(var l=0;l<=24;l+=8)c<<=1,c|=n>>l+u&1;o[a+0]=f>>>0,o[a+1]=c>>>0},t.r28shl=function(n,s){return n<<s&268435455|n>>>28-s};var e=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(n,s,o,a){for(var f=0,c=0,u=e.length>>>1,l=0;l<u;l++)f<<=1,f|=n>>>e[l]&1;for(var l=u;l<e.length;l++)c<<=1,c|=s>>>e[l]&1;o[a+0]=f>>>0,o[a+1]=c>>>0},t.expand=function(n,s,o){var a=0,f=0;a=(n&1)<<5|n>>>27;for(var c=23;c>=15;c-=4)a<<=6,a|=n>>>c&63;for(var c=11;c>=3;c-=4)f|=n>>>c&63,f<<=6;f|=(n&31)<<1|n>>>31,s[o+0]=a>>>0,s[o+1]=f>>>0};var r=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(n,s){for(var o=0,a=0;a<4;a++){var f=n>>>18-a*6&63,c=r[a*64+f];o<<=4,o|=c}for(var a=0;a<4;a++){var f=s>>>18-a*6&63,c=r[4*64+a*64+f];o<<=4,o|=c}return o>>>0};var i=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(n){for(var s=0,o=0;o<i.length;o++)s<<=1,s|=n>>>i[o]&1;return s>>>0},t.padSplit=function(n,s,o){for(var a=n.toString(2);a.length<s;)a="0"+a;for(var f=[],c=0;c<s;c+=o)f.push(a.slice(c,c+o));return f.join(" ")}}),cu=he((t,e)=>{ee(),e.exports=r;function r(i,n){if(!i)throw new Error(n||"Assertion failed")}r.equal=function(i,n,s){if(i!=n)throw new Error(s||"Assertion failed: "+i+" != "+n)}}),Mj=he((t,e)=>{"use strict";ee();var r=cu();function i(n){this.options=n,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}e.exports=i,i.prototype._init=function(){},i.prototype.update=function(n){return n.length===0?[]:this.type==="decrypt"?this._updateDecrypt(n):this._updateEncrypt(n)},i.prototype._buffer=function(n,s){for(var o=Math.min(this.buffer.length-this.bufferOff,n.length-s),a=0;a<o;a++)this.buffer[this.bufferOff+a]=n[s+a];return this.bufferOff+=o,o},i.prototype._flushBuffer=function(n,s){return this._update(this.buffer,0,n,s),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(n){var s=0,o=0,a=(this.bufferOff+n.length)/this.blockSize|0,f=new Array(a*this.blockSize);this.bufferOff!==0&&(s+=this._buffer(n,s),this.bufferOff===this.buffer.length&&(o+=this._flushBuffer(f,o)));for(var c=n.length-(n.length-s)%this.blockSize;s<c;s+=this.blockSize)this._update(n,s,f,o),o+=this.blockSize;for(;s<n.length;s++,this.bufferOff++)this.buffer[this.bufferOff]=n[s];return f},i.prototype._updateDecrypt=function(n){for(var s=0,o=0,a=Math.ceil((this.bufferOff+n.length)/this.blockSize)-1,f=new Array(a*this.blockSize);a>0;a--)s+=this._buffer(n,s),o+=this._flushBuffer(f,o);return s+=this._buffer(n,s),f},i.prototype.final=function(n){var s;n&&(s=this.update(n));var o;return this.type==="encrypt"?o=this._finalEncrypt():o=this._finalDecrypt(),s?s.concat(o):o},i.prototype._pad=function(n,s){if(s===0)return!1;for(;s<n.length;)n[s++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var n=new Array(this.blockSize);return this._update(this.buffer,0,n,0),n},i.prototype._unpad=function(n){return n},i.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var n=new Array(this.blockSize);return this._flushBuffer(n,0),this._unpad(n)}}),Pde=he((t,e)=>{"use strict";ee();var r=cu(),i=rr(),n=Tde(),s=Mj();function o(){this.tmp=new Array(2),this.keys=null}function a(c){s.call(this,c);var u=new o;this._desState=u,this.deriveKeys(u,c.key)}i(a,s),e.exports=a,a.create=function(c){return new a(c)};var f=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];a.prototype.deriveKeys=function(c,u){c.keys=new Array(16*2),r.equal(u.length,this.blockSize,"Invalid key length");var l=n.readUInt32BE(u,0),y=n.readUInt32BE(u,4);n.pc1(l,y,c.tmp,0),l=c.tmp[0],y=c.tmp[1];for(var m=0;m<c.keys.length;m+=2){var g=f[m>>>1];l=n.r28shl(l,g),y=n.r28shl(y,g),n.pc2(l,y,c.keys,m)}},a.prototype._update=function(c,u,l,y){var m=this._desState,g=n.readUInt32BE(c,u),E=n.readUInt32BE(c,u+4);n.ip(g,E,m.tmp,0),g=m.tmp[0],E=m.tmp[1],this.type==="encrypt"?this._encrypt(m,g,E,m.tmp,0):this._decrypt(m,g,E,m.tmp,0),g=m.tmp[0],E=m.tmp[1],n.writeUInt32BE(l,g,y),n.writeUInt32BE(l,E,y+4)},a.prototype._pad=function(c,u){for(var l=c.length-u,y=u;y<c.length;y++)c[y]=l;return!0},a.prototype._unpad=function(c){for(var u=c[c.length-1],l=c.length-u;l<c.length;l++)r.equal(c[l],u);return c.slice(0,c.length-u)},a.prototype._encrypt=function(c,u,l,y,m){for(var g=u,E=l,x=0;x<c.keys.length;x+=2){var T=c.keys[x],M=c.keys[x+1];n.expand(E,c.tmp,0),T^=c.tmp[0],M^=c.tmp[1];var I=n.substitute(T,M),R=n.permute(I),O=E;E=(g^R)>>>0,g=O}n.rip(E,g,y,m)},a.prototype._decrypt=function(c,u,l,y,m){for(var g=l,E=u,x=c.keys.length-2;x>=0;x-=2){var T=c.keys[x],M=c.keys[x+1];n.expand(g,c.tmp,0),T^=c.tmp[0],M^=c.tmp[1];var I=n.substitute(T,M),R=n.permute(I),O=g;g=(E^R)>>>0,E=O}n.rip(g,E,y,m)}}),mNe=he(t=>{"use strict";ee();var e=cu(),r=rr(),i={};function n(o){e.equal(o.length,8,"Invalid IV length"),this.iv=new Array(8);for(var a=0;a<this.iv.length;a++)this.iv[a]=o[a]}function s(o){function a(l){o.call(this,l),this._cbcInit()}r(a,o);for(var f=Object.keys(i),c=0;c<f.length;c++){var u=f[c];a.prototype[u]=i[u]}return a.create=function(l){return new a(l)},a}t.instantiate=s,i._cbcInit=function(){var o=new n(this.options.iv);this._cbcState=o},i._update=function(o,a,f,c){var u=this._cbcState,l=this.constructor.super_.prototype,y=u.iv;if(this.type==="encrypt"){for(var m=0;m<this.blockSize;m++)y[m]^=o[a+m];l._update.call(this,y,0,f,c);for(var m=0;m<this.blockSize;m++)y[m]=f[c+m]}else{l._update.call(this,o,a,f,c);for(var m=0;m<this.blockSize;m++)f[c+m]^=y[m];for(var m=0;m<this.blockSize;m++)y[m]=o[a+m]}}}),gNe=he((t,e)=>{"use strict";ee();var r=cu(),i=rr(),n=Mj(),s=Pde();function o(f,c){r.equal(c.length,24,"Invalid key length");var u=c.slice(0,8),l=c.slice(8,16),y=c.slice(16,24);f==="encrypt"?this.ciphers=[s.create({type:"encrypt",key:u}),s.create({type:"decrypt",key:l}),s.create({type:"encrypt",key:y})]:this.ciphers=[s.create({type:"decrypt",key:y}),s.create({type:"encrypt",key:l}),s.create({type:"decrypt",key:u})]}function a(f){n.call(this,f);var c=new o(this.type,this.options.key);this._edeState=c}i(a,n),e.exports=a,a.create=function(f){return new a(f)},a.prototype._update=function(f,c,u,l){var y=this._edeState;y.ciphers[0]._update(f,c,u,l),y.ciphers[1]._update(u,l,u,l),y.ciphers[2]._update(u,l,u,l)},a.prototype._pad=s.prototype._pad,a.prototype._unpad=s.prototype._unpad}),bNe=he(t=>{"use strict";ee(),t.utils=Tde(),t.Cipher=Mj(),t.DES=Pde(),t.CBC=mNe(),t.EDE=gNe()}),vNe=he((t,e)=>{ee();var r=Hp(),i=bNe(),n=rr(),s=si().Buffer,o={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};o.des=o["des-cbc"],o.des3=o["des-ede3-cbc"],e.exports=a,n(a,r);function a(f){r.call(this);var c=f.mode.toLowerCase(),u=o[c],l;f.decrypt?l="decrypt":l="encrypt";var y=f.key;s.isBuffer(y)||(y=s.from(y)),(c==="des-ede"||c==="des-ede-cbc")&&(y=s.concat([y,y.slice(0,8)]));var m=f.iv;s.isBuffer(m)||(m=s.from(m)),this._des=u.create({key:y,iv:m,type:l})}a.prototype._update=function(f){return s.from(this._des.update(f))},a.prototype._final=function(){return s.from(this._des.final())}}),wNe=he(t=>{ee(),t.encrypt=function(e,r){return e._cipher.encryptBlock(r)},t.decrypt=function(e,r){return e._cipher.decryptBlock(r)}}),P_=he((t,e)=>{ee(),e.exports=function(r,i){for(var n=Math.min(r.length,i.length),s=new Rt.Buffer(n),o=0;o<n;++o)s[o]=r[o]^i[o];return s}}),_Ne=he(t=>{ee();var e=P_();t.encrypt=function(r,i){var n=e(i,r._prev);return r._prev=r._cipher.encryptBlock(n),r._prev},t.decrypt=function(r,i){var n=r._prev;r._prev=i;var s=r._cipher.decryptBlock(i);return e(s,n)}}),ENe=he(t=>{ee();var e=si().Buffer,r=P_();function i(n,s,o){var a=s.length,f=r(s,n._cache);return n._cache=n._cache.slice(a),n._prev=e.concat([n._prev,o?s:f]),f}t.encrypt=function(n,s,o){for(var a=e.allocUnsafe(0),f;s.length;)if(n._cache.length===0&&(n._cache=n._cipher.encryptBlock(n._prev),n._prev=e.allocUnsafe(0)),n._cache.length<=s.length)f=n._cache.length,a=e.concat([a,i(n,s.slice(0,f),o)]),s=s.slice(f);else{a=e.concat([a,i(n,s,o)]);break}return a}}),SNe=he(t=>{ee();var e=si().Buffer;function r(i,n,s){var o=i._cipher.encryptBlock(i._prev),a=o[0]^n;return i._prev=e.concat([i._prev.slice(1),e.from([s?n:a])]),a}t.encrypt=function(i,n,s){for(var o=n.length,a=e.allocUnsafe(o),f=-1;++f<o;)a[f]=r(i,n[f],s);return a}}),xNe=he(t=>{ee();var e=si().Buffer;function r(n,s,o){for(var a,f=-1,c=8,u=0,l,y;++f<c;)a=n._cipher.encryptBlock(n._prev),l=s&1<<7-f?128:0,y=a[0]^l,u+=(y&128)>>f%8,n._prev=i(n._prev,o?l:y);return u}function i(n,s){var o=n.length,a=-1,f=e.allocUnsafe(n.length);for(n=e.concat([n,e.from([s])]);++a<o;)f[a]=n[a]<<1|n[a+1]>>7;return f}t.encrypt=function(n,s,o){for(var a=s.length,f=e.allocUnsafe(a),c=-1;++c<a;)f[c]=r(n,s[c],o);return f}}),ANe=he(t=>{ee();var e=P_();function r(i){return i._prev=i._cipher.encryptBlock(i._prev),i._prev}t.encrypt=function(i,n){for(;i._cache.length<n.length;)i._cache=Rt.Buffer.concat([i._cache,r(i)]);var s=i._cache.slice(0,n.length);return i._cache=i._cache.slice(n.length),e(n,s)}}),Dde=he((t,e)=>{ee();function r(i){for(var n=i.length,s;n--;)if(s=i.readUInt8(n),s===255)i.writeUInt8(0,n);else{s++,i.writeUInt8(s,n);break}}e.exports=r}),vfe=he(t=>{ee();var e=P_(),r=si().Buffer,i=Dde();function n(o){var a=o._cipher.encryptBlockRaw(o._prev);return i(o._prev),a}var s=16;t.encrypt=function(o,a){var f=Math.ceil(a.length/s),c=o._cache.length;o._cache=r.concat([o._cache,r.allocUnsafe(f*s)]);for(var u=0;u<f;u++){var l=n(o),y=c+u*s;o._cache.writeUInt32BE(l[0],y+0),o._cache.writeUInt32BE(l[1],y+4),o._cache.writeUInt32BE(l[2],y+8),o._cache.writeUInt32BE(l[3],y+12)}var m=o._cache.slice(0,a.length);return o._cache=o._cache.slice(a.length),e(a,m)}}),Ide=he((t,e)=>{e.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}}),kj=he((t,e)=>{ee();var r={ECB:wNe(),CBC:_Ne(),CFB:ENe(),CFB8:SNe(),CFB1:xNe(),OFB:ANe(),CTR:vfe(),GCM:vfe()},i=Ide();for(n in i)i[n].module=r[i[n].mode];var n;e.exports=i}),SS=he((t,e)=>{ee();var r=si().Buffer;function i(c){r.isBuffer(c)||(c=r.from(c));for(var u=c.length/4|0,l=new Array(u),y=0;y<u;y++)l[y]=c.readUInt32BE(y*4);return l}function n(c){for(var u=0;u<c.length;c++)c[u]=0}function s(c,u,l,y,m){for(var g=l[0],E=l[1],x=l[2],T=l[3],M=c[0]^u[0],I=c[1]^u[1],R=c[2]^u[2],O=c[3]^u[3],B,C,U,W,L=4,j=1;j<m;j++)B=g[M>>>24]^E[I>>>16&255]^x[R>>>8&255]^T[O&255]^u[L++],C=g[I>>>24]^E[R>>>16&255]^x[O>>>8&255]^T[M&255]^u[L++],U=g[R>>>24]^E[O>>>16&255]^x[M>>>8&255]^T[I&255]^u[L++],W=g[O>>>24]^E[M>>>16&255]^x[I>>>8&255]^T[R&255]^u[L++],M=B,I=C,R=U,O=W;return B=(y[M>>>24]<<24|y[I>>>16&255]<<16|y[R>>>8&255]<<8|y[O&255])^u[L++],C=(y[I>>>24]<<24|y[R>>>16&255]<<16|y[O>>>8&255]<<8|y[M&255])^u[L++],U=(y[R>>>24]<<24|y[O>>>16&255]<<16|y[M>>>8&255]<<8|y[I&255])^u[L++],W=(y[O>>>24]<<24|y[M>>>16&255]<<16|y[I>>>8&255]<<8|y[R&255])^u[L++],B=B>>>0,C=C>>>0,U=U>>>0,W=W>>>0,[B,C,U,W]}var o=[0,1,2,4,8,16,32,64,128,27,54],a=function(){for(var c=new Array(256),u=0;u<256;u++)u<128?c[u]=u<<1:c[u]=u<<1^283;for(var l=[],y=[],m=[[],[],[],[]],g=[[],[],[],[]],E=0,x=0,T=0;T<256;++T){var M=x^x<<1^x<<2^x<<3^x<<4;M=M>>>8^M&255^99,l[E]=M,y[M]=E;var I=c[E],R=c[I],O=c[R],B=c[M]*257^M*16843008;m[0][E]=B<<24|B>>>8,m[1][E]=B<<16|B>>>16,m[2][E]=B<<8|B>>>24,m[3][E]=B,B=O*16843009^R*65537^I*257^E*16843008,g[0][M]=B<<24|B>>>8,g[1][M]=B<<16|B>>>16,g[2][M]=B<<8|B>>>24,g[3][M]=B,E===0?E=x=1:(E=I^c[c[c[O^I]]],x^=c[c[x]])}return{SBOX:l,INV_SBOX:y,SUB_MIX:m,INV_SUB_MIX:g}}();function f(c){this._key=i(c),this._reset()}f.blockSize=4*4,f.keySize=256/8,f.prototype.blockSize=f.blockSize,f.prototype.keySize=f.keySize,f.prototype._reset=function(){for(var c=this._key,u=c.length,l=u+6,y=(l+1)*4,m=[],g=0;g<u;g++)m[g]=c[g];for(g=u;g<y;g++){var E=m[g-1];g%u===0?(E=E<<8|E>>>24,E=a.SBOX[E>>>24]<<24|a.SBOX[E>>>16&255]<<16|a.SBOX[E>>>8&255]<<8|a.SBOX[E&255],E^=o[g/u|0]<<24):u>6&&g%u===4&&(E=a.SBOX[E>>>24]<<24|a.SBOX[E>>>16&255]<<16|a.SBOX[E>>>8&255]<<8|a.SBOX[E&255]),m[g]=m[g-u]^E}for(var x=[],T=0;T<y;T++){var M=y-T,I=m[M-(T%4?0:4)];T<4||M<=4?x[T]=I:x[T]=a.INV_SUB_MIX[0][a.SBOX[I>>>24]]^a.INV_SUB_MIX[1][a.SBOX[I>>>16&255]]^a.INV_SUB_MIX[2][a.SBOX[I>>>8&255]]^a.INV_SUB_MIX[3][a.SBOX[I&255]]}this._nRounds=l,this._keySchedule=m,this._invKeySchedule=x},f.prototype.encryptBlockRaw=function(c){return c=i(c),s(c,this._keySchedule,a.SUB_MIX,a.SBOX,this._nRounds)},f.prototype.encryptBlock=function(c){var u=this.encryptBlockRaw(c),l=r.allocUnsafe(16);return l.writeUInt32BE(u[0],0),l.writeUInt32BE(u[1],4),l.writeUInt32BE(u[2],8),l.writeUInt32BE(u[3],12),l},f.prototype.decryptBlock=function(c){c=i(c);var u=c[1];c[1]=c[3],c[3]=u;var l=s(c,this._invKeySchedule,a.INV_SUB_MIX,a.INV_SBOX,this._nRounds),y=r.allocUnsafe(16);return y.writeUInt32BE(l[0],0),y.writeUInt32BE(l[3],4),y.writeUInt32BE(l[2],8),y.writeUInt32BE(l[1],12),y},f.prototype.scrub=function(){n(this._keySchedule),n(this._invKeySchedule),n(this._key)},e.exports.AES=f}),MNe=he((t,e)=>{ee();var r=si().Buffer,i=r.alloc(16,0);function n(a){return[a.readUInt32BE(0),a.readUInt32BE(4),a.readUInt32BE(8),a.readUInt32BE(12)]}function s(a){var f=r.allocUnsafe(16);return f.writeUInt32BE(a[0]>>>0,0),f.writeUInt32BE(a[1]>>>0,4),f.writeUInt32BE(a[2]>>>0,8),f.writeUInt32BE(a[3]>>>0,12),f}function o(a){this.h=a,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}o.prototype.ghash=function(a){for(var f=-1;++f<a.length;)this.state[f]^=a[f];this._multiply()},o.prototype._multiply=function(){for(var a=n(this.h),f=[0,0,0,0],c,u,l,y=-1;++y<128;){for(u=(this.state[~~(y/8)]&1<<7-y%8)!==0,u&&(f[0]^=a[0],f[1]^=a[1],f[2]^=a[2],f[3]^=a[3]),l=(a[3]&1)!==0,c=3;c>0;c--)a[c]=a[c]>>>1|(a[c-1]&1)<<31;a[0]=a[0]>>>1,l&&(a[0]=a[0]^225<<24)}this.state=s(f)},o.prototype.update=function(a){this.cache=r.concat([this.cache,a]);for(var f;this.cache.length>=16;)f=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(f)},o.prototype.final=function(a,f){return this.cache.length&&this.ghash(r.concat([this.cache,i],16)),this.ghash(s([0,a,0,f])),this.state},e.exports=o}),Rde=he((t,e)=>{ee();var r=SS(),i=si().Buffer,n=Hp(),s=rr(),o=MNe(),a=P_(),f=Dde();function c(y,m){var g=0;y.length!==m.length&&g++;for(var E=Math.min(y.length,m.length),x=0;x<E;++x)g+=y[x]^m[x];return g}function u(y,m,g){if(m.length===12)return y._finID=i.concat([m,i.from([0,0,0,1])]),i.concat([m,i.from([0,0,0,2])]);var E=new o(g),x=m.length,T=x%16;E.update(m),T&&(T=16-T,E.update(i.alloc(T,0))),E.update(i.alloc(8,0));var M=x*8,I=i.alloc(8);I.writeUIntBE(M,0,8),E.update(I),y._finID=E.state;var R=i.from(y._finID);return f(R),R}function l(y,m,g,E){n.call(this);var x=i.alloc(4,0);this._cipher=new r.AES(m);var T=this._cipher.encryptBlock(x);this._ghash=new o(T),g=u(this,g,T),this._prev=i.from(g),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=E,this._alen=0,this._len=0,this._mode=y,this._authTag=null,this._called=!1}s(l,n),l.prototype._update=function(y){if(!this._called&&this._alen){var m=16-this._alen%16;m<16&&(m=i.alloc(m,0),this._ghash.update(m))}this._called=!0;var g=this._mode.encrypt(this,y);return this._decrypt?this._ghash.update(y):this._ghash.update(g),this._len+=y.length,g},l.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var y=a(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&c(y,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=y,this._cipher.scrub()},l.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},l.prototype.setAuthTag=function(y){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=y},l.prototype.setAAD=function(y){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(y),this._alen+=y.length},e.exports=l}),Bde=he((t,e)=>{ee();var r=SS(),i=si().Buffer,n=Hp(),s=rr();function o(a,f,c,u){n.call(this),this._cipher=new r.AES(f),this._prev=i.from(c),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=u,this._mode=a}s(o,n),o.prototype._update=function(a){return this._mode.encrypt(this,a,this._decrypt)},o.prototype._final=function(){this._cipher.scrub()},e.exports=o}),xS=he((t,e)=>{ee();var r=si().Buffer,i=Ej();function n(s,o,a,f){if(r.isBuffer(s)||(s=r.from(s,"binary")),o&&(r.isBuffer(o)||(o=r.from(o,"binary")),o.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var c=a/8,u=r.alloc(c),l=r.alloc(f||0),y=r.alloc(0);c>0||f>0;){var m=new i;m.update(y),m.update(s),o&&m.update(o),y=m.digest();var g=0;if(c>0){var E=u.length-c;g=Math.min(c,y.length),y.copy(u,E,0,g),c-=g}if(g<y.length&&f>0){var x=l.length-f,T=Math.min(f,y.length-g);y.copy(l,x,g,g+T),f-=T}}return y.fill(0),{key:u,iv:l}}e.exports=n}),kNe=he(t=>{ee();var e=kj(),r=Rde(),i=si().Buffer,n=Bde(),s=Hp(),o=SS(),a=xS(),f=rr();function c(g,E,x){s.call(this),this._cache=new l,this._cipher=new o.AES(E),this._prev=i.from(x),this._mode=g,this._autopadding=!0}f(c,s),c.prototype._update=function(g){this._cache.add(g);for(var E,x,T=[];E=this._cache.get();)x=this._mode.encrypt(this,E),T.push(x);return i.concat(T)};var u=i.alloc(16,16);c.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return g=this._mode.encrypt(this,g),this._cipher.scrub(),g;if(!g.equals(u))throw this._cipher.scrub(),new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this};function l(){this.cache=i.allocUnsafe(0)}l.prototype.add=function(g){this.cache=i.concat([this.cache,g])},l.prototype.get=function(){if(this.cache.length>15){var g=this.cache.slice(0,16);return this.cache=this.cache.slice(16),g}return null},l.prototype.flush=function(){for(var g=16-this.cache.length,E=i.allocUnsafe(g),x=-1;++x<g;)E.writeUInt8(g,x);return i.concat([this.cache,E])};function y(g,E,x){var T=e[g.toLowerCase()];if(!T)throw new TypeError("invalid suite type");if(typeof E=="string"&&(E=i.from(E)),E.length!==T.key/8)throw new TypeError("invalid key length "+E.length);if(typeof x=="string"&&(x=i.from(x)),T.mode!=="GCM"&&x.length!==T.iv)throw new TypeError("invalid iv length "+x.length);return T.type==="stream"?new n(T.module,E,x):T.type==="auth"?new r(T.module,E,x):new c(T.module,E,x)}function m(g,E){var x=e[g.toLowerCase()];if(!x)throw new TypeError("invalid suite type");var T=a(E,!1,x.key,x.iv);return y(g,T.key,T.iv)}t.createCipheriv=y,t.createCipher=m}),TNe=he(t=>{ee();var e=Rde(),r=si().Buffer,i=kj(),n=Bde(),s=Hp(),o=SS(),a=xS(),f=rr();function c(g,E,x){s.call(this),this._cache=new u,this._last=void 0,this._cipher=new o.AES(E),this._prev=r.from(x),this._mode=g,this._autopadding=!0}f(c,s),c.prototype._update=function(g){this._cache.add(g);for(var E,x,T=[];E=this._cache.get(this._autopadding);)x=this._mode.decrypt(this,E),T.push(x);return r.concat(T)},c.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return l(this._mode.decrypt(this,g));if(g)throw new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this};function u(){this.cache=r.allocUnsafe(0)}u.prototype.add=function(g){this.cache=r.concat([this.cache,g])},u.prototype.get=function(g){var E;if(g){if(this.cache.length>16)return E=this.cache.slice(0,16),this.cache=this.cache.slice(16),E}else if(this.cache.length>=16)return E=this.cache.slice(0,16),this.cache=this.cache.slice(16),E;return null},u.prototype.flush=function(){if(this.cache.length)return this.cache};function l(g){var E=g[15];if(E<1||E>16)throw new Error("unable to decrypt data");for(var x=-1;++x<E;)if(g[x+(16-E)]!==E)throw new Error("unable to decrypt data");if(E!==16)return g.slice(0,16-E)}function y(g,E,x){var T=i[g.toLowerCase()];if(!T)throw new TypeError("invalid suite type");if(typeof x=="string"&&(x=r.from(x)),T.mode!=="GCM"&&x.length!==T.iv)throw new TypeError("invalid iv length "+x.length);if(typeof E=="string"&&(E=r.from(E)),E.length!==T.key/8)throw new TypeError("invalid key length "+E.length);return T.type==="stream"?new n(T.module,E,x,!0):T.type==="auth"?new e(T.module,E,x,!0):new c(T.module,E,x)}function m(g,E){var x=i[g.toLowerCase()];if(!x)throw new TypeError("invalid suite type");var T=a(E,!1,x.key,x.iv);return y(g,T.key,T.iv)}t.createDecipher=m,t.createDecipheriv=y}),Tj=he(t=>{ee();var e=kNe(),r=TNe(),i=Ide();function n(){return Object.keys(i)}t.createCipher=t.Cipher=e.createCipher,t.createCipheriv=t.Cipheriv=e.createCipheriv,t.createDecipher=t.Decipher=r.createDecipher,t.createDecipheriv=t.Decipheriv=r.createDecipheriv,t.listCiphers=t.getCiphers=n}),PNe=he(t=>{ee(),t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}}),DNe=he(t=>{ee();var e=vNe(),r=Tj(),i=kj(),n=PNe(),s=xS();function o(l,y){l=l.toLowerCase();var m,g;if(i[l])m=i[l].key,g=i[l].iv;else if(n[l])m=n[l].key*8,g=n[l].iv;else throw new TypeError("invalid suite type");var E=s(y,!1,m,g);return f(l,E.key,E.iv)}function a(l,y){l=l.toLowerCase();var m,g;if(i[l])m=i[l].key,g=i[l].iv;else if(n[l])m=n[l].key*8,g=n[l].iv;else throw new TypeError("invalid suite type");var E=s(y,!1,m,g);return c(l,E.key,E.iv)}function f(l,y,m){if(l=l.toLowerCase(),i[l])return r.createCipheriv(l,y,m);if(n[l])return new e({key:y,iv:m,mode:l});throw new TypeError("invalid suite type")}function c(l,y,m){if(l=l.toLowerCase(),i[l])return r.createDecipheriv(l,y,m);if(n[l])return new e({key:y,iv:m,mode:l,decrypt:!0});throw new TypeError("invalid suite type")}function u(){return Object.keys(n).concat(r.getCiphers())}t.createCipher=t.Cipher=o,t.createCipheriv=t.Cipheriv=f,t.createDecipher=t.Decipher=a,t.createDecipheriv=t.Decipheriv=c,t.listCiphers=t.getCiphers=u}),ss=he((t,e)=>{ee(),function(r,i){"use strict";function n(k,P){if(!k)throw new Error(P||"Assertion failed")}function s(k,P){k.super_=P;var p=function(){};p.prototype=P.prototype,k.prototype=new p,k.prototype.constructor=k}function o(k,P,p){if(o.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,k!==null&&((P==="le"||P==="be")&&(p=P,P=10),this._init(k||0,P||10,p||"be"))}typeof r=="object"?r.exports=o:i.BN=o,o.BN=o,o.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=ji().Buffer}catch{}o.isBN=function(k){return k instanceof o?!0:k!==null&&typeof k=="object"&&k.constructor.wordSize===o.wordSize&&Array.isArray(k.words)},o.max=function(k,P){return k.cmp(P)>0?k:P},o.min=function(k,P){return k.cmp(P)<0?k:P},o.prototype._init=function(k,P,p){if(typeof k=="number")return this._initNumber(k,P,p);if(typeof k=="object")return this._initArray(k,P,p);P==="hex"&&(P=16),n(P===(P|0)&&P>=2&&P<=36),k=k.toString().replace(/\s+/g,"");var d=0;k[0]==="-"&&(d++,this.negative=1),d<k.length&&(P===16?this._parseHex(k,d,p):(this._parseBase(k,P,d),p==="le"&&this._initArray(this.toArray(),P,p)))},o.prototype._initNumber=function(k,P,p){k<0&&(this.negative=1,k=-k),k<67108864?(this.words=[k&67108863],this.length=1):k<4503599627370496?(this.words=[k&67108863,k/67108864&67108863],this.length=2):(n(k<9007199254740992),this.words=[k&67108863,k/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),P,p)},o.prototype._initArray=function(k,P,p){if(n(typeof k.length=="number"),k.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(k.length/3),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var h,b,v=0;if(p==="be")for(d=k.length-1,h=0;d>=0;d-=3)b=k[d]|k[d-1]<<8|k[d-2]<<16,this.words[h]|=b<<v&67108863,this.words[h+1]=b>>>26-v&67108863,v+=24,v>=26&&(v-=26,h++);else if(p==="le")for(d=0,h=0;d<k.length;d+=3)b=k[d]|k[d+1]<<8|k[d+2]<<16,this.words[h]|=b<<v&67108863,this.words[h+1]=b>>>26-v&67108863,v+=24,v>=26&&(v-=26,h++);return this.strip()};function f(k,P){var p=k.charCodeAt(P);return p>=65&&p<=70?p-55:p>=97&&p<=102?p-87:p-48&15}function c(k,P,p){var d=f(k,p);return p-1>=P&&(d|=f(k,p-1)<<4),d}o.prototype._parseHex=function(k,P,p){this.length=Math.ceil((k.length-P)/6),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var h=0,b=0,v;if(p==="be")for(d=k.length-1;d>=P;d-=2)v=c(k,P,d)<<h,this.words[b]|=v&67108863,h>=18?(h-=18,b+=1,this.words[b]|=v>>>26):h+=8;else{var w=k.length-P;for(d=w%2===0?P+1:P;d<k.length;d+=2)v=c(k,P,d)<<h,this.words[b]|=v&67108863,h>=18?(h-=18,b+=1,this.words[b]|=v>>>26):h+=8}this.strip()};function u(k,P,p,d){for(var h=0,b=Math.min(k.length,p),v=P;v<b;v++){var w=k.charCodeAt(v)-48;h*=d,w>=49?h+=w-49+10:w>=17?h+=w-17+10:h+=w}return h}o.prototype._parseBase=function(k,P,p){this.words=[0],this.length=1;for(var d=0,h=1;h<=67108863;h*=P)d++;d--,h=h/P|0;for(var b=k.length-p,v=b%d,w=Math.min(b,b-v)+p,_=0,D=p;D<w;D+=d)_=u(k,D,D+d,P),this.imuln(h),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_);if(v!==0){var S=1;for(_=u(k,D,k.length,P),D=0;D<v;D++)S*=P;this.imuln(S),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_)}this.strip()},o.prototype.copy=function(k){k.words=new Array(this.length);for(var P=0;P<this.length;P++)k.words[P]=this.words[P];k.length=this.length,k.negative=this.negative,k.red=this.red},o.prototype.clone=function(){var k=new o(null);return this.copy(k),k},o.prototype._expand=function(k){for(;this.length<k;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(k,P){k=k||10,P=P|0||1;var p;if(k===16||k==="hex"){p="";for(var d=0,h=0,b=0;b<this.length;b++){var v=this.words[b],w=((v<<d|h)&16777215).toString(16);h=v>>>24-d&16777215,h!==0||b!==this.length-1?p=l[6-w.length]+w+p:p=w+p,d+=2,d>=26&&(d-=26,b--)}for(h!==0&&(p=h.toString(16)+p);p.length%P!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(k===(k|0)&&k>=2&&k<=36){var _=y[k],D=m[k];p="";var S=this.clone();for(S.negative=0;!S.isZero();){var A=S.modn(D).toString(k);S=S.idivn(D),S.isZero()?p=A+p:p=l[_-A.length]+A+p}for(this.isZero()&&(p="0"+p);p.length%P!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var k=this.words[0];return this.length===2?k+=this.words[1]*67108864:this.length===3&&this.words[2]===1?k+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-k:k},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(k,P){return n(typeof a<"u"),this.toArrayLike(a,k,P)},o.prototype.toArray=function(k,P){return this.toArrayLike(Array,k,P)},o.prototype.toArrayLike=function(k,P,p){var d=this.byteLength(),h=p||Math.max(1,d);n(d<=h,"byte array longer than desired length"),n(h>0,"Requested array length <= 0"),this.strip();var b=P==="le",v=new k(h),w,_,D=this.clone();if(b){for(_=0;!D.isZero();_++)w=D.andln(255),D.iushrn(8),v[_]=w;for(;_<h;_++)v[_]=0}else{for(_=0;_<h-d;_++)v[_]=0;for(_=0;!D.isZero();_++)w=D.andln(255),D.iushrn(8),v[h-_-1]=w}return v},Math.clz32?o.prototype._countBits=function(k){return 32-Math.clz32(k)}:o.prototype._countBits=function(k){var P=k,p=0;return P>=4096&&(p+=13,P>>>=13),P>=64&&(p+=7,P>>>=7),P>=8&&(p+=4,P>>>=4),P>=2&&(p+=2,P>>>=2),p+P},o.prototype._zeroBits=function(k){if(k===0)return 26;var P=k,p=0;return P&8191||(p+=13,P>>>=13),P&127||(p+=7,P>>>=7),P&15||(p+=4,P>>>=4),P&3||(p+=2,P>>>=2),P&1||p++,p},o.prototype.bitLength=function(){var k=this.words[this.length-1],P=this._countBits(k);return(this.length-1)*26+P};function g(k){for(var P=new Array(k.bitLength()),p=0;p<P.length;p++){var d=p/26|0,h=p%26;P[p]=(k.words[d]&1<<h)>>>h}return P}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var k=0,P=0;P<this.length;P++){var p=this._zeroBits(this.words[P]);if(k+=p,p!==26)break}return k},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(k){return this.negative!==0?this.abs().inotn(k).iaddn(1):this.clone()},o.prototype.fromTwos=function(k){return this.testn(k-1)?this.notn(k).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(k){for(;this.length<k.length;)this.words[this.length++]=0;for(var P=0;P<k.length;P++)this.words[P]=this.words[P]|k.words[P];return this.strip()},o.prototype.ior=function(k){return n((this.negative|k.negative)===0),this.iuor(k)},o.prototype.or=function(k){return this.length>k.length?this.clone().ior(k):k.clone().ior(this)},o.prototype.uor=function(k){return this.length>k.length?this.clone().iuor(k):k.clone().iuor(this)},o.prototype.iuand=function(k){var P;this.length>k.length?P=k:P=this;for(var p=0;p<P.length;p++)this.words[p]=this.words[p]&k.words[p];return this.length=P.length,this.strip()},o.prototype.iand=function(k){return n((this.negative|k.negative)===0),this.iuand(k)},o.prototype.and=function(k){return this.length>k.length?this.clone().iand(k):k.clone().iand(this)},o.prototype.uand=function(k){return this.length>k.length?this.clone().iuand(k):k.clone().iuand(this)},o.prototype.iuxor=function(k){var P,p;this.length>k.length?(P=this,p=k):(P=k,p=this);for(var d=0;d<p.length;d++)this.words[d]=P.words[d]^p.words[d];if(this!==P)for(;d<P.length;d++)this.words[d]=P.words[d];return this.length=P.length,this.strip()},o.prototype.ixor=function(k){return n((this.negative|k.negative)===0),this.iuxor(k)},o.prototype.xor=function(k){return this.length>k.length?this.clone().ixor(k):k.clone().ixor(this)},o.prototype.uxor=function(k){return this.length>k.length?this.clone().iuxor(k):k.clone().iuxor(this)},o.prototype.inotn=function(k){n(typeof k=="number"&&k>=0);var P=Math.ceil(k/26)|0,p=k%26;this._expand(P),p>0&&P--;for(var d=0;d<P;d++)this.words[d]=~this.words[d]&67108863;return p>0&&(this.words[d]=~this.words[d]&67108863>>26-p),this.strip()},o.prototype.notn=function(k){return this.clone().inotn(k)},o.prototype.setn=function(k,P){n(typeof k=="number"&&k>=0);var p=k/26|0,d=k%26;return this._expand(p+1),P?this.words[p]=this.words[p]|1<<d:this.words[p]=this.words[p]&~(1<<d),this.strip()},o.prototype.iadd=function(k){var P;if(this.negative!==0&&k.negative===0)return this.negative=0,P=this.isub(k),this.negative^=1,this._normSign();if(this.negative===0&&k.negative!==0)return k.negative=0,P=this.isub(k),k.negative=1,P._normSign();var p,d;this.length>k.length?(p=this,d=k):(p=k,d=this);for(var h=0,b=0;b<d.length;b++)P=(p.words[b]|0)+(d.words[b]|0)+h,this.words[b]=P&67108863,h=P>>>26;for(;h!==0&&b<p.length;b++)P=(p.words[b]|0)+h,this.words[b]=P&67108863,h=P>>>26;if(this.length=p.length,h!==0)this.words[this.length]=h,this.length++;else if(p!==this)for(;b<p.length;b++)this.words[b]=p.words[b];return this},o.prototype.add=function(k){var P;return k.negative!==0&&this.negative===0?(k.negative=0,P=this.sub(k),k.negative^=1,P):k.negative===0&&this.negative!==0?(this.negative=0,P=k.sub(this),this.negative=1,P):this.length>k.length?this.clone().iadd(k):k.clone().iadd(this)},o.prototype.isub=function(k){if(k.negative!==0){k.negative=0;var P=this.iadd(k);return k.negative=1,P._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(k),this.negative=1,this._normSign();var p=this.cmp(k);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var d,h;p>0?(d=this,h=k):(d=k,h=this);for(var b=0,v=0;v<h.length;v++)P=(d.words[v]|0)-(h.words[v]|0)+b,b=P>>26,this.words[v]=P&67108863;for(;b!==0&&v<d.length;v++)P=(d.words[v]|0)+b,b=P>>26,this.words[v]=P&67108863;if(b===0&&v<d.length&&d!==this)for(;v<d.length;v++)this.words[v]=d.words[v];return this.length=Math.max(this.length,v),d!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(k){return this.clone().isub(k)};function E(k,P,p){p.negative=P.negative^k.negative;var d=k.length+P.length|0;p.length=d,d=d-1|0;var h=k.words[0]|0,b=P.words[0]|0,v=h*b,w=v&67108863,_=v/67108864|0;p.words[0]=w;for(var D=1;D<d;D++){for(var S=_>>>26,A=_&67108863,N=Math.min(D,P.length-1),G=Math.max(0,D-k.length+1);G<=N;G++){var Q=D-G|0;h=k.words[Q]|0,b=P.words[G]|0,v=h*b+A,S+=v/67108864|0,A=v&67108863}p.words[D]=A|0,_=S|0}return _!==0?p.words[D]=_|0:p.length--,p.strip()}var x=function(k,P,p){var d=k.words,h=P.words,b=p.words,v=0,w,_,D,S=d[0]|0,A=S&8191,N=S>>>13,G=d[1]|0,Q=G&8191,ne=G>>>13,H=d[2]|0,Z=H&8191,ie=H>>>13,fe=d[3]|0,ue=fe&8191,ye=fe>>>13,$=d[4]|0,q=$&8191,z=$>>>13,Y=d[5]|0,X=Y&8191,re=Y>>>13,le=d[6]|0,pe=le&8191,_e=le>>>13,xe=d[7]|0,be=xe&8191,Me=xe>>>13,Le=d[8]|0,oe=Le&8191,ce=Le>>>13,ge=d[9]|0,me=ge&8191,Ee=ge>>>13,$e=h[0]|0,Se=$e&8191,We=$e>>>13,it=h[1]|0,Te=it&8191,nt=it>>>13,ot=h[2]|0,ke=ot&8191,tt=ot>>>13,rt=h[3]|0,Ae=rt&8191,Ye=rt>>>13,He=h[4]|0,De=He&8191,ft=He>>>13,ut=h[5]|0,Ie=ut&8191,ct=ut>>>13,lt=h[6]|0,Re=lt&8191,dt=lt>>>13,ht=h[7]|0,Be=ht&8191,pt=ht>>>13,yt=h[8]|0,Ce=yt&8191,mt=yt>>>13,gt=h[9]|0,Oe=gt&8191,st=gt>>>13;p.negative=k.negative^P.negative,p.length=19,w=Math.imul(A,Se),_=Math.imul(A,We),_=_+Math.imul(N,Se)|0,D=Math.imul(N,We);var Ct=(v+w|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,w=Math.imul(Q,Se),_=Math.imul(Q,We),_=_+Math.imul(ne,Se)|0,D=Math.imul(ne,We),w=w+Math.imul(A,Te)|0,_=_+Math.imul(A,nt)|0,_=_+Math.imul(N,Te)|0,D=D+Math.imul(N,nt)|0;var Ue=(v+w|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,w=Math.imul(Z,Se),_=Math.imul(Z,We),_=_+Math.imul(ie,Se)|0,D=Math.imul(ie,We),w=w+Math.imul(Q,Te)|0,_=_+Math.imul(Q,nt)|0,_=_+Math.imul(ne,Te)|0,D=D+Math.imul(ne,nt)|0,w=w+Math.imul(A,ke)|0,_=_+Math.imul(A,tt)|0,_=_+Math.imul(N,ke)|0,D=D+Math.imul(N,tt)|0;var Pt=(v+w|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,w=Math.imul(ue,Se),_=Math.imul(ue,We),_=_+Math.imul(ye,Se)|0,D=Math.imul(ye,We),w=w+Math.imul(Z,Te)|0,_=_+Math.imul(Z,nt)|0,_=_+Math.imul(ie,Te)|0,D=D+Math.imul(ie,nt)|0,w=w+Math.imul(Q,ke)|0,_=_+Math.imul(Q,tt)|0,_=_+Math.imul(ne,ke)|0,D=D+Math.imul(ne,tt)|0,w=w+Math.imul(A,Ae)|0,_=_+Math.imul(A,Ye)|0,_=_+Math.imul(N,Ae)|0,D=D+Math.imul(N,Ye)|0;var gn=(v+w|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(gn>>>26)|0,gn&=67108863,w=Math.imul(q,Se),_=Math.imul(q,We),_=_+Math.imul(z,Se)|0,D=Math.imul(z,We),w=w+Math.imul(ue,Te)|0,_=_+Math.imul(ue,nt)|0,_=_+Math.imul(ye,Te)|0,D=D+Math.imul(ye,nt)|0,w=w+Math.imul(Z,ke)|0,_=_+Math.imul(Z,tt)|0,_=_+Math.imul(ie,ke)|0,D=D+Math.imul(ie,tt)|0,w=w+Math.imul(Q,Ae)|0,_=_+Math.imul(Q,Ye)|0,_=_+Math.imul(ne,Ae)|0,D=D+Math.imul(ne,Ye)|0,w=w+Math.imul(A,De)|0,_=_+Math.imul(A,ft)|0,_=_+Math.imul(N,De)|0,D=D+Math.imul(N,ft)|0;var bn=(v+w|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(bn>>>26)|0,bn&=67108863,w=Math.imul(X,Se),_=Math.imul(X,We),_=_+Math.imul(re,Se)|0,D=Math.imul(re,We),w=w+Math.imul(q,Te)|0,_=_+Math.imul(q,nt)|0,_=_+Math.imul(z,Te)|0,D=D+Math.imul(z,nt)|0,w=w+Math.imul(ue,ke)|0,_=_+Math.imul(ue,tt)|0,_=_+Math.imul(ye,ke)|0,D=D+Math.imul(ye,tt)|0,w=w+Math.imul(Z,Ae)|0,_=_+Math.imul(Z,Ye)|0,_=_+Math.imul(ie,Ae)|0,D=D+Math.imul(ie,Ye)|0,w=w+Math.imul(Q,De)|0,_=_+Math.imul(Q,ft)|0,_=_+Math.imul(ne,De)|0,D=D+Math.imul(ne,ft)|0,w=w+Math.imul(A,Ie)|0,_=_+Math.imul(A,ct)|0,_=_+Math.imul(N,Ie)|0,D=D+Math.imul(N,ct)|0;var vn=(v+w|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(vn>>>26)|0,vn&=67108863,w=Math.imul(pe,Se),_=Math.imul(pe,We),_=_+Math.imul(_e,Se)|0,D=Math.imul(_e,We),w=w+Math.imul(X,Te)|0,_=_+Math.imul(X,nt)|0,_=_+Math.imul(re,Te)|0,D=D+Math.imul(re,nt)|0,w=w+Math.imul(q,ke)|0,_=_+Math.imul(q,tt)|0,_=_+Math.imul(z,ke)|0,D=D+Math.imul(z,tt)|0,w=w+Math.imul(ue,Ae)|0,_=_+Math.imul(ue,Ye)|0,_=_+Math.imul(ye,Ae)|0,D=D+Math.imul(ye,Ye)|0,w=w+Math.imul(Z,De)|0,_=_+Math.imul(Z,ft)|0,_=_+Math.imul(ie,De)|0,D=D+Math.imul(ie,ft)|0,w=w+Math.imul(Q,Ie)|0,_=_+Math.imul(Q,ct)|0,_=_+Math.imul(ne,Ie)|0,D=D+Math.imul(ne,ct)|0,w=w+Math.imul(A,Re)|0,_=_+Math.imul(A,dt)|0,_=_+Math.imul(N,Re)|0,D=D+Math.imul(N,dt)|0;var wn=(v+w|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(wn>>>26)|0,wn&=67108863,w=Math.imul(be,Se),_=Math.imul(be,We),_=_+Math.imul(Me,Se)|0,D=Math.imul(Me,We),w=w+Math.imul(pe,Te)|0,_=_+Math.imul(pe,nt)|0,_=_+Math.imul(_e,Te)|0,D=D+Math.imul(_e,nt)|0,w=w+Math.imul(X,ke)|0,_=_+Math.imul(X,tt)|0,_=_+Math.imul(re,ke)|0,D=D+Math.imul(re,tt)|0,w=w+Math.imul(q,Ae)|0,_=_+Math.imul(q,Ye)|0,_=_+Math.imul(z,Ae)|0,D=D+Math.imul(z,Ye)|0,w=w+Math.imul(ue,De)|0,_=_+Math.imul(ue,ft)|0,_=_+Math.imul(ye,De)|0,D=D+Math.imul(ye,ft)|0,w=w+Math.imul(Z,Ie)|0,_=_+Math.imul(Z,ct)|0,_=_+Math.imul(ie,Ie)|0,D=D+Math.imul(ie,ct)|0,w=w+Math.imul(Q,Re)|0,_=_+Math.imul(Q,dt)|0,_=_+Math.imul(ne,Re)|0,D=D+Math.imul(ne,dt)|0,w=w+Math.imul(A,Be)|0,_=_+Math.imul(A,pt)|0,_=_+Math.imul(N,Be)|0,D=D+Math.imul(N,pt)|0;var _n=(v+w|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(_n>>>26)|0,_n&=67108863,w=Math.imul(oe,Se),_=Math.imul(oe,We),_=_+Math.imul(ce,Se)|0,D=Math.imul(ce,We),w=w+Math.imul(be,Te)|0,_=_+Math.imul(be,nt)|0,_=_+Math.imul(Me,Te)|0,D=D+Math.imul(Me,nt)|0,w=w+Math.imul(pe,ke)|0,_=_+Math.imul(pe,tt)|0,_=_+Math.imul(_e,ke)|0,D=D+Math.imul(_e,tt)|0,w=w+Math.imul(X,Ae)|0,_=_+Math.imul(X,Ye)|0,_=_+Math.imul(re,Ae)|0,D=D+Math.imul(re,Ye)|0,w=w+Math.imul(q,De)|0,_=_+Math.imul(q,ft)|0,_=_+Math.imul(z,De)|0,D=D+Math.imul(z,ft)|0,w=w+Math.imul(ue,Ie)|0,_=_+Math.imul(ue,ct)|0,_=_+Math.imul(ye,Ie)|0,D=D+Math.imul(ye,ct)|0,w=w+Math.imul(Z,Re)|0,_=_+Math.imul(Z,dt)|0,_=_+Math.imul(ie,Re)|0,D=D+Math.imul(ie,dt)|0,w=w+Math.imul(Q,Be)|0,_=_+Math.imul(Q,pt)|0,_=_+Math.imul(ne,Be)|0,D=D+Math.imul(ne,pt)|0,w=w+Math.imul(A,Ce)|0,_=_+Math.imul(A,mt)|0,_=_+Math.imul(N,Ce)|0,D=D+Math.imul(N,mt)|0;var En=(v+w|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(En>>>26)|0,En&=67108863,w=Math.imul(me,Se),_=Math.imul(me,We),_=_+Math.imul(Ee,Se)|0,D=Math.imul(Ee,We),w=w+Math.imul(oe,Te)|0,_=_+Math.imul(oe,nt)|0,_=_+Math.imul(ce,Te)|0,D=D+Math.imul(ce,nt)|0,w=w+Math.imul(be,ke)|0,_=_+Math.imul(be,tt)|0,_=_+Math.imul(Me,ke)|0,D=D+Math.imul(Me,tt)|0,w=w+Math.imul(pe,Ae)|0,_=_+Math.imul(pe,Ye)|0,_=_+Math.imul(_e,Ae)|0,D=D+Math.imul(_e,Ye)|0,w=w+Math.imul(X,De)|0,_=_+Math.imul(X,ft)|0,_=_+Math.imul(re,De)|0,D=D+Math.imul(re,ft)|0,w=w+Math.imul(q,Ie)|0,_=_+Math.imul(q,ct)|0,_=_+Math.imul(z,Ie)|0,D=D+Math.imul(z,ct)|0,w=w+Math.imul(ue,Re)|0,_=_+Math.imul(ue,dt)|0,_=_+Math.imul(ye,Re)|0,D=D+Math.imul(ye,dt)|0,w=w+Math.imul(Z,Be)|0,_=_+Math.imul(Z,pt)|0,_=_+Math.imul(ie,Be)|0,D=D+Math.imul(ie,pt)|0,w=w+Math.imul(Q,Ce)|0,_=_+Math.imul(Q,mt)|0,_=_+Math.imul(ne,Ce)|0,D=D+Math.imul(ne,mt)|0,w=w+Math.imul(A,Oe)|0,_=_+Math.imul(A,st)|0,_=_+Math.imul(N,Oe)|0,D=D+Math.imul(N,st)|0;var Sn=(v+w|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,w=Math.imul(me,Te),_=Math.imul(me,nt),_=_+Math.imul(Ee,Te)|0,D=Math.imul(Ee,nt),w=w+Math.imul(oe,ke)|0,_=_+Math.imul(oe,tt)|0,_=_+Math.imul(ce,ke)|0,D=D+Math.imul(ce,tt)|0,w=w+Math.imul(be,Ae)|0,_=_+Math.imul(be,Ye)|0,_=_+Math.imul(Me,Ae)|0,D=D+Math.imul(Me,Ye)|0,w=w+Math.imul(pe,De)|0,_=_+Math.imul(pe,ft)|0,_=_+Math.imul(_e,De)|0,D=D+Math.imul(_e,ft)|0,w=w+Math.imul(X,Ie)|0,_=_+Math.imul(X,ct)|0,_=_+Math.imul(re,Ie)|0,D=D+Math.imul(re,ct)|0,w=w+Math.imul(q,Re)|0,_=_+Math.imul(q,dt)|0,_=_+Math.imul(z,Re)|0,D=D+Math.imul(z,dt)|0,w=w+Math.imul(ue,Be)|0,_=_+Math.imul(ue,pt)|0,_=_+Math.imul(ye,Be)|0,D=D+Math.imul(ye,pt)|0,w=w+Math.imul(Z,Ce)|0,_=_+Math.imul(Z,mt)|0,_=_+Math.imul(ie,Ce)|0,D=D+Math.imul(ie,mt)|0,w=w+Math.imul(Q,Oe)|0,_=_+Math.imul(Q,st)|0,_=_+Math.imul(ne,Oe)|0,D=D+Math.imul(ne,st)|0;var xn=(v+w|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(xn>>>26)|0,xn&=67108863,w=Math.imul(me,ke),_=Math.imul(me,tt),_=_+Math.imul(Ee,ke)|0,D=Math.imul(Ee,tt),w=w+Math.imul(oe,Ae)|0,_=_+Math.imul(oe,Ye)|0,_=_+Math.imul(ce,Ae)|0,D=D+Math.imul(ce,Ye)|0,w=w+Math.imul(be,De)|0,_=_+Math.imul(be,ft)|0,_=_+Math.imul(Me,De)|0,D=D+Math.imul(Me,ft)|0,w=w+Math.imul(pe,Ie)|0,_=_+Math.imul(pe,ct)|0,_=_+Math.imul(_e,Ie)|0,D=D+Math.imul(_e,ct)|0,w=w+Math.imul(X,Re)|0,_=_+Math.imul(X,dt)|0,_=_+Math.imul(re,Re)|0,D=D+Math.imul(re,dt)|0,w=w+Math.imul(q,Be)|0,_=_+Math.imul(q,pt)|0,_=_+Math.imul(z,Be)|0,D=D+Math.imul(z,pt)|0,w=w+Math.imul(ue,Ce)|0,_=_+Math.imul(ue,mt)|0,_=_+Math.imul(ye,Ce)|0,D=D+Math.imul(ye,mt)|0,w=w+Math.imul(Z,Oe)|0,_=_+Math.imul(Z,st)|0,_=_+Math.imul(ie,Oe)|0,D=D+Math.imul(ie,st)|0;var An=(v+w|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(An>>>26)|0,An&=67108863,w=Math.imul(me,Ae),_=Math.imul(me,Ye),_=_+Math.imul(Ee,Ae)|0,D=Math.imul(Ee,Ye),w=w+Math.imul(oe,De)|0,_=_+Math.imul(oe,ft)|0,_=_+Math.imul(ce,De)|0,D=D+Math.imul(ce,ft)|0,w=w+Math.imul(be,Ie)|0,_=_+Math.imul(be,ct)|0,_=_+Math.imul(Me,Ie)|0,D=D+Math.imul(Me,ct)|0,w=w+Math.imul(pe,Re)|0,_=_+Math.imul(pe,dt)|0,_=_+Math.imul(_e,Re)|0,D=D+Math.imul(_e,dt)|0,w=w+Math.imul(X,Be)|0,_=_+Math.imul(X,pt)|0,_=_+Math.imul(re,Be)|0,D=D+Math.imul(re,pt)|0,w=w+Math.imul(q,Ce)|0,_=_+Math.imul(q,mt)|0,_=_+Math.imul(z,Ce)|0,D=D+Math.imul(z,mt)|0,w=w+Math.imul(ue,Oe)|0,_=_+Math.imul(ue,st)|0,_=_+Math.imul(ye,Oe)|0,D=D+Math.imul(ye,st)|0;var Mn=(v+w|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,w=Math.imul(me,De),_=Math.imul(me,ft),_=_+Math.imul(Ee,De)|0,D=Math.imul(Ee,ft),w=w+Math.imul(oe,Ie)|0,_=_+Math.imul(oe,ct)|0,_=_+Math.imul(ce,Ie)|0,D=D+Math.imul(ce,ct)|0,w=w+Math.imul(be,Re)|0,_=_+Math.imul(be,dt)|0,_=_+Math.imul(Me,Re)|0,D=D+Math.imul(Me,dt)|0,w=w+Math.imul(pe,Be)|0,_=_+Math.imul(pe,pt)|0,_=_+Math.imul(_e,Be)|0,D=D+Math.imul(_e,pt)|0,w=w+Math.imul(X,Ce)|0,_=_+Math.imul(X,mt)|0,_=_+Math.imul(re,Ce)|0,D=D+Math.imul(re,mt)|0,w=w+Math.imul(q,Oe)|0,_=_+Math.imul(q,st)|0,_=_+Math.imul(z,Oe)|0,D=D+Math.imul(z,st)|0;var kn=(v+w|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(kn>>>26)|0,kn&=67108863,w=Math.imul(me,Ie),_=Math.imul(me,ct),_=_+Math.imul(Ee,Ie)|0,D=Math.imul(Ee,ct),w=w+Math.imul(oe,Re)|0,_=_+Math.imul(oe,dt)|0,_=_+Math.imul(ce,Re)|0,D=D+Math.imul(ce,dt)|0,w=w+Math.imul(be,Be)|0,_=_+Math.imul(be,pt)|0,_=_+Math.imul(Me,Be)|0,D=D+Math.imul(Me,pt)|0,w=w+Math.imul(pe,Ce)|0,_=_+Math.imul(pe,mt)|0,_=_+Math.imul(_e,Ce)|0,D=D+Math.imul(_e,mt)|0,w=w+Math.imul(X,Oe)|0,_=_+Math.imul(X,st)|0,_=_+Math.imul(re,Oe)|0,D=D+Math.imul(re,st)|0;var Tn=(v+w|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,w=Math.imul(me,Re),_=Math.imul(me,dt),_=_+Math.imul(Ee,Re)|0,D=Math.imul(Ee,dt),w=w+Math.imul(oe,Be)|0,_=_+Math.imul(oe,pt)|0,_=_+Math.imul(ce,Be)|0,D=D+Math.imul(ce,pt)|0,w=w+Math.imul(be,Ce)|0,_=_+Math.imul(be,mt)|0,_=_+Math.imul(Me,Ce)|0,D=D+Math.imul(Me,mt)|0,w=w+Math.imul(pe,Oe)|0,_=_+Math.imul(pe,st)|0,_=_+Math.imul(_e,Oe)|0,D=D+Math.imul(_e,st)|0;var Pn=(v+w|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,w=Math.imul(me,Be),_=Math.imul(me,pt),_=_+Math.imul(Ee,Be)|0,D=Math.imul(Ee,pt),w=w+Math.imul(oe,Ce)|0,_=_+Math.imul(oe,mt)|0,_=_+Math.imul(ce,Ce)|0,D=D+Math.imul(ce,mt)|0,w=w+Math.imul(be,Oe)|0,_=_+Math.imul(be,st)|0,_=_+Math.imul(Me,Oe)|0,D=D+Math.imul(Me,st)|0;var Dn=(v+w|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,w=Math.imul(me,Ce),_=Math.imul(me,mt),_=_+Math.imul(Ee,Ce)|0,D=Math.imul(Ee,mt),w=w+Math.imul(oe,Oe)|0,_=_+Math.imul(oe,st)|0,_=_+Math.imul(ce,Oe)|0,D=D+Math.imul(ce,st)|0;var In=(v+w|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(In>>>26)|0,In&=67108863,w=Math.imul(me,Oe),_=Math.imul(me,st),_=_+Math.imul(Ee,Oe)|0,D=Math.imul(Ee,st);var Ao=(v+w|0)+((_&8191)<<13)|0;return v=(D+(_>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,b[0]=Ct,b[1]=Ue,b[2]=Pt,b[3]=gn,b[4]=bn,b[5]=vn,b[6]=wn,b[7]=_n,b[8]=En,b[9]=Sn,b[10]=xn,b[11]=An,b[12]=Mn,b[13]=kn,b[14]=Tn,b[15]=Pn,b[16]=Dn,b[17]=In,b[18]=Ao,v!==0&&(b[19]=v,p.length++),p};Math.imul||(x=E);function T(k,P,p){p.negative=P.negative^k.negative,p.length=k.length+P.length;for(var d=0,h=0,b=0;b<p.length-1;b++){var v=h;h=0;for(var w=d&67108863,_=Math.min(b,P.length-1),D=Math.max(0,b-k.length+1);D<=_;D++){var S=b-D,A=k.words[S]|0,N=P.words[D]|0,G=A*N,Q=G&67108863;v=v+(G/67108864|0)|0,Q=Q+w|0,w=Q&67108863,v=v+(Q>>>26)|0,h+=v>>>26,v&=67108863}p.words[b]=w,d=v,v=h}return d!==0?p.words[b]=d:p.length--,p.strip()}function M(k,P,p){var d=new I;return d.mulp(k,P,p)}o.prototype.mulTo=function(k,P){var p,d=this.length+k.length;return this.length===10&&k.length===10?p=x(this,k,P):d<63?p=E(this,k,P):d<1024?p=T(this,k,P):p=M(this,k,P),p};function I(k,P){this.x=k,this.y=P}I.prototype.makeRBT=function(k){for(var P=new Array(k),p=o.prototype._countBits(k)-1,d=0;d<k;d++)P[d]=this.revBin(d,p,k);return P},I.prototype.revBin=function(k,P,p){if(k===0||k===p-1)return k;for(var d=0,h=0;h<P;h++)d|=(k&1)<<P-h-1,k>>=1;return d},I.prototype.permute=function(k,P,p,d,h,b){for(var v=0;v<b;v++)d[v]=P[k[v]],h[v]=p[k[v]]},I.prototype.transform=function(k,P,p,d,h,b){this.permute(b,k,P,p,d,h);for(var v=1;v<h;v<<=1)for(var w=v<<1,_=Math.cos(2*Math.PI/w),D=Math.sin(2*Math.PI/w),S=0;S<h;S+=w)for(var A=_,N=D,G=0;G<v;G++){var Q=p[S+G],ne=d[S+G],H=p[S+G+v],Z=d[S+G+v],ie=A*H-N*Z;Z=A*Z+N*H,H=ie,p[S+G]=Q+H,d[S+G]=ne+Z,p[S+G+v]=Q-H,d[S+G+v]=ne-Z,G!==w&&(ie=_*A-D*N,N=_*N+D*A,A=ie)}},I.prototype.guessLen13b=function(k,P){var p=Math.max(P,k)|1,d=p&1,h=0;for(p=p/2|0;p;p=p>>>1)h++;return 1<<h+1+d},I.prototype.conjugate=function(k,P,p){if(!(p<=1))for(var d=0;d<p/2;d++){var h=k[d];k[d]=k[p-d-1],k[p-d-1]=h,h=P[d],P[d]=-P[p-d-1],P[p-d-1]=-h}},I.prototype.normalize13b=function(k,P){for(var p=0,d=0;d<P/2;d++){var h=Math.round(k[2*d+1]/P)*8192+Math.round(k[2*d]/P)+p;k[d]=h&67108863,h<67108864?p=0:p=h/67108864|0}return k},I.prototype.convert13b=function(k,P,p,d){for(var h=0,b=0;b<P;b++)h=h+(k[b]|0),p[2*b]=h&8191,h=h>>>13,p[2*b+1]=h&8191,h=h>>>13;for(b=2*P;b<d;++b)p[b]=0;n(h===0),n((h&-8192)===0)},I.prototype.stub=function(k){for(var P=new Array(k),p=0;p<k;p++)P[p]=0;return P},I.prototype.mulp=function(k,P,p){var d=2*this.guessLen13b(k.length,P.length),h=this.makeRBT(d),b=this.stub(d),v=new Array(d),w=new Array(d),_=new Array(d),D=new Array(d),S=new Array(d),A=new Array(d),N=p.words;N.length=d,this.convert13b(k.words,k.length,v,d),this.convert13b(P.words,P.length,D,d),this.transform(v,b,w,_,d,h),this.transform(D,b,S,A,d,h);for(var G=0;G<d;G++){var Q=w[G]*S[G]-_[G]*A[G];_[G]=w[G]*A[G]+_[G]*S[G],w[G]=Q}return this.conjugate(w,_,d),this.transform(w,_,N,b,d,h),this.conjugate(N,b,d),this.normalize13b(N,d),p.negative=k.negative^P.negative,p.length=k.length+P.length,p.strip()},o.prototype.mul=function(k){var P=new o(null);return P.words=new Array(this.length+k.length),this.mulTo(k,P)},o.prototype.mulf=function(k){var P=new o(null);return P.words=new Array(this.length+k.length),M(this,k,P)},o.prototype.imul=function(k){return this.clone().mulTo(k,this)},o.prototype.imuln=function(k){n(typeof k=="number"),n(k<67108864);for(var P=0,p=0;p<this.length;p++){var d=(this.words[p]|0)*k,h=(d&67108863)+(P&67108863);P>>=26,P+=d/67108864|0,P+=h>>>26,this.words[p]=h&67108863}return P!==0&&(this.words[p]=P,this.length++),this},o.prototype.muln=function(k){return this.clone().imuln(k)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(k){var P=g(k);if(P.length===0)return new o(1);for(var p=this,d=0;d<P.length&&P[d]===0;d++,p=p.sqr());if(++d<P.length)for(var h=p.sqr();d<P.length;d++,h=h.sqr())P[d]!==0&&(p=p.mul(h));return p},o.prototype.iushln=function(k){n(typeof k=="number"&&k>=0);var P=k%26,p=(k-P)/26,d=67108863>>>26-P<<26-P,h;if(P!==0){var b=0;for(h=0;h<this.length;h++){var v=this.words[h]&d,w=(this.words[h]|0)-v<<P;this.words[h]=w|b,b=v>>>26-P}b&&(this.words[h]=b,this.length++)}if(p!==0){for(h=this.length-1;h>=0;h--)this.words[h+p]=this.words[h];for(h=0;h<p;h++)this.words[h]=0;this.length+=p}return this.strip()},o.prototype.ishln=function(k){return n(this.negative===0),this.iushln(k)},o.prototype.iushrn=function(k,P,p){n(typeof k=="number"&&k>=0);var d;P?d=(P-P%26)/26:d=0;var h=k%26,b=Math.min((k-h)/26,this.length),v=67108863^67108863>>>h<<h,w=p;if(d-=b,d=Math.max(0,d),w){for(var _=0;_<b;_++)w.words[_]=this.words[_];w.length=b}if(b!==0)if(this.length>b)for(this.length-=b,_=0;_<this.length;_++)this.words[_]=this.words[_+b];else this.words[0]=0,this.length=1;var D=0;for(_=this.length-1;_>=0&&(D!==0||_>=d);_--){var S=this.words[_]|0;this.words[_]=D<<26-h|S>>>h,D=S&v}return w&&D!==0&&(w.words[w.length++]=D),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(k,P,p){return n(this.negative===0),this.iushrn(k,P,p)},o.prototype.shln=function(k){return this.clone().ishln(k)},o.prototype.ushln=function(k){return this.clone().iushln(k)},o.prototype.shrn=function(k){return this.clone().ishrn(k)},o.prototype.ushrn=function(k){return this.clone().iushrn(k)},o.prototype.testn=function(k){n(typeof k=="number"&&k>=0);var P=k%26,p=(k-P)/26,d=1<<P;if(this.length<=p)return!1;var h=this.words[p];return!!(h&d)},o.prototype.imaskn=function(k){n(typeof k=="number"&&k>=0);var P=k%26,p=(k-P)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(P!==0&&p++,this.length=Math.min(p,this.length),P!==0){var d=67108863^67108863>>>P<<P;this.words[this.length-1]&=d}return this.strip()},o.prototype.maskn=function(k){return this.clone().imaskn(k)},o.prototype.iaddn=function(k){return n(typeof k=="number"),n(k<67108864),k<0?this.isubn(-k):this.negative!==0?this.length===1&&(this.words[0]|0)<k?(this.words[0]=k-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(k),this.negative=1,this):this._iaddn(k)},o.prototype._iaddn=function(k){this.words[0]+=k;for(var P=0;P<this.length&&this.words[P]>=67108864;P++)this.words[P]-=67108864,P===this.length-1?this.words[P+1]=1:this.words[P+1]++;return this.length=Math.max(this.length,P+1),this},o.prototype.isubn=function(k){if(n(typeof k=="number"),n(k<67108864),k<0)return this.iaddn(-k);if(this.negative!==0)return this.negative=0,this.iaddn(k),this.negative=1,this;if(this.words[0]-=k,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var P=0;P<this.length&&this.words[P]<0;P++)this.words[P]+=67108864,this.words[P+1]-=1;return this.strip()},o.prototype.addn=function(k){return this.clone().iaddn(k)},o.prototype.subn=function(k){return this.clone().isubn(k)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(k,P,p){var d=k.length+p,h;this._expand(d);var b,v=0;for(h=0;h<k.length;h++){b=(this.words[h+p]|0)+v;var w=(k.words[h]|0)*P;b-=w&67108863,v=(b>>26)-(w/67108864|0),this.words[h+p]=b&67108863}for(;h<this.length-p;h++)b=(this.words[h+p]|0)+v,v=b>>26,this.words[h+p]=b&67108863;if(v===0)return this.strip();for(n(v===-1),v=0,h=0;h<this.length;h++)b=-(this.words[h]|0)+v,v=b>>26,this.words[h]=b&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(k,P){var p=this.length-k.length,d=this.clone(),h=k,b=h.words[h.length-1]|0,v=this._countBits(b);p=26-v,p!==0&&(h=h.ushln(p),d.iushln(p),b=h.words[h.length-1]|0);var w=d.length-h.length,_;if(P!=="mod"){_=new o(null),_.length=w+1,_.words=new Array(_.length);for(var D=0;D<_.length;D++)_.words[D]=0}var S=d.clone()._ishlnsubmul(h,1,w);S.negative===0&&(d=S,_&&(_.words[w]=1));for(var A=w-1;A>=0;A--){var N=(d.words[h.length+A]|0)*67108864+(d.words[h.length+A-1]|0);for(N=Math.min(N/b|0,67108863),d._ishlnsubmul(h,N,A);d.negative!==0;)N--,d.negative=0,d._ishlnsubmul(h,1,A),d.isZero()||(d.negative^=1);_&&(_.words[A]=N)}return _&&_.strip(),d.strip(),P!=="div"&&p!==0&&d.iushrn(p),{div:_||null,mod:d}},o.prototype.divmod=function(k,P,p){if(n(!k.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var d,h,b;return this.negative!==0&&k.negative===0?(b=this.neg().divmod(k,P),P!=="mod"&&(d=b.div.neg()),P!=="div"&&(h=b.mod.neg(),p&&h.negative!==0&&h.iadd(k)),{div:d,mod:h}):this.negative===0&&k.negative!==0?(b=this.divmod(k.neg(),P),P!=="mod"&&(d=b.div.neg()),{div:d,mod:b.mod}):this.negative&k.negative?(b=this.neg().divmod(k.neg(),P),P!=="div"&&(h=b.mod.neg(),p&&h.negative!==0&&h.isub(k)),{div:b.div,mod:h}):k.length>this.length||this.cmp(k)<0?{div:new o(0),mod:this}:k.length===1?P==="div"?{div:this.divn(k.words[0]),mod:null}:P==="mod"?{div:null,mod:new o(this.modn(k.words[0]))}:{div:this.divn(k.words[0]),mod:new o(this.modn(k.words[0]))}:this._wordDiv(k,P)},o.prototype.div=function(k){return this.divmod(k,"div",!1).div},o.prototype.mod=function(k){return this.divmod(k,"mod",!1).mod},o.prototype.umod=function(k){return this.divmod(k,"mod",!0).mod},o.prototype.divRound=function(k){var P=this.divmod(k);if(P.mod.isZero())return P.div;var p=P.div.negative!==0?P.mod.isub(k):P.mod,d=k.ushrn(1),h=k.andln(1),b=p.cmp(d);return b<0||h===1&&b===0?P.div:P.div.negative!==0?P.div.isubn(1):P.div.iaddn(1)},o.prototype.modn=function(k){n(k<=67108863);for(var P=(1<<26)%k,p=0,d=this.length-1;d>=0;d--)p=(P*p+(this.words[d]|0))%k;return p},o.prototype.idivn=function(k){n(k<=67108863);for(var P=0,p=this.length-1;p>=0;p--){var d=(this.words[p]|0)+P*67108864;this.words[p]=d/k|0,P=d%k}return this.strip()},o.prototype.divn=function(k){return this.clone().idivn(k)},o.prototype.egcd=function(k){n(k.negative===0),n(!k.isZero());var P=this,p=k.clone();P.negative!==0?P=P.umod(k):P=P.clone();for(var d=new o(1),h=new o(0),b=new o(0),v=new o(1),w=0;P.isEven()&&p.isEven();)P.iushrn(1),p.iushrn(1),++w;for(var _=p.clone(),D=P.clone();!P.isZero();){for(var S=0,A=1;!(P.words[0]&A)&&S<26;++S,A<<=1);if(S>0)for(P.iushrn(S);S-- >0;)(d.isOdd()||h.isOdd())&&(d.iadd(_),h.isub(D)),d.iushrn(1),h.iushrn(1);for(var N=0,G=1;!(p.words[0]&G)&&N<26;++N,G<<=1);if(N>0)for(p.iushrn(N);N-- >0;)(b.isOdd()||v.isOdd())&&(b.iadd(_),v.isub(D)),b.iushrn(1),v.iushrn(1);P.cmp(p)>=0?(P.isub(p),d.isub(b),h.isub(v)):(p.isub(P),b.isub(d),v.isub(h))}return{a:b,b:v,gcd:p.iushln(w)}},o.prototype._invmp=function(k){n(k.negative===0),n(!k.isZero());var P=this,p=k.clone();P.negative!==0?P=P.umod(k):P=P.clone();for(var d=new o(1),h=new o(0),b=p.clone();P.cmpn(1)>0&&p.cmpn(1)>0;){for(var v=0,w=1;!(P.words[0]&w)&&v<26;++v,w<<=1);if(v>0)for(P.iushrn(v);v-- >0;)d.isOdd()&&d.iadd(b),d.iushrn(1);for(var _=0,D=1;!(p.words[0]&D)&&_<26;++_,D<<=1);if(_>0)for(p.iushrn(_);_-- >0;)h.isOdd()&&h.iadd(b),h.iushrn(1);P.cmp(p)>=0?(P.isub(p),d.isub(h)):(p.isub(P),h.isub(d))}var S;return P.cmpn(1)===0?S=d:S=h,S.cmpn(0)<0&&S.iadd(k),S},o.prototype.gcd=function(k){if(this.isZero())return k.abs();if(k.isZero())return this.abs();var P=this.clone(),p=k.clone();P.negative=0,p.negative=0;for(var d=0;P.isEven()&&p.isEven();d++)P.iushrn(1),p.iushrn(1);do{for(;P.isEven();)P.iushrn(1);for(;p.isEven();)p.iushrn(1);var h=P.cmp(p);if(h<0){var b=P;P=p,p=b}else if(h===0||p.cmpn(1)===0)break;P.isub(p)}while(!0);return p.iushln(d)},o.prototype.invm=function(k){return this.egcd(k).a.umod(k)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(k){return this.words[0]&k},o.prototype.bincn=function(k){n(typeof k=="number");var P=k%26,p=(k-P)/26,d=1<<P;if(this.length<=p)return this._expand(p+1),this.words[p]|=d,this;for(var h=d,b=p;h!==0&&b<this.length;b++){var v=this.words[b]|0;v+=h,h=v>>>26,v&=67108863,this.words[b]=v}return h!==0&&(this.words[b]=h,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(k){var P=k<0;if(this.negative!==0&&!P)return-1;if(this.negative===0&&P)return 1;this.strip();var p;if(this.length>1)p=1;else{P&&(k=-k),n(k<=67108863,"Number is too big");var d=this.words[0]|0;p=d===k?0:d<k?-1:1}return this.negative!==0?-p|0:p},o.prototype.cmp=function(k){if(this.negative!==0&&k.negative===0)return-1;if(this.negative===0&&k.negative!==0)return 1;var P=this.ucmp(k);return this.negative!==0?-P|0:P},o.prototype.ucmp=function(k){if(this.length>k.length)return 1;if(this.length<k.length)return-1;for(var P=0,p=this.length-1;p>=0;p--){var d=this.words[p]|0,h=k.words[p]|0;if(d!==h){d<h?P=-1:d>h&&(P=1);break}}return P},o.prototype.gtn=function(k){return this.cmpn(k)===1},o.prototype.gt=function(k){return this.cmp(k)===1},o.prototype.gten=function(k){return this.cmpn(k)>=0},o.prototype.gte=function(k){return this.cmp(k)>=0},o.prototype.ltn=function(k){return this.cmpn(k)===-1},o.prototype.lt=function(k){return this.cmp(k)===-1},o.prototype.lten=function(k){return this.cmpn(k)<=0},o.prototype.lte=function(k){return this.cmp(k)<=0},o.prototype.eqn=function(k){return this.cmpn(k)===0},o.prototype.eq=function(k){return this.cmp(k)===0},o.red=function(k){return new L(k)},o.prototype.toRed=function(k){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),k.convertTo(this)._forceRed(k)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(k){return this.red=k,this},o.prototype.forceRed=function(k){return n(!this.red,"Already a number in reduction context"),this._forceRed(k)},o.prototype.redAdd=function(k){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,k)},o.prototype.redIAdd=function(k){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,k)},o.prototype.redSub=function(k){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,k)},o.prototype.redISub=function(k){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,k)},o.prototype.redShl=function(k){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,k)},o.prototype.redMul=function(k){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.mul(this,k)},o.prototype.redIMul=function(k){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.imul(this,k)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(k){return n(this.red&&!k.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,k)};var R={k256:null,p224:null,p192:null,p25519:null};function O(k,P){this.name=k,this.p=new o(P,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var k=new o(null);return k.words=new Array(Math.ceil(this.n/13)),k},O.prototype.ireduce=function(k){var P=k,p;do this.split(P,this.tmp),P=this.imulK(P),P=P.iadd(this.tmp),p=P.bitLength();while(p>this.n);var d=p<this.n?-1:P.ucmp(this.p);return d===0?(P.words[0]=0,P.length=1):d>0?P.isub(this.p):P.strip!==void 0?P.strip():P._strip(),P},O.prototype.split=function(k,P){k.iushrn(this.n,0,P)},O.prototype.imulK=function(k){return k.imul(this.k)};function B(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(B,O),B.prototype.split=function(k,P){for(var p=4194303,d=Math.min(k.length,9),h=0;h<d;h++)P.words[h]=k.words[h];if(P.length=d,k.length<=9){k.words[0]=0,k.length=1;return}var b=k.words[9];for(P.words[P.length++]=b&p,h=10;h<k.length;h++){var v=k.words[h]|0;k.words[h-10]=(v&p)<<4|b>>>22,b=v}b>>>=22,k.words[h-10]=b,b===0&&k.length>10?k.length-=10:k.length-=9},B.prototype.imulK=function(k){k.words[k.length]=0,k.words[k.length+1]=0,k.length+=2;for(var P=0,p=0;p<k.length;p++){var d=k.words[p]|0;P+=d*977,k.words[p]=P&67108863,P=d*64+(P/67108864|0)}return k.words[k.length-1]===0&&(k.length--,k.words[k.length-1]===0&&k.length--),k};function C(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(C,O);function U(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(U,O);function W(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(W,O),W.prototype.imulK=function(k){for(var P=0,p=0;p<k.length;p++){var d=(k.words[p]|0)*19+P,h=d&67108863;d>>>=26,k.words[p]=h,P=d}return P!==0&&(k.words[k.length++]=P),k},o._prime=function(k){if(R[k])return R[k];var P;if(k==="k256")P=new B;else if(k==="p224")P=new C;else if(k==="p192")P=new U;else if(k==="p25519")P=new W;else throw new Error("Unknown prime "+k);return R[k]=P,P};function L(k){if(typeof k=="string"){var P=o._prime(k);this.m=P.p,this.prime=P}else n(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}L.prototype._verify1=function(k){n(k.negative===0,"red works only with positives"),n(k.red,"red works only with red numbers")},L.prototype._verify2=function(k,P){n((k.negative|P.negative)===0,"red works only with positives"),n(k.red&&k.red===P.red,"red works only with red numbers")},L.prototype.imod=function(k){return this.prime?this.prime.ireduce(k)._forceRed(this):k.umod(this.m)._forceRed(this)},L.prototype.neg=function(k){return k.isZero()?k.clone():this.m.sub(k)._forceRed(this)},L.prototype.add=function(k,P){this._verify2(k,P);var p=k.add(P);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},L.prototype.iadd=function(k,P){this._verify2(k,P);var p=k.iadd(P);return p.cmp(this.m)>=0&&p.isub(this.m),p},L.prototype.sub=function(k,P){this._verify2(k,P);var p=k.sub(P);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},L.prototype.isub=function(k,P){this._verify2(k,P);var p=k.isub(P);return p.cmpn(0)<0&&p.iadd(this.m),p},L.prototype.shl=function(k,P){return this._verify1(k),this.imod(k.ushln(P))},L.prototype.imul=function(k,P){return this._verify2(k,P),this.imod(k.imul(P))},L.prototype.mul=function(k,P){return this._verify2(k,P),this.imod(k.mul(P))},L.prototype.isqr=function(k){return this.imul(k,k.clone())},L.prototype.sqr=function(k){return this.mul(k,k)},L.prototype.sqrt=function(k){if(k.isZero())return k.clone();var P=this.m.andln(3);if(n(P%2===1),P===3){var p=this.m.add(new o(1)).iushrn(2);return this.pow(k,p)}for(var d=this.m.subn(1),h=0;!d.isZero()&&d.andln(1)===0;)h++,d.iushrn(1);n(!d.isZero());var b=new o(1).toRed(this),v=b.redNeg(),w=this.m.subn(1).iushrn(1),_=this.m.bitLength();for(_=new o(2*_*_).toRed(this);this.pow(_,w).cmp(v)!==0;)_.redIAdd(v);for(var D=this.pow(_,d),S=this.pow(k,d.addn(1).iushrn(1)),A=this.pow(k,d),N=h;A.cmp(b)!==0;){for(var G=A,Q=0;G.cmp(b)!==0;Q++)G=G.redSqr();n(Q<N);var ne=this.pow(D,new o(1).iushln(N-Q-1));S=S.redMul(ne),D=ne.redSqr(),A=A.redMul(D),N=Q}return S},L.prototype.invm=function(k){var P=k._invmp(this.m);return P.negative!==0?(P.negative=0,this.imod(P).redNeg()):this.imod(P)},L.prototype.pow=function(k,P){if(P.isZero())return new o(1).toRed(this);if(P.cmpn(1)===0)return k.clone();var p=4,d=new Array(1<<p);d[0]=new o(1).toRed(this),d[1]=k;for(var h=2;h<d.length;h++)d[h]=this.mul(d[h-1],k);var b=d[0],v=0,w=0,_=P.bitLength()%26;for(_===0&&(_=26),h=P.length-1;h>=0;h--){for(var D=P.words[h],S=_-1;S>=0;S--){var A=D>>S&1;if(b!==d[0]&&(b=this.sqr(b)),A===0&&v===0){w=0;continue}v<<=1,v|=A,w++,!(w!==p&&(h!==0||S!==0))&&(b=this.mul(b,d[v]),w=0,v=0)}_=26}return b},L.prototype.convertTo=function(k){var P=k.umod(this.m);return P===k?P.clone():P},L.prototype.convertFrom=function(k){var P=k.clone();return P.red=null,P},o.mont=function(k){return new j(k)};function j(k){L.call(this,k),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(j,L),j.prototype.convertTo=function(k){return this.imod(k.ushln(this.shift))},j.prototype.convertFrom=function(k){var P=this.imod(k.mul(this.rinv));return P.red=null,P},j.prototype.imul=function(k,P){if(k.isZero()||P.isZero())return k.words[0]=0,k.length=1,k;var p=k.imul(P),d=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),h=p.isub(d).iushrn(this.shift),b=h;return h.cmp(this.m)>=0?b=h.isub(this.m):h.cmpn(0)<0&&(b=h.iadd(this.m)),b._forceRed(this)},j.prototype.mul=function(k,P){if(k.isZero()||P.isZero())return new o(0)._forceRed(this);var p=k.mul(P),d=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),h=p.isub(d).iushrn(this.shift),b=h;return h.cmp(this.m)>=0?b=h.isub(this.m):h.cmpn(0)<0&&(b=h.iadd(this.m)),b._forceRed(this)},j.prototype.invm=function(k){var P=this.imod(k._invmp(this.m).mul(this.r2));return P._forceRed(this)}}(typeof e>"u"||e,t)}),Pj=he((t,e)=>{ee();var r;e.exports=function(s){return r||(r=new i(null)),r.generate(s)};function i(s){this.rand=s}if(e.exports.Rand=i,i.prototype.generate=function(s){return this._rand(s)},i.prototype._rand=function(s){if(this.rand.getBytes)return this.rand.getBytes(s);for(var o=new Uint8Array(s),a=0;a<o.length;a++)o[a]=this.rand.getByte();return o},typeof self=="object")self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(s){var o=new Uint8Array(s);return self.crypto.getRandomValues(o),o}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(s){var o=new Uint8Array(s);return self.msCrypto.getRandomValues(o),o}:typeof window=="object"&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(n=iv(),typeof n.randomBytes!="function")throw new Error("Not supported");i.prototype._rand=function(s){return n.randomBytes(s)}}catch{}var n}),Cde=he((t,e)=>{ee();var r=ss(),i=Pj();function n(s){this.rand=s||new i.Rand}e.exports=n,n.create=function(s){return new n(s)},n.prototype._randbelow=function(s){var o=s.bitLength(),a=Math.ceil(o/8);do var f=new r(this.rand.generate(a));while(f.cmp(s)>=0);return f},n.prototype._randrange=function(s,o){var a=o.sub(s);return s.add(this._randbelow(a))},n.prototype.test=function(s,o,a){var f=s.bitLength(),c=r.mont(s),u=new r(1).toRed(c);o||(o=Math.max(1,f/48|0));for(var l=s.subn(1),y=0;!l.testn(y);y++);for(var m=s.shrn(y),g=l.toRed(c),E=!0;o>0;o--){var x=this._randrange(new r(2),l);a&&a(x);var T=x.toRed(c).redPow(m);if(!(T.cmp(u)===0||T.cmp(g)===0)){for(var M=1;M<y;M++){if(T=T.redSqr(),T.cmp(u)===0)return!1;if(T.cmp(g)===0)break}if(M===y)return!1}}return E},n.prototype.getDivisor=function(s,o){var a=s.bitLength(),f=r.mont(s),c=new r(1).toRed(f);o||(o=Math.max(1,a/48|0));for(var u=s.subn(1),l=0;!u.testn(l);l++);for(var y=s.shrn(l),m=u.toRed(f);o>0;o--){var g=this._randrange(new r(2),u),E=s.gcd(g);if(E.cmpn(1)!==0)return E;var x=g.toRed(f).redPow(y);if(!(x.cmp(c)===0||x.cmp(m)===0)){for(var T=1;T<l;T++){if(x=x.redSqr(),x.cmp(c)===0)return x.fromRed().subn(1).gcd(s);if(x.cmp(m)===0)break}if(T===l)return x=x.redSqr(),x.fromRed().subn(1).gcd(s)}}return!1}}),Ode=he((t,e)=>{ee();var r=Jb();e.exports=B,B.simpleSieve=R,B.fermatTest=O;var i=ss(),n=new i(24),s=Cde(),o=new s,a=new i(1),f=new i(2),c=new i(5),u=new i(16),l=new i(8),y=new i(10),m=new i(3),g=new i(7),E=new i(11),x=new i(4),T=new i(12),M=null;function I(){if(M!==null)return M;var C=1048576,U=[];U[0]=2;for(var W=1,L=3;L<C;L+=2){for(var j=Math.ceil(Math.sqrt(L)),k=0;k<W&&U[k]<=j&&L%U[k]!==0;k++);W!==k&&U[k]<=j||(U[W++]=L)}return M=U,U}function R(C){for(var U=I(),W=0;W<U.length;W++)if(C.modn(U[W])===0)return C.cmpn(U[W])===0;return!0}function O(C){var U=i.mont(C);return f.toRed(U).redPow(C.subn(1)).fromRed().cmpn(1)===0}function B(C,U){if(C<16)return U===2||U===5?new i([140,123]):new i([140,39]);U=new i(U);for(var W,L;;){for(W=new i(r(Math.ceil(C/8)));W.bitLength()>C;)W.ishrn(1);if(W.isEven()&&W.iadd(a),W.testn(1)||W.iadd(f),U.cmp(f)){if(!U.cmp(c))for(;W.mod(y).cmp(m);)W.iadd(x)}else for(;W.mod(n).cmp(E);)W.iadd(x);if(L=W.shrn(1),R(L)&&R(W)&&O(L)&&O(W)&&o.test(L)&&o.test(W))return W}}}),INe=he((t,e)=>{e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}}),RNe=he((t,e)=>{ee();var r=ss(),i=Cde(),n=new i,s=new r(24),o=new r(11),a=new r(10),f=new r(3),c=new r(7),u=Ode(),l=Jb();e.exports=x;function y(M,I){return I=I||"utf8",Rt.Buffer.isBuffer(M)||(M=new Rt.Buffer(M,I)),this._pub=new r(M),this}function m(M,I){return I=I||"utf8",Rt.Buffer.isBuffer(M)||(M=new Rt.Buffer(M,I)),this._priv=new r(M),this}var g={};function E(M,I){var R=I.toString("hex"),O=[R,M.toString(16)].join("_");if(O in g)return g[O];var B=0;if(M.isEven()||!u.simpleSieve||!u.fermatTest(M)||!n.test(M))return B+=1,R==="02"||R==="05"?B+=8:B+=4,g[O]=B,B;n.test(M.shrn(1))||(B+=2);var C;switch(R){case"02":M.mod(s).cmp(o)&&(B+=8);break;case"05":C=M.mod(a),C.cmp(f)&&C.cmp(c)&&(B+=8);break;default:B+=4}return g[O]=B,B}function x(M,I,R){this.setGenerator(I),this.__prime=new r(M),this._prime=r.mont(this.__prime),this._primeLen=M.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,R?(this.setPublicKey=y,this.setPrivateKey=m):this._primeCode=8}Object.defineProperty(x.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=E(this.__prime,this.__gen)),this._primeCode}}),x.prototype.generateKeys=function(){return this._priv||(this._priv=new r(l(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},x.prototype.computeSecret=function(M){M=new r(M),M=M.toRed(this._prime);var I=M.redPow(this._priv).fromRed(),R=new Rt.Buffer(I.toArray()),O=this.getPrime();if(R.length<O.length){var B=new Rt.Buffer(O.length-R.length);B.fill(0),R=Rt.Buffer.concat([B,R])}return R},x.prototype.getPublicKey=function(M){return T(this._pub,M)},x.prototype.getPrivateKey=function(M){return T(this._priv,M)},x.prototype.getPrime=function(M){return T(this.__prime,M)},x.prototype.getGenerator=function(M){return T(this._gen,M)},x.prototype.setGenerator=function(M,I){return I=I||"utf8",Rt.Buffer.isBuffer(M)||(M=new Rt.Buffer(M,I)),this.__gen=M,this._gen=new r(M),this};function T(M,I){var R=new Rt.Buffer(M.toArray());return I?R.toString(I):R}}),BNe=he(t=>{ee();var e=Ode(),r=INe(),i=RNe();function n(a){var f=new Rt.Buffer(r[a].prime,"hex"),c=new Rt.Buffer(r[a].gen,"hex");return new i(f,c)}var s={binary:!0,hex:!0,base64:!0};function o(a,f,c,u){return Rt.Buffer.isBuffer(f)||s[f]===void 0?o(a,"binary",f,c):(f=f||"binary",u=u||"binary",c=c||new Rt.Buffer([2]),Rt.Buffer.isBuffer(c)||(c=new Rt.Buffer(c,u)),typeof a=="number"?new i(e(a,c),c,!0):(Rt.Buffer.isBuffer(a)||(a=new Rt.Buffer(a,f)),new i(a,c,!0)))}t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=n,t.createDiffieHellman=t.DiffieHellman=o}),Dj=he((t,e)=>{ee();var r=ji(),i=r.Buffer;function n(o,a){for(var f in o)a[f]=o[f]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(n(r,t),t.Buffer=s);function s(o,a,f){return i(o,a,f)}s.prototype=Object.create(i.prototype),n(i,s),s.from=function(o,a,f){if(typeof o=="number")throw new TypeError("Argument must not be a number");return i(o,a,f)},s.alloc=function(o,a,f){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=i(o);return a!==void 0?typeof f=="string"?c.fill(a,f):c.fill(a):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return i(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}),jde=he((t,e)=>{ee(),e.exports=nc().EventEmitter}),CNe=he((t,e)=>{"use strict";ee();function r(x,T){var M=Object.keys(x);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(x);T&&(I=I.filter(function(R){return Object.getOwnPropertyDescriptor(x,R).enumerable})),M.push.apply(M,I)}return M}function i(x){for(var T=1;T<arguments.length;T++){var M=arguments[T]!=null?arguments[T]:{};T%2?r(Object(M),!0).forEach(function(I){n(x,I,M[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(M)):r(Object(M)).forEach(function(I){Object.defineProperty(x,I,Object.getOwnPropertyDescriptor(M,I))})}return x}function n(x,T,M){return T=f(T),T in x?Object.defineProperty(x,T,{value:M,enumerable:!0,configurable:!0,writable:!0}):x[T]=M,x}function s(x,T){if(!(x instanceof T))throw new TypeError("Cannot call a class as a function")}function o(x,T){for(var M=0;M<T.length;M++){var I=T[M];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(x,f(I.key),I)}}function a(x,T,M){return T&&o(x.prototype,T),M&&o(x,M),Object.defineProperty(x,"prototype",{writable:!1}),x}function f(x){var T=c(x,"string");return typeof T=="symbol"?T:String(T)}function c(x,T){if(typeof x!="object"||x===null)return x;var M=x[Symbol.toPrimitive];if(M!==void 0){var I=M.call(x,T||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(x)}var u=ji(),l=u.Buffer,y=Xb(),m=y.inspect,g=m&&m.custom||"inspect";function E(x,T,M){l.prototype.copy.call(x,T,M)}e.exports=function(){function x(){s(this,x),this.head=null,this.tail=null,this.length=0}return a(x,[{key:"push",value:function(T){var M={data:T,next:null};this.length>0?this.tail.next=M:this.head=M,this.tail=M,++this.length}},{key:"unshift",value:function(T){var M={data:T,next:this.head};this.length===0&&(this.tail=M),this.head=M,++this.length}},{key:"shift",value:function(){if(this.length!==0){var T=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,T}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(T){if(this.length===0)return"";for(var M=this.head,I=""+M.data;M=M.next;)I+=T+M.data;return I}},{key:"concat",value:function(T){if(this.length===0)return l.alloc(0);for(var M=l.allocUnsafe(T>>>0),I=this.head,R=0;I;)E(I.data,M,R),R+=I.data.length,I=I.next;return M}},{key:"consume",value:function(T,M){var I;return T<this.head.data.length?(I=this.head.data.slice(0,T),this.head.data=this.head.data.slice(T)):T===this.head.data.length?I=this.shift():I=M?this._getString(T):this._getBuffer(T),I}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(T){var M=this.head,I=1,R=M.data;for(T-=R.length;M=M.next;){var O=M.data,B=T>O.length?O.length:T;if(B===O.length?R+=O:R+=O.slice(0,T),T-=B,T===0){B===O.length?(++I,M.next?this.head=M.next:this.head=this.tail=null):(this.head=M,M.data=O.slice(B));break}++I}return this.length-=I,R}},{key:"_getBuffer",value:function(T){var M=l.allocUnsafe(T),I=this.head,R=1;for(I.data.copy(M),T-=I.data.length;I=I.next;){var O=I.data,B=T>O.length?O.length:T;if(O.copy(M,M.length-T,0,B),T-=B,T===0){B===O.length?(++R,I.next?this.head=I.next:this.head=this.tail=null):(this.head=I,I.data=O.slice(B));break}++R}return this.length-=R,M}},{key:g,value:function(T,M){return m(this,i(i({},M),{},{depth:0,customInspect:!1}))}}]),x}()}),Lde=he((t,e)=>{"use strict";ee();function r(f,c){var u=this,l=this._readableState&&this._readableState.destroyed,y=this._writableState&&this._writableState.destroyed;return l||y?(c?c(f):f&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Fe.default.nextTick(o,this,f)):Fe.default.nextTick(o,this,f)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(f||null,function(m){!c&&m?u._writableState?u._writableState.errorEmitted?Fe.default.nextTick(n,u):(u._writableState.errorEmitted=!0,Fe.default.nextTick(i,u,m)):Fe.default.nextTick(i,u,m):c?(Fe.default.nextTick(n,u),c(m)):Fe.default.nextTick(n,u)}),this)}function i(f,c){o(f,c),n(f)}function n(f){f._writableState&&!f._writableState.emitClose||f._readableState&&!f._readableState.emitClose||f.emit("close")}function s(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(f,c){f.emit("error",c)}function a(f,c){var u=f._readableState,l=f._writableState;u&&u.autoDestroy||l&&l.autoDestroy?f.destroy(c):f.emit("error",c)}e.exports={destroy:r,undestroy:s,errorOrDestroy:a}}),rv=he((t,e)=>{"use strict";ee();function r(c,u){c.prototype=Object.create(u.prototype),c.prototype.constructor=c,c.__proto__=u}var i={};function n(c,u,l){l||(l=Error);function y(g,E,x){return typeof u=="string"?u:u(g,E,x)}var m=function(g){r(E,g);function E(x,T,M){return g.call(this,y(x,T,M))||this}return E}(l);m.prototype.name=l.name,m.prototype.code=c,i[c]=m}function s(c,u){if(Array.isArray(c)){var l=c.length;return c=c.map(function(y){return String(y)}),l>2?"one of ".concat(u," ").concat(c.slice(0,l-1).join(", "),", or ")+c[l-1]:l===2?"one of ".concat(u," ").concat(c[0]," or ").concat(c[1]):"of ".concat(u," ").concat(c[0])}else return"of ".concat(u," ").concat(String(c))}function o(c,u,l){return c.substr(!l||l<0?0:+l,u.length)===u}function a(c,u,l){return(l===void 0||l>c.length)&&(l=c.length),c.substring(l-u.length,l)===u}function f(c,u,l){return typeof l!="number"&&(l=0),l+u.length>c.length?!1:c.indexOf(u,l)!==-1}n("ERR_INVALID_OPT_VALUE",function(c,u){return'The value "'+u+'" is invalid for option "'+c+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(c,u,l){var y;typeof u=="string"&&o(u,"not ")?(y="must not be",u=u.replace(/^not /,"")):y="must be";var m;if(a(c," argument"))m="The ".concat(c," ").concat(y," ").concat(s(u,"type"));else{var g=f(c,".")?"property":"argument";m='The "'.concat(c,'" ').concat(g," ").concat(y," ").concat(s(u,"type"))}return m+=". Received type ".concat(typeof l),m},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=i}),Nde=he((t,e)=>{"use strict";ee();var r=rv().codes.ERR_INVALID_OPT_VALUE;function i(s,o,a){return s.highWaterMark!=null?s.highWaterMark:o?s[a]:null}function n(s,o,a,f){var c=i(o,f,a);if(c!=null){if(!(isFinite(c)&&Math.floor(c)===c)||c<0){var u=f?a:"highWaterMark";throw new r(u,c)}return Math.floor(c)}return s.objectMode?16:16*1024}e.exports={getHighWaterMark:n}}),qde=he((t,e)=>{"use strict";ee(),e.exports=L;function r(H){var Z=this;this.next=null,this.entry=null,this.finish=function(){ne(Z,H)}}var i;L.WritableState=U;var n={deprecate:wj()},s=jde(),o=ji().Buffer,a=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function f(H){return o.from(H)}function c(H){return o.isBuffer(H)||H instanceof a}var u=Lde(),l=Nde(),y=l.getHighWaterMark,m=rv().codes,g=m.ERR_INVALID_ARG_TYPE,E=m.ERR_METHOD_NOT_IMPLEMENTED,x=m.ERR_MULTIPLE_CALLBACK,T=m.ERR_STREAM_CANNOT_PIPE,M=m.ERR_STREAM_DESTROYED,I=m.ERR_STREAM_NULL_VALUES,R=m.ERR_STREAM_WRITE_AFTER_END,O=m.ERR_UNKNOWN_ENCODING,B=u.errorOrDestroy;rr()(L,s);function C(){}function U(H,Z,ie){i=i||Lb(),H=H||{},typeof ie!="boolean"&&(ie=Z instanceof i),this.objectMode=!!H.objectMode,ie&&(this.objectMode=this.objectMode||!!H.writableObjectMode),this.highWaterMark=y(this,H,"writableHighWaterMark",ie),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var fe=H.decodeStrings===!1;this.decodeStrings=!fe,this.defaultEncoding=H.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ue){v(Z,ue)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=H.emitClose!==!1,this.autoDestroy=!!H.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}U.prototype.getBuffer=function(){for(var H=this.bufferedRequest,Z=[];H;)Z.push(H),H=H.next;return Z},function(){try{Object.defineProperty(U.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var W;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(W=Function.prototype[Symbol.hasInstance],Object.defineProperty(L,Symbol.hasInstance,{value:function(H){return W.call(this,H)?!0:this!==L?!1:H&&H._writableState instanceof U}})):W=function(H){return H instanceof this};function L(H){i=i||Lb();var Z=this instanceof i;if(!Z&&!W.call(L,this))return new L(H);this._writableState=new U(H,this,Z),this.writable=!0,H&&(typeof H.write=="function"&&(this._write=H.write),typeof H.writev=="function"&&(this._writev=H.writev),typeof H.destroy=="function"&&(this._destroy=H.destroy),typeof H.final=="function"&&(this._final=H.final)),s.call(this)}L.prototype.pipe=function(){B(this,new T)};function j(H,Z){var ie=new R;B(H,ie),Fe.default.nextTick(Z,ie)}function k(H,Z,ie,fe){var ue;return ie===null?ue=new I:typeof ie!="string"&&!Z.objectMode&&(ue=new g("chunk",["string","Buffer"],ie)),ue?(B(H,ue),Fe.default.nextTick(fe,ue),!1):!0}L.prototype.write=function(H,Z,ie){var fe=this._writableState,ue=!1,ye=!fe.objectMode&&c(H);return ye&&!o.isBuffer(H)&&(H=f(H)),typeof Z=="function"&&(ie=Z,Z=null),ye?Z="buffer":Z||(Z=fe.defaultEncoding),typeof ie!="function"&&(ie=C),fe.ending?j(this,ie):(ye||k(this,fe,H,ie))&&(fe.pendingcb++,ue=p(this,fe,ye,H,Z,ie)),ue},L.prototype.cork=function(){this._writableState.corked++},L.prototype.uncork=function(){var H=this._writableState;H.corked&&(H.corked--,!H.writing&&!H.corked&&!H.bufferProcessing&&H.bufferedRequest&&D(this,H))},L.prototype.setDefaultEncoding=function(H){if(typeof H=="string"&&(H=H.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((H+"").toLowerCase())>-1))throw new O(H);return this._writableState.defaultEncoding=H,this},Object.defineProperty(L.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function P(H,Z,ie){return!H.objectMode&&H.decodeStrings!==!1&&typeof Z=="string"&&(Z=o.from(Z,ie)),Z}Object.defineProperty(L.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function p(H,Z,ie,fe,ue,ye){if(!ie){var $=P(Z,fe,ue);fe!==$&&(ie=!0,ue="buffer",fe=$)}var q=Z.objectMode?1:fe.length;Z.length+=q;var z=Z.length<Z.highWaterMark;if(z||(Z.needDrain=!0),Z.writing||Z.corked){var Y=Z.lastBufferedRequest;Z.lastBufferedRequest={chunk:fe,encoding:ue,isBuf:ie,callback:ye,next:null},Y?Y.next=Z.lastBufferedRequest:Z.bufferedRequest=Z.lastBufferedRequest,Z.bufferedRequestCount+=1}else d(H,Z,!1,q,fe,ue,ye);return z}function d(H,Z,ie,fe,ue,ye,$){Z.writelen=fe,Z.writecb=$,Z.writing=!0,Z.sync=!0,Z.destroyed?Z.onwrite(new M("write")):ie?H._writev(ue,Z.onwrite):H._write(ue,ye,Z.onwrite),Z.sync=!1}function h(H,Z,ie,fe,ue){--Z.pendingcb,ie?(Fe.default.nextTick(ue,fe),Fe.default.nextTick(G,H,Z),H._writableState.errorEmitted=!0,B(H,fe)):(ue(fe),H._writableState.errorEmitted=!0,B(H,fe),G(H,Z))}function b(H){H.writing=!1,H.writecb=null,H.length-=H.writelen,H.writelen=0}function v(H,Z){var ie=H._writableState,fe=ie.sync,ue=ie.writecb;if(typeof ue!="function")throw new x;if(b(ie),Z)h(H,ie,fe,Z,ue);else{var ye=S(ie)||H.destroyed;!ye&&!ie.corked&&!ie.bufferProcessing&&ie.bufferedRequest&&D(H,ie),fe?Fe.default.nextTick(w,H,ie,ye,ue):w(H,ie,ye,ue)}}function w(H,Z,ie,fe){ie||_(H,Z),Z.pendingcb--,fe(),G(H,Z)}function _(H,Z){Z.length===0&&Z.needDrain&&(Z.needDrain=!1,H.emit("drain"))}function D(H,Z){Z.bufferProcessing=!0;var ie=Z.bufferedRequest;if(H._writev&&ie&&ie.next){var fe=Z.bufferedRequestCount,ue=new Array(fe),ye=Z.corkedRequestsFree;ye.entry=ie;for(var $=0,q=!0;ie;)ue[$]=ie,ie.isBuf||(q=!1),ie=ie.next,$+=1;ue.allBuffers=q,d(H,Z,!0,Z.length,ue,"",ye.finish),Z.pendingcb++,Z.lastBufferedRequest=null,ye.next?(Z.corkedRequestsFree=ye.next,ye.next=null):Z.corkedRequestsFree=new r(Z),Z.bufferedRequestCount=0}else{for(;ie;){var z=ie.chunk,Y=ie.encoding,X=ie.callback,re=Z.objectMode?1:z.length;if(d(H,Z,!1,re,z,Y,X),ie=ie.next,Z.bufferedRequestCount--,Z.writing)break}ie===null&&(Z.lastBufferedRequest=null)}Z.bufferedRequest=ie,Z.bufferProcessing=!1}L.prototype._write=function(H,Z,ie){ie(new E("_write()"))},L.prototype._writev=null,L.prototype.end=function(H,Z,ie){var fe=this._writableState;return typeof H=="function"?(ie=H,H=null,Z=null):typeof Z=="function"&&(ie=Z,Z=null),H!=null&&this.write(H,Z),fe.corked&&(fe.corked=1,this.uncork()),fe.ending||Q(this,fe,ie),this},Object.defineProperty(L.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function S(H){return H.ending&&H.length===0&&H.bufferedRequest===null&&!H.finished&&!H.writing}function A(H,Z){H._final(function(ie){Z.pendingcb--,ie&&B(H,ie),Z.prefinished=!0,H.emit("prefinish"),G(H,Z)})}function N(H,Z){!Z.prefinished&&!Z.finalCalled&&(typeof H._final=="function"&&!Z.destroyed?(Z.pendingcb++,Z.finalCalled=!0,Fe.default.nextTick(A,H,Z)):(Z.prefinished=!0,H.emit("prefinish")))}function G(H,Z){var ie=S(Z);if(ie&&(N(H,Z),Z.pendingcb===0&&(Z.finished=!0,H.emit("finish"),Z.autoDestroy))){var fe=H._readableState;(!fe||fe.autoDestroy&&fe.endEmitted)&&H.destroy()}return ie}function Q(H,Z,ie){Z.ending=!0,G(H,Z),ie&&(Z.finished?Fe.default.nextTick(ie):H.once("finish",ie)),Z.ended=!0,H.writable=!1}function ne(H,Z,ie){var fe=H.entry;for(H.entry=null;fe;){var ue=fe.callback;Z.pendingcb--,ue(ie),fe=fe.next}Z.corkedRequestsFree.next=H}Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(H){this._writableState&&(this._writableState.destroyed=H)}}),L.prototype.destroy=u.destroy,L.prototype._undestroy=u.undestroy,L.prototype._destroy=function(H,Z){Z(H)}}),Lb=he((t,e)=>{"use strict";ee();var r=Object.keys||function(l){var y=[];for(var m in l)y.push(m);return y};e.exports=f;var i=zde(),n=qde();for(rr()(f,i),s=r(n.prototype),a=0;a<s.length;a++)o=s[a],f.prototype[o]||(f.prototype[o]=n.prototype[o]);var s,o,a;function f(l){if(!(this instanceof f))return new f(l);i.call(this,l),n.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",c)))}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function c(){this._writableState.ended||Fe.default.nextTick(u,this)}function u(l){l.end()}Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}})}),Ij=he((t,e)=>{"use strict";ee();var r=rv().codes.ERR_STREAM_PREMATURE_CLOSE;function i(a){var f=!1;return function(){if(!f){f=!0;for(var c=arguments.length,u=new Array(c),l=0;l<c;l++)u[l]=arguments[l];a.apply(this,u)}}}function n(){}function s(a){return a.setHeader&&typeof a.abort=="function"}function o(a,f,c){if(typeof f=="function")return o(a,null,f);f||(f={}),c=i(c||n);var u=f.readable||f.readable!==!1&&a.readable,l=f.writable||f.writable!==!1&&a.writable,y=function(){a.writable||g()},m=a._writableState&&a._writableState.finished,g=function(){l=!1,m=!0,u||c.call(a)},E=a._readableState&&a._readableState.endEmitted,x=function(){u=!1,E=!0,l||c.call(a)},T=function(R){c.call(a,R)},M=function(){var R;if(u&&!E)return(!a._readableState||!a._readableState.ended)&&(R=new r),c.call(a,R);if(l&&!m)return(!a._writableState||!a._writableState.ended)&&(R=new r),c.call(a,R)},I=function(){a.req.on("finish",g)};return s(a)?(a.on("complete",g),a.on("abort",M),a.req?I():a.on("request",I)):l&&!a._writableState&&(a.on("end",y),a.on("close",y)),a.on("end",x),a.on("finish",g),f.error!==!1&&a.on("error",T),a.on("close",M),function(){a.removeListener("complete",g),a.removeListener("abort",M),a.removeListener("request",I),a.req&&a.req.removeListener("finish",g),a.removeListener("end",y),a.removeListener("close",y),a.removeListener("finish",g),a.removeListener("end",x),a.removeListener("error",T),a.removeListener("close",M)}}e.exports=o}),ONe=he((t,e)=>{"use strict";ee();var r;function i(O,B,C){return B=n(B),B in O?Object.defineProperty(O,B,{value:C,enumerable:!0,configurable:!0,writable:!0}):O[B]=C,O}function n(O){var B=s(O,"string");return typeof B=="symbol"?B:String(B)}function s(O,B){if(typeof O!="object"||O===null)return O;var C=O[Symbol.toPrimitive];if(C!==void 0){var U=C.call(O,B||"default");if(typeof U!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return(B==="string"?String:Number)(O)}var o=Ij(),a=Symbol("lastResolve"),f=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),y=Symbol("handlePromise"),m=Symbol("stream");function g(O,B){return{value:O,done:B}}function E(O){var B=O[a];if(B!==null){var C=O[m].read();C!==null&&(O[l]=null,O[a]=null,O[f]=null,B(g(C,!1)))}}function x(O){Fe.default.nextTick(E,O)}function T(O,B){return function(C,U){O.then(function(){if(B[u]){C(g(void 0,!0));return}B[y](C,U)},U)}}var M=Object.getPrototypeOf(function(){}),I=Object.setPrototypeOf((r={get stream(){return this[m]},next:function(){var O=this,B=this[c];if(B!==null)return Promise.reject(B);if(this[u])return Promise.resolve(g(void 0,!0));if(this[m].destroyed)return new Promise(function(L,j){Fe.default.nextTick(function(){O[c]?j(O[c]):L(g(void 0,!0))})});var C=this[l],U;if(C)U=new Promise(T(C,this));else{var W=this[m].read();if(W!==null)return Promise.resolve(g(W,!1));U=new Promise(this[y])}return this[l]=U,U}},i(r,Symbol.asyncIterator,function(){return this}),i(r,"return",function(){var O=this;return new Promise(function(B,C){O[m].destroy(null,function(U){if(U){C(U);return}B(g(void 0,!0))})})}),r),M),R=function(O){var B,C=Object.create(I,(B={},i(B,m,{value:O,writable:!0}),i(B,a,{value:null,writable:!0}),i(B,f,{value:null,writable:!0}),i(B,c,{value:null,writable:!0}),i(B,u,{value:O._readableState.endEmitted,writable:!0}),i(B,y,{value:function(U,W){var L=C[m].read();L?(C[l]=null,C[a]=null,C[f]=null,U(g(L,!1))):(C[a]=U,C[f]=W)},writable:!0}),B));return C[l]=null,o(O,function(U){if(U&&U.code!=="ERR_STREAM_PREMATURE_CLOSE"){var W=C[f];W!==null&&(C[l]=null,C[a]=null,C[f]=null,W(U)),C[c]=U;return}var L=C[a];L!==null&&(C[l]=null,C[a]=null,C[f]=null,L(g(void 0,!0))),C[u]=!0}),O.on("readable",x.bind(null,C)),C};e.exports=R}),jNe=he((t,e)=>{ee(),e.exports=function(){throw new Error("Readable.from is not available in the browser")}}),zde=he((t,e)=>{"use strict";ee(),e.exports=k;var r;k.ReadableState=j;var i=nc().EventEmitter,n=function($,q){return $.listeners(q).length},s=jde(),o=ji().Buffer,a=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function f($){return o.from($)}function c($){return o.isBuffer($)||$ instanceof a}var u=Xb(),l;u&&u.debuglog?l=u.debuglog("stream"):l=function(){};var y=CNe(),m=Lde(),g=Nde(),E=g.getHighWaterMark,x=rv().codes,T=x.ERR_INVALID_ARG_TYPE,M=x.ERR_STREAM_PUSH_AFTER_EOF,I=x.ERR_METHOD_NOT_IMPLEMENTED,R=x.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,O,B,C;rr()(k,s);var U=m.errorOrDestroy,W=["error","close","destroy","pause","resume"];function L($,q,z){if(typeof $.prependListener=="function")return $.prependListener(q,z);!$._events||!$._events[q]?$.on(q,z):Array.isArray($._events[q])?$._events[q].unshift(z):$._events[q]=[z,$._events[q]]}function j($,q,z){r=r||Lb(),$=$||{},typeof z!="boolean"&&(z=q instanceof r),this.objectMode=!!$.objectMode,z&&(this.objectMode=this.objectMode||!!$.readableObjectMode),this.highWaterMark=E(this,$,"readableHighWaterMark",z),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=$.emitClose!==!1,this.autoDestroy=!!$.autoDestroy,this.destroyed=!1,this.defaultEncoding=$.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,$.encoding&&(O||(O=Rp().StringDecoder),this.decoder=new O($.encoding),this.encoding=$.encoding)}function k($){if(r=r||Lb(),!(this instanceof k))return new k($);var q=this instanceof r;this._readableState=new j($,this,q),this.readable=!0,$&&(typeof $.read=="function"&&(this._read=$.read),typeof $.destroy=="function"&&(this._destroy=$.destroy)),s.call(this)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function($){this._readableState&&(this._readableState.destroyed=$)}}),k.prototype.destroy=m.destroy,k.prototype._undestroy=m.undestroy,k.prototype._destroy=function($,q){q($)},k.prototype.push=function($,q){var z=this._readableState,Y;return z.objectMode?Y=!0:typeof $=="string"&&(q=q||z.defaultEncoding,q!==z.encoding&&($=o.from($,q),q=""),Y=!0),P(this,$,q,!1,Y)},k.prototype.unshift=function($){return P(this,$,null,!0,!1)};function P($,q,z,Y,X){l("readableAddChunk",q);var re=$._readableState;if(q===null)re.reading=!1,w($,re);else{var le;if(X||(le=d(re,q)),le)U($,le);else if(re.objectMode||q&&q.length>0)if(typeof q!="string"&&!re.objectMode&&Object.getPrototypeOf(q)!==o.prototype&&(q=f(q)),Y)re.endEmitted?U($,new R):p($,re,q,!0);else if(re.ended)U($,new M);else{if(re.destroyed)return!1;re.reading=!1,re.decoder&&!z?(q=re.decoder.write(q),re.objectMode||q.length!==0?p($,re,q,!1):S($,re)):p($,re,q,!1)}else Y||(re.reading=!1,S($,re))}return!re.ended&&(re.length<re.highWaterMark||re.length===0)}function p($,q,z,Y){q.flowing&&q.length===0&&!q.sync?(q.awaitDrain=0,$.emit("data",z)):(q.length+=q.objectMode?1:z.length,Y?q.buffer.unshift(z):q.buffer.push(z),q.needReadable&&_($)),S($,q)}function d($,q){var z;return!c(q)&&typeof q!="string"&&q!==void 0&&!$.objectMode&&(z=new T("chunk",["string","Buffer","Uint8Array"],q)),z}k.prototype.isPaused=function(){return this._readableState.flowing===!1},k.prototype.setEncoding=function($){O||(O=Rp().StringDecoder);var q=new O($);this._readableState.decoder=q,this._readableState.encoding=this._readableState.decoder.encoding;for(var z=this._readableState.buffer.head,Y="";z!==null;)Y+=q.write(z.data),z=z.next;return this._readableState.buffer.clear(),Y!==""&&this._readableState.buffer.push(Y),this._readableState.length=Y.length,this};var h=1073741824;function b($){return $>=h?$=h:($--,$|=$>>>1,$|=$>>>2,$|=$>>>4,$|=$>>>8,$|=$>>>16,$++),$}function v($,q){return $<=0||q.length===0&&q.ended?0:q.objectMode?1:$!==$?q.flowing&&q.length?q.buffer.head.data.length:q.length:($>q.highWaterMark&&(q.highWaterMark=b($)),$<=q.length?$:q.ended?q.length:(q.needReadable=!0,0))}k.prototype.read=function($){l("read",$),$=parseInt($,10);var q=this._readableState,z=$;if($!==0&&(q.emittedReadable=!1),$===0&&q.needReadable&&((q.highWaterMark!==0?q.length>=q.highWaterMark:q.length>0)||q.ended))return l("read: emitReadable",q.length,q.ended),q.length===0&&q.ended?fe(this):_(this),null;if($=v($,q),$===0&&q.ended)return q.length===0&&fe(this),null;var Y=q.needReadable;l("need readable",Y),(q.length===0||q.length-$<q.highWaterMark)&&(Y=!0,l("length less than watermark",Y)),q.ended||q.reading?(Y=!1,l("reading or ended",Y)):Y&&(l("do read"),q.reading=!0,q.sync=!0,q.length===0&&(q.needReadable=!0),this._read(q.highWaterMark),q.sync=!1,q.reading||($=v(z,q)));var X;return $>0?X=ie($,q):X=null,X===null?(q.needReadable=q.length<=q.highWaterMark,$=0):(q.length-=$,q.awaitDrain=0),q.length===0&&(q.ended||(q.needReadable=!0),z!==$&&q.ended&&fe(this)),X!==null&&this.emit("data",X),X};function w($,q){if(l("onEofChunk"),!q.ended){if(q.decoder){var z=q.decoder.end();z&&z.length&&(q.buffer.push(z),q.length+=q.objectMode?1:z.length)}q.ended=!0,q.sync?_($):(q.needReadable=!1,q.emittedReadable||(q.emittedReadable=!0,D($)))}}function _($){var q=$._readableState;l("emitReadable",q.needReadable,q.emittedReadable),q.needReadable=!1,q.emittedReadable||(l("emitReadable",q.flowing),q.emittedReadable=!0,Fe.default.nextTick(D,$))}function D($){var q=$._readableState;l("emitReadable_",q.destroyed,q.length,q.ended),!q.destroyed&&(q.length||q.ended)&&($.emit("readable"),q.emittedReadable=!1),q.needReadable=!q.flowing&&!q.ended&&q.length<=q.highWaterMark,Z($)}function S($,q){q.readingMore||(q.readingMore=!0,Fe.default.nextTick(A,$,q))}function A($,q){for(;!q.reading&&!q.ended&&(q.length<q.highWaterMark||q.flowing&&q.length===0);){var z=q.length;if(l("maybeReadMore read 0"),$.read(0),z===q.length)break}q.readingMore=!1}k.prototype._read=function($){U(this,new I("_read()"))},k.prototype.pipe=function($,q){var z=this,Y=this._readableState;switch(Y.pipesCount){case 0:Y.pipes=$;break;case 1:Y.pipes=[Y.pipes,$];break;default:Y.pipes.push($);break}Y.pipesCount+=1,l("pipe count=%d opts=%j",Y.pipesCount,q);var X=(!q||q.end!==!1)&&$!==Fe.default.stdout&&$!==Fe.default.stderr,re=X?pe:ge;Y.endEmitted?Fe.default.nextTick(re):z.once("end",re),$.on("unpipe",le);function le(me,Ee){l("onunpipe"),me===z&&Ee&&Ee.hasUnpiped===!1&&(Ee.hasUnpiped=!0,be())}function pe(){l("onend"),$.end()}var _e=N(z);$.on("drain",_e);var xe=!1;function be(){l("cleanup"),$.removeListener("close",oe),$.removeListener("finish",ce),$.removeListener("drain",_e),$.removeListener("error",Le),$.removeListener("unpipe",le),z.removeListener("end",pe),z.removeListener("end",ge),z.removeListener("data",Me),xe=!0,Y.awaitDrain&&(!$._writableState||$._writableState.needDrain)&&_e()}z.on("data",Me);function Me(me){l("ondata");var Ee=$.write(me);l("dest.write",Ee),Ee===!1&&((Y.pipesCount===1&&Y.pipes===$||Y.pipesCount>1&&ye(Y.pipes,$)!==-1)&&!xe&&(l("false write response, pause",Y.awaitDrain),Y.awaitDrain++),z.pause())}function Le(me){l("onerror",me),ge(),$.removeListener("error",Le),n($,"error")===0&&U($,me)}L($,"error",Le);function oe(){$.removeListener("finish",ce),ge()}$.once("close",oe);function ce(){l("onfinish"),$.removeListener("close",oe),ge()}$.once("finish",ce);function ge(){l("unpipe"),z.unpipe($)}return $.emit("pipe",z),Y.flowing||(l("pipe resume"),z.resume()),$};function N($){return function(){var q=$._readableState;l("pipeOnDrain",q.awaitDrain),q.awaitDrain&&q.awaitDrain--,q.awaitDrain===0&&n($,"data")&&(q.flowing=!0,Z($))}}k.prototype.unpipe=function($){var q=this._readableState,z={hasUnpiped:!1};if(q.pipesCount===0)return this;if(q.pipesCount===1)return $&&$!==q.pipes?this:($||($=q.pipes),q.pipes=null,q.pipesCount=0,q.flowing=!1,$&&$.emit("unpipe",this,z),this);if(!$){var Y=q.pipes,X=q.pipesCount;q.pipes=null,q.pipesCount=0,q.flowing=!1;for(var re=0;re<X;re++)Y[re].emit("unpipe",this,{hasUnpiped:!1});return this}var le=ye(q.pipes,$);return le===-1?this:(q.pipes.splice(le,1),q.pipesCount-=1,q.pipesCount===1&&(q.pipes=q.pipes[0]),$.emit("unpipe",this,z),this)},k.prototype.on=function($,q){var z=s.prototype.on.call(this,$,q),Y=this._readableState;return $==="data"?(Y.readableListening=this.listenerCount("readable")>0,Y.flowing!==!1&&this.resume()):$==="readable"&&!Y.endEmitted&&!Y.readableListening&&(Y.readableListening=Y.needReadable=!0,Y.flowing=!1,Y.emittedReadable=!1,l("on readable",Y.length,Y.reading),Y.length?_(this):Y.reading||Fe.default.nextTick(Q,this)),z},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function($,q){var z=s.prototype.removeListener.call(this,$,q);return $==="readable"&&Fe.default.nextTick(G,this),z},k.prototype.removeAllListeners=function($){var q=s.prototype.removeAllListeners.apply(this,arguments);return($==="readable"||$===void 0)&&Fe.default.nextTick(G,this),q};function G($){var q=$._readableState;q.readableListening=$.listenerCount("readable")>0,q.resumeScheduled&&!q.paused?q.flowing=!0:$.listenerCount("data")>0&&$.resume()}function Q($){l("readable nexttick read 0"),$.read(0)}k.prototype.resume=function(){var $=this._readableState;return $.flowing||(l("resume"),$.flowing=!$.readableListening,ne(this,$)),$.paused=!1,this};function ne($,q){q.resumeScheduled||(q.resumeScheduled=!0,Fe.default.nextTick(H,$,q))}function H($,q){l("resume",q.reading),q.reading||$.read(0),q.resumeScheduled=!1,$.emit("resume"),Z($),q.flowing&&!q.reading&&$.read(0)}k.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Z($){var q=$._readableState;for(l("flow",q.flowing);q.flowing&&$.read()!==null;);}k.prototype.wrap=function($){var q=this,z=this._readableState,Y=!1;$.on("end",function(){if(l("wrapped end"),z.decoder&&!z.ended){var le=z.decoder.end();le&&le.length&&q.push(le)}q.push(null)}),$.on("data",function(le){if(l("wrapped data"),z.decoder&&(le=z.decoder.write(le)),!(z.objectMode&&le==null)&&!(!z.objectMode&&(!le||!le.length))){var pe=q.push(le);pe||(Y=!0,$.pause())}});for(var X in $)this[X]===void 0&&typeof $[X]=="function"&&(this[X]=function(le){return function(){return $[le].apply($,arguments)}}(X));for(var re=0;re<W.length;re++)$.on(W[re],this.emit.bind(this,W[re]));return this._read=function(le){l("wrapped _read",le),Y&&(Y=!1,$.resume())},this},typeof Symbol=="function"&&(k.prototype[Symbol.asyncIterator]=function(){return B===void 0&&(B=ONe()),B(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function($){this._readableState&&(this._readableState.flowing=$)}}),k._fromList=ie,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ie($,q){if(q.length===0)return null;var z;return q.objectMode?z=q.buffer.shift():!$||$>=q.length?(q.decoder?z=q.buffer.join(""):q.buffer.length===1?z=q.buffer.first():z=q.buffer.concat(q.length),q.buffer.clear()):z=q.buffer.consume($,q.decoder),z}function fe($){var q=$._readableState;l("endReadable",q.endEmitted),q.endEmitted||(q.ended=!0,Fe.default.nextTick(ue,q,$))}function ue($,q){if(l("endReadableNT",$.endEmitted,$.length),!$.endEmitted&&$.length===0&&($.endEmitted=!0,q.readable=!1,q.emit("end"),$.autoDestroy)){var z=q._writableState;(!z||z.autoDestroy&&z.finished)&&q.destroy()}}typeof Symbol=="function"&&(k.from=function($,q){return C===void 0&&(C=jNe()),C(k,$,q)});function ye($,q){for(var z=0,Y=$.length;z<Y;z++)if($[z]===q)return z;return-1}}),Fde=he((t,e)=>{"use strict";ee(),e.exports=c;var r=rv().codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,n=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=r.ERR_TRANSFORM_WITH_LENGTH_0,a=Lb();rr()(c,a);function f(y,m){var g=this._transformState;g.transforming=!1;var E=g.writecb;if(E===null)return this.emit("error",new n);g.writechunk=null,g.writecb=null,m!=null&&this.push(m),E(y);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function c(y){if(!(this instanceof c))return new c(y);a.call(this,y),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",u)}function u(){var y=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(m,g){l(y,m,g)}):l(this,null,null)}c.prototype.push=function(y,m){return this._transformState.needTransform=!1,a.prototype.push.call(this,y,m)},c.prototype._transform=function(y,m,g){g(new i("_transform()"))},c.prototype._write=function(y,m,g){var E=this._transformState;if(E.writecb=g,E.writechunk=y,E.writeencoding=m,!E.transforming){var x=this._readableState;(E.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},c.prototype._read=function(y){var m=this._transformState;m.writechunk!==null&&!m.transforming?(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform)):m.needTransform=!0},c.prototype._destroy=function(y,m){a.prototype._destroy.call(this,y,function(g){m(g)})};function l(y,m,g){if(m)return y.emit("error",m);if(g!=null&&y.push(g),y._writableState.length)throw new o;if(y._transformState.transforming)throw new s;return y.push(null)}}),LNe=he((t,e)=>{"use strict";ee(),e.exports=i;var r=Fde();rr()(i,r);function i(n){if(!(this instanceof i))return new i(n);r.call(this,n)}i.prototype._transform=function(n,s,o){o(null,n)}}),NNe=he((t,e)=>{"use strict";ee();var r;function i(g){var E=!1;return function(){E||(E=!0,g.apply(void 0,arguments))}}var n=rv().codes,s=n.ERR_MISSING_ARGS,o=n.ERR_STREAM_DESTROYED;function a(g){if(g)throw g}function f(g){return g.setHeader&&typeof g.abort=="function"}function c(g,E,x,T){T=i(T);var M=!1;g.on("close",function(){M=!0}),r===void 0&&(r=Ij()),r(g,{readable:E,writable:x},function(R){if(R)return T(R);M=!0,T()});var I=!1;return function(R){if(!M&&!I){if(I=!0,f(g))return g.abort();if(typeof g.destroy=="function")return g.destroy();T(R||new o("pipe"))}}}function u(g){g()}function l(g,E){return g.pipe(E)}function y(g){return!g.length||typeof g[g.length-1]!="function"?a:g.pop()}function m(){for(var g=arguments.length,E=new Array(g),x=0;x<g;x++)E[x]=arguments[x];var T=y(E);if(Array.isArray(E[0])&&(E=E[0]),E.length<2)throw new s("streams");var M,I=E.map(function(R,O){var B=O<E.length-1,C=O>0;return c(R,B,C,function(U){M||(M=U),U&&I.forEach(u),!B&&(I.forEach(u),T(M))})});return E.reduce(l)}e.exports=m}),qNe=he((t,e)=>{ee(),t=e.exports=zde(),t.Stream=t,t.Readable=t,t.Writable=qde(),t.Duplex=Lb(),t.Transform=Fde(),t.PassThrough=LNe(),t.finished=Ij(),t.pipeline=NNe()}),zNe=he((t,e)=>{ee(),function(r,i){"use strict";function n(d,h){if(!d)throw new Error(h||"Assertion failed")}function s(d,h){d.super_=h;var b=function(){};b.prototype=h.prototype,d.prototype=new b,d.prototype.constructor=d}function o(d,h,b){if(o.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,d!==null&&((h==="le"||h==="be")&&(b=h,h=10),this._init(d||0,h||10,b||"be"))}typeof r=="object"?r.exports=o:i.BN=o,o.BN=o,o.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=ji().Buffer}catch{}o.isBN=function(d){return d instanceof o?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===o.wordSize&&Array.isArray(d.words)},o.max=function(d,h){return d.cmp(h)>0?d:h},o.min=function(d,h){return d.cmp(h)<0?d:h},o.prototype._init=function(d,h,b){if(typeof d=="number")return this._initNumber(d,h,b);if(typeof d=="object")return this._initArray(d,h,b);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),d=d.toString().replace(/\s+/g,"");var v=0;d[0]==="-"&&(v++,this.negative=1),v<d.length&&(h===16?this._parseHex(d,v,b):(this._parseBase(d,h,v),b==="le"&&this._initArray(this.toArray(),h,b)))},o.prototype._initNumber=function(d,h,b){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(n(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),h,b)},o.prototype._initArray=function(d,h,b){if(n(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var w,_,D=0;if(b==="be")for(v=d.length-1,w=0;v>=0;v-=3)_=d[v]|d[v-1]<<8|d[v-2]<<16,this.words[w]|=_<<D&67108863,this.words[w+1]=_>>>26-D&67108863,D+=24,D>=26&&(D-=26,w++);else if(b==="le")for(v=0,w=0;v<d.length;v+=3)_=d[v]|d[v+1]<<8|d[v+2]<<16,this.words[w]|=_<<D&67108863,this.words[w+1]=_>>>26-D&67108863,D+=24,D>=26&&(D-=26,w++);return this._strip()};function f(d,h){var b=d.charCodeAt(h);if(b>=48&&b<=57)return b-48;if(b>=65&&b<=70)return b-55;if(b>=97&&b<=102)return b-87;n(!1,"Invalid character in "+d)}function c(d,h,b){var v=f(d,b);return b-1>=h&&(v|=f(d,b-1)<<4),v}o.prototype._parseHex=function(d,h,b){this.length=Math.ceil((d.length-h)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var w=0,_=0,D;if(b==="be")for(v=d.length-1;v>=h;v-=2)D=c(d,h,v)<<w,this.words[_]|=D&67108863,w>=18?(w-=18,_+=1,this.words[_]|=D>>>26):w+=8;else{var S=d.length-h;for(v=S%2===0?h+1:h;v<d.length;v+=2)D=c(d,h,v)<<w,this.words[_]|=D&67108863,w>=18?(w-=18,_+=1,this.words[_]|=D>>>26):w+=8}this._strip()};function u(d,h,b,v){for(var w=0,_=0,D=Math.min(d.length,b),S=h;S<D;S++){var A=d.charCodeAt(S)-48;w*=v,A>=49?_=A-49+10:A>=17?_=A-17+10:_=A,n(A>=0&&_<v,"Invalid character"),w+=_}return w}o.prototype._parseBase=function(d,h,b){this.words=[0],this.length=1;for(var v=0,w=1;w<=67108863;w*=h)v++;v--,w=w/h|0;for(var _=d.length-b,D=_%v,S=Math.min(_,_-D)+b,A=0,N=b;N<S;N+=v)A=u(d,N,N+v,h),this.imuln(w),this.words[0]+A<67108864?this.words[0]+=A:this._iaddn(A);if(D!==0){var G=1;for(A=u(d,N,d.length,h),N=0;N<D;N++)G*=h;this.imuln(G),this.words[0]+A<67108864?this.words[0]+=A:this._iaddn(A)}this._strip()},o.prototype.copy=function(d){d.words=new Array(this.length);for(var h=0;h<this.length;h++)d.words[h]=this.words[h];d.length=this.length,d.negative=this.negative,d.red=this.red};function l(d,h){d.words=h.words,d.length=h.length,d.negative=h.negative,d.red=h.red}if(o.prototype._move=function(d){l(d,this)},o.prototype.clone=function(){var d=new o(null);return this.copy(d),d},o.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{o.prototype.inspect=y}else o.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(d,h){d=d||10,h=h|0||1;var b;if(d===16||d==="hex"){b="";for(var v=0,w=0,_=0;_<this.length;_++){var D=this.words[_],S=((D<<v|w)&16777215).toString(16);w=D>>>24-v&16777215,v+=2,v>=26&&(v-=26,_--),w!==0||_!==this.length-1?b=m[6-S.length]+S+b:b=S+b}for(w!==0&&(b=w.toString(16)+b);b.length%h!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(d===(d|0)&&d>=2&&d<=36){var A=g[d],N=E[d];b="";var G=this.clone();for(G.negative=0;!G.isZero();){var Q=G.modrn(N).toString(d);G=G.idivn(N),G.isZero()?b=Q+b:b=m[A-Q.length]+Q+b}for(this.isZero()&&(b="0"+b);b.length%h!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(d,h){return this.toArrayLike(a,d,h)}),o.prototype.toArray=function(d,h){return this.toArrayLike(Array,d,h)};var x=function(d,h){return d.allocUnsafe?d.allocUnsafe(h):new d(h)};o.prototype.toArrayLike=function(d,h,b){this._strip();var v=this.byteLength(),w=b||Math.max(1,v);n(v<=w,"byte array longer than desired length"),n(w>0,"Requested array length <= 0");var _=x(d,w),D=h==="le"?"LE":"BE";return this["_toArrayLike"+D](_,v),_},o.prototype._toArrayLikeLE=function(d,h){for(var b=0,v=0,w=0,_=0;w<this.length;w++){var D=this.words[w]<<_|v;d[b++]=D&255,b<d.length&&(d[b++]=D>>8&255),b<d.length&&(d[b++]=D>>16&255),_===6?(b<d.length&&(d[b++]=D>>24&255),v=0,_=0):(v=D>>>24,_+=2)}if(b<d.length)for(d[b++]=v;b<d.length;)d[b++]=0},o.prototype._toArrayLikeBE=function(d,h){for(var b=d.length-1,v=0,w=0,_=0;w<this.length;w++){var D=this.words[w]<<_|v;d[b--]=D&255,b>=0&&(d[b--]=D>>8&255),b>=0&&(d[b--]=D>>16&255),_===6?(b>=0&&(d[b--]=D>>24&255),v=0,_=0):(v=D>>>24,_+=2)}if(b>=0)for(d[b--]=v;b>=0;)d[b--]=0},Math.clz32?o.prototype._countBits=function(d){return 32-Math.clz32(d)}:o.prototype._countBits=function(d){var h=d,b=0;return h>=4096&&(b+=13,h>>>=13),h>=64&&(b+=7,h>>>=7),h>=8&&(b+=4,h>>>=4),h>=2&&(b+=2,h>>>=2),b+h},o.prototype._zeroBits=function(d){if(d===0)return 26;var h=d,b=0;return h&8191||(b+=13,h>>>=13),h&127||(b+=7,h>>>=7),h&15||(b+=4,h>>>=4),h&3||(b+=2,h>>>=2),h&1||b++,b},o.prototype.bitLength=function(){var d=this.words[this.length-1],h=this._countBits(d);return(this.length-1)*26+h};function T(d){for(var h=new Array(d.bitLength()),b=0;b<h.length;b++){var v=b/26|0,w=b%26;h[b]=d.words[v]>>>w&1}return h}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,h=0;h<this.length;h++){var b=this._zeroBits(this.words[h]);if(d+=b,b!==26)break}return d},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},o.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var h=0;h<d.length;h++)this.words[h]=this.words[h]|d.words[h];return this._strip()},o.prototype.ior=function(d){return n((this.negative|d.negative)===0),this.iuor(d)},o.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},o.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},o.prototype.iuand=function(d){var h;this.length>d.length?h=d:h=this;for(var b=0;b<h.length;b++)this.words[b]=this.words[b]&d.words[b];return this.length=h.length,this._strip()},o.prototype.iand=function(d){return n((this.negative|d.negative)===0),this.iuand(d)},o.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},o.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},o.prototype.iuxor=function(d){var h,b;this.length>d.length?(h=this,b=d):(h=d,b=this);for(var v=0;v<b.length;v++)this.words[v]=h.words[v]^b.words[v];if(this!==h)for(;v<h.length;v++)this.words[v]=h.words[v];return this.length=h.length,this._strip()},o.prototype.ixor=function(d){return n((this.negative|d.negative)===0),this.iuxor(d)},o.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},o.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},o.prototype.inotn=function(d){n(typeof d=="number"&&d>=0);var h=Math.ceil(d/26)|0,b=d%26;this._expand(h),b>0&&h--;for(var v=0;v<h;v++)this.words[v]=~this.words[v]&67108863;return b>0&&(this.words[v]=~this.words[v]&67108863>>26-b),this._strip()},o.prototype.notn=function(d){return this.clone().inotn(d)},o.prototype.setn=function(d,h){n(typeof d=="number"&&d>=0);var b=d/26|0,v=d%26;return this._expand(b+1),h?this.words[b]=this.words[b]|1<<v:this.words[b]=this.words[b]&~(1<<v),this._strip()},o.prototype.iadd=function(d){var h;if(this.negative!==0&&d.negative===0)return this.negative=0,h=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,h=this.isub(d),d.negative=1,h._normSign();var b,v;this.length>d.length?(b=this,v=d):(b=d,v=this);for(var w=0,_=0;_<v.length;_++)h=(b.words[_]|0)+(v.words[_]|0)+w,this.words[_]=h&67108863,w=h>>>26;for(;w!==0&&_<b.length;_++)h=(b.words[_]|0)+w,this.words[_]=h&67108863,w=h>>>26;if(this.length=b.length,w!==0)this.words[this.length]=w,this.length++;else if(b!==this)for(;_<b.length;_++)this.words[_]=b.words[_];return this},o.prototype.add=function(d){var h;return d.negative!==0&&this.negative===0?(d.negative=0,h=this.sub(d),d.negative^=1,h):d.negative===0&&this.negative!==0?(this.negative=0,h=d.sub(this),this.negative=1,h):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},o.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var h=this.iadd(d);return d.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var b=this.cmp(d);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,w;b>0?(v=this,w=d):(v=d,w=this);for(var _=0,D=0;D<w.length;D++)h=(v.words[D]|0)-(w.words[D]|0)+_,_=h>>26,this.words[D]=h&67108863;for(;_!==0&&D<v.length;D++)h=(v.words[D]|0)+_,_=h>>26,this.words[D]=h&67108863;if(_===0&&D<v.length&&v!==this)for(;D<v.length;D++)this.words[D]=v.words[D];return this.length=Math.max(this.length,D),v!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(d){return this.clone().isub(d)};function M(d,h,b){b.negative=h.negative^d.negative;var v=d.length+h.length|0;b.length=v,v=v-1|0;var w=d.words[0]|0,_=h.words[0]|0,D=w*_,S=D&67108863,A=D/67108864|0;b.words[0]=S;for(var N=1;N<v;N++){for(var G=A>>>26,Q=A&67108863,ne=Math.min(N,h.length-1),H=Math.max(0,N-d.length+1);H<=ne;H++){var Z=N-H|0;w=d.words[Z]|0,_=h.words[H]|0,D=w*_+Q,G+=D/67108864|0,Q=D&67108863}b.words[N]=Q|0,A=G|0}return A!==0?b.words[N]=A|0:b.length--,b._strip()}var I=function(d,h,b){var v=d.words,w=h.words,_=b.words,D=0,S,A,N,G=v[0]|0,Q=G&8191,ne=G>>>13,H=v[1]|0,Z=H&8191,ie=H>>>13,fe=v[2]|0,ue=fe&8191,ye=fe>>>13,$=v[3]|0,q=$&8191,z=$>>>13,Y=v[4]|0,X=Y&8191,re=Y>>>13,le=v[5]|0,pe=le&8191,_e=le>>>13,xe=v[6]|0,be=xe&8191,Me=xe>>>13,Le=v[7]|0,oe=Le&8191,ce=Le>>>13,ge=v[8]|0,me=ge&8191,Ee=ge>>>13,$e=v[9]|0,Se=$e&8191,We=$e>>>13,it=w[0]|0,Te=it&8191,nt=it>>>13,ot=w[1]|0,ke=ot&8191,tt=ot>>>13,rt=w[2]|0,Ae=rt&8191,Ye=rt>>>13,He=w[3]|0,De=He&8191,ft=He>>>13,ut=w[4]|0,Ie=ut&8191,ct=ut>>>13,lt=w[5]|0,Re=lt&8191,dt=lt>>>13,ht=w[6]|0,Be=ht&8191,pt=ht>>>13,yt=w[7]|0,Ce=yt&8191,mt=yt>>>13,gt=w[8]|0,Oe=gt&8191,st=gt>>>13,Ct=w[9]|0,Ue=Ct&8191,Pt=Ct>>>13;b.negative=d.negative^h.negative,b.length=19,S=Math.imul(Q,Te),A=Math.imul(Q,nt),A=A+Math.imul(ne,Te)|0,N=Math.imul(ne,nt);var gn=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(gn>>>26)|0,gn&=67108863,S=Math.imul(Z,Te),A=Math.imul(Z,nt),A=A+Math.imul(ie,Te)|0,N=Math.imul(ie,nt),S=S+Math.imul(Q,ke)|0,A=A+Math.imul(Q,tt)|0,A=A+Math.imul(ne,ke)|0,N=N+Math.imul(ne,tt)|0;var bn=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(bn>>>26)|0,bn&=67108863,S=Math.imul(ue,Te),A=Math.imul(ue,nt),A=A+Math.imul(ye,Te)|0,N=Math.imul(ye,nt),S=S+Math.imul(Z,ke)|0,A=A+Math.imul(Z,tt)|0,A=A+Math.imul(ie,ke)|0,N=N+Math.imul(ie,tt)|0,S=S+Math.imul(Q,Ae)|0,A=A+Math.imul(Q,Ye)|0,A=A+Math.imul(ne,Ae)|0,N=N+Math.imul(ne,Ye)|0;var vn=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(vn>>>26)|0,vn&=67108863,S=Math.imul(q,Te),A=Math.imul(q,nt),A=A+Math.imul(z,Te)|0,N=Math.imul(z,nt),S=S+Math.imul(ue,ke)|0,A=A+Math.imul(ue,tt)|0,A=A+Math.imul(ye,ke)|0,N=N+Math.imul(ye,tt)|0,S=S+Math.imul(Z,Ae)|0,A=A+Math.imul(Z,Ye)|0,A=A+Math.imul(ie,Ae)|0,N=N+Math.imul(ie,Ye)|0,S=S+Math.imul(Q,De)|0,A=A+Math.imul(Q,ft)|0,A=A+Math.imul(ne,De)|0,N=N+Math.imul(ne,ft)|0;var wn=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(wn>>>26)|0,wn&=67108863,S=Math.imul(X,Te),A=Math.imul(X,nt),A=A+Math.imul(re,Te)|0,N=Math.imul(re,nt),S=S+Math.imul(q,ke)|0,A=A+Math.imul(q,tt)|0,A=A+Math.imul(z,ke)|0,N=N+Math.imul(z,tt)|0,S=S+Math.imul(ue,Ae)|0,A=A+Math.imul(ue,Ye)|0,A=A+Math.imul(ye,Ae)|0,N=N+Math.imul(ye,Ye)|0,S=S+Math.imul(Z,De)|0,A=A+Math.imul(Z,ft)|0,A=A+Math.imul(ie,De)|0,N=N+Math.imul(ie,ft)|0,S=S+Math.imul(Q,Ie)|0,A=A+Math.imul(Q,ct)|0,A=A+Math.imul(ne,Ie)|0,N=N+Math.imul(ne,ct)|0;var _n=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(_n>>>26)|0,_n&=67108863,S=Math.imul(pe,Te),A=Math.imul(pe,nt),A=A+Math.imul(_e,Te)|0,N=Math.imul(_e,nt),S=S+Math.imul(X,ke)|0,A=A+Math.imul(X,tt)|0,A=A+Math.imul(re,ke)|0,N=N+Math.imul(re,tt)|0,S=S+Math.imul(q,Ae)|0,A=A+Math.imul(q,Ye)|0,A=A+Math.imul(z,Ae)|0,N=N+Math.imul(z,Ye)|0,S=S+Math.imul(ue,De)|0,A=A+Math.imul(ue,ft)|0,A=A+Math.imul(ye,De)|0,N=N+Math.imul(ye,ft)|0,S=S+Math.imul(Z,Ie)|0,A=A+Math.imul(Z,ct)|0,A=A+Math.imul(ie,Ie)|0,N=N+Math.imul(ie,ct)|0,S=S+Math.imul(Q,Re)|0,A=A+Math.imul(Q,dt)|0,A=A+Math.imul(ne,Re)|0,N=N+Math.imul(ne,dt)|0;var En=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(En>>>26)|0,En&=67108863,S=Math.imul(be,Te),A=Math.imul(be,nt),A=A+Math.imul(Me,Te)|0,N=Math.imul(Me,nt),S=S+Math.imul(pe,ke)|0,A=A+Math.imul(pe,tt)|0,A=A+Math.imul(_e,ke)|0,N=N+Math.imul(_e,tt)|0,S=S+Math.imul(X,Ae)|0,A=A+Math.imul(X,Ye)|0,A=A+Math.imul(re,Ae)|0,N=N+Math.imul(re,Ye)|0,S=S+Math.imul(q,De)|0,A=A+Math.imul(q,ft)|0,A=A+Math.imul(z,De)|0,N=N+Math.imul(z,ft)|0,S=S+Math.imul(ue,Ie)|0,A=A+Math.imul(ue,ct)|0,A=A+Math.imul(ye,Ie)|0,N=N+Math.imul(ye,ct)|0,S=S+Math.imul(Z,Re)|0,A=A+Math.imul(Z,dt)|0,A=A+Math.imul(ie,Re)|0,N=N+Math.imul(ie,dt)|0,S=S+Math.imul(Q,Be)|0,A=A+Math.imul(Q,pt)|0,A=A+Math.imul(ne,Be)|0,N=N+Math.imul(ne,pt)|0;var Sn=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,S=Math.imul(oe,Te),A=Math.imul(oe,nt),A=A+Math.imul(ce,Te)|0,N=Math.imul(ce,nt),S=S+Math.imul(be,ke)|0,A=A+Math.imul(be,tt)|0,A=A+Math.imul(Me,ke)|0,N=N+Math.imul(Me,tt)|0,S=S+Math.imul(pe,Ae)|0,A=A+Math.imul(pe,Ye)|0,A=A+Math.imul(_e,Ae)|0,N=N+Math.imul(_e,Ye)|0,S=S+Math.imul(X,De)|0,A=A+Math.imul(X,ft)|0,A=A+Math.imul(re,De)|0,N=N+Math.imul(re,ft)|0,S=S+Math.imul(q,Ie)|0,A=A+Math.imul(q,ct)|0,A=A+Math.imul(z,Ie)|0,N=N+Math.imul(z,ct)|0,S=S+Math.imul(ue,Re)|0,A=A+Math.imul(ue,dt)|0,A=A+Math.imul(ye,Re)|0,N=N+Math.imul(ye,dt)|0,S=S+Math.imul(Z,Be)|0,A=A+Math.imul(Z,pt)|0,A=A+Math.imul(ie,Be)|0,N=N+Math.imul(ie,pt)|0,S=S+Math.imul(Q,Ce)|0,A=A+Math.imul(Q,mt)|0,A=A+Math.imul(ne,Ce)|0,N=N+Math.imul(ne,mt)|0;var xn=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(xn>>>26)|0,xn&=67108863,S=Math.imul(me,Te),A=Math.imul(me,nt),A=A+Math.imul(Ee,Te)|0,N=Math.imul(Ee,nt),S=S+Math.imul(oe,ke)|0,A=A+Math.imul(oe,tt)|0,A=A+Math.imul(ce,ke)|0,N=N+Math.imul(ce,tt)|0,S=S+Math.imul(be,Ae)|0,A=A+Math.imul(be,Ye)|0,A=A+Math.imul(Me,Ae)|0,N=N+Math.imul(Me,Ye)|0,S=S+Math.imul(pe,De)|0,A=A+Math.imul(pe,ft)|0,A=A+Math.imul(_e,De)|0,N=N+Math.imul(_e,ft)|0,S=S+Math.imul(X,Ie)|0,A=A+Math.imul(X,ct)|0,A=A+Math.imul(re,Ie)|0,N=N+Math.imul(re,ct)|0,S=S+Math.imul(q,Re)|0,A=A+Math.imul(q,dt)|0,A=A+Math.imul(z,Re)|0,N=N+Math.imul(z,dt)|0,S=S+Math.imul(ue,Be)|0,A=A+Math.imul(ue,pt)|0,A=A+Math.imul(ye,Be)|0,N=N+Math.imul(ye,pt)|0,S=S+Math.imul(Z,Ce)|0,A=A+Math.imul(Z,mt)|0,A=A+Math.imul(ie,Ce)|0,N=N+Math.imul(ie,mt)|0,S=S+Math.imul(Q,Oe)|0,A=A+Math.imul(Q,st)|0,A=A+Math.imul(ne,Oe)|0,N=N+Math.imul(ne,st)|0;var An=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(An>>>26)|0,An&=67108863,S=Math.imul(Se,Te),A=Math.imul(Se,nt),A=A+Math.imul(We,Te)|0,N=Math.imul(We,nt),S=S+Math.imul(me,ke)|0,A=A+Math.imul(me,tt)|0,A=A+Math.imul(Ee,ke)|0,N=N+Math.imul(Ee,tt)|0,S=S+Math.imul(oe,Ae)|0,A=A+Math.imul(oe,Ye)|0,A=A+Math.imul(ce,Ae)|0,N=N+Math.imul(ce,Ye)|0,S=S+Math.imul(be,De)|0,A=A+Math.imul(be,ft)|0,A=A+Math.imul(Me,De)|0,N=N+Math.imul(Me,ft)|0,S=S+Math.imul(pe,Ie)|0,A=A+Math.imul(pe,ct)|0,A=A+Math.imul(_e,Ie)|0,N=N+Math.imul(_e,ct)|0,S=S+Math.imul(X,Re)|0,A=A+Math.imul(X,dt)|0,A=A+Math.imul(re,Re)|0,N=N+Math.imul(re,dt)|0,S=S+Math.imul(q,Be)|0,A=A+Math.imul(q,pt)|0,A=A+Math.imul(z,Be)|0,N=N+Math.imul(z,pt)|0,S=S+Math.imul(ue,Ce)|0,A=A+Math.imul(ue,mt)|0,A=A+Math.imul(ye,Ce)|0,N=N+Math.imul(ye,mt)|0,S=S+Math.imul(Z,Oe)|0,A=A+Math.imul(Z,st)|0,A=A+Math.imul(ie,Oe)|0,N=N+Math.imul(ie,st)|0,S=S+Math.imul(Q,Ue)|0,A=A+Math.imul(Q,Pt)|0,A=A+Math.imul(ne,Ue)|0,N=N+Math.imul(ne,Pt)|0;var Mn=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,S=Math.imul(Se,ke),A=Math.imul(Se,tt),A=A+Math.imul(We,ke)|0,N=Math.imul(We,tt),S=S+Math.imul(me,Ae)|0,A=A+Math.imul(me,Ye)|0,A=A+Math.imul(Ee,Ae)|0,N=N+Math.imul(Ee,Ye)|0,S=S+Math.imul(oe,De)|0,A=A+Math.imul(oe,ft)|0,A=A+Math.imul(ce,De)|0,N=N+Math.imul(ce,ft)|0,S=S+Math.imul(be,Ie)|0,A=A+Math.imul(be,ct)|0,A=A+Math.imul(Me,Ie)|0,N=N+Math.imul(Me,ct)|0,S=S+Math.imul(pe,Re)|0,A=A+Math.imul(pe,dt)|0,A=A+Math.imul(_e,Re)|0,N=N+Math.imul(_e,dt)|0,S=S+Math.imul(X,Be)|0,A=A+Math.imul(X,pt)|0,A=A+Math.imul(re,Be)|0,N=N+Math.imul(re,pt)|0,S=S+Math.imul(q,Ce)|0,A=A+Math.imul(q,mt)|0,A=A+Math.imul(z,Ce)|0,N=N+Math.imul(z,mt)|0,S=S+Math.imul(ue,Oe)|0,A=A+Math.imul(ue,st)|0,A=A+Math.imul(ye,Oe)|0,N=N+Math.imul(ye,st)|0,S=S+Math.imul(Z,Ue)|0,A=A+Math.imul(Z,Pt)|0,A=A+Math.imul(ie,Ue)|0,N=N+Math.imul(ie,Pt)|0;var kn=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(kn>>>26)|0,kn&=67108863,S=Math.imul(Se,Ae),A=Math.imul(Se,Ye),A=A+Math.imul(We,Ae)|0,N=Math.imul(We,Ye),S=S+Math.imul(me,De)|0,A=A+Math.imul(me,ft)|0,A=A+Math.imul(Ee,De)|0,N=N+Math.imul(Ee,ft)|0,S=S+Math.imul(oe,Ie)|0,A=A+Math.imul(oe,ct)|0,A=A+Math.imul(ce,Ie)|0,N=N+Math.imul(ce,ct)|0,S=S+Math.imul(be,Re)|0,A=A+Math.imul(be,dt)|0,A=A+Math.imul(Me,Re)|0,N=N+Math.imul(Me,dt)|0,S=S+Math.imul(pe,Be)|0,A=A+Math.imul(pe,pt)|0,A=A+Math.imul(_e,Be)|0,N=N+Math.imul(_e,pt)|0,S=S+Math.imul(X,Ce)|0,A=A+Math.imul(X,mt)|0,A=A+Math.imul(re,Ce)|0,N=N+Math.imul(re,mt)|0,S=S+Math.imul(q,Oe)|0,A=A+Math.imul(q,st)|0,A=A+Math.imul(z,Oe)|0,N=N+Math.imul(z,st)|0,S=S+Math.imul(ue,Ue)|0,A=A+Math.imul(ue,Pt)|0,A=A+Math.imul(ye,Ue)|0,N=N+Math.imul(ye,Pt)|0;var Tn=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,S=Math.imul(Se,De),A=Math.imul(Se,ft),A=A+Math.imul(We,De)|0,N=Math.imul(We,ft),S=S+Math.imul(me,Ie)|0,A=A+Math.imul(me,ct)|0,A=A+Math.imul(Ee,Ie)|0,N=N+Math.imul(Ee,ct)|0,S=S+Math.imul(oe,Re)|0,A=A+Math.imul(oe,dt)|0,A=A+Math.imul(ce,Re)|0,N=N+Math.imul(ce,dt)|0,S=S+Math.imul(be,Be)|0,A=A+Math.imul(be,pt)|0,A=A+Math.imul(Me,Be)|0,N=N+Math.imul(Me,pt)|0,S=S+Math.imul(pe,Ce)|0,A=A+Math.imul(pe,mt)|0,A=A+Math.imul(_e,Ce)|0,N=N+Math.imul(_e,mt)|0,S=S+Math.imul(X,Oe)|0,A=A+Math.imul(X,st)|0,A=A+Math.imul(re,Oe)|0,N=N+Math.imul(re,st)|0,S=S+Math.imul(q,Ue)|0,A=A+Math.imul(q,Pt)|0,A=A+Math.imul(z,Ue)|0,N=N+Math.imul(z,Pt)|0;var Pn=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,S=Math.imul(Se,Ie),A=Math.imul(Se,ct),A=A+Math.imul(We,Ie)|0,N=Math.imul(We,ct),S=S+Math.imul(me,Re)|0,A=A+Math.imul(me,dt)|0,A=A+Math.imul(Ee,Re)|0,N=N+Math.imul(Ee,dt)|0,S=S+Math.imul(oe,Be)|0,A=A+Math.imul(oe,pt)|0,A=A+Math.imul(ce,Be)|0,N=N+Math.imul(ce,pt)|0,S=S+Math.imul(be,Ce)|0,A=A+Math.imul(be,mt)|0,A=A+Math.imul(Me,Ce)|0,N=N+Math.imul(Me,mt)|0,S=S+Math.imul(pe,Oe)|0,A=A+Math.imul(pe,st)|0,A=A+Math.imul(_e,Oe)|0,N=N+Math.imul(_e,st)|0,S=S+Math.imul(X,Ue)|0,A=A+Math.imul(X,Pt)|0,A=A+Math.imul(re,Ue)|0,N=N+Math.imul(re,Pt)|0;var Dn=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,S=Math.imul(Se,Re),A=Math.imul(Se,dt),A=A+Math.imul(We,Re)|0,N=Math.imul(We,dt),S=S+Math.imul(me,Be)|0,A=A+Math.imul(me,pt)|0,A=A+Math.imul(Ee,Be)|0,N=N+Math.imul(Ee,pt)|0,S=S+Math.imul(oe,Ce)|0,A=A+Math.imul(oe,mt)|0,A=A+Math.imul(ce,Ce)|0,N=N+Math.imul(ce,mt)|0,S=S+Math.imul(be,Oe)|0,A=A+Math.imul(be,st)|0,A=A+Math.imul(Me,Oe)|0,N=N+Math.imul(Me,st)|0,S=S+Math.imul(pe,Ue)|0,A=A+Math.imul(pe,Pt)|0,A=A+Math.imul(_e,Ue)|0,N=N+Math.imul(_e,Pt)|0;var In=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(In>>>26)|0,In&=67108863,S=Math.imul(Se,Be),A=Math.imul(Se,pt),A=A+Math.imul(We,Be)|0,N=Math.imul(We,pt),S=S+Math.imul(me,Ce)|0,A=A+Math.imul(me,mt)|0,A=A+Math.imul(Ee,Ce)|0,N=N+Math.imul(Ee,mt)|0,S=S+Math.imul(oe,Oe)|0,A=A+Math.imul(oe,st)|0,A=A+Math.imul(ce,Oe)|0,N=N+Math.imul(ce,st)|0,S=S+Math.imul(be,Ue)|0,A=A+Math.imul(be,Pt)|0,A=A+Math.imul(Me,Ue)|0,N=N+Math.imul(Me,Pt)|0;var Ao=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,S=Math.imul(Se,Ce),A=Math.imul(Se,mt),A=A+Math.imul(We,Ce)|0,N=Math.imul(We,mt),S=S+Math.imul(me,Oe)|0,A=A+Math.imul(me,st)|0,A=A+Math.imul(Ee,Oe)|0,N=N+Math.imul(Ee,st)|0,S=S+Math.imul(oe,Ue)|0,A=A+Math.imul(oe,Pt)|0,A=A+Math.imul(ce,Ue)|0,N=N+Math.imul(ce,Pt)|0;var ta=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(ta>>>26)|0,ta&=67108863,S=Math.imul(Se,Oe),A=Math.imul(Se,st),A=A+Math.imul(We,Oe)|0,N=Math.imul(We,st),S=S+Math.imul(me,Ue)|0,A=A+Math.imul(me,Pt)|0,A=A+Math.imul(Ee,Ue)|0,N=N+Math.imul(Ee,Pt)|0;var ra=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(ra>>>26)|0,ra&=67108863,S=Math.imul(Se,Ue),A=Math.imul(Se,Pt),A=A+Math.imul(We,Ue)|0,N=Math.imul(We,Pt);var Zp=(D+S|0)+((A&8191)<<13)|0;return D=(N+(A>>>13)|0)+(Zp>>>26)|0,Zp&=67108863,_[0]=gn,_[1]=bn,_[2]=vn,_[3]=wn,_[4]=_n,_[5]=En,_[6]=Sn,_[7]=xn,_[8]=An,_[9]=Mn,_[10]=kn,_[11]=Tn,_[12]=Pn,_[13]=Dn,_[14]=In,_[15]=Ao,_[16]=ta,_[17]=ra,_[18]=Zp,D!==0&&(_[19]=D,b.length++),b};Math.imul||(I=M);function R(d,h,b){b.negative=h.negative^d.negative,b.length=d.length+h.length;for(var v=0,w=0,_=0;_<b.length-1;_++){var D=w;w=0;for(var S=v&67108863,A=Math.min(_,h.length-1),N=Math.max(0,_-d.length+1);N<=A;N++){var G=_-N,Q=d.words[G]|0,ne=h.words[N]|0,H=Q*ne,Z=H&67108863;D=D+(H/67108864|0)|0,Z=Z+S|0,S=Z&67108863,D=D+(Z>>>26)|0,w+=D>>>26,D&=67108863}b.words[_]=S,v=D,D=w}return v!==0?b.words[_]=v:b.length--,b._strip()}function O(d,h,b){return R(d,h,b)}o.prototype.mulTo=function(d,h){var b,v=this.length+d.length;return this.length===10&&d.length===10?b=I(this,d,h):v<63?b=M(this,d,h):v<1024?b=R(this,d,h):b=O(this,d,h),b};function B(d,h){this.x=d,this.y=h}B.prototype.makeRBT=function(d){for(var h=new Array(d),b=o.prototype._countBits(d)-1,v=0;v<d;v++)h[v]=this.revBin(v,b,d);return h},B.prototype.revBin=function(d,h,b){if(d===0||d===b-1)return d;for(var v=0,w=0;w<h;w++)v|=(d&1)<<h-w-1,d>>=1;return v},B.prototype.permute=function(d,h,b,v,w,_){for(var D=0;D<_;D++)v[D]=h[d[D]],w[D]=b[d[D]]},B.prototype.transform=function(d,h,b,v,w,_){this.permute(_,d,h,b,v,w);for(var D=1;D<w;D<<=1)for(var S=D<<1,A=Math.cos(2*Math.PI/S),N=Math.sin(2*Math.PI/S),G=0;G<w;G+=S)for(var Q=A,ne=N,H=0;H<D;H++){var Z=b[G+H],ie=v[G+H],fe=b[G+H+D],ue=v[G+H+D],ye=Q*fe-ne*ue;ue=Q*ue+ne*fe,fe=ye,b[G+H]=Z+fe,v[G+H]=ie+ue,b[G+H+D]=Z-fe,v[G+H+D]=ie-ue,H!==S&&(ye=A*Q-N*ne,ne=A*ne+N*Q,Q=ye)}},B.prototype.guessLen13b=function(d,h){var b=Math.max(h,d)|1,v=b&1,w=0;for(b=b/2|0;b;b=b>>>1)w++;return 1<<w+1+v},B.prototype.conjugate=function(d,h,b){if(!(b<=1))for(var v=0;v<b/2;v++){var w=d[v];d[v]=d[b-v-1],d[b-v-1]=w,w=h[v],h[v]=-h[b-v-1],h[b-v-1]=-w}},B.prototype.normalize13b=function(d,h){for(var b=0,v=0;v<h/2;v++){var w=Math.round(d[2*v+1]/h)*8192+Math.round(d[2*v]/h)+b;d[v]=w&67108863,w<67108864?b=0:b=w/67108864|0}return d},B.prototype.convert13b=function(d,h,b,v){for(var w=0,_=0;_<h;_++)w=w+(d[_]|0),b[2*_]=w&8191,w=w>>>13,b[2*_+1]=w&8191,w=w>>>13;for(_=2*h;_<v;++_)b[_]=0;n(w===0),n((w&-8192)===0)},B.prototype.stub=function(d){for(var h=new Array(d),b=0;b<d;b++)h[b]=0;return h},B.prototype.mulp=function(d,h,b){var v=2*this.guessLen13b(d.length,h.length),w=this.makeRBT(v),_=this.stub(v),D=new Array(v),S=new Array(v),A=new Array(v),N=new Array(v),G=new Array(v),Q=new Array(v),ne=b.words;ne.length=v,this.convert13b(d.words,d.length,D,v),this.convert13b(h.words,h.length,N,v),this.transform(D,_,S,A,v,w),this.transform(N,_,G,Q,v,w);for(var H=0;H<v;H++){var Z=S[H]*G[H]-A[H]*Q[H];A[H]=S[H]*Q[H]+A[H]*G[H],S[H]=Z}return this.conjugate(S,A,v),this.transform(S,A,ne,_,v,w),this.conjugate(ne,_,v),this.normalize13b(ne,v),b.negative=d.negative^h.negative,b.length=d.length+h.length,b._strip()},o.prototype.mul=function(d){var h=new o(null);return h.words=new Array(this.length+d.length),this.mulTo(d,h)},o.prototype.mulf=function(d){var h=new o(null);return h.words=new Array(this.length+d.length),O(this,d,h)},o.prototype.imul=function(d){return this.clone().mulTo(d,this)},o.prototype.imuln=function(d){var h=d<0;h&&(d=-d),n(typeof d=="number"),n(d<67108864);for(var b=0,v=0;v<this.length;v++){var w=(this.words[v]|0)*d,_=(w&67108863)+(b&67108863);b>>=26,b+=w/67108864|0,b+=_>>>26,this.words[v]=_&67108863}return b!==0&&(this.words[v]=b,this.length++),h?this.ineg():this},o.prototype.muln=function(d){return this.clone().imuln(d)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(d){var h=T(d);if(h.length===0)return new o(1);for(var b=this,v=0;v<h.length&&h[v]===0;v++,b=b.sqr());if(++v<h.length)for(var w=b.sqr();v<h.length;v++,w=w.sqr())h[v]!==0&&(b=b.mul(w));return b},o.prototype.iushln=function(d){n(typeof d=="number"&&d>=0);var h=d%26,b=(d-h)/26,v=67108863>>>26-h<<26-h,w;if(h!==0){var _=0;for(w=0;w<this.length;w++){var D=this.words[w]&v,S=(this.words[w]|0)-D<<h;this.words[w]=S|_,_=D>>>26-h}_&&(this.words[w]=_,this.length++)}if(b!==0){for(w=this.length-1;w>=0;w--)this.words[w+b]=this.words[w];for(w=0;w<b;w++)this.words[w]=0;this.length+=b}return this._strip()},o.prototype.ishln=function(d){return n(this.negative===0),this.iushln(d)},o.prototype.iushrn=function(d,h,b){n(typeof d=="number"&&d>=0);var v;h?v=(h-h%26)/26:v=0;var w=d%26,_=Math.min((d-w)/26,this.length),D=67108863^67108863>>>w<<w,S=b;if(v-=_,v=Math.max(0,v),S){for(var A=0;A<_;A++)S.words[A]=this.words[A];S.length=_}if(_!==0)if(this.length>_)for(this.length-=_,A=0;A<this.length;A++)this.words[A]=this.words[A+_];else this.words[0]=0,this.length=1;var N=0;for(A=this.length-1;A>=0&&(N!==0||A>=v);A--){var G=this.words[A]|0;this.words[A]=N<<26-w|G>>>w,N=G&D}return S&&N!==0&&(S.words[S.length++]=N),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(d,h,b){return n(this.negative===0),this.iushrn(d,h,b)},o.prototype.shln=function(d){return this.clone().ishln(d)},o.prototype.ushln=function(d){return this.clone().iushln(d)},o.prototype.shrn=function(d){return this.clone().ishrn(d)},o.prototype.ushrn=function(d){return this.clone().iushrn(d)},o.prototype.testn=function(d){n(typeof d=="number"&&d>=0);var h=d%26,b=(d-h)/26,v=1<<h;if(this.length<=b)return!1;var w=this.words[b];return!!(w&v)},o.prototype.imaskn=function(d){n(typeof d=="number"&&d>=0);var h=d%26,b=(d-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(h!==0&&b++,this.length=Math.min(b,this.length),h!==0){var v=67108863^67108863>>>h<<h;this.words[this.length-1]&=v}return this._strip()},o.prototype.maskn=function(d){return this.clone().imaskn(d)},o.prototype.iaddn=function(d){return n(typeof d=="number"),n(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<=d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},o.prototype._iaddn=function(d){this.words[0]+=d;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},o.prototype.isubn=function(d){if(n(typeof d=="number"),n(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},o.prototype.addn=function(d){return this.clone().iaddn(d)},o.prototype.subn=function(d){return this.clone().isubn(d)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(d,h,b){var v=d.length+b,w;this._expand(v);var _,D=0;for(w=0;w<d.length;w++){_=(this.words[w+b]|0)+D;var S=(d.words[w]|0)*h;_-=S&67108863,D=(_>>26)-(S/67108864|0),this.words[w+b]=_&67108863}for(;w<this.length-b;w++)_=(this.words[w+b]|0)+D,D=_>>26,this.words[w+b]=_&67108863;if(D===0)return this._strip();for(n(D===-1),D=0,w=0;w<this.length;w++)_=-(this.words[w]|0)+D,D=_>>26,this.words[w]=_&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(d,h){var b=this.length-d.length,v=this.clone(),w=d,_=w.words[w.length-1]|0,D=this._countBits(_);b=26-D,b!==0&&(w=w.ushln(b),v.iushln(b),_=w.words[w.length-1]|0);var S=v.length-w.length,A;if(h!=="mod"){A=new o(null),A.length=S+1,A.words=new Array(A.length);for(var N=0;N<A.length;N++)A.words[N]=0}var G=v.clone()._ishlnsubmul(w,1,S);G.negative===0&&(v=G,A&&(A.words[S]=1));for(var Q=S-1;Q>=0;Q--){var ne=(v.words[w.length+Q]|0)*67108864+(v.words[w.length+Q-1]|0);for(ne=Math.min(ne/_|0,67108863),v._ishlnsubmul(w,ne,Q);v.negative!==0;)ne--,v.negative=0,v._ishlnsubmul(w,1,Q),v.isZero()||(v.negative^=1);A&&(A.words[Q]=ne)}return A&&A._strip(),v._strip(),h!=="div"&&b!==0&&v.iushrn(b),{div:A||null,mod:v}},o.prototype.divmod=function(d,h,b){if(n(!d.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var v,w,_;return this.negative!==0&&d.negative===0?(_=this.neg().divmod(d,h),h!=="mod"&&(v=_.div.neg()),h!=="div"&&(w=_.mod.neg(),b&&w.negative!==0&&w.iadd(d)),{div:v,mod:w}):this.negative===0&&d.negative!==0?(_=this.divmod(d.neg(),h),h!=="mod"&&(v=_.div.neg()),{div:v,mod:_.mod}):this.negative&d.negative?(_=this.neg().divmod(d.neg(),h),h!=="div"&&(w=_.mod.neg(),b&&w.negative!==0&&w.isub(d)),{div:_.div,mod:w}):d.length>this.length||this.cmp(d)<0?{div:new o(0),mod:this}:d.length===1?h==="div"?{div:this.divn(d.words[0]),mod:null}:h==="mod"?{div:null,mod:new o(this.modrn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new o(this.modrn(d.words[0]))}:this._wordDiv(d,h)},o.prototype.div=function(d){return this.divmod(d,"div",!1).div},o.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},o.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},o.prototype.divRound=function(d){var h=this.divmod(d);if(h.mod.isZero())return h.div;var b=h.div.negative!==0?h.mod.isub(d):h.mod,v=d.ushrn(1),w=d.andln(1),_=b.cmp(v);return _<0||w===1&&_===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},o.prototype.modrn=function(d){var h=d<0;h&&(d=-d),n(d<=67108863);for(var b=(1<<26)%d,v=0,w=this.length-1;w>=0;w--)v=(b*v+(this.words[w]|0))%d;return h?-v:v},o.prototype.modn=function(d){return this.modrn(d)},o.prototype.idivn=function(d){var h=d<0;h&&(d=-d),n(d<=67108863);for(var b=0,v=this.length-1;v>=0;v--){var w=(this.words[v]|0)+b*67108864;this.words[v]=w/d|0,b=w%d}return this._strip(),h?this.ineg():this},o.prototype.divn=function(d){return this.clone().idivn(d)},o.prototype.egcd=function(d){n(d.negative===0),n(!d.isZero());var h=this,b=d.clone();h.negative!==0?h=h.umod(d):h=h.clone();for(var v=new o(1),w=new o(0),_=new o(0),D=new o(1),S=0;h.isEven()&&b.isEven();)h.iushrn(1),b.iushrn(1),++S;for(var A=b.clone(),N=h.clone();!h.isZero();){for(var G=0,Q=1;!(h.words[0]&Q)&&G<26;++G,Q<<=1);if(G>0)for(h.iushrn(G);G-- >0;)(v.isOdd()||w.isOdd())&&(v.iadd(A),w.isub(N)),v.iushrn(1),w.iushrn(1);for(var ne=0,H=1;!(b.words[0]&H)&&ne<26;++ne,H<<=1);if(ne>0)for(b.iushrn(ne);ne-- >0;)(_.isOdd()||D.isOdd())&&(_.iadd(A),D.isub(N)),_.iushrn(1),D.iushrn(1);h.cmp(b)>=0?(h.isub(b),v.isub(_),w.isub(D)):(b.isub(h),_.isub(v),D.isub(w))}return{a:_,b:D,gcd:b.iushln(S)}},o.prototype._invmp=function(d){n(d.negative===0),n(!d.isZero());var h=this,b=d.clone();h.negative!==0?h=h.umod(d):h=h.clone();for(var v=new o(1),w=new o(0),_=b.clone();h.cmpn(1)>0&&b.cmpn(1)>0;){for(var D=0,S=1;!(h.words[0]&S)&&D<26;++D,S<<=1);if(D>0)for(h.iushrn(D);D-- >0;)v.isOdd()&&v.iadd(_),v.iushrn(1);for(var A=0,N=1;!(b.words[0]&N)&&A<26;++A,N<<=1);if(A>0)for(b.iushrn(A);A-- >0;)w.isOdd()&&w.iadd(_),w.iushrn(1);h.cmp(b)>=0?(h.isub(b),v.isub(w)):(b.isub(h),w.isub(v))}var G;return h.cmpn(1)===0?G=v:G=w,G.cmpn(0)<0&&G.iadd(d),G},o.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var h=this.clone(),b=d.clone();h.negative=0,b.negative=0;for(var v=0;h.isEven()&&b.isEven();v++)h.iushrn(1),b.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;b.isEven();)b.iushrn(1);var w=h.cmp(b);if(w<0){var _=h;h=b,b=_}else if(w===0||b.cmpn(1)===0)break;h.isub(b)}while(!0);return b.iushln(v)},o.prototype.invm=function(d){return this.egcd(d).a.umod(d)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(d){return this.words[0]&d},o.prototype.bincn=function(d){n(typeof d=="number");var h=d%26,b=(d-h)/26,v=1<<h;if(this.length<=b)return this._expand(b+1),this.words[b]|=v,this;for(var w=v,_=b;w!==0&&_<this.length;_++){var D=this.words[_]|0;D+=w,w=D>>>26,D&=67108863,this.words[_]=D}return w!==0&&(this.words[_]=w,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(d){var h=d<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var b;if(this.length>1)b=1;else{h&&(d=-d),n(d<=67108863,"Number is too big");var v=this.words[0]|0;b=v===d?0:v<d?-1:1}return this.negative!==0?-b|0:b},o.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var h=this.ucmp(d);return this.negative!==0?-h|0:h},o.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var h=0,b=this.length-1;b>=0;b--){var v=this.words[b]|0,w=d.words[b]|0;if(v!==w){v<w?h=-1:v>w&&(h=1);break}}return h},o.prototype.gtn=function(d){return this.cmpn(d)===1},o.prototype.gt=function(d){return this.cmp(d)===1},o.prototype.gten=function(d){return this.cmpn(d)>=0},o.prototype.gte=function(d){return this.cmp(d)>=0},o.prototype.ltn=function(d){return this.cmpn(d)===-1},o.prototype.lt=function(d){return this.cmp(d)===-1},o.prototype.lten=function(d){return this.cmpn(d)<=0},o.prototype.lte=function(d){return this.cmp(d)<=0},o.prototype.eqn=function(d){return this.cmpn(d)===0},o.prototype.eq=function(d){return this.cmp(d)===0},o.red=function(d){return new P(d)},o.prototype.toRed=function(d){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(d){return this.red=d,this},o.prototype.forceRed=function(d){return n(!this.red,"Already a number in reduction context"),this._forceRed(d)},o.prototype.redAdd=function(d){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},o.prototype.redIAdd=function(d){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},o.prototype.redSub=function(d){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},o.prototype.redISub=function(d){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},o.prototype.redShl=function(d){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},o.prototype.redMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},o.prototype.redIMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(d){return n(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var C={k256:null,p224:null,p192:null,p25519:null};function U(d,h){this.name=d,this.p=new o(h,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var d=new o(null);return d.words=new Array(Math.ceil(this.n/13)),d},U.prototype.ireduce=function(d){var h=d,b;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),b=h.bitLength();while(b>this.n);var v=b<this.n?-1:h.ucmp(this.p);return v===0?(h.words[0]=0,h.length=1):v>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},U.prototype.split=function(d,h){d.iushrn(this.n,0,h)},U.prototype.imulK=function(d){return d.imul(this.k)};function W(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(W,U),W.prototype.split=function(d,h){for(var b=4194303,v=Math.min(d.length,9),w=0;w<v;w++)h.words[w]=d.words[w];if(h.length=v,d.length<=9){d.words[0]=0,d.length=1;return}var _=d.words[9];for(h.words[h.length++]=_&b,w=10;w<d.length;w++){var D=d.words[w]|0;d.words[w-10]=(D&b)<<4|_>>>22,_=D}_>>>=22,d.words[w-10]=_,_===0&&d.length>10?d.length-=10:d.length-=9},W.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var h=0,b=0;b<d.length;b++){var v=d.words[b]|0;h+=v*977,d.words[b]=h&67108863,h=v*64+(h/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function L(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(L,U);function j(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(j,U);function k(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(k,U),k.prototype.imulK=function(d){for(var h=0,b=0;b<d.length;b++){var v=(d.words[b]|0)*19+h,w=v&67108863;v>>>=26,d.words[b]=w,h=v}return h!==0&&(d.words[d.length++]=h),d},o._prime=function(d){if(C[d])return C[d];var h;if(d==="k256")h=new W;else if(d==="p224")h=new L;else if(d==="p192")h=new j;else if(d==="p25519")h=new k;else throw new Error("Unknown prime "+d);return C[d]=h,h};function P(d){if(typeof d=="string"){var h=o._prime(d);this.m=h.p,this.prime=h}else n(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}P.prototype._verify1=function(d){n(d.negative===0,"red works only with positives"),n(d.red,"red works only with red numbers")},P.prototype._verify2=function(d,h){n((d.negative|h.negative)===0,"red works only with positives"),n(d.red&&d.red===h.red,"red works only with red numbers")},P.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):(l(d,d.umod(this.m)._forceRed(this)),d)},P.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},P.prototype.add=function(d,h){this._verify2(d,h);var b=d.add(h);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},P.prototype.iadd=function(d,h){this._verify2(d,h);var b=d.iadd(h);return b.cmp(this.m)>=0&&b.isub(this.m),b},P.prototype.sub=function(d,h){this._verify2(d,h);var b=d.sub(h);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},P.prototype.isub=function(d,h){this._verify2(d,h);var b=d.isub(h);return b.cmpn(0)<0&&b.iadd(this.m),b},P.prototype.shl=function(d,h){return this._verify1(d),this.imod(d.ushln(h))},P.prototype.imul=function(d,h){return this._verify2(d,h),this.imod(d.imul(h))},P.prototype.mul=function(d,h){return this._verify2(d,h),this.imod(d.mul(h))},P.prototype.isqr=function(d){return this.imul(d,d.clone())},P.prototype.sqr=function(d){return this.mul(d,d)},P.prototype.sqrt=function(d){if(d.isZero())return d.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var b=this.m.add(new o(1)).iushrn(2);return this.pow(d,b)}for(var v=this.m.subn(1),w=0;!v.isZero()&&v.andln(1)===0;)w++,v.iushrn(1);n(!v.isZero());var _=new o(1).toRed(this),D=_.redNeg(),S=this.m.subn(1).iushrn(1),A=this.m.bitLength();for(A=new o(2*A*A).toRed(this);this.pow(A,S).cmp(D)!==0;)A.redIAdd(D);for(var N=this.pow(A,v),G=this.pow(d,v.addn(1).iushrn(1)),Q=this.pow(d,v),ne=w;Q.cmp(_)!==0;){for(var H=Q,Z=0;H.cmp(_)!==0;Z++)H=H.redSqr();n(Z<ne);var ie=this.pow(N,new o(1).iushln(ne-Z-1));G=G.redMul(ie),N=ie.redSqr(),Q=Q.redMul(N),ne=Z}return G},P.prototype.invm=function(d){var h=d._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},P.prototype.pow=function(d,h){if(h.isZero())return new o(1).toRed(this);if(h.cmpn(1)===0)return d.clone();var b=4,v=new Array(1<<b);v[0]=new o(1).toRed(this),v[1]=d;for(var w=2;w<v.length;w++)v[w]=this.mul(v[w-1],d);var _=v[0],D=0,S=0,A=h.bitLength()%26;for(A===0&&(A=26),w=h.length-1;w>=0;w--){for(var N=h.words[w],G=A-1;G>=0;G--){var Q=N>>G&1;if(_!==v[0]&&(_=this.sqr(_)),Q===0&&D===0){S=0;continue}D<<=1,D|=Q,S++,!(S!==b&&(w!==0||G!==0))&&(_=this.mul(_,v[D]),S=0,D=0)}A=26}return _},P.prototype.convertTo=function(d){var h=d.umod(this.m);return h===d?h.clone():h},P.prototype.convertFrom=function(d){var h=d.clone();return h.red=null,h},o.mont=function(d){return new p(d)};function p(d){P.call(this,d),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(p,P),p.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},p.prototype.convertFrom=function(d){var h=this.imod(d.mul(this.rinv));return h.red=null,h},p.prototype.imul=function(d,h){if(d.isZero()||h.isZero())return d.words[0]=0,d.length=1,d;var b=d.imul(h),v=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=b.isub(v).iushrn(this.shift),_=w;return w.cmp(this.m)>=0?_=w.isub(this.m):w.cmpn(0)<0&&(_=w.iadd(this.m)),_._forceRed(this)},p.prototype.mul=function(d,h){if(d.isZero()||h.isZero())return new o(0)._forceRed(this);var b=d.mul(h),v=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=b.isub(v).iushrn(this.shift),_=w;return w.cmp(this.m)>=0?_=w.isub(this.m):w.cmpn(0)<0&&(_=w.iadd(this.m)),_._forceRed(this)},p.prototype.invm=function(d){var h=this.imod(d._invmp(this.m).mul(this.r2));return h._forceRed(this)}}(typeof e>"u"||e,t)}),Rj=he((t,e)=>{ee();var r=zNe(),i=Jb();function n(a){var f=s(a),c=f.toRed(r.mont(a.modulus)).redPow(new r(a.publicExponent)).fromRed();return{blinder:c,unblinder:f.invm(a.modulus)}}function s(a){var f=a.modulus.byteLength(),c;do c=new r(i(f));while(c.cmp(a.modulus)>=0||!c.umod(a.prime1)||!c.umod(a.prime2));return c}function o(a,f){var c=n(f),u=f.modulus.byteLength(),l=new r(a).mul(c.blinder).umod(f.modulus),y=l.toRed(r.mont(f.prime1)),m=l.toRed(r.mont(f.prime2)),g=f.coefficient,E=f.prime1,x=f.prime2,T=y.redPow(f.exponent1).fromRed(),M=m.redPow(f.exponent2).fromRed(),I=T.isub(M).imul(g).umod(E).imul(x);return M.iadd(I).imul(c.unblinder).umod(f.modulus).toArrayLike(Rt.Buffer,"be",u)}o.getr=s,e.exports=o}),FNe=he((t,e)=>{e.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}}),Ude=he(t=>{"use strict";ee();var e=t;function r(s,o){if(Array.isArray(s))return s.slice();if(!s)return[];var a=[];if(typeof s!="string"){for(var f=0;f<s.length;f++)a[f]=s[f]|0;return a}if(o==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var f=0;f<s.length;f+=2)a.push(parseInt(s[f]+s[f+1],16))}else for(var f=0;f<s.length;f++){var c=s.charCodeAt(f),u=c>>8,l=c&255;u?a.push(u,l):a.push(l)}return a}e.toArray=r;function i(s){return s.length===1?"0"+s:s}e.zero2=i;function n(s){for(var o="",a=0;a<s.length;a++)o+=i(s[a].toString(16));return o}e.toHex=n,e.encode=function(s,o){return o==="hex"?n(s):s}}),lu=he(t=>{"use strict";ee();var e=t,r=ss(),i=cu(),n=Ude();e.assert=i,e.toArray=n.toArray,e.zero2=n.zero2,e.toHex=n.toHex,e.encode=n.encode;function s(u,l,y){var m=new Array(Math.max(u.bitLength(),y)+1);m.fill(0);for(var g=1<<l+1,E=u.clone(),x=0;x<m.length;x++){var T,M=E.andln(g-1);E.isOdd()?(M>(g>>1)-1?T=(g>>1)-M:T=M,E.isubn(T)):T=0,m[x]=T,E.iushrn(1)}return m}e.getNAF=s;function o(u,l){var y=[[],[]];u=u.clone(),l=l.clone();for(var m=0,g=0,E;u.cmpn(-m)>0||l.cmpn(-g)>0;){var x=u.andln(3)+m&3,T=l.andln(3)+g&3;x===3&&(x=-1),T===3&&(T=-1);var M;x&1?(E=u.andln(7)+m&7,(E===3||E===5)&&T===2?M=-x:M=x):M=0,y[0].push(M);var I;T&1?(E=l.andln(7)+g&7,(E===3||E===5)&&x===2?I=-T:I=T):I=0,y[1].push(I),2*m===M+1&&(m=1-m),2*g===I+1&&(g=1-g),u.iushrn(1),l.iushrn(1)}return y}e.getJSF=o;function a(u,l,y){var m="_"+l;u.prototype[l]=function(){return this[m]!==void 0?this[m]:this[m]=y.call(this)}}e.cachedProperty=a;function f(u){return typeof u=="string"?e.toArray(u,"hex"):u}e.parseBytes=f;function c(u){return new r(u,"hex","le")}e.intFromLE=c}),AS=he((t,e)=>{"use strict";ee();var r=ss(),i=lu(),n=i.getNAF,s=i.getJSF,o=i.assert;function a(c,u){this.type=c,this.p=new r(u.p,16),this.red=u.prime?r.red(u.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=u.n&&new r(u.n,16),this.g=u.g&&this.pointFromJSON(u.g,u.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var l=this.n&&this.p.div(this.n);!l||l.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}e.exports=a,a.prototype.point=function(){throw new Error("Not implemented")},a.prototype.validate=function(){throw new Error("Not implemented")},a.prototype._fixedNafMul=function(c,u){o(c.precomputed);var l=c._getDoubles(),y=n(u,1,this._bitLength),m=(1<<l.step+1)-(l.step%2===0?2:1);m/=3;var g=[],E,x;for(E=0;E<y.length;E+=l.step){x=0;for(var T=E+l.step-1;T>=E;T--)x=(x<<1)+y[T];g.push(x)}for(var M=this.jpoint(null,null,null),I=this.jpoint(null,null,null),R=m;R>0;R--){for(E=0;E<g.length;E++)x=g[E],x===R?I=I.mixedAdd(l.points[E]):x===-R&&(I=I.mixedAdd(l.points[E].neg()));M=M.add(I)}return M.toP()},a.prototype._wnafMul=function(c,u){var l=4,y=c._getNAFPoints(l);l=y.wnd;for(var m=y.points,g=n(u,l,this._bitLength),E=this.jpoint(null,null,null),x=g.length-1;x>=0;x--){for(var T=0;x>=0&&g[x]===0;x--)T++;if(x>=0&&T++,E=E.dblp(T),x<0)break;var M=g[x];o(M!==0),c.type==="affine"?M>0?E=E.mixedAdd(m[M-1>>1]):E=E.mixedAdd(m[-M-1>>1].neg()):M>0?E=E.add(m[M-1>>1]):E=E.add(m[-M-1>>1].neg())}return c.type==="affine"?E.toP():E},a.prototype._wnafMulAdd=function(c,u,l,y,m){var g=this._wnafT1,E=this._wnafT2,x=this._wnafT3,T=0,M,I,R;for(M=0;M<y;M++){R=u[M];var O=R._getNAFPoints(c);g[M]=O.wnd,E[M]=O.points}for(M=y-1;M>=1;M-=2){var B=M-1,C=M;if(g[B]!==1||g[C]!==1){x[B]=n(l[B],g[B],this._bitLength),x[C]=n(l[C],g[C],this._bitLength),T=Math.max(x[B].length,T),T=Math.max(x[C].length,T);continue}var U=[u[B],null,null,u[C]];u[B].y.cmp(u[C].y)===0?(U[1]=u[B].add(u[C]),U[2]=u[B].toJ().mixedAdd(u[C].neg())):u[B].y.cmp(u[C].y.redNeg())===0?(U[1]=u[B].toJ().mixedAdd(u[C]),U[2]=u[B].add(u[C].neg())):(U[1]=u[B].toJ().mixedAdd(u[C]),U[2]=u[B].toJ().mixedAdd(u[C].neg()));var W=[-3,-1,-5,-7,0,7,5,1,3],L=s(l[B],l[C]);for(T=Math.max(L[0].length,T),x[B]=new Array(T),x[C]=new Array(T),I=0;I<T;I++){var j=L[0][I]|0,k=L[1][I]|0;x[B][I]=W[(j+1)*3+(k+1)],x[C][I]=0,E[B]=U}}var P=this.jpoint(null,null,null),p=this._wnafT4;for(M=T;M>=0;M--){for(var d=0;M>=0;){var h=!0;for(I=0;I<y;I++)p[I]=x[I][M]|0,p[I]!==0&&(h=!1);if(!h)break;d++,M--}if(M>=0&&d++,P=P.dblp(d),M<0)break;for(I=0;I<y;I++){var b=p[I];b!==0&&(b>0?R=E[I][b-1>>1]:b<0&&(R=E[I][-b-1>>1].neg()),R.type==="affine"?P=P.mixedAdd(R):P=P.add(R))}}for(M=0;M<y;M++)E[M]=null;return m?P:P.toP()};function f(c,u){this.curve=c,this.type=u,this.precomputed=null}a.BasePoint=f,f.prototype.eq=function(){throw new Error("Not implemented")},f.prototype.validate=function(){return this.curve.validate(this)},a.prototype.decodePoint=function(c,u){c=i.toArray(c,u);var l=this.p.byteLength();if((c[0]===4||c[0]===6||c[0]===7)&&c.length-1===2*l){c[0]===6?o(c[c.length-1]%2===0):c[0]===7&&o(c[c.length-1]%2===1);var y=this.point(c.slice(1,1+l),c.slice(1+l,1+2*l));return y}else if((c[0]===2||c[0]===3)&&c.length-1===l)return this.pointFromX(c.slice(1,1+l),c[0]===3);throw new Error("Unknown point format")},f.prototype.encodeCompressed=function(c){return this.encode(c,!0)},f.prototype._encode=function(c){var u=this.curve.p.byteLength(),l=this.getX().toArray("be",u);return c?[this.getY().isEven()?2:3].concat(l):[4].concat(l,this.getY().toArray("be",u))},f.prototype.encode=function(c,u){return i.encode(this._encode(u),c)},f.prototype.precompute=function(c){if(this.precomputed)return this;var u={doubles:null,naf:null,beta:null};return u.naf=this._getNAFPoints(8),u.doubles=this._getDoubles(4,c),u.beta=this._getBeta(),this.precomputed=u,this},f.prototype._hasDoubles=function(c){if(!this.precomputed)return!1;var u=this.precomputed.doubles;return u?u.points.length>=Math.ceil((c.bitLength()+1)/u.step):!1},f.prototype._getDoubles=function(c,u){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var l=[this],y=this,m=0;m<u;m+=c){for(var g=0;g<c;g++)y=y.dbl();l.push(y)}return{step:c,points:l}},f.prototype._getNAFPoints=function(c){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var u=[this],l=(1<<c)-1,y=l===1?null:this.dbl(),m=1;m<l;m++)u[m]=u[m-1].add(y);return{wnd:c,points:u}},f.prototype._getBeta=function(){return null},f.prototype.dblp=function(c){for(var u=this,l=0;l<c;l++)u=u.dbl();return u}}),UNe=he((t,e)=>{"use strict";ee();var r=lu(),i=ss(),n=rr(),s=AS(),o=r.assert;function a(u){s.call(this,"short",u),this.a=new i(u.a,16).toRed(this.red),this.b=new i(u.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(u),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}n(a,s),e.exports=a,a.prototype._getEndomorphism=function(u){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var l,y;if(u.beta)l=new i(u.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);l=m[0].cmp(m[1])<0?m[0]:m[1],l=l.toRed(this.red)}if(u.lambda)y=new i(u.lambda,16);else{var g=this._getEndoRoots(this.n);this.g.mul(g[0]).x.cmp(this.g.x.redMul(l))===0?y=g[0]:(y=g[1],o(this.g.mul(y).x.cmp(this.g.x.redMul(l))===0))}var E;return u.basis?E=u.basis.map(function(x){return{a:new i(x.a,16),b:new i(x.b,16)}}):E=this._getEndoBasis(y),{beta:l,lambda:y,basis:E}}},a.prototype._getEndoRoots=function(u){var l=u===this.p?this.red:i.mont(u),y=new i(2).toRed(l).redInvm(),m=y.redNeg(),g=new i(3).toRed(l).redNeg().redSqrt().redMul(y),E=m.redAdd(g).fromRed(),x=m.redSub(g).fromRed();return[E,x]},a.prototype._getEndoBasis=function(u){for(var l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),y=u,m=this.n.clone(),g=new i(1),E=new i(0),x=new i(0),T=new i(1),M,I,R,O,B,C,U,W=0,L,j;y.cmpn(0)!==0;){var k=m.div(y);L=m.sub(k.mul(y)),j=x.sub(k.mul(g));var P=T.sub(k.mul(E));if(!R&&L.cmp(l)<0)M=U.neg(),I=g,R=L.neg(),O=j;else if(R&&++W===2)break;U=L,m=y,y=L,x=g,g=j,T=E,E=P}B=L.neg(),C=j;var p=R.sqr().add(O.sqr()),d=B.sqr().add(C.sqr());return d.cmp(p)>=0&&(B=M,C=I),R.negative&&(R=R.neg(),O=O.neg()),B.negative&&(B=B.neg(),C=C.neg()),[{a:R,b:O},{a:B,b:C}]},a.prototype._endoSplit=function(u){var l=this.endo.basis,y=l[0],m=l[1],g=m.b.mul(u).divRound(this.n),E=y.b.neg().mul(u).divRound(this.n),x=g.mul(y.a),T=E.mul(m.a),M=g.mul(y.b),I=E.mul(m.b),R=u.sub(x).sub(T),O=M.add(I).neg();return{k1:R,k2:O}},a.prototype.pointFromX=function(u,l){u=new i(u,16),u.red||(u=u.toRed(this.red));var y=u.redSqr().redMul(u).redIAdd(u.redMul(this.a)).redIAdd(this.b),m=y.redSqrt();if(m.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var g=m.fromRed().isOdd();return(l&&!g||!l&&g)&&(m=m.redNeg()),this.point(u,m)},a.prototype.validate=function(u){if(u.inf)return!0;var l=u.x,y=u.y,m=this.a.redMul(l),g=l.redSqr().redMul(l).redIAdd(m).redIAdd(this.b);return y.redSqr().redISub(g).cmpn(0)===0},a.prototype._endoWnafMulAdd=function(u,l,y){for(var m=this._endoWnafT1,g=this._endoWnafT2,E=0;E<u.length;E++){var x=this._endoSplit(l[E]),T=u[E],M=T._getBeta();x.k1.negative&&(x.k1.ineg(),T=T.neg(!0)),x.k2.negative&&(x.k2.ineg(),M=M.neg(!0)),m[E*2]=T,m[E*2+1]=M,g[E*2]=x.k1,g[E*2+1]=x.k2}for(var I=this._wnafMulAdd(1,m,g,E*2,y),R=0;R<E*2;R++)m[R]=null,g[R]=null;return I};function f(u,l,y,m){s.BasePoint.call(this,u,"affine"),l===null&&y===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(l,16),this.y=new i(y,16),m&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}n(f,s.BasePoint),a.prototype.point=function(u,l,y){return new f(this,u,l,y)},a.prototype.pointFromJSON=function(u,l){return f.fromJSON(this,u,l)},f.prototype._getBeta=function(){if(this.curve.endo){var u=this.precomputed;if(u&&u.beta)return u.beta;var l=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(u){var y=this.curve,m=function(g){return y.point(g.x.redMul(y.endo.beta),g.y)};u.beta=l,l.precomputed={beta:null,naf:u.naf&&{wnd:u.naf.wnd,points:u.naf.points.map(m)},doubles:u.doubles&&{step:u.doubles.step,points:u.doubles.points.map(m)}}}return l}},f.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},f.fromJSON=function(u,l,y){typeof l=="string"&&(l=JSON.parse(l));var m=u.point(l[0],l[1],y);if(!l[2])return m;function g(x){return u.point(x[0],x[1],y)}var E=l[2];return m.precomputed={beta:null,doubles:E.doubles&&{step:E.doubles.step,points:[m].concat(E.doubles.points.map(g))},naf:E.naf&&{wnd:E.naf.wnd,points:[m].concat(E.naf.points.map(g))}},m},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.inf},f.prototype.add=function(u){if(this.inf)return u;if(u.inf)return this;if(this.eq(u))return this.dbl();if(this.neg().eq(u))return this.curve.point(null,null);if(this.x.cmp(u.x)===0)return this.curve.point(null,null);var l=this.y.redSub(u.y);l.cmpn(0)!==0&&(l=l.redMul(this.x.redSub(u.x).redInvm()));var y=l.redSqr().redISub(this.x).redISub(u.x),m=l.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,m)},f.prototype.dbl=function(){if(this.inf)return this;var u=this.y.redAdd(this.y);if(u.cmpn(0)===0)return this.curve.point(null,null);var l=this.curve.a,y=this.x.redSqr(),m=u.redInvm(),g=y.redAdd(y).redIAdd(y).redIAdd(l).redMul(m),E=g.redSqr().redISub(this.x.redAdd(this.x)),x=g.redMul(this.x.redSub(E)).redISub(this.y);return this.curve.point(E,x)},f.prototype.getX=function(){return this.x.fromRed()},f.prototype.getY=function(){return this.y.fromRed()},f.prototype.mul=function(u){return u=new i(u,16),this.isInfinity()?this:this._hasDoubles(u)?this.curve._fixedNafMul(this,u):this.curve.endo?this.curve._endoWnafMulAdd([this],[u]):this.curve._wnafMul(this,u)},f.prototype.mulAdd=function(u,l,y){var m=[this,l],g=[u,y];return this.curve.endo?this.curve._endoWnafMulAdd(m,g):this.curve._wnafMulAdd(1,m,g,2)},f.prototype.jmulAdd=function(u,l,y){var m=[this,l],g=[u,y];return this.curve.endo?this.curve._endoWnafMulAdd(m,g,!0):this.curve._wnafMulAdd(1,m,g,2,!0)},f.prototype.eq=function(u){return this===u||this.inf===u.inf&&(this.inf||this.x.cmp(u.x)===0&&this.y.cmp(u.y)===0)},f.prototype.neg=function(u){if(this.inf)return this;var l=this.curve.point(this.x,this.y.redNeg());if(u&&this.precomputed){var y=this.precomputed,m=function(g){return g.neg()};l.precomputed={naf:y.naf&&{wnd:y.naf.wnd,points:y.naf.points.map(m)},doubles:y.doubles&&{step:y.doubles.step,points:y.doubles.points.map(m)}}}return l},f.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var u=this.curve.jpoint(this.x,this.y,this.curve.one);return u};function c(u,l,y,m){s.BasePoint.call(this,u,"jacobian"),l===null&&y===null&&m===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(l,16),this.y=new i(y,16),this.z=new i(m,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}n(c,s.BasePoint),a.prototype.jpoint=function(u,l,y){return new c(this,u,l,y)},c.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var u=this.z.redInvm(),l=u.redSqr(),y=this.x.redMul(l),m=this.y.redMul(l).redMul(u);return this.curve.point(y,m)},c.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},c.prototype.add=function(u){if(this.isInfinity())return u;if(u.isInfinity())return this;var l=u.z.redSqr(),y=this.z.redSqr(),m=this.x.redMul(l),g=u.x.redMul(y),E=this.y.redMul(l.redMul(u.z)),x=u.y.redMul(y.redMul(this.z)),T=m.redSub(g),M=E.redSub(x);if(T.cmpn(0)===0)return M.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var I=T.redSqr(),R=I.redMul(T),O=m.redMul(I),B=M.redSqr().redIAdd(R).redISub(O).redISub(O),C=M.redMul(O.redISub(B)).redISub(E.redMul(R)),U=this.z.redMul(u.z).redMul(T);return this.curve.jpoint(B,C,U)},c.prototype.mixedAdd=function(u){if(this.isInfinity())return u.toJ();if(u.isInfinity())return this;var l=this.z.redSqr(),y=this.x,m=u.x.redMul(l),g=this.y,E=u.y.redMul(l).redMul(this.z),x=y.redSub(m),T=g.redSub(E);if(x.cmpn(0)===0)return T.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var M=x.redSqr(),I=M.redMul(x),R=y.redMul(M),O=T.redSqr().redIAdd(I).redISub(R).redISub(R),B=T.redMul(R.redISub(O)).redISub(g.redMul(I)),C=this.z.redMul(x);return this.curve.jpoint(O,B,C)},c.prototype.dblp=function(u){if(u===0)return this;if(this.isInfinity())return this;if(!u)return this.dbl();var l;if(this.curve.zeroA||this.curve.threeA){var y=this;for(l=0;l<u;l++)y=y.dbl();return y}var m=this.curve.a,g=this.curve.tinv,E=this.x,x=this.y,T=this.z,M=T.redSqr().redSqr(),I=x.redAdd(x);for(l=0;l<u;l++){var R=E.redSqr(),O=I.redSqr(),B=O.redSqr(),C=R.redAdd(R).redIAdd(R).redIAdd(m.redMul(M)),U=E.redMul(O),W=C.redSqr().redISub(U.redAdd(U)),L=U.redISub(W),j=C.redMul(L);j=j.redIAdd(j).redISub(B);var k=I.redMul(T);l+1<u&&(M=M.redMul(B)),E=W,T=k,I=j}return this.curve.jpoint(E,I.redMul(g),T)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},c.prototype._zeroDbl=function(){var u,l,y;if(this.zOne){var m=this.x.redSqr(),g=this.y.redSqr(),E=g.redSqr(),x=this.x.redAdd(g).redSqr().redISub(m).redISub(E);x=x.redIAdd(x);var T=m.redAdd(m).redIAdd(m),M=T.redSqr().redISub(x).redISub(x),I=E.redIAdd(E);I=I.redIAdd(I),I=I.redIAdd(I),u=M,l=T.redMul(x.redISub(M)).redISub(I),y=this.y.redAdd(this.y)}else{var R=this.x.redSqr(),O=this.y.redSqr(),B=O.redSqr(),C=this.x.redAdd(O).redSqr().redISub(R).redISub(B);C=C.redIAdd(C);var U=R.redAdd(R).redIAdd(R),W=U.redSqr(),L=B.redIAdd(B);L=L.redIAdd(L),L=L.redIAdd(L),u=W.redISub(C).redISub(C),l=U.redMul(C.redISub(u)).redISub(L),y=this.y.redMul(this.z),y=y.redIAdd(y)}return this.curve.jpoint(u,l,y)},c.prototype._threeDbl=function(){var u,l,y;if(this.zOne){var m=this.x.redSqr(),g=this.y.redSqr(),E=g.redSqr(),x=this.x.redAdd(g).redSqr().redISub(m).redISub(E);x=x.redIAdd(x);var T=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),M=T.redSqr().redISub(x).redISub(x);u=M;var I=E.redIAdd(E);I=I.redIAdd(I),I=I.redIAdd(I),l=T.redMul(x.redISub(M)).redISub(I),y=this.y.redAdd(this.y)}else{var R=this.z.redSqr(),O=this.y.redSqr(),B=this.x.redMul(O),C=this.x.redSub(R).redMul(this.x.redAdd(R));C=C.redAdd(C).redIAdd(C);var U=B.redIAdd(B);U=U.redIAdd(U);var W=U.redAdd(U);u=C.redSqr().redISub(W),y=this.y.redAdd(this.z).redSqr().redISub(O).redISub(R);var L=O.redSqr();L=L.redIAdd(L),L=L.redIAdd(L),L=L.redIAdd(L),l=C.redMul(U.redISub(u)).redISub(L)}return this.curve.jpoint(u,l,y)},c.prototype._dbl=function(){var u=this.curve.a,l=this.x,y=this.y,m=this.z,g=m.redSqr().redSqr(),E=l.redSqr(),x=y.redSqr(),T=E.redAdd(E).redIAdd(E).redIAdd(u.redMul(g)),M=l.redAdd(l);M=M.redIAdd(M);var I=M.redMul(x),R=T.redSqr().redISub(I.redAdd(I)),O=I.redISub(R),B=x.redSqr();B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B);var C=T.redMul(O).redISub(B),U=y.redAdd(y).redMul(m);return this.curve.jpoint(R,C,U)},c.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var u=this.x.redSqr(),l=this.y.redSqr(),y=this.z.redSqr(),m=l.redSqr(),g=u.redAdd(u).redIAdd(u),E=g.redSqr(),x=this.x.redAdd(l).redSqr().redISub(u).redISub(m);x=x.redIAdd(x),x=x.redAdd(x).redIAdd(x),x=x.redISub(E);var T=x.redSqr(),M=m.redIAdd(m);M=M.redIAdd(M),M=M.redIAdd(M),M=M.redIAdd(M);var I=g.redIAdd(x).redSqr().redISub(E).redISub(T).redISub(M),R=l.redMul(I);R=R.redIAdd(R),R=R.redIAdd(R);var O=this.x.redMul(T).redISub(R);O=O.redIAdd(O),O=O.redIAdd(O);var B=this.y.redMul(I.redMul(M.redISub(I)).redISub(x.redMul(T)));B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B);var C=this.z.redAdd(x).redSqr().redISub(y).redISub(T);return this.curve.jpoint(O,B,C)},c.prototype.mul=function(u,l){return u=new i(u,l),this.curve._wnafMul(this,u)},c.prototype.eq=function(u){if(u.type==="affine")return this.eq(u.toJ());if(this===u)return!0;var l=this.z.redSqr(),y=u.z.redSqr();if(this.x.redMul(y).redISub(u.x.redMul(l)).cmpn(0)!==0)return!1;var m=l.redMul(this.z),g=y.redMul(u.z);return this.y.redMul(g).redISub(u.y.redMul(m)).cmpn(0)===0},c.prototype.eqXToP=function(u){var l=this.z.redSqr(),y=u.toRed(this.curve.red).redMul(l);if(this.x.cmp(y)===0)return!0;for(var m=u.clone(),g=this.curve.redN.redMul(l);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(y.redIAdd(g),this.x.cmp(y)===0)return!0}},c.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},c.prototype.isInfinity=function(){return this.z.cmpn(0)===0}}),$Ne=he((t,e)=>{"use strict";ee();var r=ss(),i=rr(),n=AS(),s=lu();function o(f){n.call(this,"mont",f),this.a=new r(f.a,16).toRed(this.red),this.b=new r(f.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}i(o,n),e.exports=o,o.prototype.validate=function(f){var c=f.normalize().x,u=c.redSqr(),l=u.redMul(c).redAdd(u.redMul(this.a)).redAdd(c),y=l.redSqrt();return y.redSqr().cmp(l)===0};function a(f,c,u){n.BasePoint.call(this,f,"projective"),c===null&&u===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(c,16),this.z=new r(u,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,n.BasePoint),o.prototype.decodePoint=function(f,c){return this.point(s.toArray(f,c),1)},o.prototype.point=function(f,c){return new a(this,f,c)},o.prototype.pointFromJSON=function(f){return a.fromJSON(this,f)},a.prototype.precompute=function(){},a.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},a.fromJSON=function(f,c){return new a(f,c[0],c[1]||f.one)},a.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},a.prototype.isInfinity=function(){return this.z.cmpn(0)===0},a.prototype.dbl=function(){var f=this.x.redAdd(this.z),c=f.redSqr(),u=this.x.redSub(this.z),l=u.redSqr(),y=c.redSub(l),m=c.redMul(l),g=y.redMul(l.redAdd(this.curve.a24.redMul(y)));return this.curve.point(m,g)},a.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},a.prototype.diffAdd=function(f,c){var u=this.x.redAdd(this.z),l=this.x.redSub(this.z),y=f.x.redAdd(f.z),m=f.x.redSub(f.z),g=m.redMul(u),E=y.redMul(l),x=c.z.redMul(g.redAdd(E).redSqr()),T=c.x.redMul(g.redISub(E).redSqr());return this.curve.point(x,T)},a.prototype.mul=function(f){for(var c=f.clone(),u=this,l=this.curve.point(null,null),y=this,m=[];c.cmpn(0)!==0;c.iushrn(1))m.push(c.andln(1));for(var g=m.length-1;g>=0;g--)m[g]===0?(u=u.diffAdd(l,y),l=l.dbl()):(l=u.diffAdd(l,y),u=u.dbl());return l},a.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},a.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},a.prototype.eq=function(f){return this.getX().cmp(f.getX())===0},a.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},a.prototype.getX=function(){return this.normalize(),this.x.fromRed()}}),VNe=he((t,e)=>{"use strict";ee();var r=lu(),i=ss(),n=rr(),s=AS(),o=r.assert;function a(c){this.twisted=(c.a|0)!==1,this.mOneA=this.twisted&&(c.a|0)===-1,this.extended=this.mOneA,s.call(this,"edwards",c),this.a=new i(c.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(c.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(c.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(c.c|0)===1}n(a,s),e.exports=a,a.prototype._mulA=function(c){return this.mOneA?c.redNeg():this.a.redMul(c)},a.prototype._mulC=function(c){return this.oneC?c:this.c.redMul(c)},a.prototype.jpoint=function(c,u,l,y){return this.point(c,u,l,y)},a.prototype.pointFromX=function(c,u){c=new i(c,16),c.red||(c=c.toRed(this.red));var l=c.redSqr(),y=this.c2.redSub(this.a.redMul(l)),m=this.one.redSub(this.c2.redMul(this.d).redMul(l)),g=y.redMul(m.redInvm()),E=g.redSqrt();if(E.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var x=E.fromRed().isOdd();return(u&&!x||!u&&x)&&(E=E.redNeg()),this.point(c,E)},a.prototype.pointFromY=function(c,u){c=new i(c,16),c.red||(c=c.toRed(this.red));var l=c.redSqr(),y=l.redSub(this.c2),m=l.redMul(this.d).redMul(this.c2).redSub(this.a),g=y.redMul(m.redInvm());if(g.cmp(this.zero)===0){if(u)throw new Error("invalid point");return this.point(this.zero,c)}var E=g.redSqrt();if(E.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");return E.fromRed().isOdd()!==u&&(E=E.redNeg()),this.point(E,c)},a.prototype.validate=function(c){if(c.isInfinity())return!0;c.normalize();var u=c.x.redSqr(),l=c.y.redSqr(),y=u.redMul(this.a).redAdd(l),m=this.c2.redMul(this.one.redAdd(this.d.redMul(u).redMul(l)));return y.cmp(m)===0};function f(c,u,l,y,m){s.BasePoint.call(this,c,"projective"),u===null&&l===null&&y===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(u,16),this.y=new i(l,16),this.z=y?new i(y,16):this.curve.one,this.t=m&&new i(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}n(f,s.BasePoint),a.prototype.pointFromJSON=function(c){return f.fromJSON(this,c)},a.prototype.point=function(c,u,l,y){return new f(this,c,u,l,y)},f.fromJSON=function(c,u){return new f(c,u[0],u[1],u[2])},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},f.prototype._extDbl=function(){var c=this.x.redSqr(),u=this.y.redSqr(),l=this.z.redSqr();l=l.redIAdd(l);var y=this.curve._mulA(c),m=this.x.redAdd(this.y).redSqr().redISub(c).redISub(u),g=y.redAdd(u),E=g.redSub(l),x=y.redSub(u),T=m.redMul(E),M=g.redMul(x),I=m.redMul(x),R=E.redMul(g);return this.curve.point(T,M,R,I)},f.prototype._projDbl=function(){var c=this.x.redAdd(this.y).redSqr(),u=this.x.redSqr(),l=this.y.redSqr(),y,m,g,E,x,T;if(this.curve.twisted){E=this.curve._mulA(u);var M=E.redAdd(l);this.zOne?(y=c.redSub(u).redSub(l).redMul(M.redSub(this.curve.two)),m=M.redMul(E.redSub(l)),g=M.redSqr().redSub(M).redSub(M)):(x=this.z.redSqr(),T=M.redSub(x).redISub(x),y=c.redSub(u).redISub(l).redMul(T),m=M.redMul(E.redSub(l)),g=M.redMul(T))}else E=u.redAdd(l),x=this.curve._mulC(this.z).redSqr(),T=E.redSub(x).redSub(x),y=this.curve._mulC(c.redISub(E)).redMul(T),m=this.curve._mulC(E).redMul(u.redISub(l)),g=E.redMul(T);return this.curve.point(y,m,g)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},f.prototype._extAdd=function(c){var u=this.y.redSub(this.x).redMul(c.y.redSub(c.x)),l=this.y.redAdd(this.x).redMul(c.y.redAdd(c.x)),y=this.t.redMul(this.curve.dd).redMul(c.t),m=this.z.redMul(c.z.redAdd(c.z)),g=l.redSub(u),E=m.redSub(y),x=m.redAdd(y),T=l.redAdd(u),M=g.redMul(E),I=x.redMul(T),R=g.redMul(T),O=E.redMul(x);return this.curve.point(M,I,O,R)},f.prototype._projAdd=function(c){var u=this.z.redMul(c.z),l=u.redSqr(),y=this.x.redMul(c.x),m=this.y.redMul(c.y),g=this.curve.d.redMul(y).redMul(m),E=l.redSub(g),x=l.redAdd(g),T=this.x.redAdd(this.y).redMul(c.x.redAdd(c.y)).redISub(y).redISub(m),M=u.redMul(E).redMul(T),I,R;return this.curve.twisted?(I=u.redMul(x).redMul(m.redSub(this.curve._mulA(y))),R=E.redMul(x)):(I=u.redMul(x).redMul(m.redSub(y)),R=this.curve._mulC(E).redMul(x)),this.curve.point(M,I,R)},f.prototype.add=function(c){return this.isInfinity()?c:c.isInfinity()?this:this.curve.extended?this._extAdd(c):this._projAdd(c)},f.prototype.mul=function(c){return this._hasDoubles(c)?this.curve._fixedNafMul(this,c):this.curve._wnafMul(this,c)},f.prototype.mulAdd=function(c,u,l){return this.curve._wnafMulAdd(1,[this,u],[c,l],2,!1)},f.prototype.jmulAdd=function(c,u,l){return this.curve._wnafMulAdd(1,[this,u],[c,l],2,!0)},f.prototype.normalize=function(){if(this.zOne)return this;var c=this.z.redInvm();return this.x=this.x.redMul(c),this.y=this.y.redMul(c),this.t&&(this.t=this.t.redMul(c)),this.z=this.curve.one,this.zOne=!0,this},f.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},f.prototype.getX=function(){return this.normalize(),this.x.fromRed()},f.prototype.getY=function(){return this.normalize(),this.y.fromRed()},f.prototype.eq=function(c){return this===c||this.getX().cmp(c.getX())===0&&this.getY().cmp(c.getY())===0},f.prototype.eqXToP=function(c){var u=c.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(u)===0)return!0;for(var l=c.clone(),y=this.curve.redN.redMul(this.z);;){if(l.iadd(this.curve.n),l.cmp(this.curve.p)>=0)return!1;if(u.redIAdd(y),this.x.cmp(u)===0)return!0}},f.prototype.toP=f.prototype.normalize,f.prototype.mixedAdd=f.prototype.add}),$de=he(t=>{"use strict";ee();var e=t;e.base=AS(),e.short=UNe(),e.mont=$Ne(),e.edwards=VNe()}),ml=he(t=>{"use strict";ee();var e=cu(),r=rr();t.inherits=r;function i(P,p){return(P.charCodeAt(p)&64512)!==55296||p<0||p+1>=P.length?!1:(P.charCodeAt(p+1)&64512)===56320}function n(P,p){if(Array.isArray(P))return P.slice();if(!P)return[];var d=[];if(typeof P=="string")if(p){if(p==="hex")for(P=P.replace(/[^a-z0-9]+/ig,""),P.length%2!==0&&(P="0"+P),b=0;b<P.length;b+=2)d.push(parseInt(P[b]+P[b+1],16))}else for(var h=0,b=0;b<P.length;b++){var v=P.charCodeAt(b);v<128?d[h++]=v:v<2048?(d[h++]=v>>6|192,d[h++]=v&63|128):i(P,b)?(v=65536+((v&1023)<<10)+(P.charCodeAt(++b)&1023),d[h++]=v>>18|240,d[h++]=v>>12&63|128,d[h++]=v>>6&63|128,d[h++]=v&63|128):(d[h++]=v>>12|224,d[h++]=v>>6&63|128,d[h++]=v&63|128)}else for(b=0;b<P.length;b++)d[b]=P[b]|0;return d}t.toArray=n;function s(P){for(var p="",d=0;d<P.length;d++)p+=f(P[d].toString(16));return p}t.toHex=s;function o(P){var p=P>>>24|P>>>8&65280|P<<8&16711680|(P&255)<<24;return p>>>0}t.htonl=o;function a(P,p){for(var d="",h=0;h<P.length;h++){var b=P[h];p==="little"&&(b=o(b)),d+=c(b.toString(16))}return d}t.toHex32=a;function f(P){return P.length===1?"0"+P:P}t.zero2=f;function c(P){return P.length===7?"0"+P:P.length===6?"00"+P:P.length===5?"000"+P:P.length===4?"0000"+P:P.length===3?"00000"+P:P.length===2?"000000"+P:P.length===1?"0000000"+P:P}t.zero8=c;function u(P,p,d,h){var b=d-p;e(b%4===0);for(var v=new Array(b/4),w=0,_=p;w<v.length;w++,_+=4){var D;h==="big"?D=P[_]<<24|P[_+1]<<16|P[_+2]<<8|P[_+3]:D=P[_+3]<<24|P[_+2]<<16|P[_+1]<<8|P[_],v[w]=D>>>0}return v}t.join32=u;function l(P,p){for(var d=new Array(P.length*4),h=0,b=0;h<P.length;h++,b+=4){var v=P[h];p==="big"?(d[b]=v>>>24,d[b+1]=v>>>16&255,d[b+2]=v>>>8&255,d[b+3]=v&255):(d[b+3]=v>>>24,d[b+2]=v>>>16&255,d[b+1]=v>>>8&255,d[b]=v&255)}return d}t.split32=l;function y(P,p){return P>>>p|P<<32-p}t.rotr32=y;function m(P,p){return P<<p|P>>>32-p}t.rotl32=m;function g(P,p){return P+p>>>0}t.sum32=g;function E(P,p,d){return P+p+d>>>0}t.sum32_3=E;function x(P,p,d,h){return P+p+d+h>>>0}t.sum32_4=x;function T(P,p,d,h,b){return P+p+d+h+b>>>0}t.sum32_5=T;function M(P,p,d,h){var b=P[p],v=P[p+1],w=h+v>>>0,_=(w<h?1:0)+d+b;P[p]=_>>>0,P[p+1]=w}t.sum64=M;function I(P,p,d,h){var b=p+h>>>0,v=(b<p?1:0)+P+d;return v>>>0}t.sum64_hi=I;function R(P,p,d,h){var b=p+h;return b>>>0}t.sum64_lo=R;function O(P,p,d,h,b,v,w,_){var D=0,S=p;S=S+h>>>0,D+=S<p?1:0,S=S+v>>>0,D+=S<v?1:0,S=S+_>>>0,D+=S<_?1:0;var A=P+d+b+w+D;return A>>>0}t.sum64_4_hi=O;function B(P,p,d,h,b,v,w,_){var D=p+h+v+_;return D>>>0}t.sum64_4_lo=B;function C(P,p,d,h,b,v,w,_,D,S){var A=0,N=p;N=N+h>>>0,A+=N<p?1:0,N=N+v>>>0,A+=N<v?1:0,N=N+_>>>0,A+=N<_?1:0,N=N+S>>>0,A+=N<S?1:0;var G=P+d+b+w+D+A;return G>>>0}t.sum64_5_hi=C;function U(P,p,d,h,b,v,w,_,D,S){var A=p+h+v+_+S;return A>>>0}t.sum64_5_lo=U;function W(P,p,d){var h=p<<32-d|P>>>d;return h>>>0}t.rotr64_hi=W;function L(P,p,d){var h=P<<32-d|p>>>d;return h>>>0}t.rotr64_lo=L;function j(P,p,d){return P>>>d}t.shr64_hi=j;function k(P,p,d){var h=P<<32-d|p>>>d;return h>>>0}t.shr64_lo=k}),D_=he(t=>{"use strict";ee();var e=ml(),r=cu();function i(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=i,i.prototype.update=function(n,s){if(n=e.toArray(n,s),this.pending?this.pending=this.pending.concat(n):this.pending=n,this.pendingTotal+=n.length,this.pending.length>=this._delta8){n=this.pending;var o=n.length%this._delta8;this.pending=n.slice(n.length-o,n.length),this.pending.length===0&&(this.pending=null),n=e.join32(n,0,n.length-o,this.endian);for(var a=0;a<n.length;a+=this._delta32)this._update(n,a,a+this._delta32)}return this},i.prototype.digest=function(n){return this.update(this._pad()),r(this.pending===null),this._digest(n)},i.prototype._pad=function(){var n=this.pendingTotal,s=this._delta8,o=s-(n+this.padLength)%s,a=new Array(o+this.padLength);a[0]=128;for(var f=1;f<o;f++)a[f]=0;if(n<<=3,this.endian==="big"){for(var c=8;c<this.padLength;c++)a[f++]=0;a[f++]=0,a[f++]=0,a[f++]=0,a[f++]=0,a[f++]=n>>>24&255,a[f++]=n>>>16&255,a[f++]=n>>>8&255,a[f++]=n&255}else for(a[f++]=n&255,a[f++]=n>>>8&255,a[f++]=n>>>16&255,a[f++]=n>>>24&255,a[f++]=0,a[f++]=0,a[f++]=0,a[f++]=0,c=8;c<this.padLength;c++)a[f++]=0;return a}}),Vde=he(t=>{"use strict";ee();var e=ml(),r=e.rotr32;function i(l,y,m,g){if(l===0)return n(y,m,g);if(l===1||l===3)return o(y,m,g);if(l===2)return s(y,m,g)}t.ft_1=i;function n(l,y,m){return l&y^~l&m}t.ch32=n;function s(l,y,m){return l&y^l&m^y&m}t.maj32=s;function o(l,y,m){return l^y^m}t.p32=o;function a(l){return r(l,2)^r(l,13)^r(l,22)}t.s0_256=a;function f(l){return r(l,6)^r(l,11)^r(l,25)}t.s1_256=f;function c(l){return r(l,7)^r(l,18)^l>>>3}t.g0_256=c;function u(l){return r(l,17)^r(l,19)^l>>>10}t.g1_256=u}),KNe=he((t,e)=>{"use strict";ee();var r=ml(),i=D_(),n=Vde(),s=r.rotl32,o=r.sum32,a=r.sum32_5,f=n.ft_1,c=i.BlockHash,u=[1518500249,1859775393,2400959708,3395469782];function l(){if(!(this instanceof l))return new l;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(l,c),e.exports=l,l.blockSize=512,l.outSize=160,l.hmacStrength=80,l.padLength=64,l.prototype._update=function(y,m){for(var g=this.W,E=0;E<16;E++)g[E]=y[m+E];for(;E<g.length;E++)g[E]=s(g[E-3]^g[E-8]^g[E-14]^g[E-16],1);var x=this.h[0],T=this.h[1],M=this.h[2],I=this.h[3],R=this.h[4];for(E=0;E<g.length;E++){var O=~~(E/20),B=a(s(x,5),f(O,T,M,I),R,g[E],u[O]);R=I,I=M,M=s(T,30),T=x,x=B}this.h[0]=o(this.h[0],x),this.h[1]=o(this.h[1],T),this.h[2]=o(this.h[2],M),this.h[3]=o(this.h[3],I),this.h[4]=o(this.h[4],R)},l.prototype._digest=function(y){return y==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}}),Kde=he((t,e)=>{"use strict";ee();var r=ml(),i=D_(),n=Vde(),s=cu(),o=r.sum32,a=r.sum32_4,f=r.sum32_5,c=n.ch32,u=n.maj32,l=n.s0_256,y=n.s1_256,m=n.g0_256,g=n.g1_256,E=i.BlockHash,x=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function T(){if(!(this instanceof T))return new T;E.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=x,this.W=new Array(64)}r.inherits(T,E),e.exports=T,T.blockSize=512,T.outSize=256,T.hmacStrength=192,T.padLength=64,T.prototype._update=function(M,I){for(var R=this.W,O=0;O<16;O++)R[O]=M[I+O];for(;O<R.length;O++)R[O]=a(g(R[O-2]),R[O-7],m(R[O-15]),R[O-16]);var B=this.h[0],C=this.h[1],U=this.h[2],W=this.h[3],L=this.h[4],j=this.h[5],k=this.h[6],P=this.h[7];for(s(this.k.length===R.length),O=0;O<R.length;O++){var p=f(P,y(L),c(L,j,k),this.k[O],R[O]),d=o(l(B),u(B,C,U));P=k,k=j,j=L,L=o(W,p),W=U,U=C,C=B,B=o(p,d)}this.h[0]=o(this.h[0],B),this.h[1]=o(this.h[1],C),this.h[2]=o(this.h[2],U),this.h[3]=o(this.h[3],W),this.h[4]=o(this.h[4],L),this.h[5]=o(this.h[5],j),this.h[6]=o(this.h[6],k),this.h[7]=o(this.h[7],P)},T.prototype._digest=function(M){return M==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}}),HNe=he((t,e)=>{"use strict";ee();var r=ml(),i=Kde();function n(){if(!(this instanceof n))return new n;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(n,i),e.exports=n,n.blockSize=512,n.outSize=224,n.hmacStrength=192,n.padLength=64,n.prototype._digest=function(s){return s==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}}),Hde=he((t,e)=>{"use strict";ee();var r=ml(),i=D_(),n=cu(),s=r.rotr64_hi,o=r.rotr64_lo,a=r.shr64_hi,f=r.shr64_lo,c=r.sum64,u=r.sum64_hi,l=r.sum64_lo,y=r.sum64_4_hi,m=r.sum64_4_lo,g=r.sum64_5_hi,E=r.sum64_5_lo,x=i.BlockHash,T=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function M(){if(!(this instanceof M))return new M;x.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=T,this.W=new Array(160)}r.inherits(M,x),e.exports=M,M.blockSize=1024,M.outSize=512,M.hmacStrength=192,M.padLength=128,M.prototype._prepareBlock=function(d,h){for(var b=this.W,v=0;v<32;v++)b[v]=d[h+v];for(;v<b.length;v+=2){var w=P(b[v-4],b[v-3]),_=p(b[v-4],b[v-3]),D=b[v-14],S=b[v-13],A=j(b[v-30],b[v-29]),N=k(b[v-30],b[v-29]),G=b[v-32],Q=b[v-31];b[v]=y(w,_,D,S,A,N,G,Q),b[v+1]=m(w,_,D,S,A,N,G,Q)}},M.prototype._update=function(d,h){this._prepareBlock(d,h);var b=this.W,v=this.h[0],w=this.h[1],_=this.h[2],D=this.h[3],S=this.h[4],A=this.h[5],N=this.h[6],G=this.h[7],Q=this.h[8],ne=this.h[9],H=this.h[10],Z=this.h[11],ie=this.h[12],fe=this.h[13],ue=this.h[14],ye=this.h[15];n(this.k.length===b.length);for(var $=0;$<b.length;$+=2){var q=ue,z=ye,Y=W(Q,ne),X=L(Q,ne),re=I(Q,ne,H,Z,ie,fe),le=R(Q,ne,H,Z,ie,fe),pe=this.k[$],_e=this.k[$+1],xe=b[$],be=b[$+1],Me=g(q,z,Y,X,re,le,pe,_e,xe,be),Le=E(q,z,Y,X,re,le,pe,_e,xe,be);q=C(v,w),z=U(v,w),Y=O(v,w,_,D,S,A),X=B(v,w,_,D,S,A);var oe=u(q,z,Y,X),ce=l(q,z,Y,X);ue=ie,ye=fe,ie=H,fe=Z,H=Q,Z=ne,Q=u(N,G,Me,Le),ne=l(G,G,Me,Le),N=S,G=A,S=_,A=D,_=v,D=w,v=u(Me,Le,oe,ce),w=l(Me,Le,oe,ce)}c(this.h,0,v,w),c(this.h,2,_,D),c(this.h,4,S,A),c(this.h,6,N,G),c(this.h,8,Q,ne),c(this.h,10,H,Z),c(this.h,12,ie,fe),c(this.h,14,ue,ye)},M.prototype._digest=function(d){return d==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")};function I(d,h,b,v,w){var _=d&b^~d&w;return _<0&&(_+=4294967296),_}function R(d,h,b,v,w,_){var D=h&v^~h&_;return D<0&&(D+=4294967296),D}function O(d,h,b,v,w){var _=d&b^d&w^b&w;return _<0&&(_+=4294967296),_}function B(d,h,b,v,w,_){var D=h&v^h&_^v&_;return D<0&&(D+=4294967296),D}function C(d,h){var b=s(d,h,28),v=s(h,d,2),w=s(h,d,7),_=b^v^w;return _<0&&(_+=4294967296),_}function U(d,h){var b=o(d,h,28),v=o(h,d,2),w=o(h,d,7),_=b^v^w;return _<0&&(_+=4294967296),_}function W(d,h){var b=s(d,h,14),v=s(d,h,18),w=s(h,d,9),_=b^v^w;return _<0&&(_+=4294967296),_}function L(d,h){var b=o(d,h,14),v=o(d,h,18),w=o(h,d,9),_=b^v^w;return _<0&&(_+=4294967296),_}function j(d,h){var b=s(d,h,1),v=s(d,h,8),w=a(d,h,7),_=b^v^w;return _<0&&(_+=4294967296),_}function k(d,h){var b=o(d,h,1),v=o(d,h,8),w=f(d,h,7),_=b^v^w;return _<0&&(_+=4294967296),_}function P(d,h){var b=s(d,h,19),v=s(h,d,29),w=a(d,h,6),_=b^v^w;return _<0&&(_+=4294967296),_}function p(d,h){var b=o(d,h,19),v=o(h,d,29),w=f(d,h,6),_=b^v^w;return _<0&&(_+=4294967296),_}}),WNe=he((t,e)=>{"use strict";ee();var r=ml(),i=Hde();function n(){if(!(this instanceof n))return new n;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(n,i),e.exports=n,n.blockSize=1024,n.outSize=384,n.hmacStrength=192,n.padLength=128,n.prototype._digest=function(s){return s==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}}),YNe=he(t=>{"use strict";ee(),t.sha1=KNe(),t.sha224=HNe(),t.sha256=Kde(),t.sha384=WNe(),t.sha512=Hde()}),ZNe=he(t=>{"use strict";ee();var e=ml(),r=D_(),i=e.rotl32,n=e.sum32,s=e.sum32_3,o=e.sum32_4,a=r.BlockHash;function f(){if(!(this instanceof f))return new f;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}e.inherits(f,a),t.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(x,T){for(var M=this.h[0],I=this.h[1],R=this.h[2],O=this.h[3],B=this.h[4],C=M,U=I,W=R,L=O,j=B,k=0;k<80;k++){var P=n(i(o(M,c(k,I,R,O),x[y[k]+T],u(k)),g[k]),B);M=B,B=O,O=i(R,10),R=I,I=P,P=n(i(o(C,c(79-k,U,W,L),x[m[k]+T],l(k)),E[k]),j),C=j,j=L,L=i(W,10),W=U,U=P}P=s(this.h[1],R,L),this.h[1]=s(this.h[2],O,j),this.h[2]=s(this.h[3],B,C),this.h[3]=s(this.h[4],M,U),this.h[4]=s(this.h[0],I,W),this.h[0]=P},f.prototype._digest=function(x){return x==="hex"?e.toHex32(this.h,"little"):e.split32(this.h,"little")};function c(x,T,M,I){return x<=15?T^M^I:x<=31?T&M|~T&I:x<=47?(T|~M)^I:x<=63?T&I|M&~I:T^(M|~I)}function u(x){return x<=15?0:x<=31?1518500249:x<=47?1859775393:x<=63?2400959708:2840853838}function l(x){return x<=15?1352829926:x<=31?1548603684:x<=47?1836072691:x<=63?2053994217:0}var y=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],E=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]}),GNe=he((t,e)=>{"use strict";ee();var r=ml(),i=cu();function n(s,o,a){if(!(this instanceof n))return new n(s,o,a);this.Hash=s,this.blockSize=s.blockSize/8,this.outSize=s.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(o,a))}e.exports=n,n.prototype._init=function(s){s.length>this.blockSize&&(s=new this.Hash().update(s).digest()),i(s.length<=this.blockSize);for(var o=s.length;o<this.blockSize;o++)s.push(0);for(o=0;o<s.length;o++)s[o]^=54;for(this.inner=new this.Hash().update(s),o=0;o<s.length;o++)s[o]^=106;this.outer=new this.Hash().update(s)},n.prototype.update=function(s,o){return this.inner.update(s,o),this},n.prototype.digest=function(s){return this.outer.update(this.inner.digest()),this.outer.digest(s)}}),Bj=he(t=>{ee();var e=t;e.utils=ml(),e.common=D_(),e.sha=YNe(),e.ripemd=ZNe(),e.hmac=GNe(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}),JNe=he((t,e)=>{ee(),e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}}),Cj=he(t=>{"use strict";ee();var e=t,r=Bj(),i=$de(),n=lu(),s=n.assert;function o(c){c.type==="short"?this.curve=new i.short(c):c.type==="edwards"?this.curve=new i.edwards(c):this.curve=new i.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=o;function a(c,u){Object.defineProperty(e,c,{configurable:!0,enumerable:!0,get:function(){var l=new o(u);return Object.defineProperty(e,c,{configurable:!0,enumerable:!0,value:l}),l}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var f;try{f=JNe()}catch{f=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",f]})}),XNe=he((t,e)=>{"use strict";ee();var r=Bj(),i=Ude(),n=cu();function s(o){if(!(this instanceof s))return new s(o);this.hash=o.hash,this.predResist=!!o.predResist,this.outLen=this.hash.outSize,this.minEntropy=o.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var a=i.toArray(o.entropy,o.entropyEnc||"hex"),f=i.toArray(o.nonce,o.nonceEnc||"hex"),c=i.toArray(o.pers,o.persEnc||"hex");n(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(a,f,c)}e.exports=s,s.prototype._init=function(o,a,f){var c=o.concat(a).concat(f);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var u=0;u<this.V.length;u++)this.K[u]=0,this.V[u]=1;this._update(c),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},s.prototype._update=function(o){var a=this._hmac().update(this.V).update([0]);o&&(a=a.update(o)),this.K=a.digest(),this.V=this._hmac().update(this.V).digest(),o&&(this.K=this._hmac().update(this.V).update([1]).update(o).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(o,a,f,c){typeof a!="string"&&(c=f,f=a,a=null),o=i.toArray(o,a),f=i.toArray(f,c),n(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(o.concat(f||[])),this._reseed=1},s.prototype.generate=function(o,a,f,c){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof a!="string"&&(c=f,f=a,a=null),f&&(f=i.toArray(f,c||"hex"),this._update(f));for(var u=[];u.length<o;)this.V=this._hmac().update(this.V).digest(),u=u.concat(this.V);var l=u.slice(0,o);return this._update(f),this._reseed++,i.encode(l,a)}}),QNe=he((t,e)=>{"use strict";ee();var r=ss(),i=lu(),n=i.assert;function s(o,a){this.ec=o,this.priv=null,this.pub=null,a.priv&&this._importPrivate(a.priv,a.privEnc),a.pub&&this._importPublic(a.pub,a.pubEnc)}e.exports=s,s.fromPublic=function(o,a,f){return a instanceof s?a:new s(o,{pub:a,pubEnc:f})},s.fromPrivate=function(o,a,f){return a instanceof s?a:new s(o,{priv:a,privEnc:f})},s.prototype.validate=function(){var o=this.getPublic();return o.isInfinity()?{result:!1,reason:"Invalid public key"}:o.validate()?o.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(o,a){return typeof o=="string"&&(a=o,o=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),a?this.pub.encode(a,o):this.pub},s.prototype.getPrivate=function(o){return o==="hex"?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(o,a){this.priv=new r(o,a||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(o,a){if(o.x||o.y){this.ec.curve.type==="mont"?n(o.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&n(o.x&&o.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(o.x,o.y);return}this.pub=this.ec.curve.decodePoint(o,a)},s.prototype.derive=function(o){return o.validate()||n(o.validate(),"public point not validated"),o.mul(this.priv).getX()},s.prototype.sign=function(o,a,f){return this.ec.sign(o,this,a,f)},s.prototype.verify=function(o,a){return this.ec.verify(o,a,this)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}}),eqe=he((t,e)=>{"use strict";ee();var r=ss(),i=lu(),n=i.assert;function s(u,l){if(u instanceof s)return u;this._importDER(u,l)||(n(u.r&&u.s,"Signature without r or s"),this.r=new r(u.r,16),this.s=new r(u.s,16),u.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=u.recoveryParam)}e.exports=s;function o(){this.place=0}function a(u,l){var y=u[l.place++];if(!(y&128))return y;var m=y&15;if(m===0||m>4)return!1;for(var g=0,E=0,x=l.place;E<m;E++,x++)g<<=8,g|=u[x],g>>>=0;return g<=127?!1:(l.place=x,g)}function f(u){for(var l=0,y=u.length-1;!u[l]&&!(u[l+1]&128)&&l<y;)l++;return l===0?u:u.slice(l)}s.prototype._importDER=function(u,l){u=i.toArray(u,l);var y=new o;if(u[y.place++]!==48)return!1;var m=a(u,y);if(m===!1||m+y.place!==u.length||u[y.place++]!==2)return!1;var g=a(u,y);if(g===!1)return!1;var E=u.slice(y.place,g+y.place);if(y.place+=g,u[y.place++]!==2)return!1;var x=a(u,y);if(x===!1||u.length!==x+y.place)return!1;var T=u.slice(y.place,x+y.place);if(E[0]===0)if(E[1]&128)E=E.slice(1);else return!1;if(T[0]===0)if(T[1]&128)T=T.slice(1);else return!1;return this.r=new r(E),this.s=new r(T),this.recoveryParam=null,!0};function c(u,l){if(l<128){u.push(l);return}var y=1+(Math.log(l)/Math.LN2>>>3);for(u.push(y|128);--y;)u.push(l>>>(y<<3)&255);u.push(l)}s.prototype.toDER=function(u){var l=this.r.toArray(),y=this.s.toArray();for(l[0]&128&&(l=[0].concat(l)),y[0]&128&&(y=[0].concat(y)),l=f(l),y=f(y);!y[0]&&!(y[1]&128);)y=y.slice(1);var m=[2];c(m,l.length),m=m.concat(l),m.push(2),c(m,y.length);var g=m.concat(y),E=[48];return c(E,g.length),E=E.concat(g),i.encode(E,u)}}),tqe=he((t,e)=>{"use strict";ee();var r=ss(),i=XNe(),n=lu(),s=Cj(),o=Pj(),a=n.assert,f=QNe(),c=eqe();function u(l){if(!(this instanceof u))return new u(l);typeof l=="string"&&(a(Object.prototype.hasOwnProperty.call(s,l),"Unknown curve "+l),l=s[l]),l instanceof s.PresetCurve&&(l={curve:l}),this.curve=l.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=l.curve.g,this.g.precompute(l.curve.n.bitLength()+1),this.hash=l.hash||l.curve.hash}e.exports=u,u.prototype.keyPair=function(l){return new f(this,l)},u.prototype.keyFromPrivate=function(l,y){return f.fromPrivate(this,l,y)},u.prototype.keyFromPublic=function(l,y){return f.fromPublic(this,l,y)},u.prototype.genKeyPair=function(l){l||(l={});for(var y=new i({hash:this.hash,pers:l.pers,persEnc:l.persEnc||"utf8",entropy:l.entropy||o(this.hash.hmacStrength),entropyEnc:l.entropy&&l.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),g=this.n.sub(new r(2));;){var E=new r(y.generate(m));if(!(E.cmp(g)>0))return E.iaddn(1),this.keyFromPrivate(E)}},u.prototype._truncateToN=function(l,y){var m=l.byteLength()*8-this.n.bitLength();return m>0&&(l=l.ushrn(m)),!y&&l.cmp(this.n)>=0?l.sub(this.n):l},u.prototype.sign=function(l,y,m,g){typeof m=="object"&&(g=m,m=null),g||(g={}),y=this.keyFromPrivate(y,m),l=this._truncateToN(new r(l,16));for(var E=this.n.byteLength(),x=y.getPrivate().toArray("be",E),T=l.toArray("be",E),M=new i({hash:this.hash,entropy:x,nonce:T,pers:g.pers,persEnc:g.persEnc||"utf8"}),I=this.n.sub(new r(1)),R=0;;R++){var O=g.k?g.k(R):new r(M.generate(this.n.byteLength()));if(O=this._truncateToN(O,!0),!(O.cmpn(1)<=0||O.cmp(I)>=0)){var B=this.g.mul(O);if(!B.isInfinity()){var C=B.getX(),U=C.umod(this.n);if(U.cmpn(0)!==0){var W=O.invm(this.n).mul(U.mul(y.getPrivate()).iadd(l));if(W=W.umod(this.n),W.cmpn(0)!==0){var L=(B.getY().isOdd()?1:0)|(C.cmp(U)!==0?2:0);return g.canonical&&W.cmp(this.nh)>0&&(W=this.n.sub(W),L^=1),new c({r:U,s:W,recoveryParam:L})}}}}}},u.prototype.verify=function(l,y,m,g){l=this._truncateToN(new r(l,16)),m=this.keyFromPublic(m,g),y=new c(y,"hex");var E=y.r,x=y.s;if(E.cmpn(1)<0||E.cmp(this.n)>=0||x.cmpn(1)<0||x.cmp(this.n)>=0)return!1;var T=x.invm(this.n),M=T.mul(l).umod(this.n),I=T.mul(E).umod(this.n),R;return this.curve._maxwellTrick?(R=this.g.jmulAdd(M,m.getPublic(),I),R.isInfinity()?!1:R.eqXToP(E)):(R=this.g.mulAdd(M,m.getPublic(),I),R.isInfinity()?!1:R.getX().umod(this.n).cmp(E)===0)},u.prototype.recoverPubKey=function(l,y,m,g){a((3&m)===m,"The recovery param is more than two bits"),y=new c(y,g);var E=this.n,x=new r(l),T=y.r,M=y.s,I=m&1,R=m>>1;if(T.cmp(this.curve.p.umod(this.curve.n))>=0&&R)throw new Error("Unable to find sencond key candinate");R?T=this.curve.pointFromX(T.add(this.curve.n),I):T=this.curve.pointFromX(T,I);var O=y.r.invm(E),B=E.sub(x).mul(O).umod(E),C=M.mul(O).umod(E);return this.g.mulAdd(B,T,C)},u.prototype.getKeyRecoveryParam=function(l,y,m,g){if(y=new c(y,g),y.recoveryParam!==null)return y.recoveryParam;for(var E=0;E<4;E++){var x;try{x=this.recoverPubKey(l,y,E)}catch{continue}if(x.eq(m))return E}throw new Error("Unable to find valid recovery factor")}}),rqe=he((t,e)=>{"use strict";ee();var r=lu(),i=r.assert,n=r.parseBytes,s=r.cachedProperty;function o(a,f){this.eddsa=a,this._secret=n(f.secret),a.isPoint(f.pub)?this._pub=f.pub:this._pubBytes=n(f.pub)}o.fromPublic=function(a,f){return f instanceof o?f:new o(a,{pub:f})},o.fromSecret=function(a,f){return f instanceof o?f:new o(a,{secret:f})},o.prototype.secret=function(){return this._secret},s(o,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),s(o,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),s(o,"privBytes",function(){var a=this.eddsa,f=this.hash(),c=a.encodingLength-1,u=f.slice(0,a.encodingLength);return u[0]&=248,u[c]&=127,u[c]|=64,u}),s(o,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),s(o,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),s(o,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),o.prototype.sign=function(a){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(a,this)},o.prototype.verify=function(a,f){return this.eddsa.verify(a,f,this)},o.prototype.getSecret=function(a){return i(this._secret,"KeyPair is public only"),r.encode(this.secret(),a)},o.prototype.getPublic=function(a){return r.encode(this.pubBytes(),a)},e.exports=o}),iqe=he((t,e)=>{"use strict";ee();var r=ss(),i=lu(),n=i.assert,s=i.cachedProperty,o=i.parseBytes;function a(f,c){this.eddsa=f,typeof c!="object"&&(c=o(c)),Array.isArray(c)&&(c={R:c.slice(0,f.encodingLength),S:c.slice(f.encodingLength)}),n(c.R&&c.S,"Signature without R or S"),f.isPoint(c.R)&&(this._R=c.R),c.S instanceof r&&(this._S=c.S),this._Rencoded=Array.isArray(c.R)?c.R:c.Rencoded,this._Sencoded=Array.isArray(c.S)?c.S:c.Sencoded}s(a,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),s(a,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),s(a,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),s(a,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),a.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},a.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=a}),nqe=he((t,e)=>{"use strict";ee();var r=Bj(),i=Cj(),n=lu(),s=n.assert,o=n.parseBytes,a=rqe(),f=iqe();function c(u){if(s(u==="ed25519","only tested with ed25519 so far"),!(this instanceof c))return new c(u);u=i[u].curve,this.curve=u,this.g=u.g,this.g.precompute(u.n.bitLength()+1),this.pointClass=u.point().constructor,this.encodingLength=Math.ceil(u.n.bitLength()/8),this.hash=r.sha512}e.exports=c,c.prototype.sign=function(u,l){u=o(u);var y=this.keyFromSecret(l),m=this.hashInt(y.messagePrefix(),u),g=this.g.mul(m),E=this.encodePoint(g),x=this.hashInt(E,y.pubBytes(),u).mul(y.priv()),T=m.add(x).umod(this.curve.n);return this.makeSignature({R:g,S:T,Rencoded:E})},c.prototype.verify=function(u,l,y){u=o(u),l=this.makeSignature(l);var m=this.keyFromPublic(y),g=this.hashInt(l.Rencoded(),m.pubBytes(),u),E=this.g.mul(l.S()),x=l.R().add(m.pub().mul(g));return x.eq(E)},c.prototype.hashInt=function(){for(var u=this.hash(),l=0;l<arguments.length;l++)u.update(arguments[l]);return n.intFromLE(u.digest()).umod(this.curve.n)},c.prototype.keyFromPublic=function(u){return a.fromPublic(this,u)},c.prototype.keyFromSecret=function(u){return a.fromSecret(this,u)},c.prototype.makeSignature=function(u){return u instanceof f?u:new f(this,u)},c.prototype.encodePoint=function(u){var l=u.getY().toArray("le",this.encodingLength);return l[this.encodingLength-1]|=u.getX().isOdd()?128:0,l},c.prototype.decodePoint=function(u){u=n.parseBytes(u);var l=u.length-1,y=u.slice(0,l).concat(u[l]&-129),m=(u[l]&128)!==0,g=n.intFromLE(y);return this.curve.pointFromY(g,m)},c.prototype.encodeInt=function(u){return u.toArray("le",this.encodingLength)},c.prototype.decodeInt=function(u){return n.intFromLE(u)},c.prototype.isPoint=function(u){return u instanceof this.pointClass}}),I_=he(t=>{"use strict";ee();var e=t;e.version=FNe().version,e.utils=lu(),e.rand=Pj(),e.curve=$de(),e.curves=Cj(),e.ec=tqe(),e.eddsa=nqe()}),Wde=he((t,e)=>{ee(),function(r,i){"use strict";function n(d,h){if(!d)throw new Error(h||"Assertion failed")}function s(d,h){d.super_=h;var b=function(){};b.prototype=h.prototype,d.prototype=new b,d.prototype.constructor=d}function o(d,h,b){if(o.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,d!==null&&((h==="le"||h==="be")&&(b=h,h=10),this._init(d||0,h||10,b||"be"))}typeof r=="object"?r.exports=o:i.BN=o,o.BN=o,o.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=ji().Buffer}catch{}o.isBN=function(d){return d instanceof o?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===o.wordSize&&Array.isArray(d.words)},o.max=function(d,h){return d.cmp(h)>0?d:h},o.min=function(d,h){return d.cmp(h)<0?d:h},o.prototype._init=function(d,h,b){if(typeof d=="number")return this._initNumber(d,h,b);if(typeof d=="object")return this._initArray(d,h,b);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),d=d.toString().replace(/\s+/g,"");var v=0;d[0]==="-"&&(v++,this.negative=1),v<d.length&&(h===16?this._parseHex(d,v,b):(this._parseBase(d,h,v),b==="le"&&this._initArray(this.toArray(),h,b)))},o.prototype._initNumber=function(d,h,b){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(n(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),h,b)},o.prototype._initArray=function(d,h,b){if(n(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var w,_,D=0;if(b==="be")for(v=d.length-1,w=0;v>=0;v-=3)_=d[v]|d[v-1]<<8|d[v-2]<<16,this.words[w]|=_<<D&67108863,this.words[w+1]=_>>>26-D&67108863,D+=24,D>=26&&(D-=26,w++);else if(b==="le")for(v=0,w=0;v<d.length;v+=3)_=d[v]|d[v+1]<<8|d[v+2]<<16,this.words[w]|=_<<D&67108863,this.words[w+1]=_>>>26-D&67108863,D+=24,D>=26&&(D-=26,w++);return this._strip()};function f(d,h){var b=d.charCodeAt(h);if(b>=48&&b<=57)return b-48;if(b>=65&&b<=70)return b-55;if(b>=97&&b<=102)return b-87;n(!1,"Invalid character in "+d)}function c(d,h,b){var v=f(d,b);return b-1>=h&&(v|=f(d,b-1)<<4),v}o.prototype._parseHex=function(d,h,b){this.length=Math.ceil((d.length-h)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var w=0,_=0,D;if(b==="be")for(v=d.length-1;v>=h;v-=2)D=c(d,h,v)<<w,this.words[_]|=D&67108863,w>=18?(w-=18,_+=1,this.words[_]|=D>>>26):w+=8;else{var S=d.length-h;for(v=S%2===0?h+1:h;v<d.length;v+=2)D=c(d,h,v)<<w,this.words[_]|=D&67108863,w>=18?(w-=18,_+=1,this.words[_]|=D>>>26):w+=8}this._strip()};function u(d,h,b,v){for(var w=0,_=0,D=Math.min(d.length,b),S=h;S<D;S++){var A=d.charCodeAt(S)-48;w*=v,A>=49?_=A-49+10:A>=17?_=A-17+10:_=A,n(A>=0&&_<v,"Invalid character"),w+=_}return w}o.prototype._parseBase=function(d,h,b){this.words=[0],this.length=1;for(var v=0,w=1;w<=67108863;w*=h)v++;v--,w=w/h|0;for(var _=d.length-b,D=_%v,S=Math.min(_,_-D)+b,A=0,N=b;N<S;N+=v)A=u(d,N,N+v,h),this.imuln(w),this.words[0]+A<67108864?this.words[0]+=A:this._iaddn(A);if(D!==0){var G=1;for(A=u(d,N,d.length,h),N=0;N<D;N++)G*=h;this.imuln(G),this.words[0]+A<67108864?this.words[0]+=A:this._iaddn(A)}this._strip()},o.prototype.copy=function(d){d.words=new Array(this.length);for(var h=0;h<this.length;h++)d.words[h]=this.words[h];d.length=this.length,d.negative=this.negative,d.red=this.red};function l(d,h){d.words=h.words,d.length=h.length,d.negative=h.negative,d.red=h.red}if(o.prototype._move=function(d){l(d,this)},o.prototype.clone=function(){var d=new o(null);return this.copy(d),d},o.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{o.prototype.inspect=y}else o.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(d,h){d=d||10,h=h|0||1;var b;if(d===16||d==="hex"){b="";for(var v=0,w=0,_=0;_<this.length;_++){var D=this.words[_],S=((D<<v|w)&16777215).toString(16);w=D>>>24-v&16777215,v+=2,v>=26&&(v-=26,_--),w!==0||_!==this.length-1?b=m[6-S.length]+S+b:b=S+b}for(w!==0&&(b=w.toString(16)+b);b.length%h!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(d===(d|0)&&d>=2&&d<=36){var A=g[d],N=E[d];b="";var G=this.clone();for(G.negative=0;!G.isZero();){var Q=G.modrn(N).toString(d);G=G.idivn(N),G.isZero()?b=Q+b:b=m[A-Q.length]+Q+b}for(this.isZero()&&(b="0"+b);b.length%h!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(d,h){return this.toArrayLike(a,d,h)}),o.prototype.toArray=function(d,h){return this.toArrayLike(Array,d,h)};var x=function(d,h){return d.allocUnsafe?d.allocUnsafe(h):new d(h)};o.prototype.toArrayLike=function(d,h,b){this._strip();var v=this.byteLength(),w=b||Math.max(1,v);n(v<=w,"byte array longer than desired length"),n(w>0,"Requested array length <= 0");var _=x(d,w),D=h==="le"?"LE":"BE";return this["_toArrayLike"+D](_,v),_},o.prototype._toArrayLikeLE=function(d,h){for(var b=0,v=0,w=0,_=0;w<this.length;w++){var D=this.words[w]<<_|v;d[b++]=D&255,b<d.length&&(d[b++]=D>>8&255),b<d.length&&(d[b++]=D>>16&255),_===6?(b<d.length&&(d[b++]=D>>24&255),v=0,_=0):(v=D>>>24,_+=2)}if(b<d.length)for(d[b++]=v;b<d.length;)d[b++]=0},o.prototype._toArrayLikeBE=function(d,h){for(var b=d.length-1,v=0,w=0,_=0;w<this.length;w++){var D=this.words[w]<<_|v;d[b--]=D&255,b>=0&&(d[b--]=D>>8&255),b>=0&&(d[b--]=D>>16&255),_===6?(b>=0&&(d[b--]=D>>24&255),v=0,_=0):(v=D>>>24,_+=2)}if(b>=0)for(d[b--]=v;b>=0;)d[b--]=0},Math.clz32?o.prototype._countBits=function(d){return 32-Math.clz32(d)}:o.prototype._countBits=function(d){var h=d,b=0;return h>=4096&&(b+=13,h>>>=13),h>=64&&(b+=7,h>>>=7),h>=8&&(b+=4,h>>>=4),h>=2&&(b+=2,h>>>=2),b+h},o.prototype._zeroBits=function(d){if(d===0)return 26;var h=d,b=0;return h&8191||(b+=13,h>>>=13),h&127||(b+=7,h>>>=7),h&15||(b+=4,h>>>=4),h&3||(b+=2,h>>>=2),h&1||b++,b},o.prototype.bitLength=function(){var d=this.words[this.length-1],h=this._countBits(d);return(this.length-1)*26+h};function T(d){for(var h=new Array(d.bitLength()),b=0;b<h.length;b++){var v=b/26|0,w=b%26;h[b]=d.words[v]>>>w&1}return h}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,h=0;h<this.length;h++){var b=this._zeroBits(this.words[h]);if(d+=b,b!==26)break}return d},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},o.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var h=0;h<d.length;h++)this.words[h]=this.words[h]|d.words[h];return this._strip()},o.prototype.ior=function(d){return n((this.negative|d.negative)===0),this.iuor(d)},o.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},o.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},o.prototype.iuand=function(d){var h;this.length>d.length?h=d:h=this;for(var b=0;b<h.length;b++)this.words[b]=this.words[b]&d.words[b];return this.length=h.length,this._strip()},o.prototype.iand=function(d){return n((this.negative|d.negative)===0),this.iuand(d)},o.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},o.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},o.prototype.iuxor=function(d){var h,b;this.length>d.length?(h=this,b=d):(h=d,b=this);for(var v=0;v<b.length;v++)this.words[v]=h.words[v]^b.words[v];if(this!==h)for(;v<h.length;v++)this.words[v]=h.words[v];return this.length=h.length,this._strip()},o.prototype.ixor=function(d){return n((this.negative|d.negative)===0),this.iuxor(d)},o.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},o.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},o.prototype.inotn=function(d){n(typeof d=="number"&&d>=0);var h=Math.ceil(d/26)|0,b=d%26;this._expand(h),b>0&&h--;for(var v=0;v<h;v++)this.words[v]=~this.words[v]&67108863;return b>0&&(this.words[v]=~this.words[v]&67108863>>26-b),this._strip()},o.prototype.notn=function(d){return this.clone().inotn(d)},o.prototype.setn=function(d,h){n(typeof d=="number"&&d>=0);var b=d/26|0,v=d%26;return this._expand(b+1),h?this.words[b]=this.words[b]|1<<v:this.words[b]=this.words[b]&~(1<<v),this._strip()},o.prototype.iadd=function(d){var h;if(this.negative!==0&&d.negative===0)return this.negative=0,h=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,h=this.isub(d),d.negative=1,h._normSign();var b,v;this.length>d.length?(b=this,v=d):(b=d,v=this);for(var w=0,_=0;_<v.length;_++)h=(b.words[_]|0)+(v.words[_]|0)+w,this.words[_]=h&67108863,w=h>>>26;for(;w!==0&&_<b.length;_++)h=(b.words[_]|0)+w,this.words[_]=h&67108863,w=h>>>26;if(this.length=b.length,w!==0)this.words[this.length]=w,this.length++;else if(b!==this)for(;_<b.length;_++)this.words[_]=b.words[_];return this},o.prototype.add=function(d){var h;return d.negative!==0&&this.negative===0?(d.negative=0,h=this.sub(d),d.negative^=1,h):d.negative===0&&this.negative!==0?(this.negative=0,h=d.sub(this),this.negative=1,h):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},o.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var h=this.iadd(d);return d.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var b=this.cmp(d);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,w;b>0?(v=this,w=d):(v=d,w=this);for(var _=0,D=0;D<w.length;D++)h=(v.words[D]|0)-(w.words[D]|0)+_,_=h>>26,this.words[D]=h&67108863;for(;_!==0&&D<v.length;D++)h=(v.words[D]|0)+_,_=h>>26,this.words[D]=h&67108863;if(_===0&&D<v.length&&v!==this)for(;D<v.length;D++)this.words[D]=v.words[D];return this.length=Math.max(this.length,D),v!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(d){return this.clone().isub(d)};function M(d,h,b){b.negative=h.negative^d.negative;var v=d.length+h.length|0;b.length=v,v=v-1|0;var w=d.words[0]|0,_=h.words[0]|0,D=w*_,S=D&67108863,A=D/67108864|0;b.words[0]=S;for(var N=1;N<v;N++){for(var G=A>>>26,Q=A&67108863,ne=Math.min(N,h.length-1),H=Math.max(0,N-d.length+1);H<=ne;H++){var Z=N-H|0;w=d.words[Z]|0,_=h.words[H]|0,D=w*_+Q,G+=D/67108864|0,Q=D&67108863}b.words[N]=Q|0,A=G|0}return A!==0?b.words[N]=A|0:b.length--,b._strip()}var I=function(d,h,b){var v=d.words,w=h.words,_=b.words,D=0,S,A,N,G=v[0]|0,Q=G&8191,ne=G>>>13,H=v[1]|0,Z=H&8191,ie=H>>>13,fe=v[2]|0,ue=fe&8191,ye=fe>>>13,$=v[3]|0,q=$&8191,z=$>>>13,Y=v[4]|0,X=Y&8191,re=Y>>>13,le=v[5]|0,pe=le&8191,_e=le>>>13,xe=v[6]|0,be=xe&8191,Me=xe>>>13,Le=v[7]|0,oe=Le&8191,ce=Le>>>13,ge=v[8]|0,me=ge&8191,Ee=ge>>>13,$e=v[9]|0,Se=$e&8191,We=$e>>>13,it=w[0]|0,Te=it&8191,nt=it>>>13,ot=w[1]|0,ke=ot&8191,tt=ot>>>13,rt=w[2]|0,Ae=rt&8191,Ye=rt>>>13,He=w[3]|0,De=He&8191,ft=He>>>13,ut=w[4]|0,Ie=ut&8191,ct=ut>>>13,lt=w[5]|0,Re=lt&8191,dt=lt>>>13,ht=w[6]|0,Be=ht&8191,pt=ht>>>13,yt=w[7]|0,Ce=yt&8191,mt=yt>>>13,gt=w[8]|0,Oe=gt&8191,st=gt>>>13,Ct=w[9]|0,Ue=Ct&8191,Pt=Ct>>>13;b.negative=d.negative^h.negative,b.length=19,S=Math.imul(Q,Te),A=Math.imul(Q,nt),A=A+Math.imul(ne,Te)|0,N=Math.imul(ne,nt);var gn=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(gn>>>26)|0,gn&=67108863,S=Math.imul(Z,Te),A=Math.imul(Z,nt),A=A+Math.imul(ie,Te)|0,N=Math.imul(ie,nt),S=S+Math.imul(Q,ke)|0,A=A+Math.imul(Q,tt)|0,A=A+Math.imul(ne,ke)|0,N=N+Math.imul(ne,tt)|0;var bn=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(bn>>>26)|0,bn&=67108863,S=Math.imul(ue,Te),A=Math.imul(ue,nt),A=A+Math.imul(ye,Te)|0,N=Math.imul(ye,nt),S=S+Math.imul(Z,ke)|0,A=A+Math.imul(Z,tt)|0,A=A+Math.imul(ie,ke)|0,N=N+Math.imul(ie,tt)|0,S=S+Math.imul(Q,Ae)|0,A=A+Math.imul(Q,Ye)|0,A=A+Math.imul(ne,Ae)|0,N=N+Math.imul(ne,Ye)|0;var vn=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(vn>>>26)|0,vn&=67108863,S=Math.imul(q,Te),A=Math.imul(q,nt),A=A+Math.imul(z,Te)|0,N=Math.imul(z,nt),S=S+Math.imul(ue,ke)|0,A=A+Math.imul(ue,tt)|0,A=A+Math.imul(ye,ke)|0,N=N+Math.imul(ye,tt)|0,S=S+Math.imul(Z,Ae)|0,A=A+Math.imul(Z,Ye)|0,A=A+Math.imul(ie,Ae)|0,N=N+Math.imul(ie,Ye)|0,S=S+Math.imul(Q,De)|0,A=A+Math.imul(Q,ft)|0,A=A+Math.imul(ne,De)|0,N=N+Math.imul(ne,ft)|0;var wn=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(wn>>>26)|0,wn&=67108863,S=Math.imul(X,Te),A=Math.imul(X,nt),A=A+Math.imul(re,Te)|0,N=Math.imul(re,nt),S=S+Math.imul(q,ke)|0,A=A+Math.imul(q,tt)|0,A=A+Math.imul(z,ke)|0,N=N+Math.imul(z,tt)|0,S=S+Math.imul(ue,Ae)|0,A=A+Math.imul(ue,Ye)|0,A=A+Math.imul(ye,Ae)|0,N=N+Math.imul(ye,Ye)|0,S=S+Math.imul(Z,De)|0,A=A+Math.imul(Z,ft)|0,A=A+Math.imul(ie,De)|0,N=N+Math.imul(ie,ft)|0,S=S+Math.imul(Q,Ie)|0,A=A+Math.imul(Q,ct)|0,A=A+Math.imul(ne,Ie)|0,N=N+Math.imul(ne,ct)|0;var _n=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(_n>>>26)|0,_n&=67108863,S=Math.imul(pe,Te),A=Math.imul(pe,nt),A=A+Math.imul(_e,Te)|0,N=Math.imul(_e,nt),S=S+Math.imul(X,ke)|0,A=A+Math.imul(X,tt)|0,A=A+Math.imul(re,ke)|0,N=N+Math.imul(re,tt)|0,S=S+Math.imul(q,Ae)|0,A=A+Math.imul(q,Ye)|0,A=A+Math.imul(z,Ae)|0,N=N+Math.imul(z,Ye)|0,S=S+Math.imul(ue,De)|0,A=A+Math.imul(ue,ft)|0,A=A+Math.imul(ye,De)|0,N=N+Math.imul(ye,ft)|0,S=S+Math.imul(Z,Ie)|0,A=A+Math.imul(Z,ct)|0,A=A+Math.imul(ie,Ie)|0,N=N+Math.imul(ie,ct)|0,S=S+Math.imul(Q,Re)|0,A=A+Math.imul(Q,dt)|0,A=A+Math.imul(ne,Re)|0,N=N+Math.imul(ne,dt)|0;var En=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(En>>>26)|0,En&=67108863,S=Math.imul(be,Te),A=Math.imul(be,nt),A=A+Math.imul(Me,Te)|0,N=Math.imul(Me,nt),S=S+Math.imul(pe,ke)|0,A=A+Math.imul(pe,tt)|0,A=A+Math.imul(_e,ke)|0,N=N+Math.imul(_e,tt)|0,S=S+Math.imul(X,Ae)|0,A=A+Math.imul(X,Ye)|0,A=A+Math.imul(re,Ae)|0,N=N+Math.imul(re,Ye)|0,S=S+Math.imul(q,De)|0,A=A+Math.imul(q,ft)|0,A=A+Math.imul(z,De)|0,N=N+Math.imul(z,ft)|0,S=S+Math.imul(ue,Ie)|0,A=A+Math.imul(ue,ct)|0,A=A+Math.imul(ye,Ie)|0,N=N+Math.imul(ye,ct)|0,S=S+Math.imul(Z,Re)|0,A=A+Math.imul(Z,dt)|0,A=A+Math.imul(ie,Re)|0,N=N+Math.imul(ie,dt)|0,S=S+Math.imul(Q,Be)|0,A=A+Math.imul(Q,pt)|0,A=A+Math.imul(ne,Be)|0,N=N+Math.imul(ne,pt)|0;var Sn=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,S=Math.imul(oe,Te),A=Math.imul(oe,nt),A=A+Math.imul(ce,Te)|0,N=Math.imul(ce,nt),S=S+Math.imul(be,ke)|0,A=A+Math.imul(be,tt)|0,A=A+Math.imul(Me,ke)|0,N=N+Math.imul(Me,tt)|0,S=S+Math.imul(pe,Ae)|0,A=A+Math.imul(pe,Ye)|0,A=A+Math.imul(_e,Ae)|0,N=N+Math.imul(_e,Ye)|0,S=S+Math.imul(X,De)|0,A=A+Math.imul(X,ft)|0,A=A+Math.imul(re,De)|0,N=N+Math.imul(re,ft)|0,S=S+Math.imul(q,Ie)|0,A=A+Math.imul(q,ct)|0,A=A+Math.imul(z,Ie)|0,N=N+Math.imul(z,ct)|0,S=S+Math.imul(ue,Re)|0,A=A+Math.imul(ue,dt)|0,A=A+Math.imul(ye,Re)|0,N=N+Math.imul(ye,dt)|0,S=S+Math.imul(Z,Be)|0,A=A+Math.imul(Z,pt)|0,A=A+Math.imul(ie,Be)|0,N=N+Math.imul(ie,pt)|0,S=S+Math.imul(Q,Ce)|0,A=A+Math.imul(Q,mt)|0,A=A+Math.imul(ne,Ce)|0,N=N+Math.imul(ne,mt)|0;var xn=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(xn>>>26)|0,xn&=67108863,S=Math.imul(me,Te),A=Math.imul(me,nt),A=A+Math.imul(Ee,Te)|0,N=Math.imul(Ee,nt),S=S+Math.imul(oe,ke)|0,A=A+Math.imul(oe,tt)|0,A=A+Math.imul(ce,ke)|0,N=N+Math.imul(ce,tt)|0,S=S+Math.imul(be,Ae)|0,A=A+Math.imul(be,Ye)|0,A=A+Math.imul(Me,Ae)|0,N=N+Math.imul(Me,Ye)|0,S=S+Math.imul(pe,De)|0,A=A+Math.imul(pe,ft)|0,A=A+Math.imul(_e,De)|0,N=N+Math.imul(_e,ft)|0,S=S+Math.imul(X,Ie)|0,A=A+Math.imul(X,ct)|0,A=A+Math.imul(re,Ie)|0,N=N+Math.imul(re,ct)|0,S=S+Math.imul(q,Re)|0,A=A+Math.imul(q,dt)|0,A=A+Math.imul(z,Re)|0,N=N+Math.imul(z,dt)|0,S=S+Math.imul(ue,Be)|0,A=A+Math.imul(ue,pt)|0,A=A+Math.imul(ye,Be)|0,N=N+Math.imul(ye,pt)|0,S=S+Math.imul(Z,Ce)|0,A=A+Math.imul(Z,mt)|0,A=A+Math.imul(ie,Ce)|0,N=N+Math.imul(ie,mt)|0,S=S+Math.imul(Q,Oe)|0,A=A+Math.imul(Q,st)|0,A=A+Math.imul(ne,Oe)|0,N=N+Math.imul(ne,st)|0;var An=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(An>>>26)|0,An&=67108863,S=Math.imul(Se,Te),A=Math.imul(Se,nt),A=A+Math.imul(We,Te)|0,N=Math.imul(We,nt),S=S+Math.imul(me,ke)|0,A=A+Math.imul(me,tt)|0,A=A+Math.imul(Ee,ke)|0,N=N+Math.imul(Ee,tt)|0,S=S+Math.imul(oe,Ae)|0,A=A+Math.imul(oe,Ye)|0,A=A+Math.imul(ce,Ae)|0,N=N+Math.imul(ce,Ye)|0,S=S+Math.imul(be,De)|0,A=A+Math.imul(be,ft)|0,A=A+Math.imul(Me,De)|0,N=N+Math.imul(Me,ft)|0,S=S+Math.imul(pe,Ie)|0,A=A+Math.imul(pe,ct)|0,A=A+Math.imul(_e,Ie)|0,N=N+Math.imul(_e,ct)|0,S=S+Math.imul(X,Re)|0,A=A+Math.imul(X,dt)|0,A=A+Math.imul(re,Re)|0,N=N+Math.imul(re,dt)|0,S=S+Math.imul(q,Be)|0,A=A+Math.imul(q,pt)|0,A=A+Math.imul(z,Be)|0,N=N+Math.imul(z,pt)|0,S=S+Math.imul(ue,Ce)|0,A=A+Math.imul(ue,mt)|0,A=A+Math.imul(ye,Ce)|0,N=N+Math.imul(ye,mt)|0,S=S+Math.imul(Z,Oe)|0,A=A+Math.imul(Z,st)|0,A=A+Math.imul(ie,Oe)|0,N=N+Math.imul(ie,st)|0,S=S+Math.imul(Q,Ue)|0,A=A+Math.imul(Q,Pt)|0,A=A+Math.imul(ne,Ue)|0,N=N+Math.imul(ne,Pt)|0;var Mn=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,S=Math.imul(Se,ke),A=Math.imul(Se,tt),A=A+Math.imul(We,ke)|0,N=Math.imul(We,tt),S=S+Math.imul(me,Ae)|0,A=A+Math.imul(me,Ye)|0,A=A+Math.imul(Ee,Ae)|0,N=N+Math.imul(Ee,Ye)|0,S=S+Math.imul(oe,De)|0,A=A+Math.imul(oe,ft)|0,A=A+Math.imul(ce,De)|0,N=N+Math.imul(ce,ft)|0,S=S+Math.imul(be,Ie)|0,A=A+Math.imul(be,ct)|0,A=A+Math.imul(Me,Ie)|0,N=N+Math.imul(Me,ct)|0,S=S+Math.imul(pe,Re)|0,A=A+Math.imul(pe,dt)|0,A=A+Math.imul(_e,Re)|0,N=N+Math.imul(_e,dt)|0,S=S+Math.imul(X,Be)|0,A=A+Math.imul(X,pt)|0,A=A+Math.imul(re,Be)|0,N=N+Math.imul(re,pt)|0,S=S+Math.imul(q,Ce)|0,A=A+Math.imul(q,mt)|0,A=A+Math.imul(z,Ce)|0,N=N+Math.imul(z,mt)|0,S=S+Math.imul(ue,Oe)|0,A=A+Math.imul(ue,st)|0,A=A+Math.imul(ye,Oe)|0,N=N+Math.imul(ye,st)|0,S=S+Math.imul(Z,Ue)|0,A=A+Math.imul(Z,Pt)|0,A=A+Math.imul(ie,Ue)|0,N=N+Math.imul(ie,Pt)|0;var kn=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(kn>>>26)|0,kn&=67108863,S=Math.imul(Se,Ae),A=Math.imul(Se,Ye),A=A+Math.imul(We,Ae)|0,N=Math.imul(We,Ye),S=S+Math.imul(me,De)|0,A=A+Math.imul(me,ft)|0,A=A+Math.imul(Ee,De)|0,N=N+Math.imul(Ee,ft)|0,S=S+Math.imul(oe,Ie)|0,A=A+Math.imul(oe,ct)|0,A=A+Math.imul(ce,Ie)|0,N=N+Math.imul(ce,ct)|0,S=S+Math.imul(be,Re)|0,A=A+Math.imul(be,dt)|0,A=A+Math.imul(Me,Re)|0,N=N+Math.imul(Me,dt)|0,S=S+Math.imul(pe,Be)|0,A=A+Math.imul(pe,pt)|0,A=A+Math.imul(_e,Be)|0,N=N+Math.imul(_e,pt)|0,S=S+Math.imul(X,Ce)|0,A=A+Math.imul(X,mt)|0,A=A+Math.imul(re,Ce)|0,N=N+Math.imul(re,mt)|0,S=S+Math.imul(q,Oe)|0,A=A+Math.imul(q,st)|0,A=A+Math.imul(z,Oe)|0,N=N+Math.imul(z,st)|0,S=S+Math.imul(ue,Ue)|0,A=A+Math.imul(ue,Pt)|0,A=A+Math.imul(ye,Ue)|0,N=N+Math.imul(ye,Pt)|0;var Tn=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,S=Math.imul(Se,De),A=Math.imul(Se,ft),A=A+Math.imul(We,De)|0,N=Math.imul(We,ft),S=S+Math.imul(me,Ie)|0,A=A+Math.imul(me,ct)|0,A=A+Math.imul(Ee,Ie)|0,N=N+Math.imul(Ee,ct)|0,S=S+Math.imul(oe,Re)|0,A=A+Math.imul(oe,dt)|0,A=A+Math.imul(ce,Re)|0,N=N+Math.imul(ce,dt)|0,S=S+Math.imul(be,Be)|0,A=A+Math.imul(be,pt)|0,A=A+Math.imul(Me,Be)|0,N=N+Math.imul(Me,pt)|0,S=S+Math.imul(pe,Ce)|0,A=A+Math.imul(pe,mt)|0,A=A+Math.imul(_e,Ce)|0,N=N+Math.imul(_e,mt)|0,S=S+Math.imul(X,Oe)|0,A=A+Math.imul(X,st)|0,A=A+Math.imul(re,Oe)|0,N=N+Math.imul(re,st)|0,S=S+Math.imul(q,Ue)|0,A=A+Math.imul(q,Pt)|0,A=A+Math.imul(z,Ue)|0,N=N+Math.imul(z,Pt)|0;var Pn=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,S=Math.imul(Se,Ie),A=Math.imul(Se,ct),A=A+Math.imul(We,Ie)|0,N=Math.imul(We,ct),S=S+Math.imul(me,Re)|0,A=A+Math.imul(me,dt)|0,A=A+Math.imul(Ee,Re)|0,N=N+Math.imul(Ee,dt)|0,S=S+Math.imul(oe,Be)|0,A=A+Math.imul(oe,pt)|0,A=A+Math.imul(ce,Be)|0,N=N+Math.imul(ce,pt)|0,S=S+Math.imul(be,Ce)|0,A=A+Math.imul(be,mt)|0,A=A+Math.imul(Me,Ce)|0,N=N+Math.imul(Me,mt)|0,S=S+Math.imul(pe,Oe)|0,A=A+Math.imul(pe,st)|0,A=A+Math.imul(_e,Oe)|0,N=N+Math.imul(_e,st)|0,S=S+Math.imul(X,Ue)|0,A=A+Math.imul(X,Pt)|0,A=A+Math.imul(re,Ue)|0,N=N+Math.imul(re,Pt)|0;var Dn=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,S=Math.imul(Se,Re),A=Math.imul(Se,dt),A=A+Math.imul(We,Re)|0,N=Math.imul(We,dt),S=S+Math.imul(me,Be)|0,A=A+Math.imul(me,pt)|0,A=A+Math.imul(Ee,Be)|0,N=N+Math.imul(Ee,pt)|0,S=S+Math.imul(oe,Ce)|0,A=A+Math.imul(oe,mt)|0,A=A+Math.imul(ce,Ce)|0,N=N+Math.imul(ce,mt)|0,S=S+Math.imul(be,Oe)|0,A=A+Math.imul(be,st)|0,A=A+Math.imul(Me,Oe)|0,N=N+Math.imul(Me,st)|0,S=S+Math.imul(pe,Ue)|0,A=A+Math.imul(pe,Pt)|0,A=A+Math.imul(_e,Ue)|0,N=N+Math.imul(_e,Pt)|0;var In=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(In>>>26)|0,In&=67108863,S=Math.imul(Se,Be),A=Math.imul(Se,pt),A=A+Math.imul(We,Be)|0,N=Math.imul(We,pt),S=S+Math.imul(me,Ce)|0,A=A+Math.imul(me,mt)|0,A=A+Math.imul(Ee,Ce)|0,N=N+Math.imul(Ee,mt)|0,S=S+Math.imul(oe,Oe)|0,A=A+Math.imul(oe,st)|0,A=A+Math.imul(ce,Oe)|0,N=N+Math.imul(ce,st)|0,S=S+Math.imul(be,Ue)|0,A=A+Math.imul(be,Pt)|0,A=A+Math.imul(Me,Ue)|0,N=N+Math.imul(Me,Pt)|0;var Ao=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,S=Math.imul(Se,Ce),A=Math.imul(Se,mt),A=A+Math.imul(We,Ce)|0,N=Math.imul(We,mt),S=S+Math.imul(me,Oe)|0,A=A+Math.imul(me,st)|0,A=A+Math.imul(Ee,Oe)|0,N=N+Math.imul(Ee,st)|0,S=S+Math.imul(oe,Ue)|0,A=A+Math.imul(oe,Pt)|0,A=A+Math.imul(ce,Ue)|0,N=N+Math.imul(ce,Pt)|0;var ta=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(ta>>>26)|0,ta&=67108863,S=Math.imul(Se,Oe),A=Math.imul(Se,st),A=A+Math.imul(We,Oe)|0,N=Math.imul(We,st),S=S+Math.imul(me,Ue)|0,A=A+Math.imul(me,Pt)|0,A=A+Math.imul(Ee,Ue)|0,N=N+Math.imul(Ee,Pt)|0;var ra=(D+S|0)+((A&8191)<<13)|0;D=(N+(A>>>13)|0)+(ra>>>26)|0,ra&=67108863,S=Math.imul(Se,Ue),A=Math.imul(Se,Pt),A=A+Math.imul(We,Ue)|0,N=Math.imul(We,Pt);var Zp=(D+S|0)+((A&8191)<<13)|0;return D=(N+(A>>>13)|0)+(Zp>>>26)|0,Zp&=67108863,_[0]=gn,_[1]=bn,_[2]=vn,_[3]=wn,_[4]=_n,_[5]=En,_[6]=Sn,_[7]=xn,_[8]=An,_[9]=Mn,_[10]=kn,_[11]=Tn,_[12]=Pn,_[13]=Dn,_[14]=In,_[15]=Ao,_[16]=ta,_[17]=ra,_[18]=Zp,D!==0&&(_[19]=D,b.length++),b};Math.imul||(I=M);function R(d,h,b){b.negative=h.negative^d.negative,b.length=d.length+h.length;for(var v=0,w=0,_=0;_<b.length-1;_++){var D=w;w=0;for(var S=v&67108863,A=Math.min(_,h.length-1),N=Math.max(0,_-d.length+1);N<=A;N++){var G=_-N,Q=d.words[G]|0,ne=h.words[N]|0,H=Q*ne,Z=H&67108863;D=D+(H/67108864|0)|0,Z=Z+S|0,S=Z&67108863,D=D+(Z>>>26)|0,w+=D>>>26,D&=67108863}b.words[_]=S,v=D,D=w}return v!==0?b.words[_]=v:b.length--,b._strip()}function O(d,h,b){return R(d,h,b)}o.prototype.mulTo=function(d,h){var b,v=this.length+d.length;return this.length===10&&d.length===10?b=I(this,d,h):v<63?b=M(this,d,h):v<1024?b=R(this,d,h):b=O(this,d,h),b};function B(d,h){this.x=d,this.y=h}B.prototype.makeRBT=function(d){for(var h=new Array(d),b=o.prototype._countBits(d)-1,v=0;v<d;v++)h[v]=this.revBin(v,b,d);return h},B.prototype.revBin=function(d,h,b){if(d===0||d===b-1)return d;for(var v=0,w=0;w<h;w++)v|=(d&1)<<h-w-1,d>>=1;return v},B.prototype.permute=function(d,h,b,v,w,_){for(var D=0;D<_;D++)v[D]=h[d[D]],w[D]=b[d[D]]},B.prototype.transform=function(d,h,b,v,w,_){this.permute(_,d,h,b,v,w);for(var D=1;D<w;D<<=1)for(var S=D<<1,A=Math.cos(2*Math.PI/S),N=Math.sin(2*Math.PI/S),G=0;G<w;G+=S)for(var Q=A,ne=N,H=0;H<D;H++){var Z=b[G+H],ie=v[G+H],fe=b[G+H+D],ue=v[G+H+D],ye=Q*fe-ne*ue;ue=Q*ue+ne*fe,fe=ye,b[G+H]=Z+fe,v[G+H]=ie+ue,b[G+H+D]=Z-fe,v[G+H+D]=ie-ue,H!==S&&(ye=A*Q-N*ne,ne=A*ne+N*Q,Q=ye)}},B.prototype.guessLen13b=function(d,h){var b=Math.max(h,d)|1,v=b&1,w=0;for(b=b/2|0;b;b=b>>>1)w++;return 1<<w+1+v},B.prototype.conjugate=function(d,h,b){if(!(b<=1))for(var v=0;v<b/2;v++){var w=d[v];d[v]=d[b-v-1],d[b-v-1]=w,w=h[v],h[v]=-h[b-v-1],h[b-v-1]=-w}},B.prototype.normalize13b=function(d,h){for(var b=0,v=0;v<h/2;v++){var w=Math.round(d[2*v+1]/h)*8192+Math.round(d[2*v]/h)+b;d[v]=w&67108863,w<67108864?b=0:b=w/67108864|0}return d},B.prototype.convert13b=function(d,h,b,v){for(var w=0,_=0;_<h;_++)w=w+(d[_]|0),b[2*_]=w&8191,w=w>>>13,b[2*_+1]=w&8191,w=w>>>13;for(_=2*h;_<v;++_)b[_]=0;n(w===0),n((w&-8192)===0)},B.prototype.stub=function(d){for(var h=new Array(d),b=0;b<d;b++)h[b]=0;return h},B.prototype.mulp=function(d,h,b){var v=2*this.guessLen13b(d.length,h.length),w=this.makeRBT(v),_=this.stub(v),D=new Array(v),S=new Array(v),A=new Array(v),N=new Array(v),G=new Array(v),Q=new Array(v),ne=b.words;ne.length=v,this.convert13b(d.words,d.length,D,v),this.convert13b(h.words,h.length,N,v),this.transform(D,_,S,A,v,w),this.transform(N,_,G,Q,v,w);for(var H=0;H<v;H++){var Z=S[H]*G[H]-A[H]*Q[H];A[H]=S[H]*Q[H]+A[H]*G[H],S[H]=Z}return this.conjugate(S,A,v),this.transform(S,A,ne,_,v,w),this.conjugate(ne,_,v),this.normalize13b(ne,v),b.negative=d.negative^h.negative,b.length=d.length+h.length,b._strip()},o.prototype.mul=function(d){var h=new o(null);return h.words=new Array(this.length+d.length),this.mulTo(d,h)},o.prototype.mulf=function(d){var h=new o(null);return h.words=new Array(this.length+d.length),O(this,d,h)},o.prototype.imul=function(d){return this.clone().mulTo(d,this)},o.prototype.imuln=function(d){var h=d<0;h&&(d=-d),n(typeof d=="number"),n(d<67108864);for(var b=0,v=0;v<this.length;v++){var w=(this.words[v]|0)*d,_=(w&67108863)+(b&67108863);b>>=26,b+=w/67108864|0,b+=_>>>26,this.words[v]=_&67108863}return b!==0&&(this.words[v]=b,this.length++),h?this.ineg():this},o.prototype.muln=function(d){return this.clone().imuln(d)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(d){var h=T(d);if(h.length===0)return new o(1);for(var b=this,v=0;v<h.length&&h[v]===0;v++,b=b.sqr());if(++v<h.length)for(var w=b.sqr();v<h.length;v++,w=w.sqr())h[v]!==0&&(b=b.mul(w));return b},o.prototype.iushln=function(d){n(typeof d=="number"&&d>=0);var h=d%26,b=(d-h)/26,v=67108863>>>26-h<<26-h,w;if(h!==0){var _=0;for(w=0;w<this.length;w++){var D=this.words[w]&v,S=(this.words[w]|0)-D<<h;this.words[w]=S|_,_=D>>>26-h}_&&(this.words[w]=_,this.length++)}if(b!==0){for(w=this.length-1;w>=0;w--)this.words[w+b]=this.words[w];for(w=0;w<b;w++)this.words[w]=0;this.length+=b}return this._strip()},o.prototype.ishln=function(d){return n(this.negative===0),this.iushln(d)},o.prototype.iushrn=function(d,h,b){n(typeof d=="number"&&d>=0);var v;h?v=(h-h%26)/26:v=0;var w=d%26,_=Math.min((d-w)/26,this.length),D=67108863^67108863>>>w<<w,S=b;if(v-=_,v=Math.max(0,v),S){for(var A=0;A<_;A++)S.words[A]=this.words[A];S.length=_}if(_!==0)if(this.length>_)for(this.length-=_,A=0;A<this.length;A++)this.words[A]=this.words[A+_];else this.words[0]=0,this.length=1;var N=0;for(A=this.length-1;A>=0&&(N!==0||A>=v);A--){var G=this.words[A]|0;this.words[A]=N<<26-w|G>>>w,N=G&D}return S&&N!==0&&(S.words[S.length++]=N),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(d,h,b){return n(this.negative===0),this.iushrn(d,h,b)},o.prototype.shln=function(d){return this.clone().ishln(d)},o.prototype.ushln=function(d){return this.clone().iushln(d)},o.prototype.shrn=function(d){return this.clone().ishrn(d)},o.prototype.ushrn=function(d){return this.clone().iushrn(d)},o.prototype.testn=function(d){n(typeof d=="number"&&d>=0);var h=d%26,b=(d-h)/26,v=1<<h;if(this.length<=b)return!1;var w=this.words[b];return!!(w&v)},o.prototype.imaskn=function(d){n(typeof d=="number"&&d>=0);var h=d%26,b=(d-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(h!==0&&b++,this.length=Math.min(b,this.length),h!==0){var v=67108863^67108863>>>h<<h;this.words[this.length-1]&=v}return this._strip()},o.prototype.maskn=function(d){return this.clone().imaskn(d)},o.prototype.iaddn=function(d){return n(typeof d=="number"),n(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<=d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},o.prototype._iaddn=function(d){this.words[0]+=d;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},o.prototype.isubn=function(d){if(n(typeof d=="number"),n(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},o.prototype.addn=function(d){return this.clone().iaddn(d)},o.prototype.subn=function(d){return this.clone().isubn(d)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(d,h,b){var v=d.length+b,w;this._expand(v);var _,D=0;for(w=0;w<d.length;w++){_=(this.words[w+b]|0)+D;var S=(d.words[w]|0)*h;_-=S&67108863,D=(_>>26)-(S/67108864|0),this.words[w+b]=_&67108863}for(;w<this.length-b;w++)_=(this.words[w+b]|0)+D,D=_>>26,this.words[w+b]=_&67108863;if(D===0)return this._strip();for(n(D===-1),D=0,w=0;w<this.length;w++)_=-(this.words[w]|0)+D,D=_>>26,this.words[w]=_&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(d,h){var b=this.length-d.length,v=this.clone(),w=d,_=w.words[w.length-1]|0,D=this._countBits(_);b=26-D,b!==0&&(w=w.ushln(b),v.iushln(b),_=w.words[w.length-1]|0);var S=v.length-w.length,A;if(h!=="mod"){A=new o(null),A.length=S+1,A.words=new Array(A.length);for(var N=0;N<A.length;N++)A.words[N]=0}var G=v.clone()._ishlnsubmul(w,1,S);G.negative===0&&(v=G,A&&(A.words[S]=1));for(var Q=S-1;Q>=0;Q--){var ne=(v.words[w.length+Q]|0)*67108864+(v.words[w.length+Q-1]|0);for(ne=Math.min(ne/_|0,67108863),v._ishlnsubmul(w,ne,Q);v.negative!==0;)ne--,v.negative=0,v._ishlnsubmul(w,1,Q),v.isZero()||(v.negative^=1);A&&(A.words[Q]=ne)}return A&&A._strip(),v._strip(),h!=="div"&&b!==0&&v.iushrn(b),{div:A||null,mod:v}},o.prototype.divmod=function(d,h,b){if(n(!d.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var v,w,_;return this.negative!==0&&d.negative===0?(_=this.neg().divmod(d,h),h!=="mod"&&(v=_.div.neg()),h!=="div"&&(w=_.mod.neg(),b&&w.negative!==0&&w.iadd(d)),{div:v,mod:w}):this.negative===0&&d.negative!==0?(_=this.divmod(d.neg(),h),h!=="mod"&&(v=_.div.neg()),{div:v,mod:_.mod}):this.negative&d.negative?(_=this.neg().divmod(d.neg(),h),h!=="div"&&(w=_.mod.neg(),b&&w.negative!==0&&w.isub(d)),{div:_.div,mod:w}):d.length>this.length||this.cmp(d)<0?{div:new o(0),mod:this}:d.length===1?h==="div"?{div:this.divn(d.words[0]),mod:null}:h==="mod"?{div:null,mod:new o(this.modrn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new o(this.modrn(d.words[0]))}:this._wordDiv(d,h)},o.prototype.div=function(d){return this.divmod(d,"div",!1).div},o.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},o.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},o.prototype.divRound=function(d){var h=this.divmod(d);if(h.mod.isZero())return h.div;var b=h.div.negative!==0?h.mod.isub(d):h.mod,v=d.ushrn(1),w=d.andln(1),_=b.cmp(v);return _<0||w===1&&_===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},o.prototype.modrn=function(d){var h=d<0;h&&(d=-d),n(d<=67108863);for(var b=(1<<26)%d,v=0,w=this.length-1;w>=0;w--)v=(b*v+(this.words[w]|0))%d;return h?-v:v},o.prototype.modn=function(d){return this.modrn(d)},o.prototype.idivn=function(d){var h=d<0;h&&(d=-d),n(d<=67108863);for(var b=0,v=this.length-1;v>=0;v--){var w=(this.words[v]|0)+b*67108864;this.words[v]=w/d|0,b=w%d}return this._strip(),h?this.ineg():this},o.prototype.divn=function(d){return this.clone().idivn(d)},o.prototype.egcd=function(d){n(d.negative===0),n(!d.isZero());var h=this,b=d.clone();h.negative!==0?h=h.umod(d):h=h.clone();for(var v=new o(1),w=new o(0),_=new o(0),D=new o(1),S=0;h.isEven()&&b.isEven();)h.iushrn(1),b.iushrn(1),++S;for(var A=b.clone(),N=h.clone();!h.isZero();){for(var G=0,Q=1;!(h.words[0]&Q)&&G<26;++G,Q<<=1);if(G>0)for(h.iushrn(G);G-- >0;)(v.isOdd()||w.isOdd())&&(v.iadd(A),w.isub(N)),v.iushrn(1),w.iushrn(1);for(var ne=0,H=1;!(b.words[0]&H)&&ne<26;++ne,H<<=1);if(ne>0)for(b.iushrn(ne);ne-- >0;)(_.isOdd()||D.isOdd())&&(_.iadd(A),D.isub(N)),_.iushrn(1),D.iushrn(1);h.cmp(b)>=0?(h.isub(b),v.isub(_),w.isub(D)):(b.isub(h),_.isub(v),D.isub(w))}return{a:_,b:D,gcd:b.iushln(S)}},o.prototype._invmp=function(d){n(d.negative===0),n(!d.isZero());var h=this,b=d.clone();h.negative!==0?h=h.umod(d):h=h.clone();for(var v=new o(1),w=new o(0),_=b.clone();h.cmpn(1)>0&&b.cmpn(1)>0;){for(var D=0,S=1;!(h.words[0]&S)&&D<26;++D,S<<=1);if(D>0)for(h.iushrn(D);D-- >0;)v.isOdd()&&v.iadd(_),v.iushrn(1);for(var A=0,N=1;!(b.words[0]&N)&&A<26;++A,N<<=1);if(A>0)for(b.iushrn(A);A-- >0;)w.isOdd()&&w.iadd(_),w.iushrn(1);h.cmp(b)>=0?(h.isub(b),v.isub(w)):(b.isub(h),w.isub(v))}var G;return h.cmpn(1)===0?G=v:G=w,G.cmpn(0)<0&&G.iadd(d),G},o.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var h=this.clone(),b=d.clone();h.negative=0,b.negative=0;for(var v=0;h.isEven()&&b.isEven();v++)h.iushrn(1),b.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;b.isEven();)b.iushrn(1);var w=h.cmp(b);if(w<0){var _=h;h=b,b=_}else if(w===0||b.cmpn(1)===0)break;h.isub(b)}while(!0);return b.iushln(v)},o.prototype.invm=function(d){return this.egcd(d).a.umod(d)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(d){return this.words[0]&d},o.prototype.bincn=function(d){n(typeof d=="number");var h=d%26,b=(d-h)/26,v=1<<h;if(this.length<=b)return this._expand(b+1),this.words[b]|=v,this;for(var w=v,_=b;w!==0&&_<this.length;_++){var D=this.words[_]|0;D+=w,w=D>>>26,D&=67108863,this.words[_]=D}return w!==0&&(this.words[_]=w,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(d){var h=d<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var b;if(this.length>1)b=1;else{h&&(d=-d),n(d<=67108863,"Number is too big");var v=this.words[0]|0;b=v===d?0:v<d?-1:1}return this.negative!==0?-b|0:b},o.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var h=this.ucmp(d);return this.negative!==0?-h|0:h},o.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var h=0,b=this.length-1;b>=0;b--){var v=this.words[b]|0,w=d.words[b]|0;if(v!==w){v<w?h=-1:v>w&&(h=1);break}}return h},o.prototype.gtn=function(d){return this.cmpn(d)===1},o.prototype.gt=function(d){return this.cmp(d)===1},o.prototype.gten=function(d){return this.cmpn(d)>=0},o.prototype.gte=function(d){return this.cmp(d)>=0},o.prototype.ltn=function(d){return this.cmpn(d)===-1},o.prototype.lt=function(d){return this.cmp(d)===-1},o.prototype.lten=function(d){return this.cmpn(d)<=0},o.prototype.lte=function(d){return this.cmp(d)<=0},o.prototype.eqn=function(d){return this.cmpn(d)===0},o.prototype.eq=function(d){return this.cmp(d)===0},o.red=function(d){return new P(d)},o.prototype.toRed=function(d){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(d){return this.red=d,this},o.prototype.forceRed=function(d){return n(!this.red,"Already a number in reduction context"),this._forceRed(d)},o.prototype.redAdd=function(d){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},o.prototype.redIAdd=function(d){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},o.prototype.redSub=function(d){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},o.prototype.redISub=function(d){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},o.prototype.redShl=function(d){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},o.prototype.redMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},o.prototype.redIMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(d){return n(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var C={k256:null,p224:null,p192:null,p25519:null};function U(d,h){this.name=d,this.p=new o(h,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var d=new o(null);return d.words=new Array(Math.ceil(this.n/13)),d},U.prototype.ireduce=function(d){var h=d,b;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),b=h.bitLength();while(b>this.n);var v=b<this.n?-1:h.ucmp(this.p);return v===0?(h.words[0]=0,h.length=1):v>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},U.prototype.split=function(d,h){d.iushrn(this.n,0,h)},U.prototype.imulK=function(d){return d.imul(this.k)};function W(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(W,U),W.prototype.split=function(d,h){for(var b=4194303,v=Math.min(d.length,9),w=0;w<v;w++)h.words[w]=d.words[w];if(h.length=v,d.length<=9){d.words[0]=0,d.length=1;return}var _=d.words[9];for(h.words[h.length++]=_&b,w=10;w<d.length;w++){var D=d.words[w]|0;d.words[w-10]=(D&b)<<4|_>>>22,_=D}_>>>=22,d.words[w-10]=_,_===0&&d.length>10?d.length-=10:d.length-=9},W.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var h=0,b=0;b<d.length;b++){var v=d.words[b]|0;h+=v*977,d.words[b]=h&67108863,h=v*64+(h/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function L(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(L,U);function j(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(j,U);function k(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(k,U),k.prototype.imulK=function(d){for(var h=0,b=0;b<d.length;b++){var v=(d.words[b]|0)*19+h,w=v&67108863;v>>>=26,d.words[b]=w,h=v}return h!==0&&(d.words[d.length++]=h),d},o._prime=function(d){if(C[d])return C[d];var h;if(d==="k256")h=new W;else if(d==="p224")h=new L;else if(d==="p192")h=new j;else if(d==="p25519")h=new k;else throw new Error("Unknown prime "+d);return C[d]=h,h};function P(d){if(typeof d=="string"){var h=o._prime(d);this.m=h.p,this.prime=h}else n(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}P.prototype._verify1=function(d){n(d.negative===0,"red works only with positives"),n(d.red,"red works only with red numbers")},P.prototype._verify2=function(d,h){n((d.negative|h.negative)===0,"red works only with positives"),n(d.red&&d.red===h.red,"red works only with red numbers")},P.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):(l(d,d.umod(this.m)._forceRed(this)),d)},P.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},P.prototype.add=function(d,h){this._verify2(d,h);var b=d.add(h);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},P.prototype.iadd=function(d,h){this._verify2(d,h);var b=d.iadd(h);return b.cmp(this.m)>=0&&b.isub(this.m),b},P.prototype.sub=function(d,h){this._verify2(d,h);var b=d.sub(h);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},P.prototype.isub=function(d,h){this._verify2(d,h);var b=d.isub(h);return b.cmpn(0)<0&&b.iadd(this.m),b},P.prototype.shl=function(d,h){return this._verify1(d),this.imod(d.ushln(h))},P.prototype.imul=function(d,h){return this._verify2(d,h),this.imod(d.imul(h))},P.prototype.mul=function(d,h){return this._verify2(d,h),this.imod(d.mul(h))},P.prototype.isqr=function(d){return this.imul(d,d.clone())},P.prototype.sqr=function(d){return this.mul(d,d)},P.prototype.sqrt=function(d){if(d.isZero())return d.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var b=this.m.add(new o(1)).iushrn(2);return this.pow(d,b)}for(var v=this.m.subn(1),w=0;!v.isZero()&&v.andln(1)===0;)w++,v.iushrn(1);n(!v.isZero());var _=new o(1).toRed(this),D=_.redNeg(),S=this.m.subn(1).iushrn(1),A=this.m.bitLength();for(A=new o(2*A*A).toRed(this);this.pow(A,S).cmp(D)!==0;)A.redIAdd(D);for(var N=this.pow(A,v),G=this.pow(d,v.addn(1).iushrn(1)),Q=this.pow(d,v),ne=w;Q.cmp(_)!==0;){for(var H=Q,Z=0;H.cmp(_)!==0;Z++)H=H.redSqr();n(Z<ne);var ie=this.pow(N,new o(1).iushln(ne-Z-1));G=G.redMul(ie),N=ie.redSqr(),Q=Q.redMul(N),ne=Z}return G},P.prototype.invm=function(d){var h=d._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},P.prototype.pow=function(d,h){if(h.isZero())return new o(1).toRed(this);if(h.cmpn(1)===0)return d.clone();var b=4,v=new Array(1<<b);v[0]=new o(1).toRed(this),v[1]=d;for(var w=2;w<v.length;w++)v[w]=this.mul(v[w-1],d);var _=v[0],D=0,S=0,A=h.bitLength()%26;for(A===0&&(A=26),w=h.length-1;w>=0;w--){for(var N=h.words[w],G=A-1;G>=0;G--){var Q=N>>G&1;if(_!==v[0]&&(_=this.sqr(_)),Q===0&&D===0){S=0;continue}D<<=1,D|=Q,S++,!(S!==b&&(w!==0||G!==0))&&(_=this.mul(_,v[D]),S=0,D=0)}A=26}return _},P.prototype.convertTo=function(d){var h=d.umod(this.m);return h===d?h.clone():h},P.prototype.convertFrom=function(d){var h=d.clone();return h.red=null,h},o.mont=function(d){return new p(d)};function p(d){P.call(this,d),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(p,P),p.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},p.prototype.convertFrom=function(d){var h=this.imod(d.mul(this.rinv));return h.red=null,h},p.prototype.imul=function(d,h){if(d.isZero()||h.isZero())return d.words[0]=0,d.length=1,d;var b=d.imul(h),v=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=b.isub(v).iushrn(this.shift),_=w;return w.cmp(this.m)>=0?_=w.isub(this.m):w.cmpn(0)<0&&(_=w.iadd(this.m)),_._forceRed(this)},p.prototype.mul=function(d,h){if(d.isZero()||h.isZero())return new o(0)._forceRed(this);var b=d.mul(h),v=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=b.isub(v).iushrn(this.shift),_=w;return w.cmp(this.m)>=0?_=w.isub(this.m):w.cmpn(0)<0&&(_=w.iadd(this.m)),_._forceRed(this)},p.prototype.invm=function(d){var h=this.imod(d._invmp(this.m).mul(this.r2));return h._forceRed(this)}}(typeof e>"u"||e,t)}),Oj=he((t,e)=>{"use strict";ee();var r=ji(),i=r.Buffer,n={},s;for(s in r)r.hasOwnProperty(s)&&(s==="SlowBuffer"||s==="Buffer"||(n[s]=r[s]));var o=n.Buffer={};for(s in i)i.hasOwnProperty(s)&&(s==="allocUnsafe"||s==="allocUnsafeSlow"||(o[s]=i[s]));if(n.Buffer.prototype=i.prototype,(!o.from||o.from===Uint8Array.from)&&(o.from=function(a,f,c){if(typeof a=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof a);if(a&&typeof a.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a);return i(a,f,c)}),o.alloc||(o.alloc=function(a,f,c){if(typeof a!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof a);if(a<0||a>=2*(1<<30))throw new RangeError('The value "'+a+'" is invalid for option "size"');var u=i(a);return!f||f.length===0?u.fill(0):typeof c=="string"?u.fill(f,c):u.fill(f),u}),!n.kStringMaxLength)try{n.kStringMaxLength=Fe.default.binding("buffer").kStringMaxLength}catch{}n.constants||(n.constants={MAX_LENGTH:n.kMaxLength},n.kStringMaxLength&&(n.constants.MAX_STRING_LENGTH=n.kStringMaxLength)),e.exports=n}),jj=he(t=>{"use strict";ee();var e=rr();function r(n){this._reporterState={obj:null,path:[],options:n||{},errors:[]}}t.Reporter=r,r.prototype.isError=function(n){return n instanceof i},r.prototype.save=function(){let n=this._reporterState;return{obj:n.obj,pathLen:n.path.length}},r.prototype.restore=function(n){let s=this._reporterState;s.obj=n.obj,s.path=s.path.slice(0,n.pathLen)},r.prototype.enterKey=function(n){return this._reporterState.path.push(n)},r.prototype.exitKey=function(n){let s=this._reporterState;s.path=s.path.slice(0,n-1)},r.prototype.leaveKey=function(n,s,o){let a=this._reporterState;this.exitKey(n),a.obj!==null&&(a.obj[s]=o)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){let n=this._reporterState,s=n.obj;return n.obj={},s},r.prototype.leaveObject=function(n){let s=this._reporterState,o=s.obj;return s.obj=n,o},r.prototype.error=function(n){let s,o=this._reporterState,a=n instanceof i;if(a?s=n:s=new i(o.path.map(function(f){return"["+JSON.stringify(f)+"]"}).join(""),n.message||n,n.stack),!o.options.partial)throw s;return a||o.errors.push(s),s},r.prototype.wrapResult=function(n){let s=this._reporterState;return s.options.partial?{result:this.isError(n)?null:n,errors:s.errors}:n};function i(n,s){this.path=n,this.rethrow(s)}e(i,Error),i.prototype.rethrow=function(n){if(this.message=n+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,i),!this.stack)try{throw new Error(this.message)}catch(s){this.stack=s.stack}return this}}),l_=he(t=>{"use strict";ee();var e=rr(),r=jj().Reporter,i=Oj().Buffer;function n(o,a){if(r.call(this,a),!i.isBuffer(o)){this.error("Input not Buffer");return}this.base=o,this.offset=0,this.length=o.length}e(n,r),t.DecoderBuffer=n,n.isDecoderBuffer=function(o){return o instanceof n?!0:typeof o=="object"&&i.isBuffer(o.base)&&o.constructor.name==="DecoderBuffer"&&typeof o.offset=="number"&&typeof o.length=="number"&&typeof o.save=="function"&&typeof o.restore=="function"&&typeof o.isEmpty=="function"&&typeof o.readUInt8=="function"&&typeof o.skip=="function"&&typeof o.raw=="function"},n.prototype.save=function(){return{offset:this.offset,reporter:r.prototype.save.call(this)}},n.prototype.restore=function(o){let a=new n(this.base);return a.offset=o.offset,a.length=this.offset,this.offset=o.offset,r.prototype.restore.call(this,o.reporter),a},n.prototype.isEmpty=function(){return this.offset===this.length},n.prototype.readUInt8=function(o){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(o||"DecoderBuffer overrun")},n.prototype.skip=function(o,a){if(!(this.offset+o<=this.length))return this.error(a||"DecoderBuffer overrun");let f=new n(this.base);return f._reporterState=this._reporterState,f.offset=this.offset,f.length=this.offset+o,this.offset+=o,f},n.prototype.raw=function(o){return this.base.slice(o?o.offset:this.offset,this.length)};function s(o,a){if(Array.isArray(o))this.length=0,this.value=o.map(function(f){return s.isEncoderBuffer(f)||(f=new s(f,a)),this.length+=f.length,f},this);else if(typeof o=="number"){if(!(0<=o&&o<=255))return a.error("non-byte EncoderBuffer value");this.value=o,this.length=1}else if(typeof o=="string")this.value=o,this.length=i.byteLength(o);else if(i.isBuffer(o))this.value=o,this.length=o.length;else return a.error("Unsupported type: "+typeof o)}t.EncoderBuffer=s,s.isEncoderBuffer=function(o){return o instanceof s?!0:typeof o=="object"&&o.constructor.name==="EncoderBuffer"&&typeof o.length=="number"&&typeof o.join=="function"},s.prototype.join=function(o,a){return o||(o=i.alloc(this.length)),a||(a=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(f){f.join(o,a),a+=f.length}):(typeof this.value=="number"?o[a]=this.value:typeof this.value=="string"?o.write(this.value,a):i.isBuffer(this.value)&&this.value.copy(o,a),a+=this.length)),o}}),Lj=he((t,e)=>{"use strict";ee();var r=jj().Reporter,i=l_().EncoderBuffer,n=l_().DecoderBuffer,s=cu(),o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],a=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o),f=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function c(l,y,m){let g={};this._baseState=g,g.name=m,g.enc=l,g.parent=y||null,g.children=null,g.tag=null,g.args=null,g.reverseArgs=null,g.choice=null,g.optional=!1,g.any=!1,g.obj=!1,g.use=null,g.useDecoder=null,g.key=null,g.default=null,g.explicit=null,g.implicit=null,g.contains=null,g.parent||(g.children=[],this._wrap())}e.exports=c;var u=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){let l=this._baseState,y={};u.forEach(function(g){y[g]=l[g]});let m=new this.constructor(y.parent);return m._baseState=y,m},c.prototype._wrap=function(){let l=this._baseState;a.forEach(function(y){this[y]=function(){let m=new this.constructor(this);return l.children.push(m),m[y].apply(m,arguments)}},this)},c.prototype._init=function(l){let y=this._baseState;s(y.parent===null),l.call(this),y.children=y.children.filter(function(m){return m._baseState.parent===this},this),s.equal(y.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(l){let y=this._baseState,m=l.filter(function(g){return g instanceof this.constructor},this);l=l.filter(function(g){return!(g instanceof this.constructor)},this),m.length!==0&&(s(y.children===null),y.children=m,m.forEach(function(g){g._baseState.parent=this},this)),l.length!==0&&(s(y.args===null),y.args=l,y.reverseArgs=l.map(function(g){if(typeof g!="object"||g.constructor!==Object)return g;let E={};return Object.keys(g).forEach(function(x){x==(x|0)&&(x|=0);let T=g[x];E[T]=x}),E}))},f.forEach(function(l){c.prototype[l]=function(){let y=this._baseState;throw new Error(l+" not implemented for encoding: "+y.enc)}}),o.forEach(function(l){c.prototype[l]=function(){let y=this._baseState,m=Array.prototype.slice.call(arguments);return s(y.tag===null),y.tag=l,this._useArgs(m),this}}),c.prototype.use=function(l){s(l);let y=this._baseState;return s(y.use===null),y.use=l,this},c.prototype.optional=function(){let l=this._baseState;return l.optional=!0,this},c.prototype.def=function(l){let y=this._baseState;return s(y.default===null),y.default=l,y.optional=!0,this},c.prototype.explicit=function(l){let y=this._baseState;return s(y.explicit===null&&y.implicit===null),y.explicit=l,this},c.prototype.implicit=function(l){let y=this._baseState;return s(y.explicit===null&&y.implicit===null),y.implicit=l,this},c.prototype.obj=function(){let l=this._baseState,y=Array.prototype.slice.call(arguments);return l.obj=!0,y.length!==0&&this._useArgs(y),this},c.prototype.key=function(l){let y=this._baseState;return s(y.key===null),y.key=l,this},c.prototype.any=function(){let l=this._baseState;return l.any=!0,this},c.prototype.choice=function(l){let y=this._baseState;return s(y.choice===null),y.choice=l,this._useArgs(Object.keys(l).map(function(m){return l[m]})),this},c.prototype.contains=function(l){let y=this._baseState;return s(y.use===null),y.contains=l,this},c.prototype._decode=function(l,y){let m=this._baseState;if(m.parent===null)return l.wrapResult(m.children[0]._decode(l,y));let g=m.default,E=!0,x=null;if(m.key!==null&&(x=l.enterKey(m.key)),m.optional){let M=null;if(m.explicit!==null?M=m.explicit:m.implicit!==null?M=m.implicit:m.tag!==null&&(M=m.tag),M===null&&!m.any){let I=l.save();try{m.choice===null?this._decodeGeneric(m.tag,l,y):this._decodeChoice(l,y),E=!0}catch{E=!1}l.restore(I)}else if(E=this._peekTag(l,M,m.any),l.isError(E))return E}let T;if(m.obj&&E&&(T=l.enterObject()),E){if(m.explicit!==null){let I=this._decodeTag(l,m.explicit);if(l.isError(I))return I;l=I}let M=l.offset;if(m.use===null&&m.choice===null){let I;m.any&&(I=l.save());let R=this._decodeTag(l,m.implicit!==null?m.implicit:m.tag,m.any);if(l.isError(R))return R;m.any?g=l.raw(I):l=R}if(y&&y.track&&m.tag!==null&&y.track(l.path(),M,l.length,"tagged"),y&&y.track&&m.tag!==null&&y.track(l.path(),l.offset,l.length,"content"),m.any||(m.choice===null?g=this._decodeGeneric(m.tag,l,y):g=this._decodeChoice(l,y)),l.isError(g))return g;if(!m.any&&m.choice===null&&m.children!==null&&m.children.forEach(function(I){I._decode(l,y)}),m.contains&&(m.tag==="octstr"||m.tag==="bitstr")){let I=new n(g);g=this._getUse(m.contains,l._reporterState.obj)._decode(I,y)}}return m.obj&&E&&(g=l.leaveObject(T)),m.key!==null&&(g!==null||E===!0)?l.leaveKey(x,m.key,g):x!==null&&l.exitKey(x),g},c.prototype._decodeGeneric=function(l,y,m){let g=this._baseState;return l==="seq"||l==="set"?null:l==="seqof"||l==="setof"?this._decodeList(y,l,g.args[0],m):/str$/.test(l)?this._decodeStr(y,l,m):l==="objid"&&g.args?this._decodeObjid(y,g.args[0],g.args[1],m):l==="objid"?this._decodeObjid(y,null,null,m):l==="gentime"||l==="utctime"?this._decodeTime(y,l,m):l==="null_"?this._decodeNull(y,m):l==="bool"?this._decodeBool(y,m):l==="objDesc"?this._decodeStr(y,l,m):l==="int"||l==="enum"?this._decodeInt(y,g.args&&g.args[0],m):g.use!==null?this._getUse(g.use,y._reporterState.obj)._decode(y,m):y.error("unknown tag: "+l)},c.prototype._getUse=function(l,y){let m=this._baseState;return m.useDecoder=this._use(l,y),s(m.useDecoder._baseState.parent===null),m.useDecoder=m.useDecoder._baseState.children[0],m.implicit!==m.useDecoder._baseState.implicit&&(m.useDecoder=m.useDecoder.clone(),m.useDecoder._baseState.implicit=m.implicit),m.useDecoder},c.prototype._decodeChoice=function(l,y){let m=this._baseState,g=null,E=!1;return Object.keys(m.choice).some(function(x){let T=l.save(),M=m.choice[x];try{let I=M._decode(l,y);if(l.isError(I))return!1;g={type:x,value:I},E=!0}catch{return l.restore(T),!1}return!0},this),E?g:l.error("Choice not matched")},c.prototype._createEncoderBuffer=function(l){return new i(l,this.reporter)},c.prototype._encode=function(l,y,m){let g=this._baseState;if(g.default!==null&&g.default===l)return;let E=this._encodeValue(l,y,m);if(E!==void 0&&!this._skipDefault(E,y,m))return E},c.prototype._encodeValue=function(l,y,m){let g=this._baseState;if(g.parent===null)return g.children[0]._encode(l,y||new r);let E=null;if(this.reporter=y,g.optional&&l===void 0)if(g.default!==null)l=g.default;else return;let x=null,T=!1;if(g.any)E=this._createEncoderBuffer(l);else if(g.choice)E=this._encodeChoice(l,y);else if(g.contains)x=this._getUse(g.contains,m)._encode(l,y),T=!0;else if(g.children)x=g.children.map(function(M){if(M._baseState.tag==="null_")return M._encode(null,y,l);if(M._baseState.key===null)return y.error("Child should have a key");let I=y.enterKey(M._baseState.key);if(typeof l!="object")return y.error("Child expected, but input is not object");let R=M._encode(l[M._baseState.key],y,l);return y.leaveKey(I),R},this).filter(function(M){return M}),x=this._createEncoderBuffer(x);else if(g.tag==="seqof"||g.tag==="setof"){if(!(g.args&&g.args.length===1))return y.error("Too many args for : "+g.tag);if(!Array.isArray(l))return y.error("seqof/setof, but data is not Array");let M=this.clone();M._baseState.implicit=null,x=this._createEncoderBuffer(l.map(function(I){let R=this._baseState;return this._getUse(R.args[0],l)._encode(I,y)},M))}else g.use!==null?E=this._getUse(g.use,m)._encode(l,y):(x=this._encodePrimitive(g.tag,l),T=!0);if(!g.any&&g.choice===null){let M=g.implicit!==null?g.implicit:g.tag,I=g.implicit===null?"universal":"context";M===null?g.use===null&&y.error("Tag could be omitted only for .use()"):g.use===null&&(E=this._encodeComposite(M,T,I,x))}return g.explicit!==null&&(E=this._encodeComposite(g.explicit,!1,"context",E)),E},c.prototype._encodeChoice=function(l,y){let m=this._baseState,g=m.choice[l.type];return g||s(!1,l.type+" not found in "+JSON.stringify(Object.keys(m.choice))),g._encode(l.value,y)},c.prototype._encodePrimitive=function(l,y){let m=this._baseState;if(/str$/.test(l))return this._encodeStr(y,l);if(l==="objid"&&m.args)return this._encodeObjid(y,m.reverseArgs[0],m.args[1]);if(l==="objid")return this._encodeObjid(y,null,null);if(l==="gentime"||l==="utctime")return this._encodeTime(y,l);if(l==="null_")return this._encodeNull();if(l==="int"||l==="enum")return this._encodeInt(y,m.args&&m.reverseArgs[0]);if(l==="bool")return this._encodeBool(y);if(l==="objDesc")return this._encodeStr(y,l);throw new Error("Unsupported tag: "+l)},c.prototype._isNumstr=function(l){return/^[0-9 ]*$/.test(l)},c.prototype._isPrintstr=function(l){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(l)}}),Nj=he(t=>{"use strict";ee();function e(r){let i={};return Object.keys(r).forEach(function(n){(n|0)==n&&(n=n|0);let s=r[n];i[s]=n}),i}t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=e(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=e(t.tag)}),Yde=he((t,e)=>{"use strict";ee();var r=rr(),i=Oj().Buffer,n=Lj(),s=Nj();function o(u){this.enc="der",this.name=u.name,this.entity=u,this.tree=new a,this.tree._init(u.body)}e.exports=o,o.prototype.encode=function(u,l){return this.tree._encode(u,l).join()};function a(u){n.call(this,"der",u)}r(a,n),a.prototype._encodeComposite=function(u,l,y,m){let g=c(u,l,y,this.reporter);if(m.length<128){let T=i.alloc(2);return T[0]=g,T[1]=m.length,this._createEncoderBuffer([T,m])}let E=1;for(let T=m.length;T>=256;T>>=8)E++;let x=i.alloc(1+1+E);x[0]=g,x[1]=128|E;for(let T=1+E,M=m.length;M>0;T--,M>>=8)x[T]=M&255;return this._createEncoderBuffer([x,m])},a.prototype._encodeStr=function(u,l){if(l==="bitstr")return this._createEncoderBuffer([u.unused|0,u.data]);if(l==="bmpstr"){let y=i.alloc(u.length*2);for(let m=0;m<u.length;m++)y.writeUInt16BE(u.charCodeAt(m),m*2);return this._createEncoderBuffer(y)}else return l==="numstr"?this._isNumstr(u)?this._createEncoderBuffer(u):this.reporter.error("Encoding of string type: numstr supports only digits and space"):l==="printstr"?this._isPrintstr(u)?this._createEncoderBuffer(u):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(l)?this._createEncoderBuffer(u):l==="objDesc"?this._createEncoderBuffer(u):this.reporter.error("Encoding of string type: "+l+" unsupported")},a.prototype._encodeObjid=function(u,l,y){if(typeof u=="string"){if(!l)return this.reporter.error("string objid given, but no values map found");if(!l.hasOwnProperty(u))return this.reporter.error("objid not found in values map");u=l[u].split(/[\s.]+/g);for(let x=0;x<u.length;x++)u[x]|=0}else if(Array.isArray(u)){u=u.slice();for(let x=0;x<u.length;x++)u[x]|=0}if(!Array.isArray(u))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(u));if(!y){if(u[1]>=40)return this.reporter.error("Second objid identifier OOB");u.splice(0,2,u[0]*40+u[1])}let m=0;for(let x=0;x<u.length;x++){let T=u[x];for(m++;T>=128;T>>=7)m++}let g=i.alloc(m),E=g.length-1;for(let x=u.length-1;x>=0;x--){let T=u[x];for(g[E--]=T&127;(T>>=7)>0;)g[E--]=128|T&127}return this._createEncoderBuffer(g)};function f(u){return u<10?"0"+u:u}a.prototype._encodeTime=function(u,l){let y,m=new Date(u);return l==="gentime"?y=[f(m.getUTCFullYear()),f(m.getUTCMonth()+1),f(m.getUTCDate()),f(m.getUTCHours()),f(m.getUTCMinutes()),f(m.getUTCSeconds()),"Z"].join(""):l==="utctime"?y=[f(m.getUTCFullYear()%100),f(m.getUTCMonth()+1),f(m.getUTCDate()),f(m.getUTCHours()),f(m.getUTCMinutes()),f(m.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+l+" time is not supported yet"),this._encodeStr(y,"octstr")},a.prototype._encodeNull=function(){return this._createEncoderBuffer("")},a.prototype._encodeInt=function(u,l){if(typeof u=="string"){if(!l)return this.reporter.error("String int or enum given, but no values map");if(!l.hasOwnProperty(u))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(u));u=l[u]}if(typeof u!="number"&&!i.isBuffer(u)){let g=u.toArray();!u.sign&&g[0]&128&&g.unshift(0),u=i.from(g)}if(i.isBuffer(u)){let g=u.length;u.length===0&&g++;let E=i.alloc(g);return u.copy(E),u.length===0&&(E[0]=0),this._createEncoderBuffer(E)}if(u<128)return this._createEncoderBuffer(u);if(u<256)return this._createEncoderBuffer([0,u]);let y=1;for(let g=u;g>=256;g>>=8)y++;let m=new Array(y);for(let g=m.length-1;g>=0;g--)m[g]=u&255,u>>=8;return m[0]&128&&m.unshift(0),this._createEncoderBuffer(i.from(m))},a.prototype._encodeBool=function(u){return this._createEncoderBuffer(u?255:0)},a.prototype._use=function(u,l){return typeof u=="function"&&(u=u(l)),u._getEncoder("der").tree},a.prototype._skipDefault=function(u,l,y){let m=this._baseState,g;if(m.default===null)return!1;let E=u.join();if(m.defaultBuffer===void 0&&(m.defaultBuffer=this._encodeValue(m.default,l,y).join()),E.length!==m.defaultBuffer.length)return!1;for(g=0;g<E.length;g++)if(E[g]!==m.defaultBuffer[g])return!1;return!0};function c(u,l,y,m){let g;if(u==="seqof"?u="seq":u==="setof"&&(u="set"),s.tagByName.hasOwnProperty(u))g=s.tagByName[u];else if(typeof u=="number"&&(u|0)===u)g=u;else return m.error("Unknown tag: "+u);return g>=31?m.error("Multi-octet tag encoding unsupported"):(l||(g|=32),g|=s.tagClassByName[y||"universal"]<<6,g)}}),oqe=he((t,e)=>{"use strict";ee();var r=rr(),i=Yde();function n(s){i.call(this,s),this.enc="pem"}r(n,i),e.exports=n,n.prototype.encode=function(s,o){let a=i.prototype.encode.call(this,s).toString("base64"),f=["-----BEGIN "+o.label+"-----"];for(let c=0;c<a.length;c+=64)f.push(a.slice(c,c+64));return f.push("-----END "+o.label+"-----"),f.join(`
`)}}),Zde=he(t=>{"use strict";ee();var e=t;e.der=Yde(),e.pem=oqe()}),Gde=he((t,e)=>{"use strict";ee();var r=rr(),i=ss(),n=l_().DecoderBuffer,s=Lj(),o=Nj();function a(l){this.enc="der",this.name=l.name,this.entity=l,this.tree=new f,this.tree._init(l.body)}e.exports=a,a.prototype.decode=function(l,y){return n.isDecoderBuffer(l)||(l=new n(l,y)),this.tree._decode(l,y)};function f(l){s.call(this,"der",l)}r(f,s),f.prototype._peekTag=function(l,y,m){if(l.isEmpty())return!1;let g=l.save(),E=c(l,'Failed to peek tag: "'+y+'"');return l.isError(E)?E:(l.restore(g),E.tag===y||E.tagStr===y||E.tagStr+"of"===y||m)},f.prototype._decodeTag=function(l,y,m){let g=c(l,'Failed to decode tag of "'+y+'"');if(l.isError(g))return g;let E=u(l,g.primitive,'Failed to get length of "'+y+'"');if(l.isError(E))return E;if(!m&&g.tag!==y&&g.tagStr!==y&&g.tagStr+"of"!==y)return l.error('Failed to match tag: "'+y+'"');if(g.primitive||E!==null)return l.skip(E,'Failed to match body of: "'+y+'"');let x=l.save(),T=this._skipUntilEnd(l,'Failed to skip indefinite length body: "'+this.tag+'"');return l.isError(T)?T:(E=l.offset-x.offset,l.restore(x),l.skip(E,'Failed to match body of: "'+y+'"'))},f.prototype._skipUntilEnd=function(l,y){for(;;){let m=c(l,y);if(l.isError(m))return m;let g=u(l,m.primitive,y);if(l.isError(g))return g;let E;if(m.primitive||g!==null?E=l.skip(g):E=this._skipUntilEnd(l,y),l.isError(E))return E;if(m.tagStr==="end")break}},f.prototype._decodeList=function(l,y,m,g){let E=[];for(;!l.isEmpty();){let x=this._peekTag(l,"end");if(l.isError(x))return x;let T=m.decode(l,"der",g);if(l.isError(T)&&x)break;E.push(T)}return E},f.prototype._decodeStr=function(l,y){if(y==="bitstr"){let m=l.readUInt8();return l.isError(m)?m:{unused:m,data:l.raw()}}else if(y==="bmpstr"){let m=l.raw();if(m.length%2===1)return l.error("Decoding of string type: bmpstr length mismatch");let g="";for(let E=0;E<m.length/2;E++)g+=String.fromCharCode(m.readUInt16BE(E*2));return g}else if(y==="numstr"){let m=l.raw().toString("ascii");return this._isNumstr(m)?m:l.error("Decoding of string type: numstr unsupported characters")}else{if(y==="octstr"||y==="objDesc")return l.raw();if(y==="printstr"){let m=l.raw().toString("ascii");return this._isPrintstr(m)?m:l.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(y)?l.raw().toString():l.error("Decoding of string type: "+y+" unsupported")}},f.prototype._decodeObjid=function(l,y,m){let g,E=[],x=0,T=0;for(;!l.isEmpty();)T=l.readUInt8(),x<<=7,x|=T&127,T&128||(E.push(x),x=0);T&128&&E.push(x);let M=E[0]/40|0,I=E[0]%40;if(m?g=E:g=[M,I].concat(E.slice(1)),y){let R=y[g.join(" ")];R===void 0&&(R=y[g.join(".")]),R!==void 0&&(g=R)}return g},f.prototype._decodeTime=function(l,y){let m=l.raw().toString(),g,E,x,T,M,I;if(y==="gentime")g=m.slice(0,4)|0,E=m.slice(4,6)|0,x=m.slice(6,8)|0,T=m.slice(8,10)|0,M=m.slice(10,12)|0,I=m.slice(12,14)|0;else if(y==="utctime")g=m.slice(0,2)|0,E=m.slice(2,4)|0,x=m.slice(4,6)|0,T=m.slice(6,8)|0,M=m.slice(8,10)|0,I=m.slice(10,12)|0,g<70?g=2e3+g:g=1900+g;else return l.error("Decoding "+y+" time is not supported yet");return Date.UTC(g,E-1,x,T,M,I,0)},f.prototype._decodeNull=function(){return null},f.prototype._decodeBool=function(l){let y=l.readUInt8();return l.isError(y)?y:y!==0},f.prototype._decodeInt=function(l,y){let m=l.raw(),g=new i(m);return y&&(g=y[g.toString(10)]||g),g},f.prototype._use=function(l,y){return typeof l=="function"&&(l=l(y)),l._getDecoder("der").tree};function c(l,y){let m=l.readUInt8(y);if(l.isError(m))return m;let g=o.tagClass[m>>6],E=(m&32)===0;if((m&31)===31){let T=m;for(m=0;(T&128)===128;){if(T=l.readUInt8(y),l.isError(T))return T;m<<=7,m|=T&127}}else m&=31;let x=o.tag[m];return{cls:g,primitive:E,tag:m,tagStr:x}}function u(l,y,m){let g=l.readUInt8(m);if(l.isError(g))return g;if(!y&&g===128)return null;if(!(g&128))return g;let E=g&127;if(E>4)return l.error("length octect is too long");g=0;for(let x=0;x<E;x++){g<<=8;let T=l.readUInt8(m);if(l.isError(T))return T;g|=T}return g}}),sqe=he((t,e)=>{"use strict";ee();var r=rr(),i=Oj().Buffer,n=Gde();function s(o){n.call(this,o),this.enc="pem"}r(s,n),e.exports=s,s.prototype.decode=function(o,a){let f=o.toString().split(/[\r\n]+/g),c=a.label.toUpperCase(),u=/^-----(BEGIN|END) ([^-]+)-----$/,l=-1,y=-1;for(let E=0;E<f.length;E++){let x=f[E].match(u);if(x!==null&&x[2]===c)if(l===-1){if(x[1]!=="BEGIN")break;l=E}else{if(x[1]!=="END")break;y=E;break}}if(l===-1||y===-1)throw new Error("PEM section not found for: "+c);let m=f.slice(l+1,y).join("");m.replace(/[^a-z0-9+/=]+/gi,"");let g=i.from(m,"base64");return n.prototype.decode.call(this,g,a)}}),Jde=he(t=>{"use strict";ee();var e=t;e.der=Gde(),e.pem=sqe()}),aqe=he(t=>{"use strict";ee();var e=Zde(),r=Jde(),i=rr(),n=t;n.define=function(o,a){return new s(o,a)};function s(o,a){this.name=o,this.body=a,this.decoders={},this.encoders={}}s.prototype._createNamed=function(o){let a=this.name;function f(c){this._initNamed(c,a)}return i(f,o),f.prototype._initNamed=function(c,u){o.call(this,c,u)},new f(this)},s.prototype._getDecoder=function(o){return o=o||"der",this.decoders.hasOwnProperty(o)||(this.decoders[o]=this._createNamed(r[o])),this.decoders[o]},s.prototype.decode=function(o,a,f){return this._getDecoder(a).decode(o,f)},s.prototype._getEncoder=function(o){return o=o||"der",this.encoders.hasOwnProperty(o)||(this.encoders[o]=this._createNamed(e[o])),this.encoders[o]},s.prototype.encode=function(o,a,f){return this._getEncoder(a).encode(o,f)}}),fqe=he(t=>{"use strict";ee();var e=t;e.Reporter=jj().Reporter,e.DecoderBuffer=l_().DecoderBuffer,e.EncoderBuffer=l_().EncoderBuffer,e.Node=Lj()}),uqe=he(t=>{"use strict";ee();var e=t;e._reverse=function(r){let i={};return Object.keys(r).forEach(function(n){(n|0)==n&&(n=n|0);let s=r[n];i[s]=n}),i},e.der=Nj()}),Xde=he(t=>{"use strict";ee();var e=t;e.bignum=ss(),e.define=aqe().define,e.base=fqe(),e.constants=uqe(),e.decoders=Jde(),e.encoders=Zde()}),cqe=he((t,e)=>{"use strict";ee();var r=Xde(),i=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),n=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),s=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),o=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}),a=r.define("RelativeDistinguishedName",function(){this.setof(n)}),f=r.define("RDNSequence",function(){this.seqof(a)}),c=r.define("Name",function(){this.choice({rdnSequence:this.use(f)})}),u=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),l=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),y=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(c),this.key("validity").use(u),this.key("subject").use(c),this.key("subjectPublicKeyInfo").use(o),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(l).optional())}),m=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(y),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())});e.exports=m}),lqe=he(t=>{"use strict";ee();var e=Xde();t.certificate=cqe();var r=e.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});t.RSAPrivateKey=r;var i=e.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});t.RSAPublicKey=i;var n=e.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())});t.PublicKey=n;var s=e.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),o=e.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())});t.PrivateKey=o;var a=e.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});t.EncryptedPrivateKey=a;var f=e.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});t.DSAPrivateKey=f,t.DSAparam=e.define("DSAparam",function(){this.int()});var c=e.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(u),this.key("publicKey").optional().explicit(1).bitstr())});t.ECPrivateKey=c;var u=e.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});t.signature=e.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})}),dqe=he((t,e)=>{e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}}),hqe=he((t,e)=>{ee();var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,n=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,s=xS(),o=Tj(),a=si().Buffer;e.exports=function(f,c){var u=f.toString(),l=u.match(r),y;if(l){var m="aes"+l[1],g=a.from(l[2],"hex"),E=a.from(l[3].replace(/[\r\n]/g,""),"base64"),x=s(c,g.slice(0,8),parseInt(l[1],10)).key,T=[],M=o.createDecipheriv(m,x,g);T.push(M.update(E)),T.push(M.final()),y=a.concat(T)}else{var I=u.match(n);y=a.from(I[2].replace(/[\r\n]/g,""),"base64")}var R=u.match(i)[1];return{tag:R,data:y}}}),MS=he((t,e)=>{ee();var r=lqe(),i=dqe(),n=hqe(),s=Tj(),o=kde(),a=si().Buffer;e.exports=f;function f(u){var l;typeof u=="object"&&!a.isBuffer(u)&&(l=u.passphrase,u=u.key),typeof u=="string"&&(u=a.from(u));var y=n(u,l),m=y.tag,g=y.data,E,x;switch(m){case"CERTIFICATE":x=r.certificate.decode(g,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(x||(x=r.PublicKey.decode(g,"der")),E=x.algorithm.algorithm.join("."),E){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(x.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return x.subjectPrivateKey=x.subjectPublicKey,{type:"ec",data:x};case"1.2.840.10040.4.1":return x.algorithm.params.pub_key=r.DSAparam.decode(x.subjectPublicKey.data,"der"),{type:"dsa",data:x.algorithm.params};default:throw new Error("unknown key id "+E)}case"ENCRYPTED PRIVATE KEY":g=r.EncryptedPrivateKey.decode(g,"der"),g=c(g,l);case"PRIVATE KEY":switch(x=r.PrivateKey.decode(g,"der"),E=x.algorithm.algorithm.join("."),E){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(x.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:x.algorithm.curve,privateKey:r.ECPrivateKey.decode(x.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return x.algorithm.params.priv_key=r.DSAparam.decode(x.subjectPrivateKey,"der"),{type:"dsa",params:x.algorithm.params};default:throw new Error("unknown key id "+E)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(g,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(g,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(g,"der")};case"EC PRIVATE KEY":return g=r.ECPrivateKey.decode(g,"der"),{curve:g.parameters.value,privateKey:g.privateKey};default:throw new Error("unknown key type "+m)}}f.signature=r.signature;function c(u,l){var y=u.algorithm.decrypt.kde.kdeparams.salt,m=parseInt(u.algorithm.decrypt.kde.kdeparams.iters.toString(),10),g=i[u.algorithm.decrypt.cipher.algo.join(".")],E=u.algorithm.decrypt.cipher.iv,x=u.subjectPrivateKey,T=parseInt(g.split("-")[1],10)/8,M=o.pbkdf2Sync(l,y,m,T,"sha1"),I=s.createDecipheriv(g,M,E),R=[];return R.push(I.update(x)),R.push(I.final()),a.concat(R)}}),Qde=he((t,e)=>{e.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}}),pqe=he((t,e)=>{ee();var r=Dj().Buffer,i=_de(),n=Rj(),s=I_().ec,o=Wde(),a=MS(),f=Qde();function c(M,I,R,O,B){var C=a(I);if(C.curve){if(O!=="ecdsa"&&O!=="ecdsa/rsa")throw new Error("wrong private key type");return u(M,C)}else if(C.type==="dsa"){if(O!=="dsa")throw new Error("wrong private key type");return l(M,C,R)}else if(O!=="rsa"&&O!=="ecdsa/rsa")throw new Error("wrong private key type");M=r.concat([B,M]);for(var U=C.modulus.byteLength(),W=[0,1];M.length+W.length+1<U;)W.push(255);W.push(0);for(var L=-1;++L<M.length;)W.push(M[L]);var j=n(W,C);return j}function u(M,I){var R=f[I.curve.join(".")];if(!R)throw new Error("unknown curve "+I.curve.join("."));var O=new s(R),B=O.keyFromPrivate(I.privateKey),C=B.sign(M);return r.from(C.toDER())}function l(M,I,R){for(var O=I.params.priv_key,B=I.params.p,C=I.params.q,U=I.params.g,W=new o(0),L,j=g(M,C).mod(C),k=!1,P=m(O,C,M,R);k===!1;)L=x(C,P,R),W=T(U,L,B,C),k=L.invm(C).imul(j.add(O.mul(W))).mod(C),k.cmpn(0)===0&&(k=!1,W=new o(0));return y(W,k)}function y(M,I){M=M.toArray(),I=I.toArray(),M[0]&128&&(M=[0].concat(M)),I[0]&128&&(I=[0].concat(I));var R=M.length+I.length+4,O=[48,R,2,M.length];return O=O.concat(M,[2,I.length],I),r.from(O)}function m(M,I,R,O){if(M=r.from(M.toArray()),M.length<I.byteLength()){var B=r.alloc(I.byteLength()-M.length);M=r.concat([B,M])}var C=R.length,U=E(R,I),W=r.alloc(C);W.fill(1);var L=r.alloc(C);return L=i(O,L).update(W).update(r.from([0])).update(M).update(U).digest(),W=i(O,L).update(W).digest(),L=i(O,L).update(W).update(r.from([1])).update(M).update(U).digest(),W=i(O,L).update(W).digest(),{k:L,v:W}}function g(M,I){var R=new o(M),O=(M.length<<3)-I.bitLength();return O>0&&R.ishrn(O),R}function E(M,I){M=g(M,I),M=M.mod(I);var R=r.from(M.toArray());if(R.length<I.byteLength()){var O=r.alloc(I.byteLength()-R.length);R=r.concat([O,R])}return R}function x(M,I,R){var O,B;do{for(O=r.alloc(0);O.length*8<M.bitLength();)I.v=i(R,I.k).update(I.v).digest(),O=r.concat([O,I.v]);B=g(O,M),I.k=i(R,I.k).update(I.v).update(r.from([0])).digest(),I.v=i(R,I.k).update(I.v).digest()}while(B.cmp(M)!==-1);return B}function T(M,I,R,O){return M.toRed(o.mont(R)).redPow(I).fromRed().mod(O)}e.exports=c,e.exports.getKey=m,e.exports.makeKey=x}),yqe=he((t,e)=>{ee();var r=Dj().Buffer,i=Wde(),n=I_().ec,s=MS(),o=Qde();function a(l,y,m,g,E){var x=s(m);if(x.type==="ec"){if(g!=="ecdsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");return f(l,y,x)}else if(x.type==="dsa"){if(g!=="dsa")throw new Error("wrong public key type");return c(l,y,x)}else if(g!=="rsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");y=r.concat([E,y]);for(var T=x.modulus.byteLength(),M=[1],I=0;y.length+M.length+2<T;)M.push(255),I++;M.push(0);for(var R=-1;++R<y.length;)M.push(y[R]);M=r.from(M);var O=i.mont(x.modulus);l=new i(l).toRed(O),l=l.redPow(new i(x.publicExponent)),l=r.from(l.fromRed().toArray());var B=I<8?1:0;for(T=Math.min(l.length,M.length),l.length!==M.length&&(B=1),R=-1;++R<T;)B|=l[R]^M[R];return B===0}function f(l,y,m){var g=o[m.data.algorithm.curve.join(".")];if(!g)throw new Error("unknown curve "+m.data.algorithm.curve.join("."));var E=new n(g),x=m.data.subjectPrivateKey.data;return E.verify(y,l,x)}function c(l,y,m){var g=m.data.p,E=m.data.q,x=m.data.g,T=m.data.pub_key,M=s.signature.decode(l,"der"),I=M.s,R=M.r;u(I,E),u(R,E);var O=i.mont(g),B=I.invm(E),C=x.toRed(O).redPow(new i(y).mul(B).mod(E)).fromRed().mul(T.toRed(O).redPow(R.mul(B).mod(E)).fromRed()).mod(g).mod(E);return C.cmp(R)===0}function u(l,y){if(l.cmpn(0)<=0)throw new Error("invalid sig");if(l.cmp(y)>=y)throw new Error("invalid sig")}e.exports=a}),mqe=he((t,e)=>{ee();var r=Dj().Buffer,i=T_(),n=qNe(),s=rr(),o=pqe(),a=yqe(),f=Ede();Object.keys(f).forEach(function(m){f[m].id=r.from(f[m].id,"hex"),f[m.toLowerCase()]=f[m]});function c(m){n.Writable.call(this);var g=f[m];if(!g)throw new Error("Unknown message digest");this._hashType=g.hash,this._hash=i(g.hash),this._tag=g.id,this._signType=g.sign}s(c,n.Writable),c.prototype._write=function(m,g,E){this._hash.update(m),E()},c.prototype.update=function(m,g){return typeof m=="string"&&(m=r.from(m,g)),this._hash.update(m),this},c.prototype.sign=function(m,g){this.end();var E=this._hash.digest(),x=o(E,m,this._hashType,this._signType,this._tag);return g?x.toString(g):x};function u(m){n.Writable.call(this);var g=f[m];if(!g)throw new Error("Unknown message digest");this._hash=i(g.hash),this._tag=g.id,this._signType=g.sign}s(u,n.Writable),u.prototype._write=function(m,g,E){this._hash.update(m),E()},u.prototype.update=function(m,g){return typeof m=="string"&&(m=r.from(m,g)),this._hash.update(m),this},u.prototype.verify=function(m,g,E){typeof g=="string"&&(g=r.from(g,E)),this.end();var x=this._hash.digest();return a(g,x,m,this._signType,this._tag)};function l(m){return new c(m)}function y(m){return new u(m)}e.exports={Sign:l,Verify:y,createSign:l,createVerify:y}}),gqe=he((t,e)=>{ee();var r=I_(),i=ss();e.exports=function(a){return new s(a)};var n={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};n.p224=n.secp224r1,n.p256=n.secp256r1=n.prime256v1,n.p192=n.secp192r1=n.prime192v1,n.p384=n.secp384r1,n.p521=n.secp521r1;function s(a){this.curveType=n[a],this.curveType||(this.curveType={name:a}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}s.prototype.generateKeys=function(a,f){return this.keys=this.curve.genKeyPair(),this.getPublicKey(a,f)},s.prototype.computeSecret=function(a,f,c){f=f||"utf8",Rt.Buffer.isBuffer(a)||(a=new Rt.Buffer(a,f));var u=this.curve.keyFromPublic(a).getPublic(),l=u.mul(this.keys.getPrivate()).getX();return o(l,c,this.curveType.byteLength)},s.prototype.getPublicKey=function(a,f){var c=this.keys.getPublic(f==="compressed",!0);return f==="hybrid"&&(c[c.length-1]%2?c[0]=7:c[0]=6),o(c,a)},s.prototype.getPrivateKey=function(a){return o(this.keys.getPrivate(),a)},s.prototype.setPublicKey=function(a,f){return f=f||"utf8",Rt.Buffer.isBuffer(a)||(a=new Rt.Buffer(a,f)),this.keys._importPublic(a),this},s.prototype.setPrivateKey=function(a,f){f=f||"utf8",Rt.Buffer.isBuffer(a)||(a=new Rt.Buffer(a,f));var c=new i(a);return c=c.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(c),this};function o(a,f,c){Array.isArray(a)||(a=a.toArray());var u=new Rt.Buffer(a);if(c&&u.length<c){var l=new Rt.Buffer(c-u.length);l.fill(0),u=Rt.Buffer.concat([l,u])}return f?u.toString(f):u}}),ehe=he((t,e)=>{ee();var r=T_(),i=si().Buffer;e.exports=function(s,o){for(var a=i.alloc(0),f=0,c;a.length<o;)c=n(f++),a=i.concat([a,r("sha1").update(s).update(c).digest()]);return a.slice(0,o)};function n(s){var o=i.allocUnsafe(4);return o.writeUInt32BE(s,0),o}}),the=he((t,e)=>{ee(),e.exports=function(r,i){for(var n=r.length,s=-1;++s<n;)r[s]^=i[s];return r}}),rhe=he((t,e)=>{ee();var r=ss(),i=si().Buffer;function n(s,o){return i.from(s.toRed(r.mont(o.modulus)).redPow(new r(o.publicExponent)).fromRed().toArray())}e.exports=n}),bqe=he((t,e)=>{ee();var r=MS(),i=Jb(),n=T_(),s=ehe(),o=the(),a=ss(),f=rhe(),c=Rj(),u=si().Buffer;e.exports=function(g,E,x){var T;g.padding?T=g.padding:x?T=1:T=4;var M=r(g),I;if(T===4)I=l(M,E);else if(T===1)I=y(M,E,x);else if(T===3){if(I=new a(E),I.cmp(M.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return x?c(I,M):f(I,M)};function l(g,E){var x=g.modulus.byteLength(),T=E.length,M=n("sha1").update(u.alloc(0)).digest(),I=M.length,R=2*I;if(T>x-R-2)throw new Error("message too long");var O=u.alloc(x-T-R-2),B=x-I-1,C=i(I),U=o(u.concat([M,O,u.alloc(1,1),E],B),s(C,B)),W=o(C,s(U,I));return new a(u.concat([u.alloc(1),W,U],x))}function y(g,E,x){var T=E.length,M=g.modulus.byteLength();if(T>M-11)throw new Error("message too long");var I;return x?I=u.alloc(M-T-3,255):I=m(M-T-3),new a(u.concat([u.from([0,x?1:2]),I,u.alloc(1),E],M))}function m(g){for(var E=u.allocUnsafe(g),x=0,T=i(g*2),M=0,I;x<g;)M===T.length&&(T=i(g*2),M=0),I=T[M++],I&&(E[x++]=I);return E}}),vqe=he((t,e)=>{ee();var r=MS(),i=ehe(),n=the(),s=ss(),o=Rj(),a=T_(),f=rhe(),c=si().Buffer;e.exports=function(m,g,E){var x;m.padding?x=m.padding:E?x=1:x=4;var T=r(m),M=T.modulus.byteLength();if(g.length>M||new s(g).cmp(T.modulus)>=0)throw new Error("decryption error");var I;E?I=f(new s(g),T):I=o(g,T);var R=c.alloc(M-I.length);if(I=c.concat([R,I],M),x===4)return u(T,I);if(x===1)return l(T,I,E);if(x===3)return I;throw new Error("unknown padding")};function u(m,g){var E=m.modulus.byteLength(),x=a("sha1").update(c.alloc(0)).digest(),T=x.length;if(g[0]!==0)throw new Error("decryption error");var M=g.slice(1,T+1),I=g.slice(T+1),R=n(M,i(I,T)),O=n(I,i(R,E-T-1));if(y(x,O.slice(0,T)))throw new Error("decryption error");for(var B=T;O[B]===0;)B++;if(O[B++]!==1)throw new Error("decryption error");return O.slice(B)}function l(m,g,E){for(var x=g.slice(0,2),T=2,M=0;g[T++]!==0;)if(T>=g.length){M++;break}var I=g.slice(2,T-1);if((x.toString("hex")!=="0002"&&!E||x.toString("hex")!=="0001"&&E)&&M++,I.length<8&&M++,M)throw new Error("decryption error");return g.slice(T)}function y(m,g){m=c.from(m),g=c.from(g);var E=0,x=m.length;m.length!==g.length&&(E++,x=Math.min(m.length,g.length));for(var T=-1;++T<x;)E+=m[T]^g[T];return E}}),wqe=he(t=>{ee(),t.publicEncrypt=bqe(),t.privateDecrypt=vqe(),t.privateEncrypt=function(e,r){return t.publicEncrypt(e,r,!0)},t.publicDecrypt=function(e,r){return t.privateDecrypt(e,r,!0)}}),_qe=he(t=>{"use strict";ee();function e(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var r=si(),i=Jb(),n=r.Buffer,s=r.kMaxLength,o=globalThis.crypto||globalThis.msCrypto,a=Math.pow(2,32)-1;function f(m,g){if(typeof m!="number"||m!==m)throw new TypeError("offset must be a number");if(m>a||m<0)throw new TypeError("offset must be a uint32");if(m>s||m>g)throw new RangeError("offset out of range")}function c(m,g,E){if(typeof m!="number"||m!==m)throw new TypeError("size must be a number");if(m>a||m<0)throw new TypeError("size must be a uint32");if(m+g>E||m>s)throw new RangeError("buffer too small")}o&&o.getRandomValues||!Fe.default.browser?(t.randomFill=u,t.randomFillSync=y):(t.randomFill=e,t.randomFillSync=e);function u(m,g,E,x){if(!n.isBuffer(m)&&!(m instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof g=="function")x=g,g=0,E=m.length;else if(typeof E=="function")x=E,E=m.length-g;else if(typeof x!="function")throw new TypeError('"cb" argument must be a function');return f(g,m.length),c(E,g,m.length),l(m,g,E,x)}function l(m,g,E,x){if(Fe.default.browser){var T=m.buffer,M=new Uint8Array(T,g,E);if(o.getRandomValues(M),x){Fe.default.nextTick(function(){x(null,m)});return}return m}if(x){i(E,function(R,O){if(R)return x(R);O.copy(m,g),x(null,m)});return}var I=i(E);return I.copy(m,g),m}function y(m,g,E){if(typeof g>"u"&&(g=0),!n.isBuffer(m)&&!(m instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return f(g,m.length),E===void 0&&(E=m.length-g),c(E,g,m.length),l(m,g,E)}}),iv=he(t=>{"use strict";ee(),t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=Jb(),t.createHash=t.Hash=T_(),t.createHmac=t.Hmac=_de();var e=pNe(),r=Object.keys(e),i=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(r);t.getHashes=function(){return i};var n=kde();t.pbkdf2=n.pbkdf2,t.pbkdf2Sync=n.pbkdf2Sync;var s=DNe();t.Cipher=s.Cipher,t.createCipher=s.createCipher,t.Cipheriv=s.Cipheriv,t.createCipheriv=s.createCipheriv,t.Decipher=s.Decipher,t.createDecipher=s.createDecipher,t.Decipheriv=s.Decipheriv,t.createDecipheriv=s.createDecipheriv,t.getCiphers=s.getCiphers,t.listCiphers=s.listCiphers;var o=BNe();t.DiffieHellmanGroup=o.DiffieHellmanGroup,t.createDiffieHellmanGroup=o.createDiffieHellmanGroup,t.getDiffieHellman=o.getDiffieHellman,t.createDiffieHellman=o.createDiffieHellman,t.DiffieHellman=o.DiffieHellman;var a=mqe();t.createSign=a.createSign,t.Sign=a.Sign,t.createVerify=a.createVerify,t.Verify=a.Verify,t.createECDH=gqe();var f=wqe();t.publicEncrypt=f.publicEncrypt,t.privateEncrypt=f.privateEncrypt,t.publicDecrypt=f.publicDecrypt,t.privateDecrypt=f.privateDecrypt;var c=_qe();t.randomFill=c.randomFill,t.randomFillSync=c.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}}),Eqe=he((t,e)=>{ee();var r={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function i(f,c){if(!f)throw new Error(c)}function n(f,c,u){if(i(c instanceof Uint8Array,`Expected ${f} to be an Uint8Array`),u!==void 0)if(Array.isArray(u)){let l=u.join(", "),y=`Expected ${f} to be an Uint8Array with length [${l}]`;i(u.includes(c.length),y)}else{let l=`Expected ${f} to be an Uint8Array with length ${u}`;i(c.length===u,l)}}function s(f){i(a(f)==="Boolean","Expected compressed to be a Boolean")}function o(f=u=>new Uint8Array(u),c){return typeof f=="function"&&(f=f(c)),n("output",f,c),f}function a(f){return Object.prototype.toString.call(f).slice(8,-1)}e.exports=f=>({contextRandomize(c){switch(i(c===null||c instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),c!==null&&n("seed",c,32),f.contextRandomize(c)){case 1:throw new Error(r.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(c){return n("private key",c,32),f.privateKeyVerify(c)===0},privateKeyNegate(c){switch(n("private key",c,32),f.privateKeyNegate(c)){case 0:return c;case 1:throw new Error(r.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(c,u){switch(n("private key",c,32),n("tweak",u,32),f.privateKeyTweakAdd(c,u)){case 0:return c;case 1:throw new Error(r.TWEAK_ADD)}},privateKeyTweakMul(c,u){switch(n("private key",c,32),n("tweak",u,32),f.privateKeyTweakMul(c,u)){case 0:return c;case 1:throw new Error(r.TWEAK_MUL)}},publicKeyVerify(c){return n("public key",c,[33,65]),f.publicKeyVerify(c)===0},publicKeyCreate(c,u=!0,l){switch(n("private key",c,32),s(u),l=o(l,u?33:65),f.publicKeyCreate(l,c)){case 0:return l;case 1:throw new Error(r.SECKEY_INVALID);case 2:throw new Error(r.PUBKEY_SERIALIZE)}},publicKeyConvert(c,u=!0,l){switch(n("public key",c,[33,65]),s(u),l=o(l,u?33:65),f.publicKeyConvert(l,c)){case 0:return l;case 1:throw new Error(r.PUBKEY_PARSE);case 2:throw new Error(r.PUBKEY_SERIALIZE)}},publicKeyNegate(c,u=!0,l){switch(n("public key",c,[33,65]),s(u),l=o(l,u?33:65),f.publicKeyNegate(l,c)){case 0:return l;case 1:throw new Error(r.PUBKEY_PARSE);case 2:throw new Error(r.IMPOSSIBLE_CASE);case 3:throw new Error(r.PUBKEY_SERIALIZE)}},publicKeyCombine(c,u=!0,l){i(Array.isArray(c),"Expected public keys to be an Array"),i(c.length>0,"Expected public keys array will have more than zero items");for(let y of c)n("public key",y,[33,65]);switch(s(u),l=o(l,u?33:65),f.publicKeyCombine(l,c)){case 0:return l;case 1:throw new Error(r.PUBKEY_PARSE);case 2:throw new Error(r.PUBKEY_COMBINE);case 3:throw new Error(r.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(c,u,l=!0,y){switch(n("public key",c,[33,65]),n("tweak",u,32),s(l),y=o(y,l?33:65),f.publicKeyTweakAdd(y,c,u)){case 0:return y;case 1:throw new Error(r.PUBKEY_PARSE);case 2:throw new Error(r.TWEAK_ADD)}},publicKeyTweakMul(c,u,l=!0,y){switch(n("public key",c,[33,65]),n("tweak",u,32),s(l),y=o(y,l?33:65),f.publicKeyTweakMul(y,c,u)){case 0:return y;case 1:throw new Error(r.PUBKEY_PARSE);case 2:throw new Error(r.TWEAK_MUL)}},signatureNormalize(c){switch(n("signature",c,64),f.signatureNormalize(c)){case 0:return c;case 1:throw new Error(r.SIG_PARSE)}},signatureExport(c,u){n("signature",c,64),u=o(u,72);let l={output:u,outputlen:72};switch(f.signatureExport(l,c)){case 0:return u.slice(0,l.outputlen);case 1:throw new Error(r.SIG_PARSE);case 2:throw new Error(r.IMPOSSIBLE_CASE)}},signatureImport(c,u){switch(n("signature",c),u=o(u,64),f.signatureImport(u,c)){case 0:return u;case 1:throw new Error(r.SIG_PARSE);case 2:throw new Error(r.IMPOSSIBLE_CASE)}},ecdsaSign(c,u,l={},y){n("message",c,32),n("private key",u,32),i(a(l)==="Object","Expected options to be an Object"),l.data!==void 0&&n("options.data",l.data),l.noncefn!==void 0&&i(a(l.noncefn)==="Function","Expected options.noncefn to be a Function"),y=o(y,64);let m={signature:y,recid:null};switch(f.ecdsaSign(m,c,u,l.data,l.noncefn)){case 0:return m;case 1:throw new Error(r.SIGN);case 2:throw new Error(r.IMPOSSIBLE_CASE)}},ecdsaVerify(c,u,l){switch(n("signature",c,64),n("message",u,32),n("public key",l,[33,65]),f.ecdsaVerify(c,u,l)){case 0:return!0;case 3:return!1;case 1:throw new Error(r.SIG_PARSE);case 2:throw new Error(r.PUBKEY_PARSE)}},ecdsaRecover(c,u,l,y=!0,m){switch(n("signature",c,64),i(a(u)==="Number"&&u>=0&&u<=3,"Expected recovery id to be a Number within interval [0, 3]"),n("message",l,32),s(y),m=o(m,y?33:65),f.ecdsaRecover(m,c,u,l)){case 0:return m;case 1:throw new Error(r.SIG_PARSE);case 2:throw new Error(r.RECOVER);case 3:throw new Error(r.IMPOSSIBLE_CASE)}},ecdh(c,u,l={},y){switch(n("public key",c,[33,65]),n("private key",u,32),i(a(l)==="Object","Expected options to be an Object"),l.data!==void 0&&n("options.data",l.data),l.hashfn!==void 0?(i(a(l.hashfn)==="Function","Expected options.hashfn to be a Function"),l.xbuf!==void 0&&n("options.xbuf",l.xbuf,32),l.ybuf!==void 0&&n("options.ybuf",l.ybuf,32),n("output",y)):y=o(y,32),f.ecdh(y,c,u,l.data,l.hashfn,l.xbuf,l.ybuf)){case 0:return y;case 1:throw new Error(r.PUBKEY_PARSE);case 2:throw new Error(r.ECDH)}}})}),Sqe=he((t,e)=>{ee();var r=I_().ec,i=new r("secp256k1"),n=i.curve,s=n.n.constructor;function o(u,l){let y=new s(l);if(y.cmp(n.p)>=0)return null;y=y.toRed(n.red);let m=y.redSqr().redIMul(y).redIAdd(n.b).redSqrt();return u===3!==m.isOdd()&&(m=m.redNeg()),i.keyPair({pub:{x:y,y:m}})}function a(u,l,y){let m=new s(l),g=new s(y);if(m.cmp(n.p)>=0||g.cmp(n.p)>=0||(m=m.toRed(n.red),g=g.toRed(n.red),(u===6||u===7)&&g.isOdd()!==(u===7)))return null;let E=m.redSqr().redIMul(m);return g.redSqr().redISub(E.redIAdd(n.b)).isZero()?i.keyPair({pub:{x:m,y:g}}):null}function f(u){let l=u[0];switch(l){case 2:case 3:return u.length!==33?null:o(l,u.subarray(1,33));case 4:case 6:case 7:return u.length!==65?null:a(l,u.subarray(1,33),u.subarray(33,65));default:return null}}function c(u,l){let y=l.encode(null,u.length===33);for(let m=0;m<u.length;++m)u[m]=y[m]}e.exports={contextRandomize(){return 0},privateKeyVerify(u){let l=new s(u);return l.cmp(n.n)<0&&!l.isZero()?0:1},privateKeyNegate(u){let l=new s(u),y=n.n.sub(l).umod(n.n).toArrayLike(Uint8Array,"be",32);return u.set(y),0},privateKeyTweakAdd(u,l){let y=new s(l);if(y.cmp(n.n)>=0||(y.iadd(new s(u)),y.cmp(n.n)>=0&&y.isub(n.n),y.isZero()))return 1;let m=y.toArrayLike(Uint8Array,"be",32);return u.set(m),0},privateKeyTweakMul(u,l){let y=new s(l);if(y.cmp(n.n)>=0||y.isZero())return 1;y.imul(new s(u)),y.cmp(n.n)>=0&&(y=y.umod(n.n));let m=y.toArrayLike(Uint8Array,"be",32);return u.set(m),0},publicKeyVerify(u){return f(u)===null?1:0},publicKeyCreate(u,l){let y=new s(l);if(y.cmp(n.n)>=0||y.isZero())return 1;let m=i.keyFromPrivate(l).getPublic();return c(u,m),0},publicKeyConvert(u,l){let y=f(l);if(y===null)return 1;let m=y.getPublic();return c(u,m),0},publicKeyNegate(u,l){let y=f(l);if(y===null)return 1;let m=y.getPublic();return m.y=m.y.redNeg(),c(u,m),0},publicKeyCombine(u,l){let y=new Array(l.length);for(let g=0;g<l.length;++g)if(y[g]=f(l[g]),y[g]===null)return 1;let m=y[0].getPublic();for(let g=1;g<y.length;++g)m=m.add(y[g].pub);return m.isInfinity()?2:(c(u,m),0)},publicKeyTweakAdd(u,l,y){let m=f(l);if(m===null)return 1;if(y=new s(y),y.cmp(n.n)>=0)return 2;let g=m.getPublic().add(n.g.mul(y));return g.isInfinity()?2:(c(u,g),0)},publicKeyTweakMul(u,l,y){let m=f(l);if(m===null)return 1;if(y=new s(y),y.cmp(n.n)>=0||y.isZero())return 2;let g=m.getPublic().mul(y);return c(u,g),0},signatureNormalize(u){let l=new s(u.subarray(0,32)),y=new s(u.subarray(32,64));return l.cmp(n.n)>=0||y.cmp(n.n)>=0?1:(y.cmp(i.nh)===1&&u.set(n.n.sub(y).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(u,l){let y=l.subarray(0,32),m=l.subarray(32,64);if(new s(y).cmp(n.n)>=0||new s(m).cmp(n.n)>=0)return 1;let{output:g}=u,E=g.subarray(4,4+33);E[0]=0,E.set(y,1);let x=33,T=0;for(;x>1&&E[T]===0&&!(E[T+1]&128);--x,++T);if(E=E.subarray(T),E[0]&128||x>1&&E[0]===0&&!(E[1]&128))return 1;let M=g.subarray(6+33,6+33+33);M[0]=0,M.set(m,1);let I=33,R=0;for(;I>1&&M[R]===0&&!(M[R+1]&128);--I,++R);return M=M.subarray(R),M[0]&128||I>1&&M[0]===0&&!(M[1]&128)?1:(u.outputlen=6+x+I,g[0]=48,g[1]=u.outputlen-2,g[2]=2,g[3]=E.length,g.set(E,4),g[4+x]=2,g[5+x]=M.length,g.set(M,6+x),0)},signatureImport(u,l){if(l.length<8||l.length>72||l[0]!==48||l[1]!==l.length-2||l[2]!==2)return 1;let y=l[3];if(y===0||5+y>=l.length||l[4+y]!==2)return 1;let m=l[5+y];if(m===0||6+y+m!==l.length||l[4]&128||y>1&&l[4]===0&&!(l[5]&128)||l[y+6]&128||m>1&&l[y+6]===0&&!(l[y+7]&128))return 1;let g=l.subarray(4,4+y);if(g.length===33&&g[0]===0&&(g=g.subarray(1)),g.length>32)return 1;let E=l.subarray(6+y);if(E.length===33&&E[0]===0&&(E=E.slice(1)),E.length>32)throw new Error("S length is too long");let x=new s(g);x.cmp(n.n)>=0&&(x=new s(0));let T=new s(l.subarray(6+y));return T.cmp(n.n)>=0&&(T=new s(0)),u.set(x.toArrayLike(Uint8Array,"be",32),0),u.set(T.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(u,l,y,m,g){if(g){let T=g;g=M=>{let I=T(l,y,null,m,M);if(!(I instanceof Uint8Array&&I.length===32))throw new Error("This is the way");return new s(I)}}let E=new s(y);if(E.cmp(n.n)>=0||E.isZero())return 1;let x;try{x=i.sign(l,y,{canonical:!0,k:g,pers:m})}catch{return 1}return u.signature.set(x.r.toArrayLike(Uint8Array,"be",32),0),u.signature.set(x.s.toArrayLike(Uint8Array,"be",32),32),u.recid=x.recoveryParam,0},ecdsaVerify(u,l,y){let m={r:u.subarray(0,32),s:u.subarray(32,64)},g=new s(m.r),E=new s(m.s);if(g.cmp(n.n)>=0||E.cmp(n.n)>=0)return 1;if(E.cmp(i.nh)===1||g.isZero()||E.isZero())return 3;let x=f(y);if(x===null)return 2;let T=x.getPublic();return i.verify(l,m,T)?0:3},ecdsaRecover(u,l,y,m){let g={r:l.slice(0,32),s:l.slice(32,64)},E=new s(g.r),x=new s(g.s);if(E.cmp(n.n)>=0||x.cmp(n.n)>=0)return 1;if(E.isZero()||x.isZero())return 2;let T;try{T=i.recoverPubKey(m,g,y)}catch{return 2}return c(u,T),0},ecdh(u,l,y,m,g,E,x){let T=f(l);if(T===null)return 1;let M=new s(y);if(M.cmp(n.n)>=0||M.isZero())return 2;let I=T.getPublic().mul(M);if(g===void 0){let R=I.encode(null,!0),O=i.hash().update(R).digest();for(let B=0;B<32;++B)u[B]=O[B]}else{E||(E=new Uint8Array(32));let R=I.getX().toArray("be",32);for(let C=0;C<32;++C)E[C]=R[C];x||(x=new Uint8Array(32));let O=I.getY().toArray("be",32);for(let C=0;C<32;++C)x[C]=O[C];let B=g(E,x,m);if(!(B instanceof Uint8Array&&B.length===u.length))return 2;u.set(B)}return 0}}}),xqe=he((t,e)=>{ee(),e.exports=Eqe()(Sqe())}),Aqe=he((t,e)=>{ee();var r=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;e.exports=r}),Mqe=he((t,e)=>{ee();var r=Aqe(),i=typeof self=="object"&&self&&self.Object===Object&&self,n=r||i||Function("return this")();e.exports=n}),ihe=he((t,e)=>{ee();var r=Mqe(),i=r.Symbol;e.exports=i}),kqe=he((t,e)=>{ee();var r=ihe(),i=Object.prototype,n=i.hasOwnProperty,s=i.toString,o=r?r.toStringTag:void 0;function a(f){var c=n.call(f,o),u=f[o];try{f[o]=void 0;var l=!0}catch{}var y=s.call(f);return l&&(c?f[o]=u:delete f[o]),y}e.exports=a}),Tqe=he((t,e)=>{ee();var r=Object.prototype,i=r.toString;function n(s){return i.call(s)}e.exports=n}),Pqe=he((t,e)=>{ee();var r=ihe(),i=kqe(),n=Tqe(),s="[object Null]",o="[object Undefined]",a=r?r.toStringTag:void 0;function f(c){return c==null?c===void 0?o:s:a&&a in Object(c)?i(c):n(c)}e.exports=f}),Dqe=he((t,e)=>{ee();function r(i,n){return function(s){return i(n(s))}}e.exports=r}),Iqe=he((t,e)=>{ee();var r=Dqe(),i=r(Object.getPrototypeOf,Object);e.exports=i}),Rqe=he((t,e)=>{ee();function r(i){return i!=null&&typeof i=="object"}e.exports=r}),Bqe=he((t,e)=>{ee();var r=Pqe(),i=Iqe(),n=Rqe(),s="[object Object]",o=Function.prototype,a=Object.prototype,f=o.toString,c=a.hasOwnProperty,u=f.call(Object);function l(y){if(!n(y)||r(y)!=s)return!1;var m=i(y);if(m===null)return!0;var g=c.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&f.call(g)==u}e.exports=l}),Cqe=he((t,e)=>{ee(),e.exports=n,n.flatten=n,n.unflatten=s;function r(o){return o&&o.constructor&&typeof o.constructor.isBuffer=="function"&&o.constructor.isBuffer(o)}function i(o){return o}function n(o,a){a=a||{};let f=a.delimiter||".",c=a.maxDepth,u=a.transformKey||i,l={};function y(m,g,E){E=E||1,Object.keys(m).forEach(function(x){let T=m[x],M=a.safe&&Array.isArray(T),I=Object.prototype.toString.call(T),R=r(T),O=I==="[object Object]"||I==="[object Array]",B=g?g+f+u(x):u(x);if(!M&&!R&&O&&Object.keys(T).length&&(!a.maxDepth||E<c))return y(T,B,E+1);l[B]=T})}return y(o),l}function s(o,a){a=a||{};let f=a.delimiter||".",c=a.overwrite||!1,u=a.transformKey||i,l={};if(r(o)||Object.prototype.toString.call(o)!=="[object Object]")return o;function y(E){let x=Number(E);return isNaN(x)||E.indexOf(".")!==-1||a.object?E:x}function m(E,x,T){return Object.keys(T).reduce(function(M,I){return M[E+f+I]=T[I],M},x)}function g(E){let x=Object.prototype.toString.call(E),T=x==="[object Array]",M=x==="[object Object]";if(E){if(T)return!E.length;if(M)return!Object.keys(E).length}else return!0}return o=Object.keys(o).reduce(function(E,x){let T=Object.prototype.toString.call(o[x]);return!(T==="[object Object]"||T==="[object Array]")||g(o[x])?(E[x]=o[x],E):m(x,E,n(o[x],a))},{}),Object.keys(o).forEach(function(E){let x=E.split(f).map(u),T=y(x.shift()),M=y(x[0]),I=l;for(;M!==void 0;){if(T==="__proto__")return;let R=Object.prototype.toString.call(I[T]),O=R==="[object Object]"||R==="[object Array]";if(!c&&!O&&typeof I[T]<"u")return;(c&&!O||!c&&I[T]==null)&&(I[T]=typeof M=="number"&&!a.object?[]:{}),I=I[T],x.length>0&&(T=y(x.shift()),M=y(x[0]))}I[T]=s(o[E],a)}),l}}),Oqe=he((t,e)=>{ee();var r=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,i=typeof AbortController=="function",n=i?AbortController:class{constructor(){this.signal=new a}abort(){this.signal.dispatchEvent("abort")}},s=typeof AbortSignal=="function",o=typeof n.AbortSignal=="function",a=s?AbortSignal:o?n.AbortController:class{constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(R){if(R==="abort"){this.aborted=!0;let O={type:R,target:this};this.onabort(O),this._listeners.forEach(B=>B(O),this)}}onabort(){}addEventListener(R,O){R==="abort"&&this._listeners.push(O)}removeEventListener(R,O){R==="abort"&&(this._listeners=this._listeners.filter(B=>B!==O))}},f=new Set,c=(R,O)=>{let B=`LRU_CACHE_OPTION_${R}`;m(B)&&g(B,`${R} option`,`options.${O}`,I)},u=(R,O)=>{let B=`LRU_CACHE_METHOD_${R}`;if(m(B)){let{prototype:C}=I,{get:U}=Object.getOwnPropertyDescriptor(C,R);g(B,`${R} method`,`cache.${O}()`,U)}},l=(R,O)=>{let B=`LRU_CACHE_PROPERTY_${R}`;if(m(B)){let{prototype:C}=I,{get:U}=Object.getOwnPropertyDescriptor(C,R);g(B,`${R} property`,`cache.${O}`,U)}},y=(...R)=>{typeof Fe.default=="object"&&Fe.default&&typeof Fe.default.emitWarning=="function"?Fe.default.emitWarning(...R):console.error(...R)},m=R=>!f.has(R),g=(R,O,B,C)=>{f.add(R);let U=`The ${O} is deprecated. Please use ${B} instead.`;y(U,"DeprecationWarning",R,C)},E=R=>R&&R===Math.floor(R)&&R>0&&isFinite(R),x=R=>E(R)?R<=Math.pow(2,8)?Uint8Array:R<=Math.pow(2,16)?Uint16Array:R<=Math.pow(2,32)?Uint32Array:R<=Number.MAX_SAFE_INTEGER?T:null:null,T=class extends Array{constructor(R){super(R),this.fill(0)}},M=class{constructor(R){if(R===0)return[];let O=x(R);this.heap=new O(R),this.length=0}push(R){this.heap[this.length++]=R}pop(){return this.heap[--this.length]}},I=class{constructor(R={}){let{max:O=0,ttl:B,ttlResolution:C=1,ttlAutopurge:U,updateAgeOnGet:W,updateAgeOnHas:L,allowStale:j,dispose:k,disposeAfter:P,noDisposeOnSet:p,noUpdateTTL:d,maxSize:h=0,sizeCalculation:b,fetchMethod:v,fetchContext:w,noDeleteOnFetchRejection:_,noDeleteOnStaleGet:D}=R,{length:S,maxAge:A,stale:N}=R instanceof I?{}:R;if(O!==0&&!E(O))throw new TypeError("max option must be a nonnegative integer");let G=O?x(O):Array;if(!G)throw new Error("invalid max value: "+O);if(this.max=O,this.maxSize=h,this.sizeCalculation=b||S,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=v||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=w,!this.fetchMethod&&w!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(O).fill(null),this.valList=new Array(O).fill(null),this.next=new G(O),this.prev=new G(O),this.head=0,this.tail=0,this.free=new M(O),this.initialFill=1,this.size=0,typeof k=="function"&&(this.dispose=k),typeof P=="function"?(this.disposeAfter=P,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!p,this.noUpdateTTL=!!d,this.noDeleteOnFetchRejection=!!_,this.maxSize!==0){if(!E(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!j||!!N,this.noDeleteOnStaleGet=!!D,this.updateAgeOnGet=!!W,this.updateAgeOnHas=!!L,this.ttlResolution=E(C)||C===0?C:1,this.ttlAutopurge=!!U,this.ttl=B||A||0,this.ttl){if(!E(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let Q="LRU_CACHE_UNBOUNDED";m(Q)&&(f.add(Q),y("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Q,I))}N&&c("stale","allowStale"),A&&c("maxAge","ttl"),S&&c("length","sizeCalculation")}getRemainingTTL(R){return this.has(R,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new T(this.max),this.starts=new T(this.max),this.setItemTTL=(B,C,U=r.now())=>{if(this.starts[B]=C!==0?U:0,this.ttls[B]=C,C!==0&&this.ttlAutopurge){let W=setTimeout(()=>{this.isStale(B)&&this.delete(this.keyList[B])},C+1);W.unref&&W.unref()}},this.updateItemAge=B=>{this.starts[B]=this.ttls[B]!==0?r.now():0};let R=0,O=()=>{let B=r.now();if(this.ttlResolution>0){R=B;let C=setTimeout(()=>R=0,this.ttlResolution);C.unref&&C.unref()}return B};this.getRemainingTTL=B=>{let C=this.keyMap.get(B);return C===void 0?0:this.ttls[C]===0||this.starts[C]===0?1/0:this.starts[C]+this.ttls[C]-(R||O())},this.isStale=B=>this.ttls[B]!==0&&this.starts[B]!==0&&(R||O())-this.starts[B]>this.ttls[B]}updateItemAge(R){}setItemTTL(R,O,B){}isStale(R){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new T(this.max),this.removeItemSize=R=>this.calculatedSize-=this.sizes[R],this.requireSize=(R,O,B,C)=>{if(!E(B))if(C){if(typeof C!="function")throw new TypeError("sizeCalculation must be a function");if(B=C(O,R),!E(B))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return B},this.addItemSize=(R,O,B,C)=>{this.sizes[R]=C;let U=this.maxSize-this.sizes[R];for(;this.calculatedSize>U;)this.evict(!0);this.calculatedSize+=this.sizes[R]}}removeItemSize(R){}addItemSize(R,O,B,C){}requireSize(R,O,B,C){if(B||C)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:R=this.allowStale}={}){if(this.size)for(let O=this.tail;!(!this.isValidIndex(O)||((R||!this.isStale(O))&&(yield O),O===this.head));)O=this.prev[O]}*rindexes({allowStale:R=this.allowStale}={}){if(this.size)for(let O=this.head;!(!this.isValidIndex(O)||((R||!this.isStale(O))&&(yield O),O===this.tail));)O=this.next[O]}isValidIndex(R){return this.keyMap.get(this.keyList[R])===R}*entries(){for(let R of this.indexes())yield[this.keyList[R],this.valList[R]]}*rentries(){for(let R of this.rindexes())yield[this.keyList[R],this.valList[R]]}*keys(){for(let R of this.indexes())yield this.keyList[R]}*rkeys(){for(let R of this.rindexes())yield this.keyList[R]}*values(){for(let R of this.indexes())yield this.valList[R]}*rvalues(){for(let R of this.rindexes())yield this.valList[R]}[Symbol.iterator](){return this.entries()}find(R,O={}){for(let B of this.indexes())if(R(this.valList[B],this.keyList[B],this))return this.get(this.keyList[B],O)}forEach(R,O=this){for(let B of this.indexes())R.call(O,this.valList[B],this.keyList[B],this)}rforEach(R,O=this){for(let B of this.rindexes())R.call(O,this.valList[B],this.keyList[B],this)}get prune(){return u("prune","purgeStale"),this.purgeStale}purgeStale(){let R=!1;for(let O of this.rindexes({allowStale:!0}))this.isStale(O)&&(this.delete(this.keyList[O]),R=!0);return R}dump(){let R=[];for(let O of this.indexes({allowStale:!0})){let B=this.keyList[O],C=this.valList[O],U={value:this.isBackgroundFetch(C)?C.__staleWhileFetching:C};if(this.ttls){U.ttl=this.ttls[O];let W=r.now()-this.starts[O];U.start=Math.floor(Date.now()-W)}this.sizes&&(U.size=this.sizes[O]),R.unshift([B,U])}return R}load(R){this.clear();for(let[O,B]of R){if(B.start){let C=Date.now()-B.start;B.start=r.now()-C}this.set(O,B.value,B)}}dispose(R,O,B){}set(R,O,{ttl:B=this.ttl,start:C,noDisposeOnSet:U=this.noDisposeOnSet,size:W=0,sizeCalculation:L=this.sizeCalculation,noUpdateTTL:j=this.noUpdateTTL}={}){W=this.requireSize(R,O,W,L);let k=this.size===0?void 0:this.keyMap.get(R);if(k===void 0)k=this.newIndex(),this.keyList[k]=R,this.valList[k]=O,this.keyMap.set(R,k),this.next[this.tail]=k,this.prev[k]=this.tail,this.tail=k,this.size++,this.addItemSize(k,O,R,W),j=!1;else{let P=this.valList[k];O!==P&&(this.isBackgroundFetch(P)?P.__abortController.abort():U||(this.dispose(P,R,"set"),this.disposeAfter&&this.disposed.push([P,R,"set"])),this.removeItemSize(k),this.valList[k]=O,this.addItemSize(k,O,R,W)),this.moveToTail(k)}if(B!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),j||this.setItemTTL(k,B,C),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let R=this.valList[this.head];return this.evict(!0),R}}evict(R){let O=this.head,B=this.keyList[O],C=this.valList[O];return this.isBackgroundFetch(C)?C.__abortController.abort():(this.dispose(C,B,"evict"),this.disposeAfter&&this.disposed.push([C,B,"evict"])),this.removeItemSize(O),R&&(this.keyList[O]=null,this.valList[O]=null,this.free.push(O)),this.head=this.next[O],this.keyMap.delete(B),this.size--,O}has(R,{updateAgeOnHas:O=this.updateAgeOnHas}={}){let B=this.keyMap.get(R);return B!==void 0&&!this.isStale(B)?(O&&this.updateItemAge(B),!0):!1}peek(R,{allowStale:O=this.allowStale}={}){let B=this.keyMap.get(R);if(B!==void 0&&(O||!this.isStale(B)))return this.valList[B]}backgroundFetch(R,O,B,C){let U=O===void 0?void 0:this.valList[O];if(this.isBackgroundFetch(U))return U;let W=new n,L={signal:W.signal,options:B,context:C},j=d=>(W.signal.aborted||this.set(R,d,L.options),d),k=d=>{if(this.valList[O]===p&&(!B.noDeleteOnFetchRejection||p.__staleWhileFetching===void 0?this.delete(R):this.valList[O]=p.__staleWhileFetching),p.__returned===p)throw d},P=d=>d(this.fetchMethod(R,U,L)),p=new Promise(P).then(j,k);return p.__abortController=W,p.__staleWhileFetching=U,p.__returned=null,O===void 0?(this.set(R,p,L.options),O=this.keyMap.get(R)):this.valList[O]=p,p}isBackgroundFetch(R){return R&&typeof R=="object"&&typeof R.then=="function"&&Object.prototype.hasOwnProperty.call(R,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(R,"__returned")&&(R.__returned===R||R.__returned===null)}async fetch(R,{allowStale:O=this.allowStale,updateAgeOnGet:B=this.updateAgeOnGet,noDeleteOnStaleGet:C=this.noDeleteOnStaleGet,ttl:U=this.ttl,noDisposeOnSet:W=this.noDisposeOnSet,size:L=0,sizeCalculation:j=this.sizeCalculation,noUpdateTTL:k=this.noUpdateTTL,noDeleteOnFetchRejection:P=this.noDeleteOnFetchRejection,fetchContext:p=this.fetchContext}={}){if(!this.fetchMethod)return this.get(R,{allowStale:O,updateAgeOnGet:B,noDeleteOnStaleGet:C});let d={allowStale:O,updateAgeOnGet:B,noDeleteOnStaleGet:C,ttl:U,noDisposeOnSet:W,size:L,sizeCalculation:j,noUpdateTTL:k,noDeleteOnFetchRejection:P},h=this.keyMap.get(R);if(h===void 0){let b=this.backgroundFetch(R,h,d,p);return b.__returned=b}else{let b=this.valList[h];if(this.isBackgroundFetch(b))return O&&b.__staleWhileFetching!==void 0?b.__staleWhileFetching:b.__returned=b;if(!this.isStale(h))return this.moveToTail(h),B&&this.updateItemAge(h),b;let v=this.backgroundFetch(R,h,d,p);return O&&v.__staleWhileFetching!==void 0?v.__staleWhileFetching:v.__returned=v}}get(R,{allowStale:O=this.allowStale,updateAgeOnGet:B=this.updateAgeOnGet,noDeleteOnStaleGet:C=this.noDeleteOnStaleGet}={}){let U=this.keyMap.get(R);if(U!==void 0){let W=this.valList[U],L=this.isBackgroundFetch(W);return this.isStale(U)?L?O?W.__staleWhileFetching:void 0:(C||this.delete(R),O?W:void 0):L?void 0:(this.moveToTail(U),B&&this.updateItemAge(U),W)}}connect(R,O){this.prev[O]=R,this.next[R]=O}moveToTail(R){R!==this.tail&&(R===this.head?this.head=this.next[R]:this.connect(this.prev[R],this.next[R]),this.connect(this.tail,R),this.tail=R)}get del(){return u("del","delete"),this.delete}delete(R){let O=!1;if(this.size!==0){let B=this.keyMap.get(R);if(B!==void 0)if(O=!0,this.size===1)this.clear();else{this.removeItemSize(B);let C=this.valList[B];this.isBackgroundFetch(C)?C.__abortController.abort():(this.dispose(C,R,"delete"),this.disposeAfter&&this.disposed.push([C,R,"delete"])),this.keyMap.delete(R),this.keyList[B]=null,this.valList[B]=null,B===this.tail?this.tail=this.prev[B]:B===this.head?this.head=this.next[B]:(this.next[this.prev[B]]=this.next[B],this.prev[this.next[B]]=this.prev[B]),this.size--,this.free.push(B)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return O}clear(){for(let R of this.rindexes({allowStale:!0})){let O=this.valList[R];if(this.isBackgroundFetch(O))O.__abortController.abort();else{let B=this.keyList[R];this.dispose(O,B,"delete"),this.disposeAfter&&this.disposed.push([O,B,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return u("reset","clear"),this.clear}get length(){return l("length","size"),this.size}static get AbortController(){return n}static get AbortSignal(){return a}};e.exports=I}),jqe=he((t,e)=>{ee(),e.exports=o;var r=128,i=127,n=~i,s=Math.pow(2,31);function o(a,f,c){if(Number.MAX_SAFE_INTEGER&&a>Number.MAX_SAFE_INTEGER)throw o.bytes=0,new RangeError("Could not encode varint");f=f||[],c=c||0;for(var u=c;a>=s;)f[c++]=a&255|r,a/=128;for(;a&n;)f[c++]=a&255|r,a>>>=7;return f[c]=a|0,o.bytes=c-u+1,f}}),Lqe=he((t,e)=>{ee(),e.exports=n;var r=128,i=127;function n(s,f){var a=0,f=f||0,c=0,u=f,l,y=s.length;do{if(u>=y||c>49)throw n.bytes=0,new RangeError("Could not decode varint");l=s[u++],a+=c<28?(l&i)<<c:(l&i)*Math.pow(2,c),c+=7}while(l>=r);return n.bytes=u-f,a}}),Nqe=he((t,e)=>{ee();var r=Math.pow(2,7),i=Math.pow(2,14),n=Math.pow(2,21),s=Math.pow(2,28),o=Math.pow(2,35),a=Math.pow(2,42),f=Math.pow(2,49),c=Math.pow(2,56),u=Math.pow(2,63);e.exports=function(l){return l<r?1:l<i?2:l<n?3:l<s?4:l<o?5:l<a?6:l<f?7:l<c?8:l<u?9:10}}),qqe=he((t,e)=>{ee(),e.exports={encode:jqe(),decode:Lqe(),encodingLength:Nqe()}}),zqe=he((t,e)=>{ee();var r=typeof self<"u"?self:t,i=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){var o=function(a){var f={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function c(d){return d&&DataView.prototype.isPrototypeOf(d)}if(f.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(d){return d&&u.indexOf(Object.prototype.toString.call(d))>-1};function y(d){if(typeof d!="string"&&(d=String(d)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(d))throw new TypeError("Invalid character in header field name");return d.toLowerCase()}function m(d){return typeof d!="string"&&(d=String(d)),d}function g(d){var h={next:function(){var b=d.shift();return{done:b===void 0,value:b}}};return f.iterable&&(h[Symbol.iterator]=function(){return h}),h}function E(d){this.map={},d instanceof E?d.forEach(function(h,b){this.append(b,h)},this):Array.isArray(d)?d.forEach(function(h){this.append(h[0],h[1])},this):d&&Object.getOwnPropertyNames(d).forEach(function(h){this.append(h,d[h])},this)}E.prototype.append=function(d,h){d=y(d),h=m(h);var b=this.map[d];this.map[d]=b?b+", "+h:h},E.prototype.delete=function(d){delete this.map[y(d)]},E.prototype.get=function(d){return d=y(d),this.has(d)?this.map[d]:null},E.prototype.has=function(d){return this.map.hasOwnProperty(y(d))},E.prototype.set=function(d,h){this.map[y(d)]=m(h)},E.prototype.forEach=function(d,h){for(var b in this.map)this.map.hasOwnProperty(b)&&d.call(h,this.map[b],b,this)},E.prototype.keys=function(){var d=[];return this.forEach(function(h,b){d.push(b)}),g(d)},E.prototype.values=function(){var d=[];return this.forEach(function(h){d.push(h)}),g(d)},E.prototype.entries=function(){var d=[];return this.forEach(function(h,b){d.push([b,h])}),g(d)},f.iterable&&(E.prototype[Symbol.iterator]=E.prototype.entries);function x(d){if(d.bodyUsed)return Promise.reject(new TypeError("Already read"));d.bodyUsed=!0}function T(d){return new Promise(function(h,b){d.onload=function(){h(d.result)},d.onerror=function(){b(d.error)}})}function M(d){var h=new FileReader,b=T(h);return h.readAsArrayBuffer(d),b}function I(d){var h=new FileReader,b=T(h);return h.readAsText(d),b}function R(d){for(var h=new Uint8Array(d),b=new Array(h.length),v=0;v<h.length;v++)b[v]=String.fromCharCode(h[v]);return b.join("")}function O(d){if(d.slice)return d.slice(0);var h=new Uint8Array(d.byteLength);return h.set(new Uint8Array(d)),h.buffer}function B(){return this.bodyUsed=!1,this._initBody=function(d){this._bodyInit=d,d?typeof d=="string"?this._bodyText=d:f.blob&&Blob.prototype.isPrototypeOf(d)?this._bodyBlob=d:f.formData&&FormData.prototype.isPrototypeOf(d)?this._bodyFormData=d:f.searchParams&&URLSearchParams.prototype.isPrototypeOf(d)?this._bodyText=d.toString():f.arrayBuffer&&f.blob&&c(d)?(this._bodyArrayBuffer=O(d.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(d)||l(d))?this._bodyArrayBuffer=O(d):this._bodyText=d=Object.prototype.toString.call(d):this._bodyText="",this.headers.get("content-type")||(typeof d=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f.searchParams&&URLSearchParams.prototype.isPrototypeOf(d)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f.blob&&(this.blob=function(){var d=x(this);if(d)return d;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?x(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(M)}),this.text=function(){var d=x(this);if(d)return d;if(this._bodyBlob)return I(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(R(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},f.formData&&(this.formData=function(){return this.text().then(L)}),this.json=function(){return this.text().then(JSON.parse)},this}var C=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function U(d){var h=d.toUpperCase();return C.indexOf(h)>-1?h:d}function W(d,h){h=h||{};var b=h.body;if(d instanceof W){if(d.bodyUsed)throw new TypeError("Already read");this.url=d.url,this.credentials=d.credentials,h.headers||(this.headers=new E(d.headers)),this.method=d.method,this.mode=d.mode,this.signal=d.signal,!b&&d._bodyInit!=null&&(b=d._bodyInit,d.bodyUsed=!0)}else this.url=String(d);if(this.credentials=h.credentials||this.credentials||"same-origin",(h.headers||!this.headers)&&(this.headers=new E(h.headers)),this.method=U(h.method||this.method||"GET"),this.mode=h.mode||this.mode||null,this.signal=h.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&b)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(b)}W.prototype.clone=function(){return new W(this,{body:this._bodyInit})};function L(d){var h=new FormData;return d.trim().split("&").forEach(function(b){if(b){var v=b.split("="),w=v.shift().replace(/\+/g," "),_=v.join("=").replace(/\+/g," ");h.append(decodeURIComponent(w),decodeURIComponent(_))}}),h}function j(d){var h=new E,b=d.replace(/\r?\n[\t ]+/g," ");return b.split(/\r?\n/).forEach(function(v){var w=v.split(":"),_=w.shift().trim();if(_){var D=w.join(":").trim();h.append(_,D)}}),h}B.call(W.prototype);function k(d,h){h||(h={}),this.type="default",this.status=h.status===void 0?200:h.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in h?h.statusText:"OK",this.headers=new E(h.headers),this.url=h.url||"",this._initBody(d)}B.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new E(this.headers),url:this.url})},k.error=function(){var d=new k(null,{status:0,statusText:""});return d.type="error",d};var P=[301,302,303,307,308];k.redirect=function(d,h){if(P.indexOf(h)===-1)throw new RangeError("Invalid status code");return new k(null,{status:h,headers:{location:d}})},a.DOMException=s.DOMException;try{new a.DOMException}catch{a.DOMException=function(d,h){this.message=d,this.name=h;var b=Error(d);this.stack=b.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function p(d,h){return new Promise(function(b,v){var w=new W(d,h);if(w.signal&&w.signal.aborted)return v(new a.DOMException("Aborted","AbortError"));var _=new XMLHttpRequest;function D(){_.abort()}_.onload=function(){var S={status:_.status,statusText:_.statusText,headers:j(_.getAllResponseHeaders()||"")};S.url="responseURL"in _?_.responseURL:S.headers.get("X-Request-URL");var A="response"in _?_.response:_.responseText;b(new k(A,S))},_.onerror=function(){v(new TypeError("Network request failed"))},_.ontimeout=function(){v(new TypeError("Network request failed"))},_.onabort=function(){v(new a.DOMException("Aborted","AbortError"))},_.open(w.method,w.url,!0),w.credentials==="include"?_.withCredentials=!0:w.credentials==="omit"&&(_.withCredentials=!1),"responseType"in _&&f.blob&&(_.responseType="blob"),w.headers.forEach(function(S,A){_.setRequestHeader(A,S)}),w.signal&&(w.signal.addEventListener("abort",D),_.onreadystatechange=function(){_.readyState===4&&w.signal.removeEventListener("abort",D)}),_.send(typeof w._bodyInit>"u"?null:w._bodyInit)})}return p.polyfill=!0,s.fetch||(s.fetch=p,s.Headers=E,s.Request=W,s.Response=k),a.Headers=E,a.Request=W,a.Response=k,a.fetch=p,Object.defineProperty(a,"__esModule",{value:!0}),a}({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var n=i;t=n.fetch,t.default=n.fetch,t.fetch=n.fetch,t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response,e.exports=t}),Fqe=he(t=>{"use strict";ee();var e=I_().ec,r=new e("secp256k1"),i=globalThis.crypto||globalThis.msCrypto||{},n=i.subtle||i.webkitSubtle,s=iv(),o=Rt.Buffer.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),a=Rt.Buffer.alloc(32,0);function f(B,C){if(!B)throw new Error(C||"Assertion failed")}function c(B){return Rt.Buffer.isBuffer(B)&&B.length===32}function u(B){return c(B)?B.compare(a)>0&&B.compare(o)<0:!1}function l(B,C){if(B.length!==C.length)return!1;for(var U=0,W=0;W<B.length;W++)U|=B[W]^C[W];return U===0}function y(B){var C=new Uint8Array(B);return typeof i.getRandomValues>"u"?Rt.Buffer.from(s.randomBytes(B)):(i.getRandomValues(C),Rt.Buffer.from(C))}function m(B){return new Promise(function(C){var U=s.createHash("sha512"),W=U.update(B).digest();C(new Uint8Array(W))})}function g(B){return function(C,U,W){return new Promise(function(L){if(n){var j={name:"AES-CBC"},k=n.importKey("raw",U,j,!1,[B]);return k.then(function(d){var h={name:"AES-CBC",iv:C};return n[B](h,d,W)}).then(function(d){L(Rt.Buffer.from(new Uint8Array(d)))})}else if(B==="encrypt"){var P=s.createCipheriv("aes-256-cbc",U,C);let d=P.update(W),h=P.final();L(Rt.Buffer.concat([d,h]))}else if(B==="decrypt"){var p=s.createDecipheriv("aes-256-cbc",U,C);let d=p.update(W),h=p.final();L(Rt.Buffer.concat([d,h]))}})}}var E=g("encrypt"),x=g("decrypt");function T(B,C){return new Promise(function(U){var W=s.createHmac("sha256",Rt.Buffer.from(B));W.update(C);var L=W.digest();U(L)})}function M(B,C,U){return new Promise(function(W){var L=s.createHmac("sha256",Rt.Buffer.from(B));L.update(C);var j=L.digest();W(l(j,U))})}t.generatePrivate=function(){for(var B=y(32);!u(B);)B=y(32);return B};var I=t.getPublic=function(B){return f(B.length===32,"Bad private key"),f(u(B),"Bad private key"),Rt.Buffer.from(r.keyFromPrivate(B).getPublic("arr"))},R=t.getPublicCompressed=function(B){f(B.length===32,"Bad private key"),f(u(B),"Bad private key");let C=!0;return Rt.Buffer.from(r.keyFromPrivate(B).getPublic(C,"arr"))};t.sign=function(B,C){return new Promise(function(U){f(B.length===32,"Bad private key"),f(u(B),"Bad private key"),f(C.length>0,"Message should not be empty"),f(C.length<=32,"Message is too long"),U(Rt.Buffer.from(r.sign(C,B,{canonical:!0}).toDER()))})},t.verify=function(B,C,U){return new Promise(function(W,L){f(B.length===65||B.length===33,"Bad public key"),B.length===65&&f(B[0]===4,"Bad public key"),B.length===33&&f(B[0]===2||B[0]===3,"Bad public key"),f(C.length>0,"Message should not be empty"),f(C.length<=32,"Message is too long"),r.verify(C,U,B)?W(null):L(new Error("Bad signature"))})};var O=t.derive=function(B,C){return new Promise(function(U){f(Rt.Buffer.isBuffer(B),"Bad private key"),f(Rt.Buffer.isBuffer(C),"Bad public key"),f(B.length===32,"Bad private key"),f(u(B),"Bad private key"),f(C.length===65||C.length===33,"Bad public key"),C.length===65&&f(C[0]===4,"Bad public key"),C.length===33&&f(C[0]===2||C[0]===3,"Bad public key");var W=r.keyFromPrivate(B),L=r.keyFromPublic(C),j=W.derive(L.getPublic());U(Rt.Buffer.from(j.toArray()))})};t.encrypt=function(B,C,U){U=U||{};var W,L,j,k;return new Promise(function(P){for(var p=U.ephemPrivateKey||y(32);!u(p);)p=U.ephemPrivateKey||y(32);L=I(p),P(O(p,B))}).then(function(P){return m(P)}).then(function(P){W=U.iv||y(16);var p=P.slice(0,32);return k=P.slice(32),E(W,p,C)}).then(function(P){j=P;var p=Rt.Buffer.concat([W,L,j]);return T(k,p)}).then(function(P){return{iv:W,ephemPublicKey:L,ciphertext:j,mac:P}})},t.decrypt=function(B,C){var U;return O(B,C.ephemPublicKey).then(function(W){return m(W)}).then(function(W){U=W.slice(0,32);var L=W.slice(32),j=Rt.Buffer.concat([C.iv,C.ephemPublicKey,C.ciphertext]);return M(L,j,C.mac)}).then(function(W){return f(W,"Bad MAC"),x(C.iv,U,C.ciphertext)}).then(function(W){return Rt.Buffer.from(new Uint8Array(W))})}});ee();ee();var Uqe=class{async isTenant(t){return!0}};ee();var D9={};wi(D9,{code:()=>Jj,decode:()=>sUe,encode:()=>oUe,name:()=>nUe});ee();ee();ee();ee();var $qe=["string","number","bigint","symbol"],Vqe=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function Kqe(t){if(t===null)return"null";if(t===void 0)return"undefined";if(t===!0||t===!1)return"boolean";let e=typeof t;return $qe.includes(e)?e:e==="function"?"Function":Array.isArray(t)?"Array":Hqe(t)?"Buffer":Wqe(t)||"Object"}function Hqe(t){return t&&t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer.call(null,t)}function Wqe(t){let e=Object.prototype.toString.call(t).slice(8,-1);if(Vqe.includes(e))return e}ee();var Ne=class{constructor(t,e,r){this.major=t,this.majorEncoded=t<<5,this.name=e,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}};Ne.uint=new Ne(0,"uint",!0);Ne.negint=new Ne(1,"negint",!0);Ne.bytes=new Ne(2,"bytes",!0);Ne.string=new Ne(3,"string",!0);Ne.array=new Ne(4,"array",!1);Ne.map=new Ne(5,"map",!1);Ne.tag=new Ne(6,"tag",!1);Ne.float=new Ne(7,"float",!0);Ne.false=new Ne(7,"false",!0);Ne.true=new Ne(7,"true",!0);Ne.null=new Ne(7,"null",!0);Ne.undefined=new Ne(7,"undefined",!0);Ne.break=new Ne(7,"break",!0);var Bt=class{constructor(t,e,r){this.type=t,this.value=e,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};ee();ee();var nv=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",Yqe=new TextDecoder,Zqe=new TextEncoder;function I9(t){return nv&&globalThis.Buffer.isBuffer(t)}function nhe(t){return t instanceof Uint8Array?I9(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t:Uint8Array.from(t)}var Gqe=nv?(t,e,r)=>r-e>64?globalThis.Buffer.from(t.subarray(e,r)).toString("utf8"):_fe(t,e,r):(t,e,r)=>r-e>64?Yqe.decode(t.subarray(e,r)):_fe(t,e,r),Jqe=nv?t=>t.length>64?globalThis.Buffer.from(t):wfe(t):t=>t.length>64?Zqe.encode(t):wfe(t),kd=t=>Uint8Array.from(t),qj=nv?(t,e,r)=>I9(t)?new Uint8Array(t.subarray(e,r)):t.slice(e,r):(t,e,r)=>t.slice(e,r),Xqe=nv?(t,e)=>(t=t.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),nhe(globalThis.Buffer.concat(t,e))):(t,e)=>{let r=new Uint8Array(e),i=0;for(let n of t)i+n.length>r.length&&(n=n.subarray(0,r.length-i)),r.set(n,i),i+=n.length;return r},Qqe=nv?t=>globalThis.Buffer.allocUnsafe(t):t=>new Uint8Array(t);function eze(t,e){if(I9(t)&&I9(e))return t.compare(e);for(let r=0;r<t.length;r++)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function wfe(t,e=1/0){let r,i=t.length,n=null,s=[];for(let o=0;o<i;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function _fe(t,e,r){let i=[];for(;e<r;){let n=t[e],s=null,o=n>239?4:n>223?3:n>191?2:1;if(e+o<=r){let a,f,c,u;switch(o){case 1:n<128&&(s=n);break;case 2:a=t[e+1],(a&192)===128&&(u=(n&31)<<6|a&63,u>127&&(s=u));break;case 3:a=t[e+1],f=t[e+2],(a&192)===128&&(f&192)===128&&(u=(n&15)<<12|(a&63)<<6|f&63,u>2047&&(u<55296||u>57343)&&(s=u));break;case 4:a=t[e+1],f=t[e+2],c=t[e+3],(a&192)===128&&(f&192)===128&&(c&192)===128&&(u=(n&15)<<18|(a&63)<<12|(f&63)<<6|c&63,u>65535&&u<1114112&&(s=u))}}s===null?(s=65533,o=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|s&1023),i.push(s),e+=o}return tze(i)}var Efe=4096;function tze(t){let e=t.length;if(e<=Efe)return String.fromCharCode.apply(String,t);let r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=Efe));return r}var rze=256,ohe=class{constructor(t=rze){this.chunkSize=t,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(t){let e=this.chunks[this.chunks.length-1];if(this.cursor+t.length<=this.maxCursor+1){let r=e.length-(this.maxCursor-this.cursor)-1;e.set(t,r)}else{if(e){let r=e.length-(this.maxCursor-this.cursor)-1;r<e.length&&(this.chunks[this.chunks.length-1]=e.subarray(0,r),this.maxCursor=this.cursor-1)}t.length<64&&t.length<this.chunkSize?(e=Qqe(this.chunkSize),this.chunks.push(e),this.maxCursor+=e.length,this._initReuseChunk===null&&(this._initReuseChunk=e),e.set(t,0)):(this.chunks.push(t),this.maxCursor+=t.length)}this.cursor+=t.length}toBytes(t=!1){let e;if(this.chunks.length===1){let r=this.chunks[0];t&&this.cursor>r.length/2?(e=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):e=qj(r,0,this.cursor)}else e=Xqe(this.chunks,this.cursor);return t&&this.reset(),e}};ee();var zr="CBOR decode error:",she="CBOR encode error:",R_=[];R_[23]=1;R_[24]=2;R_[25]=3;R_[26]=5;R_[27]=9;function ov(t,e,r){if(t.length-e<r)throw new Error(`${zr} not enough data for type`)}ee();ee();var Ns=[24,256,65536,4294967296,BigInt("18446744073709551616")];function xm(t,e,r){ov(t,e,1);let i=t[e];if(r.strict===!0&&i<Ns[0])throw new Error(`${zr} integer encoded in more bytes than necessary (strict decode)`);return i}function Am(t,e,r){ov(t,e,2);let i=t[e]<<8|t[e+1];if(r.strict===!0&&i<Ns[1])throw new Error(`${zr} integer encoded in more bytes than necessary (strict decode)`);return i}function Mm(t,e,r){ov(t,e,4);let i=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];if(r.strict===!0&&i<Ns[2])throw new Error(`${zr} integer encoded in more bytes than necessary (strict decode)`);return i}function km(t,e,r){ov(t,e,8);let i=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3],n=t[e+4]*16777216+(t[e+5]<<16)+(t[e+6]<<8)+t[e+7],s=(BigInt(i)<<BigInt(32))+BigInt(n);if(r.strict===!0&&s<Ns[3])throw new Error(`${zr} integer encoded in more bytes than necessary (strict decode)`);if(s<=Number.MAX_SAFE_INTEGER)return Number(s);if(r.allowBigInt===!0)return s;throw new Error(`${zr} integers outside of the safe integer range are not supported`)}function ize(t,e,r,i){return new Bt(Ne.uint,xm(t,e+1,i),2)}function nze(t,e,r,i){return new Bt(Ne.uint,Am(t,e+1,i),3)}function oze(t,e,r,i){return new Bt(Ne.uint,Mm(t,e+1,i),5)}function sze(t,e,r,i){return new Bt(Ne.uint,km(t,e+1,i),9)}function Tm(t,e){return du(t,0,e.value)}function du(t,e,r){if(r<Ns[0]){let i=Number(r);t.push([e|i])}else if(r<Ns[1]){let i=Number(r);t.push([e|24,i])}else if(r<Ns[2]){let i=Number(r);t.push([e|25,i>>>8,i&255])}else if(r<Ns[3]){let i=Number(r);t.push([e|26,i>>>24&255,i>>>16&255,i>>>8&255,i&255])}else{let i=BigInt(r);if(i<Ns[4]){let n=[e|27,0,0,0,0,0,0,0],s=Number(i&BigInt(4294967295)),o=Number(i>>BigInt(32)&BigInt(4294967295));n[8]=s&255,s=s>>8,n[7]=s&255,s=s>>8,n[6]=s&255,s=s>>8,n[5]=s&255,n[4]=o&255,o=o>>8,n[3]=o&255,o=o>>8,n[2]=o&255,o=o>>8,n[1]=o&255,t.push(n)}else throw new Error(`${zr} encountered BigInt larger than allowable range`)}}Tm.encodedSize=function(t){return du.encodedSize(t.value)};du.encodedSize=function(t){return t<Ns[0]?1:t<Ns[1]?2:t<Ns[2]?3:t<Ns[3]?5:9};Tm.compareTokens=function(t,e){return t.value<e.value?-1:t.value>e.value?1:0};ee();function aze(t,e,r,i){return new Bt(Ne.negint,-1-xm(t,e+1,i),2)}function fze(t,e,r,i){return new Bt(Ne.negint,-1-Am(t,e+1,i),3)}function uze(t,e,r,i){return new Bt(Ne.negint,-1-Mm(t,e+1,i),5)}var zj=BigInt(-1),ahe=BigInt(1);function cze(t,e,r,i){let n=km(t,e+1,i);if(typeof n!="bigint"){let s=-1-n;if(s>=Number.MIN_SAFE_INTEGER)return new Bt(Ne.negint,s,9)}if(i.allowBigInt!==!0)throw new Error(`${zr} integers outside of the safe integer range are not supported`);return new Bt(Ne.negint,zj-BigInt(n),9)}function Fj(t,e){let r=e.value,i=typeof r=="bigint"?r*zj-ahe:r*-1-1;du(t,e.type.majorEncoded,i)}Fj.encodedSize=function(t){let e=t.value,r=typeof e=="bigint"?e*zj-ahe:e*-1-1;return r<Ns[0]?1:r<Ns[1]?2:r<Ns[2]?3:r<Ns[3]?5:9};Fj.compareTokens=function(t,e){return t.value<e.value?1:t.value>e.value?-1:0};ee();function B_(t,e,r,i){ov(t,e,r+i);let n=qj(t,e+r,e+r+i);return new Bt(Ne.bytes,n,r+i)}function lze(t,e,r,i){return B_(t,e,1,r)}function dze(t,e,r,i){return B_(t,e,2,xm(t,e+1,i))}function hze(t,e,r,i){return B_(t,e,3,Am(t,e+1,i))}function pze(t,e,r,i){return B_(t,e,5,Mm(t,e+1,i))}function yze(t,e,r,i){let n=km(t,e+1,i);if(typeof n=="bigint")throw new Error(`${zr} 64-bit integer bytes lengths not supported`);return B_(t,e,9,n)}function R9(t){return t.encodedBytes===void 0&&(t.encodedBytes=t.type===Ne.string?Jqe(t.value):t.value),t.encodedBytes}function kS(t,e){let r=R9(e);du(t,e.type.majorEncoded,r.length),t.push(r)}kS.encodedSize=function(t){let e=R9(t);return du.encodedSize(e.length)+e.length};kS.compareTokens=function(t,e){return mze(R9(t),R9(e))};function mze(t,e){return t.length<e.length?-1:t.length>e.length?1:eze(t,e)}ee();function C_(t,e,r,i,n){let s=r+i;ov(t,e,s);let o=new Bt(Ne.string,Gqe(t,e+r,e+s),s);return n.retainStringBytes===!0&&(o.byteValue=qj(t,e+r,e+s)),o}function gze(t,e,r,i){return C_(t,e,1,r,i)}function bze(t,e,r,i){return C_(t,e,2,xm(t,e+1,i),i)}function vze(t,e,r,i){return C_(t,e,3,Am(t,e+1,i),i)}function wze(t,e,r,i){return C_(t,e,5,Mm(t,e+1,i),i)}function _ze(t,e,r,i){let n=km(t,e+1,i);if(typeof n=="bigint")throw new Error(`${zr} 64-bit integer string lengths not supported`);return C_(t,e,9,n,i)}var Eze=kS;ee();function sv(t,e,r,i){return new Bt(Ne.array,i,r)}function Sze(t,e,r,i){return sv(t,e,1,r)}function xze(t,e,r,i){return sv(t,e,2,xm(t,e+1,i))}function Aze(t,e,r,i){return sv(t,e,3,Am(t,e+1,i))}function Mze(t,e,r,i){return sv(t,e,5,Mm(t,e+1,i))}function kze(t,e,r,i){let n=km(t,e+1,i);if(typeof n=="bigint")throw new Error(`${zr} 64-bit integer array lengths not supported`);return sv(t,e,9,n)}function Tze(t,e,r,i){if(i.allowIndefinite===!1)throw new Error(`${zr} indefinite length items not allowed`);return sv(t,e,1,1/0)}function Uj(t,e){du(t,Ne.array.majorEncoded,e.value)}Uj.compareTokens=Tm.compareTokens;Uj.encodedSize=function(t){return du.encodedSize(t.value)};ee();function av(t,e,r,i){return new Bt(Ne.map,i,r)}function Pze(t,e,r,i){return av(t,e,1,r)}function Dze(t,e,r,i){return av(t,e,2,xm(t,e+1,i))}function Ize(t,e,r,i){return av(t,e,3,Am(t,e+1,i))}function Rze(t,e,r,i){return av(t,e,5,Mm(t,e+1,i))}function Bze(t,e,r,i){let n=km(t,e+1,i);if(typeof n=="bigint")throw new Error(`${zr} 64-bit integer map lengths not supported`);return av(t,e,9,n)}function Cze(t,e,r,i){if(i.allowIndefinite===!1)throw new Error(`${zr} indefinite length items not allowed`);return av(t,e,1,1/0)}function $j(t,e){du(t,Ne.map.majorEncoded,e.value)}$j.compareTokens=Tm.compareTokens;$j.encodedSize=function(t){return du.encodedSize(t.value)};ee();function Oze(t,e,r,i){return new Bt(Ne.tag,r,1)}function jze(t,e,r,i){return new Bt(Ne.tag,xm(t,e+1,i),2)}function Lze(t,e,r,i){return new Bt(Ne.tag,Am(t,e+1,i),3)}function Nze(t,e,r,i){return new Bt(Ne.tag,Mm(t,e+1,i),5)}function qze(t,e,r,i){return new Bt(Ne.tag,km(t,e+1,i),9)}function Vj(t,e){du(t,Ne.tag.majorEncoded,e.value)}Vj.compareTokens=Tm.compareTokens;Vj.encodedSize=function(t){return du.encodedSize(t.value)};ee();var zze=20,Fze=21,Uze=22,$ze=23;function Vze(t,e,r,i){if(i.allowUndefined===!1)throw new Error(`${zr} undefined values are not supported`);return i.coerceUndefinedToNull===!0?new Bt(Ne.null,null,1):new Bt(Ne.undefined,void 0,1)}function Kze(t,e,r,i){if(i.allowIndefinite===!1)throw new Error(`${zr} indefinite length items not allowed`);return new Bt(Ne.break,void 0,1)}function Kj(t,e,r){if(r){if(r.allowNaN===!1&&Number.isNaN(t))throw new Error(`${zr} NaN values are not supported`);if(r.allowInfinity===!1&&(t===1/0||t===-1/0))throw new Error(`${zr} Infinity values are not supported`)}return new Bt(Ne.float,t,e)}function Hze(t,e,r,i){return Kj(Wj(t,e+1),3,i)}function Wze(t,e,r,i){return Kj(Yj(t,e+1),5,i)}function Yze(t,e,r,i){return Kj(lhe(t,e+1),9,i)}function Hj(t,e,r){let i=e.value;if(i===!1)t.push([Ne.float.majorEncoded|zze]);else if(i===!0)t.push([Ne.float.majorEncoded|Fze]);else if(i===null)t.push([Ne.float.majorEncoded|Uze]);else if(i===void 0)t.push([Ne.float.majorEncoded|$ze]);else{let n,s=!1;(!r||r.float64!==!0)&&(uhe(i),n=Wj(Zu,1),i===n||Number.isNaN(i)?(Zu[0]=249,t.push(Zu.slice(0,3)),s=!0):(che(i),n=Yj(Zu,1),i===n&&(Zu[0]=250,t.push(Zu.slice(0,5)),s=!0))),s||(Zze(i),n=lhe(Zu,1),Zu[0]=251,t.push(Zu.slice(0,9)))}}Hj.encodedSize=function(t,e){let r=t.value;if(r===!1||r===!0||r===null||r===void 0)return 1;if(!e||e.float64!==!0){uhe(r);let i=Wj(Zu,1);if(r===i||Number.isNaN(r))return 3;if(che(r),i=Yj(Zu,1),r===i)return 5}return 9};var fhe=new ArrayBuffer(9),fu=new DataView(fhe,1),Zu=new Uint8Array(fhe,0);function uhe(t){if(t===1/0)fu.setUint16(0,31744,!1);else if(t===-1/0)fu.setUint16(0,64512,!1);else if(Number.isNaN(t))fu.setUint16(0,32256,!1);else{fu.setFloat32(0,t);let e=fu.getUint32(0),r=(e&2139095040)>>23,i=e&8388607;if(r===255)fu.setUint16(0,31744,!1);else if(r===0)fu.setUint16(0,(t&2147483648)>>16|i>>13,!1);else{let n=r-127;n<-24?fu.setUint16(0,0):n<-14?fu.setUint16(0,(e&2147483648)>>16|1<<24+n,!1):fu.setUint16(0,(e&2147483648)>>16|n+15<<10|i>>13,!1)}}}function Wj(t,e){if(t.length-e<2)throw new Error(`${zr} not enough data for float16`);let r=(t[e]<<8)+t[e+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let i=r>>10&31,n=r&1023,s;return i===0?s=n*2**-24:i!==31?s=(n+1024)*2**(i-25):s=n===0?1/0:NaN,r&32768?-s:s}function che(t){fu.setFloat32(0,t,!1)}function Yj(t,e){if(t.length-e<4)throw new Error(`${zr} not enough data for float32`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,4).getFloat32(0,!1)}function Zze(t){fu.setFloat64(0,t,!1)}function lhe(t,e){if(t.length-e<8)throw new Error(`${zr} not enough data for float64`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,8).getFloat64(0,!1)}Hj.compareTokens=Tm.compareTokens;function Si(t,e,r){throw new Error(`${zr} encountered invalid minor (${r}) for major ${t[e]>>>5}`)}function TS(t){return()=>{throw new Error(`${zr} ${t}`)}}var Xe=[];for(let t=0;t<=23;t++)Xe[t]=Si;Xe[24]=ize;Xe[25]=nze;Xe[26]=oze;Xe[27]=sze;Xe[28]=Si;Xe[29]=Si;Xe[30]=Si;Xe[31]=Si;for(let t=32;t<=55;t++)Xe[t]=Si;Xe[56]=aze;Xe[57]=fze;Xe[58]=uze;Xe[59]=cze;Xe[60]=Si;Xe[61]=Si;Xe[62]=Si;Xe[63]=Si;for(let t=64;t<=87;t++)Xe[t]=lze;Xe[88]=dze;Xe[89]=hze;Xe[90]=pze;Xe[91]=yze;Xe[92]=Si;Xe[93]=Si;Xe[94]=Si;Xe[95]=TS("indefinite length bytes/strings are not supported");for(let t=96;t<=119;t++)Xe[t]=gze;Xe[120]=bze;Xe[121]=vze;Xe[122]=wze;Xe[123]=_ze;Xe[124]=Si;Xe[125]=Si;Xe[126]=Si;Xe[127]=TS("indefinite length bytes/strings are not supported");for(let t=128;t<=151;t++)Xe[t]=Sze;Xe[152]=xze;Xe[153]=Aze;Xe[154]=Mze;Xe[155]=kze;Xe[156]=Si;Xe[157]=Si;Xe[158]=Si;Xe[159]=Tze;for(let t=160;t<=183;t++)Xe[t]=Pze;Xe[184]=Dze;Xe[185]=Ize;Xe[186]=Rze;Xe[187]=Bze;Xe[188]=Si;Xe[189]=Si;Xe[190]=Si;Xe[191]=Cze;for(let t=192;t<=215;t++)Xe[t]=Oze;Xe[216]=jze;Xe[217]=Lze;Xe[218]=Nze;Xe[219]=qze;Xe[220]=Si;Xe[221]=Si;Xe[222]=Si;Xe[223]=Si;for(let t=224;t<=243;t++)Xe[t]=TS("simple values are not supported");Xe[244]=Si;Xe[245]=Si;Xe[246]=Si;Xe[247]=Vze;Xe[248]=TS("simple values are not supported");Xe[249]=Hze;Xe[250]=Wze;Xe[251]=Yze;Xe[252]=Si;Xe[253]=Si;Xe[254]=Si;Xe[255]=Kze;var gl=[];for(let t=0;t<24;t++)gl[t]=new Bt(Ne.uint,t,1);for(let t=-1;t>=-24;t--)gl[31-t]=new Bt(Ne.negint,t,1);gl[64]=new Bt(Ne.bytes,new Uint8Array(0),1);gl[96]=new Bt(Ne.string,"",1);gl[128]=new Bt(Ne.array,0,1);gl[160]=new Bt(Ne.map,0,1);gl[244]=new Bt(Ne.false,!1,1);gl[245]=new Bt(Ne.true,!0,1);gl[246]=new Bt(Ne.null,null,1);function Gze(t){switch(t.type){case Ne.false:return kd([244]);case Ne.true:return kd([245]);case Ne.null:return kd([246]);case Ne.bytes:return t.value.length?void 0:kd([64]);case Ne.string:return t.value===""?kd([96]):void 0;case Ne.array:return t.value===0?kd([128]):void 0;case Ne.map:return t.value===0?kd([160]):void 0;case Ne.uint:return t.value<24?kd([Number(t.value)]):void 0;case Ne.negint:if(t.value>=-24)return kd([31-Number(t.value)])}}var Jze={float64:!1,mapSorter:eFe,quickEncodeToken:Gze};function Xze(){let t=[];return t[Ne.uint.major]=Tm,t[Ne.negint.major]=Fj,t[Ne.bytes.major]=kS,t[Ne.string.major]=Eze,t[Ne.array.major]=Uj,t[Ne.map.major]=$j,t[Ne.tag.major]=Vj,t[Ne.float.major]=Hj,t}var dhe=Xze(),qC=new ohe,lO=class{constructor(t,e){this.obj=t,this.parent=e}includes(t){let e=this;do if(e.obj===t)return!0;while(e=e.parent);return!1}static createCheck(t,e){if(t&&t.includes(e))throw new Error(`${she} object contains circular references`);return new lO(e,t)}},mp={null:new Bt(Ne.null,null),undefined:new Bt(Ne.undefined,void 0),true:new Bt(Ne.true,!0),false:new Bt(Ne.false,!1),emptyArray:new Bt(Ne.array,0),emptyMap:new Bt(Ne.map,0)},Bp={number(t,e,r,i){return!Number.isInteger(t)||!Number.isSafeInteger(t)?new Bt(Ne.float,t):t>=0?new Bt(Ne.uint,t):new Bt(Ne.negint,t)},bigint(t,e,r,i){return t>=BigInt(0)?new Bt(Ne.uint,t):new Bt(Ne.negint,t)},Uint8Array(t,e,r,i){return new Bt(Ne.bytes,t)},string(t,e,r,i){return new Bt(Ne.string,t)},boolean(t,e,r,i){return t?mp.true:mp.false},null(t,e,r,i){return mp.null},undefined(t,e,r,i){return mp.undefined},ArrayBuffer(t,e,r,i){return new Bt(Ne.bytes,new Uint8Array(t))},DataView(t,e,r,i){return new Bt(Ne.bytes,new Uint8Array(t.buffer,t.byteOffset,t.byteLength))},Array(t,e,r,i){if(!t.length)return r.addBreakTokens===!0?[mp.emptyArray,new Bt(Ne.break)]:mp.emptyArray;i=lO.createCheck(i,t);let n=[],s=0;for(let o of t)n[s++]=b9(o,r,i);return r.addBreakTokens?[new Bt(Ne.array,t.length),n,new Bt(Ne.break)]:[new Bt(Ne.array,t.length),n]},Object(t,e,r,i){let n=e!=="Object",s=n?t.keys():Object.keys(t),o=n?t.size:s.length;if(!o)return r.addBreakTokens===!0?[mp.emptyMap,new Bt(Ne.break)]:mp.emptyMap;i=lO.createCheck(i,t);let a=[],f=0;for(let c of s)a[f++]=[b9(c,r,i),b9(n?t.get(c):t[c],r,i)];return Qze(a,r),r.addBreakTokens?[new Bt(Ne.map,o),a,new Bt(Ne.break)]:[new Bt(Ne.map,o),a]}};Bp.Map=Bp.Object;Bp.Buffer=Bp.Uint8Array;for(let t of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Bp[`${t}Array`]=Bp.DataView;function b9(t,e={},r){let i=Kqe(t),n=e&&e.typeEncoders&&e.typeEncoders[i]||Bp[i];if(typeof n=="function"){let o=n(t,i,e,r);if(o!=null)return o}let s=Bp[i];if(!s)throw new Error(`${she} unsupported type: ${i}`);return s(t,i,e,r)}function Qze(t,e){e.mapSorter&&t.sort(e.mapSorter)}function eFe(t,e){let r=Array.isArray(t[0])?t[0][0]:t[0],i=Array.isArray(e[0])?e[0][0]:e[0];if(r.type!==i.type)return r.type.compare(i.type);let n=r.type.major,s=dhe[n].compareTokens(r,i);return s===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),s}function hhe(t,e,r,i){if(Array.isArray(e))for(let n of e)hhe(t,n,r,i);else r[e.type.major](t,e,i)}function tFe(t,e,r){let i=b9(t,r);if(!Array.isArray(i)&&r.quickEncodeToken){let n=r.quickEncodeToken(i);if(n)return n;let s=e[i.type.major];if(s.encodedSize){let o=s.encodedSize(i,r),a=new ohe(o);if(s(a,i,r),a.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${i} was wrong`);return nhe(a.chunks[0])}}return qC.reset(),hhe(qC,i,e,r),qC.toBytes(!0)}function rFe(t,e){return e=Object.assign({},Jze,e),tFe(t,dhe,e)}ee();var iFe={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},nFe=class{constructor(t,e={}){this.pos=0,this.data=t,this.options=e}done(){return this.pos>=this.data.length}next(){let t=this.data[this.pos],e=gl[t];if(e===void 0){let r=Xe[t];if(!r)throw new Error(`${zr} no decoder for major type ${t>>>5} (byte 0x${t.toString(16).padStart(2,"0")})`);let i=t&31;e=r(this.data,this.pos,i,this.options)}return this.pos+=e.encodedLength,e}},d_=Symbol.for("DONE"),PS=Symbol.for("BREAK");function oFe(t,e,r){let i=[];for(let n=0;n<t.value;n++){let s=h_(e,r);if(s===PS){if(t.value===1/0)break;throw new Error(`${zr} got unexpected break to lengthed array`)}if(s===d_)throw new Error(`${zr} found array but not enough entries (got ${n}, expected ${t.value})`);i[n]=s}return i}function sFe(t,e,r){let i=r.useMaps===!0,n=i?void 0:{},s=i?new Map:void 0;for(let o=0;o<t.value;o++){let a=h_(e,r);if(a===PS){if(t.value===1/0)break;throw new Error(`${zr} got unexpected break to lengthed map`)}if(a===d_)throw new Error(`${zr} found map but not enough entries (got ${o} [no key], expected ${t.value})`);if(i!==!0&&typeof a!="string")throw new Error(`${zr} non-string keys not supported (got ${typeof a})`);if(r.rejectDuplicateMapKeys===!0&&(i&&s.has(a)||!i&&a in n))throw new Error(`${zr} found repeat map key "${a}"`);let f=h_(e,r);if(f===d_)throw new Error(`${zr} found map but not enough entries (got ${o} [no value], expected ${t.value})`);i?s.set(a,f):n[a]=f}return i?s:n}function h_(t,e){if(t.done())return d_;let r=t.next();if(r.type===Ne.break)return PS;if(r.type.terminal)return r.value;if(r.type===Ne.array)return oFe(r,t,e);if(r.type===Ne.map)return sFe(r,t,e);if(r.type===Ne.tag){if(e.tags&&typeof e.tags[r.value]=="function"){let i=h_(t,e);return e.tags[r.value](i)}throw new Error(`${zr} tag not supported (${r.value})`)}throw new Error("unsupported")}function phe(t,e){if(!(t instanceof Uint8Array))throw new Error(`${zr} data to decode must be a Uint8Array`);e=Object.assign({},iFe,e);let r=e.tokenizer||new nFe(t,e),i=h_(r,e);if(i===d_)throw new Error(`${zr} did not find any content to decode`);if(i===PS)throw new Error(`${zr} got unexpected break`);if(!r.done())throw new Error(`${zr} too many terminals, data makes no sense`);return i}ee();ee();ee();var aFe=yhe,Sfe=128,fFe=127,uFe=~fFe,cFe=Math.pow(2,31);function yhe(t,e,r){e=e||[],r=r||0;for(var i=r;t>=cFe;)e[r++]=t&255|Sfe,t/=128;for(;t&uFe;)e[r++]=t&255|Sfe,t>>>=7;return e[r]=t|0,yhe.bytes=r-i+1,e}var lFe=dO,dFe=128,xfe=127;function dO(t,i){var r=0,i=i||0,n=0,s=i,o,a=t.length;do{if(s>=a)throw dO.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=n<28?(o&xfe)<<n:(o&xfe)*Math.pow(2,n),n+=7}while(o>=dFe);return dO.bytes=s-i,r}var hFe=Math.pow(2,7),pFe=Math.pow(2,14),yFe=Math.pow(2,21),mFe=Math.pow(2,28),gFe=Math.pow(2,35),bFe=Math.pow(2,42),vFe=Math.pow(2,49),wFe=Math.pow(2,56),_Fe=Math.pow(2,63),EFe=function(t){return t<hFe?1:t<pFe?2:t<yFe?3:t<mFe?4:t<gFe?5:t<bFe?6:t<vFe?7:t<wFe?8:t<_Fe?9:10},SFe={encode:aFe,decode:lFe,encodingLength:EFe},xFe=SFe,B9=xFe,hO=(t,e=0)=>[B9.decode(t,e),B9.decode.bytes],C9=(t,e,r=0)=>(B9.encode(t,e,r),e),O9=t=>B9.encodingLength(t);ee();var Zj={};wi(Zj,{coerce:()=>Pm,empty:()=>mhe,equals:()=>ghe,fromHex:()=>MFe,fromString:()=>bhe,isBinary:()=>kFe,toHex:()=>AFe,toString:()=>vhe});ee();var mhe=new Uint8Array(0),AFe=t=>t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),""),MFe=t=>{let e=t.match(/../g);return e?new Uint8Array(e.map(r=>parseInt(r,16))):mhe},ghe=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},Pm=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},kFe=t=>t instanceof ArrayBuffer||ArrayBuffer.isView(t),bhe=t=>new TextEncoder().encode(t),vhe=t=>new TextDecoder().decode(t),j9=(t,e)=>{let r=e.byteLength,i=O9(t),n=i+O9(r),s=new Uint8Array(n+r);return C9(t,s,0),C9(r,s,i),s.set(e,n),new Gj(t,r,e,s)},pO=t=>{let e=Pm(t),[r,i]=hO(e),[n,s]=hO(e.subarray(i)),o=e.subarray(i+s);if(o.byteLength!==n)throw new Error("Incorrect length");return new Gj(r,n,o,e)},TFe=(t,e)=>{if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&ghe(t.bytes,r.bytes)}},Gj=class{constructor(t,e,r,i){this.code=t,this.size=e,this.digest=r,this.bytes=i}},whe={};wi(whe,{base58btc:()=>Xu,base58flickr:()=>qFe});ee();ee();ee();function PFe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var s=t.charAt(n),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=n}var a=t.length,f=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function l(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var E=0,x=0,T=0,M=g.length;T!==M&&g[T]===0;)T++,E++;for(var I=(M-T)*u+1>>>0,R=new Uint8Array(I);T!==M;){for(var O=g[T],B=0,C=I-1;(O!==0||B<x)&&C!==-1;C--,B++)O+=256*R[C]>>>0,R[C]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");x=B,T++}for(var U=I-x;U!==I&&R[U]===0;)U++;for(var W=f.repeat(E);U<I;++U)W+=t.charAt(R[U]);return W}function y(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var E=0;if(g[E]!==" "){for(var x=0,T=0;g[E]===f;)x++,E++;for(var M=(g.length-E)*c+1>>>0,I=new Uint8Array(M);g[E];){var R=r[g.charCodeAt(E)];if(R===255)return;for(var O=0,B=M-1;(R!==0||O<T)&&B!==-1;B--,O++)R+=a*I[B]>>>0,I[B]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");T=O,E++}if(g[E]!==" "){for(var C=M-T;C!==M&&I[C]===0;)C++;for(var U=new Uint8Array(x+(M-C)),W=x;C!==M;)U[W++]=I[C++];return U}}}function m(g){var E=y(g);if(E)return E;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:y,decode:m}}var DFe=PFe,IFe=DFe,RFe=IFe;ee();var BFe=class{constructor(t,e,r){this.name=t,this.prefix=e,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},CFe=class{constructor(t,e,r){if(this.name=t,this.prefix=e,e.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return _he(this,t)}},OFe=class{constructor(t){this.decoders=t}or(t){return _he(this,t)}decode(t){let e=t[0],r=this.decoders[e];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},_he=(t,e)=>new OFe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),jFe=class{constructor(t,e,r,i){this.name=t,this.prefix=e,this.baseEncode=r,this.baseDecode=i,this.encoder=new BFe(t,e,r),this.decoder=new CFe(t,e,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}},DS=({name:t,prefix:e,encode:r,decode:i})=>new jFe(t,e,r,i),O_=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=RFe(r,e);return DS({prefix:t,name:e,encode:i,decode:s=>Pm(n(s))})},LFe=(t,e,r,i)=>{let n={};for(let u=0;u<e.length;++u)n[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),a=0,f=0,c=0;for(let u=0;u<s;++u){let l=n[t[u]];if(l===void 0)throw new SyntaxError(`Non-${i} character`);f=f<<r|l,a+=r,a>=8&&(a-=8,o[c++]=255&f>>a)}if(a>=r||255&f<<8-a)throw new SyntaxError("Unexpected end of data");return o},NFe=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,s="",o=0,a=0;for(let f=0;f<t.length;++f)for(a=a<<8|t[f],o+=8;o>r;)o-=r,s+=e[n&a>>o];if(o&&(s+=e[n&a<<r-o]),i)for(;s.length*r&7;)s+="=";return s},zs=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>DS({prefix:e,name:t,encode(n){return NFe(n,i,r)},decode(n){return LFe(n,i,r,t)}}),Xu=O_({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),qFe=O_({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Ehe={};wi(Ehe,{base32:()=>Qu,base32hex:()=>$Fe,base32hexpad:()=>KFe,base32hexpadupper:()=>HFe,base32hexupper:()=>VFe,base32pad:()=>FFe,base32padupper:()=>UFe,base32upper:()=>zFe,base32z:()=>WFe});ee();var Qu=zs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),zFe=zs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),FFe=zs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),UFe=zs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),$Fe=zs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),VFe=zs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),KFe=zs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),HFe=zs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),WFe=zs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});ee();var Afe=(t,e)=>{let{bytes:r,version:i}=t;switch(i){case 0:return ZFe(r,yO(t),e||Xu.encoder);default:return GFe(r,yO(t),e||Qu.encoder)}},Mfe=new WeakMap,yO=t=>{let e=Mfe.get(t);if(e==null){let r=new Map;return Mfe.set(t,r),r}return e},Sr=class{constructor(t,e,r,i){this.code=e,this.version=t,this.multihash=r,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:t,multihash:e}=this;if(t!==$3)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(e.code!==JFe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Sr.createV0(e)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:t,digest:e}=this.multihash,r=j9(t,e);return Sr.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return Sr.equals(this,t)}static equals(t,e){let r=e;return r&&t.code===r.code&&t.version===r.version&&TFe(t.multihash,r.multihash)}toString(t){return Afe(this,t)}toJSON(){return{"/":Afe(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(t==null)return null;let e=t;if(e instanceof Sr)return e;if(e["/"]!=null&&e["/"]===e.bytes||e.asCID===e){let{version:r,code:i,multihash:n,bytes:s}=e;return new Sr(r,i,n,s||kfe(r,i,n.bytes))}else if(e[XFe]===!0){let{version:r,multihash:i,code:n}=e,s=pO(i);return Sr.create(r,n,s)}else return null}static create(t,e,r){if(typeof e!="number")throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:{if(e!==$3)throw new Error(`Version 0 CID must use dag-pb (code: ${$3}) block encoding`);return new Sr(t,e,r,r.bytes)}case 1:{let i=kfe(t,e,r.bytes);return new Sr(t,e,r,i)}default:throw new Error("Invalid version")}}static createV0(t){return Sr.create(0,$3,t)}static createV1(t,e){return Sr.create(1,t,e)}static decode(t){let[e,r]=Sr.decodeFirst(t);if(r.length)throw new Error("Incorrect length");return e}static decodeFirst(t){let e=Sr.inspectBytes(t),r=e.size-e.multihashSize,i=Pm(t.subarray(r,r+e.multihashSize));if(i.byteLength!==e.multihashSize)throw new Error("Incorrect length");let n=i.subarray(e.multihashSize-e.digestSize),s=new Gj(e.multihashCode,e.digestSize,n,i);return[e.version===0?Sr.createV0(s):Sr.createV1(e.codec,s),t.subarray(e.size)]}static inspectBytes(t){let e=0,r=()=>{let[u,l]=hO(t.subarray(e));return e+=l,u},i=r(),n=$3;if(i===18?(i=0,e=0):n=r(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let s=e,o=r(),a=r(),f=e+a,c=f-s;return{version:i,codec:n,multihashCode:o,digestSize:a,multihashSize:c,size:f}}static parse(t,e){let[r,i]=YFe(t,e),n=Sr.decode(i);if(n.version===0&&t[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return yO(n).set(r,t),n}},YFe=(t,e)=>{switch(t[0]){case"Q":{let r=e||Xu;return[Xu.prefix,r.decode(`${Xu.prefix}${t}`)]}case Xu.prefix:{let r=e||Xu;return[Xu.prefix,r.decode(t)]}case Qu.prefix:{let r=e||Qu;return[Qu.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},ZFe=(t,e,r)=>{let{prefix:i}=r;if(i!==Xu.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let s=r.encode(t).slice(1);return e.set(i,s),s}else return n},GFe=(t,e,r)=>{let{prefix:i}=r,n=e.get(i);if(n==null){let s=r.encode(t);return e.set(i,s),s}else return n},$3=112,JFe=18,kfe=(t,e,r)=>{let i=O9(t),n=i+O9(e),s=new Uint8Array(n+r.byteLength);return C9(t,s,0),C9(e,s,i),s.set(r,n),s},XFe=Symbol.for("@ipld/js-cid/CID"),She=42;function QFe(t){if(t.asCID!==t&&t["/"]!==t.bytes)return null;let e=Sr.asCID(t);if(!e)return null;let r=new Uint8Array(e.bytes.byteLength+1);return r.set(e.bytes,1),[new Bt(Ne.tag,She),new Bt(Ne.bytes,r)]}function eUe(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function tUe(t){if(Number.isNaN(t))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(t===1/0||t===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var rUe={float64:!0,typeEncoders:{Object:QFe,undefined:eUe,number:tUe}};function iUe(t){if(t[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return Sr.decode(t.subarray(1))}var xhe={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};xhe.tags[She]=iUe;var nUe="dag-cbor",Jj=113,oUe=t=>rFe(t,rUe),sUe=t=>phe(t,xhe);ee();ee();ee();async function*Ahe(t,e=1){let r=[];e<1&&(e=1);for await(let i of t)for(r.push(i);r.length>=e;)yield r.slice(0,e),r=r.slice(e);for(;r.length>0;)yield r.slice(0,e),r=r.slice(e)}async function*Mhe(t,e=1){for await(let r of Ahe(t,e)){let i=r.map(async n=>await n().then(s=>({ok:!0,value:s}),s=>({ok:!1,err:s})));for(let n=0;n<i.length;n++){let s=await i[n];if(s.ok)yield s.value;else throw s.err}}}ee();ee();ee();var Tfe=vr(Wa(),1);ee();ee();ee();ee();var khe=vr(Rce(),1),aUe=vr(Mje(),1),fUe=vr(Zb(),1),The=vr(Bce(),1),uUe=vr(kje(),1);function cUe(){fUe.default._configure(),khe.default._configure(aUe.default),The.default._configure(uUe.default)}cUe();var Phe=["uint64","int64","sint64","fixed64","sfixed64"];function lUe(t){for(let e of Phe){if(t[e]==null)continue;let r=t[e];t[e]=function(){return BigInt(r.call(this).toString())}}return t}function dUe(t){return lUe(new khe.default(t))}function hUe(t){for(let e of Phe){if(t[e]==null)continue;let r=t[e];t[e]=function(i){return r.call(this,i.toString())}}return t}function pUe(){return hUe(The.default.create())}function Xj(t,e){let r=dUe(t instanceof Uint8Array?t:t.subarray());return e.decode(r)}ee();function Qj(t,e){let r=pUe();return e.encode(t,r,{lengthDelimited:!1}),r.finish()}ee();ee();var L9;(function(t){t[t.VARINT=0]="VARINT",t[t.BIT64=1]="BIT64",t[t.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",t[t.START_GROUP=3]="START_GROUP",t[t.END_GROUP=4]="END_GROUP",t[t.BIT32=5]="BIT32"})(L9||(L9={}));function Dhe(t,e,r,i){return{name:t,type:e,encode:r,decode:i}}function yUe(t){function e(n){if(t[n.toString()]==null)throw new Error("Invalid enum value");return t[n]}let r=function(n,s){let o=e(n);s.int32(o)},i=function(n){let s=n.int32();return e(s)};return Dhe("enum",L9.VARINT,r,i)}ee();function eL(t,e){return Dhe("message",L9.LENGTH_DELIMITED,t,e)}var al;(function(t){let e;(function(n){n.Raw="Raw",n.Directory="Directory",n.File="File",n.Metadata="Metadata",n.Symlink="Symlink",n.HAMTShard="HAMTShard"})(e=t.DataType||(t.DataType={}));let r;(function(n){n[n.Raw=0]="Raw",n[n.Directory=1]="Directory",n[n.File=2]="File",n[n.Metadata=3]="Metadata",n[n.Symlink=4]="Symlink",n[n.HAMTShard=5]="HAMTShard"})(r||(r={})),function(n){n.codec=()=>yUe(r)}(e=t.DataType||(t.DataType={}));let i;t.codec=()=>(i==null&&(i=eL((n,s,o={})=>{if(o.lengthDelimited!==!1&&s.fork(),n.Type!=null&&(s.uint32(8),t.DataType.codec().encode(n.Type,s)),n.Data!=null&&(s.uint32(18),s.bytes(n.Data)),n.filesize!=null&&(s.uint32(24),s.uint64(n.filesize)),n.blocksizes!=null)for(let a of n.blocksizes)s.uint32(32),s.uint64(a);n.hashType!=null&&(s.uint32(40),s.uint64(n.hashType)),n.fanout!=null&&(s.uint32(48),s.uint64(n.fanout)),n.mode!=null&&(s.uint32(56),s.uint32(n.mode)),n.mtime!=null&&(s.uint32(66),N9.codec().encode(n.mtime,s)),o.lengthDelimited!==!1&&s.ldelim()},(n,s)=>{let o={blocksizes:[]},a=s==null?n.len:n.pos+s;for(;n.pos<a;){let f=n.uint32();switch(f>>>3){case 1:o.Type=t.DataType.codec().decode(n);break;case 2:o.Data=n.bytes();break;case 3:o.filesize=n.uint64();break;case 4:o.blocksizes.push(n.uint64());break;case 5:o.hashType=n.uint64();break;case 6:o.fanout=n.uint64();break;case 7:o.mode=n.uint32();break;case 8:o.mtime=N9.codec().decode(n,n.uint32());break;default:n.skipType(f&7);break}}return o})),i),t.encode=n=>Qj(n,t.codec()),t.decode=n=>Xj(n,t.codec())})(al||(al={}));var N9;(function(t){let e;t.codec=()=>(e==null&&(e=eL((r,i,n={})=>{n.lengthDelimited!==!1&&i.fork(),r.Seconds!=null&&(i.uint32(8),i.int64(r.Seconds)),r.FractionalNanoseconds!=null&&(i.uint32(21),i.fixed32(r.FractionalNanoseconds)),n.lengthDelimited!==!1&&i.ldelim()},(r,i)=>{let n={},s=i==null?r.len:r.pos+i;for(;r.pos<s;){let o=r.uint32();switch(o>>>3){case 1:n.Seconds=r.int64();break;case 2:n.FractionalNanoseconds=r.fixed32();break;default:r.skipType(o&7);break}}return n})),e),t.encode=r=>Qj(r,t.codec()),t.decode=r=>Xj(r,t.codec())})(N9||(N9={}));var Pfe;(function(t){let e;t.codec=()=>(e==null&&(e=eL((r,i,n={})=>{n.lengthDelimited!==!1&&i.fork(),r.MimeType!=null&&(i.uint32(10),i.string(r.MimeType)),n.lengthDelimited!==!1&&i.ldelim()},(r,i)=>{let n={},s=i==null?r.len:r.pos+i;for(;r.pos<s;){let o=r.uint32();switch(o>>>3){case 1:n.MimeType=r.string();break;default:r.skipType(o&7);break}}return n})),e),t.encode=r=>Qj(r,t.codec()),t.decode=r=>Xj(r,t.codec())})(Pfe||(Pfe={}));var Dfe={Raw:"raw",Directory:"directory",File:"file",Metadata:"metadata",Symlink:"symlink",HAMTShard:"hamt-sharded-directory"},mUe=["directory","hamt-sharded-directory"],Ife=parseInt("0644",8),Rfe=parseInt("0755",8),Cp=class{static unmarshal(t){let e=al.decode(t),r=new Cp({type:Dfe[e.Type!=null?e.Type.toString():"File"],data:e.Data,blockSizes:e.blocksizes,mode:e.mode,mtime:e.mtime!=null?{secs:e.mtime.Seconds??0n,nsecs:e.mtime.FractionalNanoseconds}:void 0});return r._originalMode=e.mode??0,r}constructor(t={type:"file"}){let{type:e,data:r,blockSizes:i,hashType:n,fanout:s,mtime:o,mode:a}=t;if(e!=null&&!Object.values(Dfe).includes(e))throw(0,Tfe.default)(new Error("Type: "+e+" is not valid"),"ERR_INVALID_TYPE");this.type=e??"file",this.data=r,this.hashType=n,this.fanout=s,this.blockSizes=i??[],this._originalMode=0,this.mode=a,this.mtime=o}set mode(t){t==null?this._mode=this.isDirectory()?Rfe:Ife:this._mode=t&4095}get mode(){return this._mode}isDirectory(){return mUe.includes(this.type)}addBlockSize(t){this.blockSizes.push(t)}removeBlockSize(t){this.blockSizes.splice(t,1)}fileSize(){if(this.isDirectory())return 0n;let t=0n;return this.blockSizes.forEach(e=>{t+=e}),this.data!=null&&(t+=BigInt(this.data.length)),t}marshal(){let t;switch(this.type){case"raw":t=al.DataType.Raw;break;case"directory":t=al.DataType.Directory;break;case"file":t=al.DataType.File;break;case"metadata":t=al.DataType.Metadata;break;case"symlink":t=al.DataType.Symlink;break;case"hamt-sharded-directory":t=al.DataType.HAMTShard;break;default:throw(0,Tfe.default)(new Error(`Type: ${t} is not valid`),"ERR_INVALID_TYPE")}let e=this.data;(this.data==null||this.data.length===0)&&(e=void 0);let r;this.mode!=null&&(r=this._originalMode&4294963200|(this.mode??0),r===Ife&&!this.isDirectory()&&(r=void 0),r===Rfe&&this.isDirectory()&&(r=void 0));let i;return this.mtime!=null&&(i={Seconds:this.mtime.secs,FractionalNanoseconds:this.mtime.nsecs}),al.encode({Type:t,Data:e,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:r,mtime:i})}};ee();var tL={};wi(tL,{code:()=>RUe,createLink:()=>DUe,createNode:()=>PUe,decode:()=>BUe,encode:()=>jp,name:()=>IUe,prepare:()=>Op,validate:()=>Ohe});ee();ee();var gUe=new TextDecoder;function rL(t,e){let r=0;for(let i=0;;i+=7){if(i>=64)throw new Error("protobuf: varint overflow");if(e>=t.length)throw new Error("protobuf: unexpected end of data");let n=t[e++];if(r+=i<28?(n&127)<<i:(n&127)*2**i,n<128)break}return[r,e]}function q9(t,e){let r;[r,e]=rL(t,e);let i=e+r;if(r<0||i<0)throw new Error("protobuf: invalid length");if(i>t.length)throw new Error("protobuf: unexpected end of data");return[t.subarray(e,i),i]}function Ihe(t,e){let r;return[r,e]=rL(t,e),[r&7,r>>3,e]}function bUe(t){let e={},r=t.length,i=0;for(;i<r;){let n,s;if([n,s,i]=Ihe(t,i),s===1){if(e.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(n!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Hash`);if(e.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[e.Hash,i]=q9(t,i)}else if(s===2){if(e.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(n!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Name`);if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let o;[o,i]=q9(t,i),e.Name=gUe.decode(o)}else if(s===3){if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(n!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Tsize`);[e.Tsize,i]=rL(t,i)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${s}`)}if(i>r)throw new Error("protobuf: (PBLink) unexpected end of data");return e}function vUe(t){let e=t.length,r=0,i,n=!1,s;for(;r<e;){let a,f;if([a,f,r]=Ihe(t,r),a!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${a}`);if(f===1){if(s)throw new Error("protobuf: (PBNode) duplicate Data section");[s,r]=q9(t,r),i&&(n=!0)}else if(f===2){if(n)throw new Error("protobuf: (PBNode) duplicate Links section");i||(i=[]);let c;[c,r]=q9(t,r),i.push(bUe(c))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${f}`)}if(r>e)throw new Error("protobuf: (PBNode) unexpected end of data");let o={};return s&&(o.Data=s),o.Links=i||[],o}ee();var Rhe=new TextEncoder,Bfe=2**32,wUe=2**31;function _Ue(t,e){let r=e.length;if(typeof t.Tsize=="number"){if(t.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(t.Tsize))throw new Error("Tsize too large for encoding");r=r_(e,r,t.Tsize)-1,e[r]=24}if(typeof t.Name=="string"){let i=Rhe.encode(t.Name);r-=i.length,e.set(i,r),r=r_(e,r,i.length)-1,e[r]=18}return t.Hash&&(r-=t.Hash.length,e.set(t.Hash,r),r=r_(e,r,t.Hash.length)-1,e[r]=10),e.length-r}function EUe(t){let e=xUe(t),r=new Uint8Array(e),i=e;if(t.Data&&(i-=t.Data.length,r.set(t.Data,i),i=r_(r,i,t.Data.length)-1,r[i]=10),t.Links)for(let n=t.Links.length-1;n>=0;n--){let s=_Ue(t.Links[n],r.subarray(0,i));i-=s,i=r_(r,i,s)-1,r[i]=18}return r}function SUe(t){let e=0;if(t.Hash){let r=t.Hash.length;e+=1+r+Eb(r)}if(typeof t.Name=="string"){let r=Rhe.encode(t.Name).length;e+=1+r+Eb(r)}return typeof t.Tsize=="number"&&(e+=1+Eb(t.Tsize)),e}function xUe(t){let e=0;if(t.Data){let r=t.Data.length;e+=1+r+Eb(r)}if(t.Links)for(let r of t.Links){let i=SUe(r);e+=1+i+Eb(i)}return e}function r_(t,e,r){e-=Eb(r);let i=e;for(;r>=wUe;)t[e++]=r&127|128,r/=128;for(;r>=128;)t[e++]=r&127|128,r>>>=7;return t[e]=r,i}function Eb(t){return t%2===0&&t++,Math.floor((AUe(t)+6)/7)}function AUe(t){let e=0;return t>=Bfe&&(t=Math.floor(t/Bfe),e=32),t>=1<<16&&(t>>>=16,e+=16),t>=1<<8&&(t>>>=8,e+=8),e+MUe[t]}var MUe=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8];ee();var kUe=["Data","Links"],TUe=["Hash","Name","Tsize"],mO=new TextEncoder;function Bhe(t,e){if(t===e)return 0;let r=t.Name?mO.encode(t.Name):[],i=e.Name?mO.encode(e.Name):[],n=r.length,s=i.length;for(let o=0,a=Math.min(n,s);o<a;++o)if(r[o]!==i[o]){n=r[o],s=i[o];break}return n<s?-1:s<n?1:0}function Cfe(t,e){return!Object.keys(t).some(r=>!e.includes(r))}function Che(t){if(typeof t.asCID=="object"){let r=Sr.asCID(t);if(!r)throw new TypeError("Invalid DAG-PB form");return{Hash:r}}if(typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");let e={};if(t.Hash){let r=Sr.asCID(t.Hash);try{r||(typeof t.Hash=="string"?r=Sr.parse(t.Hash):t.Hash instanceof Uint8Array&&(r=Sr.decode(t.Hash)))}catch(i){throw new TypeError(`Invalid DAG-PB form: ${i.message}`)}r&&(e.Hash=r)}if(!e.Hash)throw new TypeError("Invalid DAG-PB form");return typeof t.Name=="string"&&(e.Name=t.Name),typeof t.Tsize=="number"&&(e.Tsize=t.Tsize),e}function Op(t){if((t instanceof Uint8Array||typeof t=="string")&&(t={Data:t}),typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");let e={};if(t.Data!==void 0)if(typeof t.Data=="string")e.Data=mO.encode(t.Data);else if(t.Data instanceof Uint8Array)e.Data=t.Data;else throw new TypeError("Invalid DAG-PB form");if(t.Links!==void 0)if(Array.isArray(t.Links))e.Links=t.Links.map(Che),e.Links.sort(Bhe);else throw new TypeError("Invalid DAG-PB form");else e.Links=[];return e}function Ohe(t){if(!t||typeof t!="object"||Array.isArray(t)||t instanceof Uint8Array||t["/"]&&t["/"]===t.bytes)throw new TypeError("Invalid DAG-PB form");if(!Cfe(t,kUe))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(t.Data!==void 0&&!(t.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(t.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(let e=0;e<t.Links.length;e++){let r=t.Links[e];if(!r||typeof r!="object"||Array.isArray(r)||r instanceof Uint8Array||r["/"]&&r["/"]===r.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!Cfe(r,TUe))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(r.Hash===void 0)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(r.Hash==null||!r.Hash["/"]||r.Hash["/"]!==r.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(r.Name!==void 0&&typeof r.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(r.Tsize!==void 0){if(typeof r.Tsize!="number"||r.Tsize%1!==0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(r.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(e>0&&Bhe(r,t.Links[e-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function PUe(t,e=[]){return Op({Data:t,Links:e})}function DUe(t,e,r){return Che({Hash:r,Name:t,Tsize:e})}var IUe="dag-pb",RUe=112;function jp(t){Ohe(t);let e={};return t.Links&&(e.Links=t.Links.map(r=>{let i={};return r.Hash&&(i.Hash=r.Hash.bytes),r.Name!==void 0&&(i.Name=r.Name),r.Tsize!==void 0&&(i.Tsize=r.Tsize),i})),t.Data&&(e.Data=t.Data),EUe(e)}function BUe(t){let e=vUe(t),r={};return e.Data&&(r.Data=e.Data),e.Links&&(r.Links=e.Links.map(i=>{let n={};try{n.Hash=Sr.decode(i.Hash)}catch{}if(!n.Hash)throw new Error("Invalid Hash field found in link, expected CID");return i.Name!==void 0&&(n.Name=i.Name),i.Tsize!==void 0&&(n.Tsize=i.Tsize),n})),r}var jhe={};wi(jhe,{sha256:()=>tc,sha512:()=>OUe});ee();ee();var j_=({name:t,code:e,encode:r})=>new CUe(t,e,r),CUe=class{constructor(t,e,r){this.name=t,this.code=e,this.encode=r}digest(t){if(t instanceof Uint8Array){let e=this.encode(t);return e instanceof Uint8Array?j9(this.code,e):e.then(r=>j9(this.code,r))}else throw Error("Unknown type, must be binary type")}},Lhe=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),tc=j_({name:"sha2-256",code:18,encode:Lhe("SHA-256")}),OUe=j_({name:"sha2-512",code:19,encode:Lhe("SHA-512")}),Nb=async(t,e,r)=>{r.codec==null&&(r.codec=tL);let i=await tc.digest(t),n=Sr.create(r.cidVersion,r.codec.code,i);return await e.put(n,t,{signal:r.signal}),n},jUe=async(t,e,r)=>{let i=new Cp({type:"directory",mtime:t.mtime,mode:t.mode}),n=jp(Op({Data:i.marshal()})),s=await Nb(n,e,r),o=t.path;return{cid:s,path:o,unixfs:i,size:BigInt(n.length),originalPath:t.originalPath}};ee();var Nhe={};wi(Nhe,{code:()=>p_,decode:()=>qUe,encode:()=>NUe,name:()=>LUe});ee();var LUe="raw",p_=85,NUe=t=>Pm(t),qUe=t=>Pm(t);async function*zUe(t,e,r){let i=-1,n;for await(let s of Mhe(r.bufferImporter(t,e),r.blockWriteConcurrency)){if(i++,i===0){n=s;continue}else i===1&&n!=null&&(yield n,n=void 0);yield s}n!=null&&(n.single=!0,yield n)}var FUe=(t,e,r)=>async function(i){if(i.length===1&&i[0]?.single===!0&&r.reduceSingleLeafToSelf){let f=i[0];if(t.mtime!==void 0||t.mode!==void 0){let c=await e.get(f.cid);f.unixfs=new Cp({type:"file",mtime:t.mtime,mode:t.mode,data:c}),c=jp(Op({Data:f.unixfs.marshal()})),f.cid=await Nb(c,e,{...r,cidVersion:r.cidVersion}),f.size=BigInt(c.length)}return{cid:f.cid,path:t.path,unixfs:f.unixfs,size:f.size,originalPath:f.originalPath}}let n=new Cp({type:"file",mtime:t.mtime,mode:t.mode}),s=i.filter(f=>f.cid.code===p_&&f.size>0||f.unixfs!=null&&f.unixfs.data==null&&f.unixfs.fileSize()>0n?!0:Boolean(f.unixfs?.data?.length)).map(f=>f.cid.code===p_?(n.addBlockSize(f.size),{Name:"",Tsize:Number(f.size),Hash:f.cid}):(f.unixfs==null||f.unixfs.data==null?n.addBlockSize(f.unixfs?.fileSize()??0n):n.addBlockSize(BigInt(f.unixfs.data.length)),{Name:"",Tsize:Number(f.size),Hash:f.cid})),o={Data:n.marshal(),Links:s},a=jp(Op(o));return{cid:await Nb(a,e,r),path:t.path,unixfs:n,size:BigInt(a.length+o.Links.reduce((f,c)=>f+(c.Tsize??0),0)),originalPath:t.originalPath}},UUe=async(t,e,r)=>await r.layout(zUe(t,e,r),FUe(t,e,r)),Ofe=vr(Wa(),1);function $Ue(t){return Symbol.iterator in t}function VUe(t){return Symbol.asyncIterator in t}function KUe(t){try{if(t instanceof Uint8Array)return async function*(){yield t}();if($Ue(t))return async function*(){yield*t}();if(VUe(t))return t}catch{throw(0,Ofe.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw(0,Ofe.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}function HUe(t){return async function*(e,r){for await(let i of e){let n;if(i.path!=null&&(n=i.path,i.path=i.path.split("/").filter(s=>s!=null&&s!==".").join("/")),WUe(i)){let s={path:i.path,mtime:i.mtime,mode:i.mode,content:t.chunker(t.chunkValidator(KUe(i.content))),originalPath:n};yield async()=>await UUe(s,r,t)}else if(i.path!=null){let s={path:i.path,mtime:i.mtime,mode:i.mode,originalPath:n};yield async()=>await jUe(s,r,t)}else throw new Error("Import candidate must have content or path or both")}}}function WUe(t){return t.content!=null}ee();ee();ee();var y_=class{constructor(t,e){this.options=e??{},this.root=t.root,this.dir=t.dir,this.path=t.path,this.dirty=t.dirty,this.flat=t.flat,this.parent=t.parent,this.parentKey=t.parentKey,this.unixfs=t.unixfs,this.mode=t.mode,this.mtime=t.mtime}},gO=Sr.parse("QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn"),bO=Sr.parse("zdj7WbTaiJT1fgatdet9Ei9iDB5hdCxkbVyhyh8YTUnXMiwYi"),iL=class extends y_{constructor(t,e){super(t,e),this._children=new Map}async put(t,e){this.cid=void 0,this.size=void 0,this.nodeSize=void 0,this._children.set(t,e)}async get(t){return await Promise.resolve(this._children.get(t))}childCount(){return this._children.size}directChildrenCount(){return this.childCount()}onlyChild(){return this._children.values().next().value}async*eachChildSeries(){for(let[t,e]of this._children.entries())yield{key:t,child:e}}estimateNodeSize(){if(this.nodeSize!==void 0)return this.nodeSize;this.nodeSize=0;for(let[t,e]of this._children.entries())e.size!=null&&e.cid!=null&&(this.nodeSize+=t.length+(this.options.cidVersion===1?bO.bytes.byteLength:gO.bytes.byteLength));return this.nodeSize}async*flush(t){let e=[];for(let[a,f]of this._children.entries()){if(f instanceof y_)for await(let c of f.flush(t))f=c,yield f;f.size!=null&&f.cid!=null&&e.push({Name:a,Tsize:Number(f.size),Hash:f.cid})}let r=new Cp({type:"directory",mtime:this.mtime,mode:this.mode}),i={Data:r.marshal(),Links:e},n=jp(Op(i)),s=await Nb(n,t,this.options),o=n.length+i.Links.reduce((a,f)=>a+(f.Tsize==null?0:f.Tsize),0);this.cid=s,this.size=o,yield{cid:s,unixfs:r,path:this.path,size:BigInt(o)}}};ee();ee();ee();ee();var YUe=vr(Cce(),1);ee();ee();ee();var qhe={};wi(qhe,{identity:()=>ZUe});ee();var ZUe=DS({prefix:"\0",name:"identity",encode:t=>vhe(t),decode:t=>bhe(t)}),zhe={};wi(zhe,{base2:()=>GUe});ee();var GUe=zs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Fhe={};wi(Fhe,{base8:()=>JUe});ee();var JUe=zs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Uhe={};wi(Uhe,{base10:()=>XUe});ee();var XUe=O_({prefix:"9",name:"base10",alphabet:"0123456789"}),$he={};wi($he,{base16:()=>QUe,base16upper:()=>e$e});ee();var QUe=zs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),e$e=zs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Vhe={};wi(Vhe,{base36:()=>t$e,base36upper:()=>r$e});ee();var t$e=O_({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),r$e=O_({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Khe={};wi(Khe,{base64:()=>i$e,base64pad:()=>n$e,base64url:()=>G3,base64urlpad:()=>o$e});ee();var i$e=zs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),n$e=zs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),G3=zs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),o$e=zs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Hhe={};wi(Hhe,{base256emoji:()=>c$e});ee();var Whe=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),s$e=Whe.reduce((t,e,r)=>(t[r]=e,t),[]),a$e=Whe.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function f$e(t){return t.reduce((e,r)=>(e+=s$e[r],e),"")}function u$e(t){let e=[];for(let r of t){let i=a$e[r.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(i)}return new Uint8Array(e)}var c$e=DS({prefix:"\u{1F680}",name:"base256emoji",encode:f$e,decode:u$e}),Yhe={};wi(Yhe,{identity:()=>h$e});ee();var Zhe=0,l$e="identity",Ghe=Pm,d$e=t=>j9(Zhe,Ghe(t)),h$e={code:Zhe,name:l$e,encode:Ghe,digest:d$e};ee();var e2t=new TextEncoder,t2t=new TextDecoder;ee();ee();var jfe={...qhe,...zhe,...Fhe,...Uhe,...$he,...Ehe,...Vhe,...whe,...Khe,...Hhe},r2t={...jhe,...Yhe};ee();ee();function nL(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Jhe(t=0){return globalThis.Buffer?.allocUnsafe!=null?nL(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Xhe(t,e,r,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:i}}}var Lfe=Xhe("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),zC=Xhe("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=Jhe(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),p$e={utf8:Lfe,"utf-8":Lfe,hex:jfe.base16,latin1:zC,ascii:zC,binary:zC,...jfe},y$e=p$e;function Qhe(t,e="utf8"){let r=y$e[e];if(r==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?nL(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var Gu=class{constructor(t,e,r=0){this._options=t,this._popCount=0,this._parent=e,this._posAtParent=r,this._children=new YUe.default,this.key=null}async put(t,e){let r=await this._findNewBucketAndPos(t);await r.bucket._putAt(r,t,e)}async get(t){let e=await this._findChild(t);if(e!=null)return e.value}async del(t){let e=await this._findPlace(t),r=e.bucket._at(e.pos);r!=null&&r.key===t&&e.bucket._delAt(e.pos)}leafCount(){return this._children.compactArray().reduce((t,e)=>e instanceof Gu?t+e.leafCount():t+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){let t=this._children.compactArray();for(let e of t)e instanceof Gu?yield*e.eachLeafSeries():yield e}serialize(t,e){let r=[];return e(this._children.reduce((i,n,s)=>(n!=null&&(n instanceof Gu?i.push(n.serialize(t,e)):i.push(t(n,s))),i),r))}async asyncTransform(t,e){return await epe(this,t,e)}toJSON(){return this.serialize(g$e,b$e)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(t){let e=await this._findPlace(t),r=e.bucket._at(e.pos);if(!(r instanceof Gu)&&r!=null&&r.key===t)return r}async _findPlace(t){let e=this._options.hash(typeof t=="string"?Qhe(t):t),r=await e.take(this._options.bits),i=this._children.get(r);return i instanceof Gu?await i._findPlace(e):{bucket:this,pos:r,hash:e,existingChild:i}}async _findNewBucketAndPos(t){let e=await this._findPlace(t);if(e.existingChild!=null&&e.existingChild.key!==t){let r=new Gu(this._options,e.bucket,e.pos);e.bucket._putObjectAt(e.pos,r);let i=await r._findPlace(e.existingChild.hash);return i.bucket._putAt(i,e.existingChild.key,e.existingChild.value),await r._findNewBucketAndPos(e.hash)}return e}_putAt(t,e,r){this._putObjectAt(t.pos,{key:e,value:r,hash:t.hash})}_putObjectAt(t,e){this._children.get(t)==null&&this._popCount++,this._children.set(t,e)}_delAt(t){if(t===-1)throw new Error("Invalid position");this._children.get(t)!=null&&this._popCount--,this._children.unset(t),this._level()}_level(){if(this._parent!=null&&this._popCount<=1)if(this._popCount===1){let t=this._children.find(m$e);if(t!=null&&!(t instanceof Gu)){let e=t.hash;e.untake(this._options.bits);let r={pos:this._posAtParent,hash:e,bucket:this._parent};this._parent._putAt(r,t.key,t.value)}}else this._parent._delAt(this._posAtParent)}_at(t){return this._children.get(t)}};function m$e(t){return Boolean(t)}function g$e(t,e){return t.key}function b$e(t){return t}async function epe(t,e,r){let i=[];for(let n of t._children.compactArray())if(n instanceof Gu)await epe(n,e,r);else{let s=await e(n);i.push({bitField:t._children.bitField(),children:s})}return await r(i)}ee();ee();var v$e=[255,254,252,248,240,224,192,128],w$e=[1,3,7,15,31,63,127,255],_$e=class{constructor(t){this._value=t,this._currentBytePos=t.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+this._currentBytePos*8}totalBits(){return this._value.length*8}take(t){let e=t,r=0;for(;e>0&&this._haveBits();){let i=this._value[this._currentBytePos],n=this._currentBitPos+1,s=Math.min(n,e),o=E$e(i,n-s,s);r=(r<<s)+o,e-=s,this._currentBitPos-=s,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return r}untake(t){for(this._currentBitPos+=t;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}};function E$e(t,e,r){let i=S$e(e,r);return(t&i)>>>e}function S$e(t,e){return v$e[t]&w$e[Math.min(e+t-1,7)]}ee();function x$e(t,e){e==null&&(e=t.reduce((n,s)=>n+s.length,0));let r=Jhe(e),i=0;for(let n of t)r.set(n,i),i+=n.length;return nL(r)}function A$e(t){function e(r){return r instanceof Nfe?r:new Nfe(r,t)}return e}var Nfe=class{constructor(t,e){if(!(t instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=t,this._hashFn=e,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(t){let e=t;for(;this._availableBits<e;)await this._produceMoreBits();let r=0;for(;e>0;){let i=this._buffers[this._currentBufferIndex],n=Math.min(i.availableBits(),e),s=i.take(n);r=(r<<n)+s,e-=n,this._availableBits-=n,i.availableBits()===0&&this._currentBufferIndex++}return r}untake(t){let e=t;for(;e>0;){let r=this._buffers[this._currentBufferIndex],i=Math.min(r.totalBits()-r.availableBits(),e);r.untake(i),e-=i,this._availableBits+=i,this._currentBufferIndex>0&&r.totalBits()===r.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;let t=this._depth>0?x$e([this._value,Uint8Array.from([this._depth])]):this._value,e=await this._hashFn(t),r=new _$e(e);this._buffers.push(r),this._availableBits+=r.availableBits()}};function M$e(t){if(t==null||t.hashFn==null)throw new Error("please define an options.hashFn");let e={bits:t.bits??8,hash:A$e(t.hashFn)};return new Gu(e)}ee();var oL=vr(Oce(),1);function k$e(t){let e=new Array(4);for(let r=0;r<4;r++)e[r]=t&255,t=t>>8;return new Uint8Array(e)}var i2t=j_({name:"murmur3-32",code:35,encode:t=>k$e(oL.default.x86.hash32(t))}),T$e=j_({name:"murmur3-128",code:34,encode:t=>Zj.fromHex(oL.default.x64.hash128(t))}),n2t=j_({name:"murmur3-x64-64",code:34,encode:t=>Zj.fromHex(oL.default.x64.hash128(t)).subarray(0,8)});async function P$e(t){return(await T$e.encode(t)).slice(0,8).reverse()}var tpe=BigInt(34),D$e=class extends y_{constructor(t,e){super(t,e),this._bucket=M$e({hashFn:P$e,bits:8})}async put(t,e){this.cid=void 0,this.size=void 0,this.nodeSize=void 0,await this._bucket.put(t,e)}async get(t){return await this._bucket.get(t)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async*eachChildSeries(){for await(let{key:t,value:e}of this._bucket.eachLeafSeries())yield{key:t,child:e}}estimateNodeSize(){return this.nodeSize!==void 0?this.nodeSize:(this.nodeSize=ipe(this._bucket,this,this.options),this.nodeSize)}async*flush(t){for await(let e of rpe(this._bucket,t,this,this.options))yield{...e,path:this.path}}},I$e=D$e;async function*rpe(t,e,r,i){let n=t._children,s=[],o=0n;for(let m=0;m<n.length;m++){let g=n.get(m);if(g==null)continue;let E=m.toString(16).toUpperCase().padStart(2,"0");if(g instanceof Gu){let x;for await(let T of rpe(g,e,null,i))x=T;if(x==null)throw new Error("Could not flush sharded directory, no subshard found");s.push({Name:E,Tsize:Number(x.size),Hash:x.cid}),o+=x.size}else if(R$e(g.value)){let x=g.value,T;for await(let I of x.flush(e))T=I,yield T;if(T==null)throw new Error("Did not flush dir");let M=E+g.key;s.push({Name:M,Tsize:Number(T.size),Hash:T.cid}),o+=T.size}else{let x=g.value;if(x.cid==null)continue;let T=E+g.key,M=x.size;s.push({Name:T,Tsize:Number(M),Hash:x.cid}),o+=BigInt(M??0)}}let a=Uint8Array.from(n.bitField().reverse()),f=new Cp({type:"hamt-sharded-directory",data:a,fanout:BigInt(t.tableSize()),hashType:tpe,mtime:r?.mtime,mode:r?.mode}),c={Data:f.marshal(),Links:s},u=jp(Op(c)),l=await Nb(u,e,i),y=BigInt(u.byteLength)+o;yield{cid:l,unixfs:f,size:y}}function R$e(t){return typeof t.flush=="function"}function ipe(t,e,r){let i=t._children,n=[];for(let a=0;a<i.length;a++){let f=i.get(a);if(f==null)continue;let c=a.toString(16).toUpperCase().padStart(2,"0");if(f instanceof Gu){let u=ipe(f,null,r);n.push({Name:c,Tsize:Number(u),Hash:r.cidVersion===0?gO:bO})}else if(typeof f.value.flush=="function"){let u=f.value.nodeSize();n.push({Name:c+f.key,Tsize:Number(u),Hash:r.cidVersion===0?gO:bO})}else{let u=f.value;if(u.cid==null)continue;let l=c+f.key,y=u.size;n.push({Name:l,Tsize:Number(y),Hash:u.cid})}}let s=Uint8Array.from(i.bitField().reverse()),o=new Cp({type:"hamt-sharded-directory",data:s,fanout:BigInt(t.tableSize()),hashType:tpe,mtime:e?.mtime,mode:e?.mode});return jp(Op({Data:o.marshal(),Links:n})).length}async function npe(t,e,r,i){let n=e;e instanceof iL&&e.estimateNodeSize()>r&&(n=await B$e(e,i));let s=n.parent;if(s!=null){if(n!==e){if(t!=null&&(t.parent=n),n.parentKey==null)throw new Error("No parent key found");await s.put(n.parentKey,n)}return await npe(n,s,r,i)}return n}async function B$e(t,e){let r=new I$e({root:t.root,dir:!0,parent:t.parent,parentKey:t.parentKey,path:t.path,dirty:t.dirty,flat:!1,mtime:t.mtime,mode:t.mode},e);for await(let{key:i,child:n}of t.eachChildSeries())await r.put(i,n);return r}ee();var C$e=(t="")=>(t.trim().match(/([^\\/]|\\\/)+/g)??[]).filter(Boolean);async function O$e(t,e,r){let i=C$e(t.path??""),n=i.length-1,s=e,o="";for(let a=0;a<i.length;a++){let f=i[a];o+=`${o!==""?"/":""}${f}`;let c=a===n;if(s.dirty=!0,s.cid=void 0,s.size=void 0,c)await s.put(f,t),e=await npe(null,s,r.shardSplitThresholdBytes,r);else{let u=await s.get(f);(u==null||!(u instanceof y_))&&(u=new iL({root:!1,dir:!0,parent:s,parentKey:f,path:o,dirty:!0,flat:!0,mtime:u?.unixfs?.mtime,mode:u?.unixfs?.mode},r)),await s.put(f,u),s=u}}return e}async function*qfe(t,e){if(!(t instanceof y_)){t.unixfs?.isDirectory()===!0&&(yield t);return}yield*t.flush(e)}function j$e(t){return async function*(e,r){let i=new iL({root:!0,dir:!0,path:"",dirty:!0,flat:!0},t),n,s=!1;for await(let o of e){if(o==null)continue;let a=`${o.originalPath??""}`.split("/")[0];a!=null&&a!==""&&(n==null?(n=a,s=!0):n!==a&&(s=!1)),i=await O$e(o,i,t),(o.unixfs==null||!o.unixfs.isDirectory())&&(yield o)}if(t.wrapWithDirectory||s&&i.childCount()>1)yield*qfe(i,r);else for await(let o of i.eachChildSeries())o!=null&&(yield*qfe(o.child,r))}}ee();var zfe=vr(Wa(),1),L$e=()=>async function*(t){for await(let e of t){if(e.length===void 0)throw(0,zfe.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if(typeof e=="string"||e instanceof String)yield Qhe(e.toString());else if(Array.isArray(e))yield Uint8Array.from(e);else if(e instanceof Uint8Array)yield e;else throw(0,zfe.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}};ee();ee();ee();ee();ee();function sL(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function gp(t=0){return globalThis.Buffer?.alloc!=null?sL(globalThis.Buffer.alloc(t)):new Uint8Array(t)}function vO(t=0){return globalThis.Buffer?.allocUnsafe!=null?sL(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Ffe(t,e){e==null&&(e=t.reduce((n,s)=>n+s.length,0));let r=vO(e),i=0;for(let n of t)r.set(n,i),i+=n.length;return sL(r)}ee();function N$e(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var ope=Symbol.for("@achingbrain/uint8arraylist");function Ufe(t,e){if(e==null||e<0)throw new RangeError("index is out of bounds");let r=0;for(let i of t){let n=r+i.byteLength;if(e<n)return{buf:i,index:e-r};r=n}throw new RangeError("index is out of bounds")}function X7(t){return Boolean(t?.[ope])}var Sb=class{constructor(...t){Object.defineProperty(this,ope,{value:!0}),this.bufs=[],this.length=0,t.length>0&&this.appendAll(t)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...t){this.appendAll(t)}appendAll(t){let e=0;for(let r of t)if(r instanceof Uint8Array)e+=r.byteLength,this.bufs.push(r);else if(X7(r))e+=r.byteLength,this.bufs.push(...r.bufs);else throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");this.length+=e}prepend(...t){this.prependAll(t)}prependAll(t){let e=0;for(let r of t.reverse())if(r instanceof Uint8Array)e+=r.byteLength,this.bufs.unshift(r);else if(X7(r))e+=r.byteLength,this.bufs.unshift(...r.bufs);else throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");this.length+=e}get(t){let e=Ufe(this.bufs,t);return e.buf[e.index]}set(t,e){let r=Ufe(this.bufs,t);r.buf[r.index]=e}write(t,e=0){if(t instanceof Uint8Array)for(let r=0;r<t.length;r++)this.set(e+r,t[r]);else if(X7(t))for(let r=0;r<t.length;r++)this.set(e+r,t.get(r));else throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList")}consume(t){if(t=Math.trunc(t),!(Number.isNaN(t)||t<=0)){if(t===this.byteLength){this.bufs=[],this.length=0;return}for(;this.bufs.length>0;)if(t>=this.bufs[0].byteLength)t-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift();else{this.bufs[0]=this.bufs[0].subarray(t),this.length-=t;break}}}slice(t,e){let{bufs:r,length:i}=this._subList(t,e);return Ffe(r,i)}subarray(t,e){let{bufs:r,length:i}=this._subList(t,e);return r.length===1?r[0]:Ffe(r,i)}sublist(t,e){let{bufs:r,length:i}=this._subList(t,e),n=new Sb;return n.length=i,n.bufs=r,n}_subList(t,e){if(t=t??0,e=e??this.length,t<0&&(t=this.length+t),e<0&&(e=this.length+e),t<0||e>this.length)throw new RangeError("index is out of bounds");if(t===e)return{bufs:[],length:0};if(t===0&&e===this.length)return{bufs:[...this.bufs],length:this.length};let r=[],i=0;for(let n=0;n<this.bufs.length;n++){let s=this.bufs[n],o=i,a=o+s.byteLength;if(i=a,t>=a)continue;let f=t>=o&&t<a,c=e>o&&e<=a;if(f&&c){if(t===o&&e===a){r.push(s);break}let u=t-o;r.push(s.subarray(u,u+(e-t)));break}if(f){if(t===0){r.push(s);continue}r.push(s.subarray(t-o));continue}if(c){if(e===a){r.push(s);break}r.push(s.subarray(0,e-o));break}r.push(s)}return{bufs:r,length:e-t}}indexOf(t,e=0){if(!X7(t)&&!(t instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');let r=t instanceof Uint8Array?t:t.subarray();if(e=Number(e??0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),t.length===0)return e>this.length?this.length:e;let i=r.byteLength;if(i===0)throw new TypeError("search must be at least 1 byte long");let n=256,s=new Int32Array(n);for(let u=0;u<n;u++)s[u]=-1;for(let u=0;u<i;u++)s[r[u]]=u;let o=s,a=this.byteLength-r.byteLength,f=r.byteLength-1,c;for(let u=e;u<=a;u+=c){c=0;for(let l=f;l>=0;l--){let y=this.get(u+l);if(r[l]!==y){c=Math.max(1,l-o[y]);break}}if(c===0)return u}return-1}getInt8(t){let e=this.subarray(t,t+1);return new DataView(e.buffer,e.byteOffset,e.byteLength).getInt8(0)}setInt8(t,e){let r=vO(1);new DataView(r.buffer,r.byteOffset,r.byteLength).setInt8(0,e),this.write(r,t)}getInt16(t,e){let r=this.subarray(t,t+2);return new DataView(r.buffer,r.byteOffset,r.byteLength).getInt16(0,e)}setInt16(t,e,r){let i=gp(2);new DataView(i.buffer,i.byteOffset,i.byteLength).setInt16(0,e,r),this.write(i,t)}getInt32(t,e){let r=this.subarray(t,t+4);return new DataView(r.buffer,r.byteOffset,r.byteLength).getInt32(0,e)}setInt32(t,e,r){let i=gp(4);new DataView(i.buffer,i.byteOffset,i.byteLength).setInt32(0,e,r),this.write(i,t)}getBigInt64(t,e){let r=this.subarray(t,t+8);return new DataView(r.buffer,r.byteOffset,r.byteLength).getBigInt64(0,e)}setBigInt64(t,e,r){let i=gp(8);new DataView(i.buffer,i.byteOffset,i.byteLength).setBigInt64(0,e,r),this.write(i,t)}getUint8(t){let e=this.subarray(t,t+1);return new DataView(e.buffer,e.byteOffset,e.byteLength).getUint8(0)}setUint8(t,e){let r=vO(1);new DataView(r.buffer,r.byteOffset,r.byteLength).setUint8(0,e),this.write(r,t)}getUint16(t,e){let r=this.subarray(t,t+2);return new DataView(r.buffer,r.byteOffset,r.byteLength).getUint16(0,e)}setUint16(t,e,r){let i=gp(2);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint16(0,e,r),this.write(i,t)}getUint32(t,e){let r=this.subarray(t,t+4);return new DataView(r.buffer,r.byteOffset,r.byteLength).getUint32(0,e)}setUint32(t,e,r){let i=gp(4);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint32(0,e,r),this.write(i,t)}getBigUint64(t,e){let r=this.subarray(t,t+8);return new DataView(r.buffer,r.byteOffset,r.byteLength).getBigUint64(0,e)}setBigUint64(t,e,r){let i=gp(8);new DataView(i.buffer,i.byteOffset,i.byteLength).setBigUint64(0,e,r),this.write(i,t)}getFloat32(t,e){let r=this.subarray(t,t+4);return new DataView(r.buffer,r.byteOffset,r.byteLength).getFloat32(0,e)}setFloat32(t,e,r){let i=gp(4);new DataView(i.buffer,i.byteOffset,i.byteLength).setFloat32(0,e,r),this.write(i,t)}getFloat64(t,e){let r=this.subarray(t,t+8);return new DataView(r.buffer,r.byteOffset,r.byteLength).getFloat64(0,e)}setFloat64(t,e,r){let i=gp(8);new DataView(i.buffer,i.byteOffset,i.byteLength).setFloat64(0,e,r),this.write(i,t)}equals(t){if(t==null||!(t instanceof Sb)||t.bufs.length!==this.bufs.length)return!1;for(let e=0;e<this.bufs.length;e++)if(!N$e(this.bufs[e],t.bufs[e]))return!1;return!0}static fromUint8Arrays(t,e){let r=new Sb;return r.bufs=t,e==null&&(e=t.reduce((i,n)=>i+n.byteLength,0)),r.length=e,r}},q$e=262144,z$e=(t={})=>{let e=t.chunkSize??q$e;return async function*(r){let i=new Sb,n=0,s=!1;for await(let o of r)for(i.append(o),n+=o.length;n>=e;)if(yield i.slice(0,e),s=!0,e===i.length)i=new Sb,n=0;else{let a=new Sb;a.append(i.sublist(e)),i=a,n-=e}(!s||n>0)&&(yield i.subarray(0,n))}};ee();ee();var F$e=174;function U$e(t){let e=t?.maxChildrenPerNode??F$e;return async function r(i,n){let s=[];for await(let o of Ahe(i,e))s.push(await n(o));return s.length>1?await r(s,n):s[0]}}ee();ee();async function $$e(t){let e=[];for await(let r of t)e.push(r);return e}ee();ee();function V$e(t){return async function*(e,r){for await(let i of e.content)yield async()=>{t.progress?.(i.length,e.path);let n,s={codec:tL,cidVersion:t.cidVersion};return t.rawLeaves?(s.codec=Nhe,s.cidVersion=1):(n=new Cp({type:t.leafType,data:i}),i=jp({Data:n.marshal(),Links:[]})),{cid:await Nb(i,r,s),unixfs:n,size:BigInt(i.length)}}}}ee();var o2t=vr(Wa(),1);async function*wO(t,e,r={}){let i;Symbol.asyncIterator in t||Symbol.iterator in t?i=t:i=[t];let n=r.wrapWithDirectory??!1,s=r.shardSplitThresholdBytes??262144,o=r.cidVersion??1,a=r.rawLeaves??!0,f=r.leafType??"file",c=r.fileImportConcurrency??50,u=r.blockWriteConcurrency??10,l=r.reduceSingleLeafToSelf??!0,y=r.chunker??z$e(),m=r.chunkValidator??L$e(),g=r.dagBuilder??HUe({chunker:y,chunkValidator:m,wrapWithDirectory:n,layout:r.layout??U$e(),bufferImporter:r.bufferImporter??V$e({cidVersion:o,rawLeaves:a,leafType:f,progress:r.progress}),blockWriteConcurrency:u,reduceSingleLeafToSelf:l,cidVersion:o}),E=r.treeBuilder??j$e({wrapWithDirectory:n,shardSplitThresholdBytes:s,cidVersion:o});for await(let x of E(Mhe(g(i,e),c),e))yield{cid:x.cid,path:x.path,unixfs:x.unixfs,size:x.size}}ee();var spe={};wi(spe,{abortedError:()=>K$e,notFoundError:()=>fpe});ee();var ape=vr(Wa(),1);function fpe(t){return t=t||new Error("Not Found"),(0,ape.default)(t,"ERR_NOT_FOUND")}function K$e(t){return t=t||new Error("Aborted"),(0,ape.default)(t,"ERR_ABORTED")}ee();ee();async function $fe(t){for await(let e of t);}ee();async function*bb(t,e){for await(let r of t)await e(r)&&(yield r)}ee();async function*Vfe(t,e){let r=0;if(!(e<1)){for await(let i of t)if(yield i,r++,r===e)return}}var Kfe=(t,e)=>async function*(){yield*(await $$e(t)).sort(e)}(),H$e=class{open(){return Promise.reject(new Error(".open is not implemented"))}close(){return Promise.reject(new Error(".close is not implemented"))}put(t,e,r){return Promise.reject(new Error(".put is not implemented"))}get(t,e){return Promise.reject(new Error(".get is not implemented"))}has(t,e){return Promise.reject(new Error(".has is not implemented"))}delete(t,e){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(t,e={}){for await(let{key:r,value:i}of t)await this.put(r,i,e),yield{key:r,value:i}}async*getMany(t,e={}){for await(let r of t)yield this.get(r,e)}async*deleteMany(t,e={}){for await(let r of t)await this.delete(r,e),yield r}batch(){let t=[],e=[];return{put(r,i){t.push({key:r,value:i})},delete(r){e.push(r)},commit:async r=>{await $fe(this.putMany(t,r)),t=[],await $fe(this.deleteMany(e,r)),e=[]}}}async*_all(t,e){throw new Error("._all is not implemented")}async*_allKeys(t,e){throw new Error("._allKeys is not implemented")}query(t,e){let r=this._all(t,e);if(t.prefix!=null&&(r=bb(r,i=>i.key.toString().startsWith(t.prefix||""))),Array.isArray(t.filters)&&(r=t.filters.reduce((i,n)=>bb(i,n),r)),Array.isArray(t.orders)&&(r=t.orders.reduce((i,n)=>Kfe(i,n),r)),t.offset!=null){let i=0;r=bb(r,()=>i++>=(t.offset||0))}return t.limit!=null&&(r=Vfe(r,t.limit)),r}queryKeys(t,e){let r=this._allKeys(t,e);if(t.prefix!=null&&(r=bb(r,i=>i.toString().startsWith(t.prefix||""))),Array.isArray(t.filters)&&(r=t.filters.reduce((i,n)=>bb(i,n),r)),Array.isArray(t.orders)&&(r=t.orders.reduce((i,n)=>Kfe(i,n),r)),t.offset!=null){let i=0;r=bb(r,()=>i++>=t.offset)}return t.limit!=null&&(r=Vfe(r,t.limit)),r}};ee();var Hfe=class extends H$e{constructor(){super(),this.data={}}open(){return Promise.resolve()}close(){return Promise.resolve()}async put(t,e){this.data[Qu.encode(t.multihash.bytes)]=e}async get(t){if(!await this.has(t))throw fpe();return this.data[Qu.encode(t.multihash.bytes)]}async has(t){return this.data[Qu.encode(t.multihash.bytes)]!==void 0}async delete(t){delete this.data[Qu.encode(t.multihash.bytes)]}async*_all(){yield*Object.entries(this.data).map(([t,e])=>({key:Sr.createV1(p_,pO(Qu.decode(t))),value:e}))}async*_allKeys(){yield*Object.entries(this.data).map(([t])=>Sr.createV1(p_,pO(Qu.decode(t))))}},s2t={...spe},upe={[tc.code]:tc},cpe={[Jj]:D9};async function Ju(t,e=Jj,r=tc.code){let i=cpe[e];if(!i)throw new Error(`codec [${e}] not supported`);let n=upe[r];if(!n)throw new Error(`multihash code [${r}] not supported`);let s=i.encode(t),o=await n.digest(s);return(await Sr.createV1(i.code,o)).toString()}function lpe(t){let e=Sr.parse(t).toV1();if(!cpe[e.code])throw new Error(`codec [${e.code}] not supported`);if(!upe[e.multihash.code])throw new Error(`multihash code [${e.multihash.code}] not supported`);return e}var W$e=class{static async computeDagPbCidFromBytes(t){let e=wO([{content:t}],new Hfe,{cidVersion:1}),r;for await(r of e);return r?r.cid.toString():""}static async computeDagPbCidFromStream(t){let e=wO([{content:t}],new Hfe,{cidVersion:1}),r;for await(r of e);return r?r.cid.toString():""}};ee();ee();ee();ee();ee();function Y$e(t){return new Promise((e,r)=>{if(t.aborted){r(t.reason);return}t.addEventListener("abort",()=>{r(t.reason)})})}async function Ms(t,e){return t?Promise.race([e,Y$e(t)]):e}ee();ee();var ae=vr(Pje(),1),_O={};function bl(t,e){Object.defineProperty(t.prototype,Symbol.toStringTag,{value:e,writable:!1,enumerable:!1,configurable:!0});for(let r of Object.getOwnPropertyNames(t)){let i=Object.getOwnPropertyDescriptor(t,r);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(t,r,i))}for(let r of Object.getOwnPropertyNames(t.prototype)){let i=Object.getOwnPropertyDescriptor(t.prototype,r);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(t.prototype,r,i))}EO(e,t),EO(`${e}.prototype`,t.prototype)}function EO(t,e){let r=`%${t}%`;if(_O[r]!==void 0)throw new Error(`intrinsic ${t} already exists`);_O[r]=e}function Tt(t){return _O[t]}var kt="slot-epochNanoSeconds",_p="slot-timezone-identifier",Ke="slot-year",Je="slot-month",et="slot-day",Gt="slot-hour",Jt="slot-minute",Xt="slot-second",Qt="slot-millisecond",er="slot-microsecond",tr="slot-nanosecond",we="slot-calendar",os="slot-cached-instant",Yr="slot-time-zone",ks="slot-years",wo="slot-months",Qs="slot-weeks",Ts="slot-days",Ps="slot-hours",Ds="slot-minutes",Is="slot-seconds",Rs="slot-milliseconds",Bs="slot-microseconds",Cs="slot-nanoseconds",dn="slot-calendar-identifier",dpe=new WeakMap;function vl(t){dpe.set(t,Object.create(null))}function aL(t){return dpe.get(t)}function co(t,...e){if(!t||typeof t!="object")return!1;let r=aL(t);return!!r&&e.reduce((i,n)=>i&&n in r,!0)}function K(t,e){let r=aL(t)[e];if(r===void 0)throw new TypeError(`Missing internal slot ${e}`);return r}function ur(t,e,r){aL(t)[e]=r}var Wfe=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,Z$e=new RegExp(`(?:(?:${Wfe.source})(?:\\/(?:${Wfe.source}))*|Etc/GMT[-+]\\d{1,2}|${/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source})`),Yfe=/[A-Za-z0-9]{3,8}/,G$e=new RegExp(`(?:${Yfe.source}(?:-${Yfe.source})*)`),hpe=/(?:[+\u2212-]\d{6}|\d{4})/,z9=/(?:0[1-9]|1[0-2])/,SO=/(?:0[1-9]|[12]\d|3[01])/,J$e=new RegExp(`(${hpe.source})(?:-(${z9.source})-(${SO.source})|(${z9.source})(${SO.source}))`),ppe=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,ype=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,mpe=new RegExp(`(?:([zZ])|(?:${ype.source})?)(?:\\[(${Z$e.source})\\])?`),gpe=new RegExp(`\\[u-ca=(${G$e.source})\\]`),X$e=new RegExp(`^${J$e.source}(?:(?:T|\\s+)${ppe.source})?${mpe.source}(?:${gpe.source})?$`,"i"),Q$e=new RegExp(`^T?${ppe.source}(?:${mpe.source})?(?:${gpe.source})?$`,"i"),eVe=new RegExp(`^(${hpe.source})-?(${z9.source})$`),tVe=new RegExp(`^(?:--)?(${z9.source})-?(${SO.source})$`),FC=/(\d+)(?:[.,](\d{1,9}))?/,rVe=new RegExp(`(?:${FC.source}H)?(?:${FC.source}M)?(?:${FC.source}S)?`),iVe=new RegExp(`^([+\u2212-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${rVe.source})?$`,"i"),bpe=Array.prototype.includes,fL=Array.prototype.push,vpe=globalThis.Intl.DateTimeFormat,nVe=Math.min,oVe=Math.max,Dr=Math.abs,fo=Math.floor,m_=Math.sign,wb=Math.trunc,L_=Number.isNaN,Eo=Number.isFinite,sVe=Number,N_=String,aVe=Number.MAX_SAFE_INTEGER,wpe=Object.assign,zo=Object.create,fVe=Object.getOwnPropertyDescriptor,uVe=Object.is,uL=Reflect.apply,hn=ae.default.BigInt(0),cL=ae.default.BigInt(1),fm=ae.default.BigInt(60),Zr=ae.default.BigInt(1e3),xf=ae.default.BigInt(1e6),Cd=ae.default.BigInt(1e9),cVe=ae.default.BigInt(-1),Lp=ae.default.multiply(ae.default.BigInt(86400),Cd),g_=ae.default.multiply(ae.default.BigInt(-86400),ae.default.BigInt(1e17)),b_=ae.default.multiply(ae.default.BigInt(86400),ae.default.BigInt(1e17)),_pe=ae.default.multiply(ae.default.BigInt(-388152),ae.default.BigInt(1e13)),lVe=ae.default.multiply(Lp,ae.default.BigInt(3660)),Epe=ae.default.multiply(Lp,ae.default.BigInt(366)),Spe=ae.default.multiply(Lp,ae.default.BigInt(14)),dVe=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function xpe(t){if(typeof t!="number"||!Eo(t))return!1;let e=Dr(t);return fo(e)===e}function Ii(t){return typeof t=="object"&&t!==null||typeof t=="function"}function v_(t){if(typeof t=="bigint")throw new TypeError("Cannot convert BigInt to number");return sVe(t)}function Gr(t){let e=v_(t);if(L_(e))return 0;let r=wb(e);return e===0?0:r}function Nt(t){if(typeof t=="symbol")throw new TypeError("Cannot convert a Symbol value to a String");return N_(t)}function vi(t){let e=Gr(t);if(!Eo(e))throw new RangeError("infinity is out of range");return e}function w_(t,e){let r=Gr(t);if(!Eo(r))throw new RangeError("infinity is out of range");if(r<1)throw e!==void 0?new RangeError(`property '${e}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return r}function ao(t){let e=v_(t);if(L_(e))return 0;if(!Eo(e))throw new RangeError("infinity is out of range");if(!xpe(e))throw new RangeError(`unsupported fractional value ${e}`);return Gr(e)}function so(t,e){return{quotient:ae.default.divide(t,e),remainder:ae.default.remainder(t,e)}}function lL(t){return ae.default.lessThan(t,hn)?ae.default.multiply(t,cVe):t}function xO(t,...e){return fL.apply(t,e),t}var Zfe=new Map([["year",vi],["month",w_],["monthCode",Nt],["day",w_],["hour",vi],["minute",vi],["second",vi],["millisecond",vi],["microsecond",vi],["nanosecond",vi],["years",ao],["months",ao],["weeks",ao],["days",ao],["hours",ao],["minutes",ao],["seconds",ao],["milliseconds",ao],["microseconds",ao],["nanoseconds",ao],["era",Nt],["eraYear",Gr],["offset",Nt]]),hVe=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),fv=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],F9=new Map(fv.map(t=>[t[0],t[1]])),pVe=new Map(fv.map(([t,e])=>[e,t])),Gfe=fv.map(([,t])=>t),Jfe=Array.from(F9.keys()).sort(),Xfe=new Map;function Ape(t){let e=Xfe.get(t);return e===void 0&&(e=new vpe("en-us",{timeZone:N_(t),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),Xfe.set(t,e)),e}function Kn(t){return co(t,kt)&&!co(t,Yr,we)}function ol(t){return co(t,_p)}function ln(t){return co(t,dn)}function Yi(t){return co(t,ks,wo,Ts,Ps,Ds,Is,Rs,Bs,Cs)}function br(t){return co(t,"slot-date-brand")}function Zi(t){return co(t,Gt,Jt,Xt,Qt,er,tr)&&!co(t,Ke,Je,et)}function ar(t){return co(t,Ke,Je,et,Gt,Jt,Xt,Qt,er,tr)}function Lr(t){return co(t,"slot-year-month-brand")}function _o(t){return co(t,"slot-month-day-brand")}function wt(t){return co(t,kt,Yr,we)}function uv(t){if(co(t,we)||co(t,Yr))throw new TypeError("with() does not support a calendar or timeZone property");if(t.calendar!==void 0)throw new TypeError("with() does not support a calendar property");if(t.timeZone!==void 0)throw new TypeError("with() does not support a timeZone property")}function Mpe(t){let{ianaName:e,offset:r,z:i}=function(n){try{let s=bL(n);if(s)return{ianaName:s.toString()}}catch{}try{let s=wl(n);if(s.z||s.offset||s.ianaName)return s}catch{}throw new RangeError(`Invalid time zone: ${n}`)}(t);return e||(i?"UTC":r)}function q_(t,e){return e==="never"||e==="auto"&&t==="iso8601"?"":`[u-ca=${t}]`}function wl(t){let e=X$e.exec(t);if(!e)throw new RangeError(`invalid ISO 8601 string: ${t}`);let r=e[1];if(r[0]==="\u2212"&&(r=`-${r.slice(1)}`),r==="-000000")throw new RangeError(`invalid ISO 8601 string: ${t}`);let i=Gr(r),n=Gr(e[2]||e[4]),s=Gr(e[3]||e[5]),o=Gr(e[6]),a=e[6]!==void 0,f=Gr(e[7]||e[10]),c=Gr(e[8]||e[11]);c===60&&(c=59);let u=(e[9]||e[12])+"000000000",l=Gr(u.slice(0,3)),y=Gr(u.slice(3,6)),m=Gr(u.slice(6,9)),g,E=!1;if(e[13])g=void 0,E=!0;else if(e[14]&&e[15]){let M=e[14]==="-"||e[14]==="\u2212"?"-":"+",I=e[15]||"00",R=e[16]||"00",O=e[17]||"00",B=e[18]||"0";if(g=`${M}${I}:${R}`,+B){for(;B.endsWith("0");)B=B.slice(0,-1);g+=`:${O}.${B}`}else+O&&(g+=`:${O}`);g==="-00:00"&&(g="+00:00")}let x=e[19];if(x)try{x=bL(x).toString()}catch{}let T=e[20];return EL(i,n,s,o,f,c,l,y,m),{year:i,month:n,day:s,hasTime:a,hour:o,minute:f,second:c,millisecond:l,microsecond:y,nanosecond:m,ianaName:x,offset:g,z:E,calendar:T}}function kpe(t){let e=eVe.exec(t),r,i,n,s;if(e){let o=e[1];if(o[0]==="\u2212"&&(o=`-${o.slice(1)}`),o==="-000000")throw new RangeError(`invalid ISO 8601 string: ${t}`);r=Gr(o),i=Gr(e[2]),n=e[3]}else{let o;if({year:r,month:i,calendar:n,day:s,z:o}=wl(t),o)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:r,month:i,calendar:n,referenceISODay:s}}function Tpe(t){let e=tVe.exec(t),r,i,n,s;if(e)r=Gr(e[1]),i=Gr(e[2]);else{let o;if({month:r,day:i,calendar:n,year:s,z:o}=wl(t),o)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:r,day:i,calendar:n,referenceISOYear:s}}function yVe(t){let e=iVe.exec(t);if(!e)throw new RangeError(`invalid duration: ${t}`);if(e.slice(2).every(x=>x===void 0))throw new RangeError(`invalid duration: ${t}`);let r=e[1]==="-"||e[1]==="\u2212"?-1:1,i=Gr(e[2])*r,n=Gr(e[3])*r,s=Gr(e[4])*r,o=Gr(e[5])*r,a=Gr(e[6])*r,f=e[7],c=Gr(e[8])*r,u=e[9],l=Gr(e[10])*r,y=e[11]+"000000000",m=Gr(y.slice(0,3))*r,g=Gr(y.slice(3,6))*r,E=Gr(y.slice(6,9))*r;return f=f?r*Gr(f)/10**f.length:0,u=u?r*Gr(u)/10**u.length:0,{minutes:c,seconds:l,milliseconds:m,microseconds:g,nanoseconds:E}=function(x,T,M,I,R,O,B){let C=x,U=T,W=M,L=I,j=R,k=O,P=B;if(C!==0){[U,W,L,j,k,P].forEach(d=>{if(d!==0)throw new RangeError("only the smallest unit can be fractional")});let p=60*C;U=wb(p),W=p%1}if(W!==0){[L,j,k,P].forEach(h=>{if(h!==0)throw new RangeError("only the smallest unit can be fractional")});let p=60*W;L=wb(p);let d=p%1;if(d!==0){let h=1e3*d;j=wb(h);let b=h%1;if(b!==0){let v=1e3*b;k=wb(v);let w=v%1;w!==0&&(P=wb(1e3*w))}}}return{minutes:U,seconds:L,milliseconds:j,microseconds:k,nanoseconds:P}}(f,c,u,l,m,g,E),VS(i,n,s,o,a,c,l,m,g,E),{years:i,months:n,weeks:s,days:o,hours:a,minutes:c,seconds:l,milliseconds:m,microseconds:g,nanoseconds:E}}function mVe(t){let{year:e,month:r,day:i,hour:n,minute:s,second:o,millisecond:a,microsecond:f,nanosecond:c,offset:u,z:l}=function(g){let E=wl(g);if(!E.z&&!E.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return E}(t);if(!l&&!u)throw new RangeError("Temporal.Instant requires a time zone offset");let y=l?0:gm(u);({year:e,month:r,day:i,hour:n,minute:s,second:o,millisecond:a,microsecond:f,nanosecond:c}=wL(e,r,i,n,s,o,a,f,c-y));let m=zp(e,r,i,n,s,o,a,f,c);if(m===null)throw new RangeError("DateTime outside of supported range");return m}function U9(t,e,r,i){let n=t,s=e,o=r;switch(i){case"reject":dl(n,s,o);break;case"constrain":({year:n,month:s,day:o}=$pe(n,s,o))}return{year:n,month:s,day:o}}function IS(t,e,r,i,n,s,o){let a=t,f=e,c=r,u=i,l=n,y=s;switch(o){case"reject":$S(a,f,c,u,l,y);break;case"constrain":({hour:a,minute:f,second:c,millisecond:u,microsecond:l,nanosecond:y}=function(m,g,E,x,T,M){let I=_a(m,0,23),R=_a(g,0,59),O=_a(E,0,59),B=_a(x,0,999),C=_a(T,0,999),U=_a(M,0,999);return{hour:I,minute:R,second:O,millisecond:B,microsecond:C,nanosecond:U}}(a,f,c,u,l,y))}return{hour:a,minute:f,second:c,millisecond:u,microsecond:l,nanosecond:y}}function Dm(t){if(!Ii(t))return yVe(Nt(t));if(Yi(t))return{years:K(t,ks),months:K(t,wo),weeks:K(t,Qs),days:K(t,Ts),hours:K(t,Ps),minutes:K(t,Ds),seconds:K(t,Is),milliseconds:K(t,Rs),microseconds:K(t,Bs),nanoseconds:K(t,Cs)};let e={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0},r=function(m){if(!Ii(m))throw new TypeError("invalid duration-like");let g={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0},E=!1;for(let x of Jfe){let T=m[x];T!==void 0&&(E=!0,g[x]=ao(T))}if(!E)throw new TypeError("invalid duration-like");return g}(t);for(let m of Jfe){let g=r[m];g!==void 0&&(e[m]=g)}let{years:i,months:n,weeks:s,days:o,hours:a,minutes:f,seconds:c,milliseconds:u,microseconds:l,nanoseconds:y}=e;return VS(i,n,s,o,a,f,c,u,l,y),{years:i,months:n,weeks:s,days:o,hours:a,minutes:f,seconds:c,milliseconds:u,microseconds:l,nanoseconds:y}}function yn(t){return t===void 0?"constrain":Up(t,"overflow",["constrain","reject"],"constrain")}function __(t){return t===void 0?"compatible":Up(t,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function ea(t,e){return Up(t,"roundingMode",["ceil","floor","trunc","halfExpand"],e)}function z_(t){switch(t){case"ceil":return"floor";case"floor":return"ceil";default:return t}}function AO(t,e){return t===void 0?e:Up(t,"offset",["prefer","use","ignore","reject"],e)}function F_(t){return Up(t,"calendarName",["auto","always","never"],"auto")}function Fd(t,e,r){let i=1/0;e!==void 0&&(i=e),r||e===void 0||(i=e>1?e-1:1);let n=function(s,o,a,f,c){let u=s[o];if(u===void 0)return c;let l=v_(u);if(L_(l)||l<a||l>f)throw new RangeError(`${String(o)} must be between ${a} and ${f}, not ${l}`);return fo(l)}(t,"roundingIncrement",1,i,1);if(e!==void 0&&e%n!=0)throw new RangeError(`Rounding increment must divide evenly into ${e}`);return n}function dL(t,e){return Fd(t,{year:void 0,month:void 0,week:void 0,day:void 0,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[e],!1)}function U_(t){let e=uo(t,"smallestUnit","time",void 0);if(e==="hour"){let n=fv.reduce((s,[o,a,f])=>(f==="time"&&a!=="hour"&&s.push(a,o),s),[]);throw new RangeError(`smallestUnit must be one of ${n.join(", ")}, not ${e}`)}switch(e){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}let r=t.fractionalSecondDigits;if(r===void 0&&(r="auto"),typeof r!="number"){let n=Nt(r);if(n==="auto")return{precision:"auto",unit:"nanosecond",increment:1};throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${n}`)}if(L_(r)||r<0||r>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${r}`);let i=fo(r);switch(i){case 0:return{precision:i,unit:"second",increment:1};case 1:case 2:case 3:return{precision:i,unit:"millisecond",increment:10**(3-i)};case 4:case 5:case 6:return{precision:i,unit:"microsecond",increment:10**(6-i)};case 7:case 8:case 9:return{precision:i,unit:"nanosecond",increment:10**(9-i)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${r}`)}}var pm=Symbol("~required~");function uo(t,e,r,i,n=[]){let s=[];for(let[,c,u]of fv)r!=="datetime"&&r!==u||s.push(c);s.push(...n);let o=i;o===pm?o=void 0:o!==void 0&&s.push(o);let a=[...s];for(let c of s){let u=pVe.get(c);u!==void 0&&a.push(u)}let f=Up(t,e,a,o);if(f===void 0&&i===pm)throw new RangeError(`${e} is required`);return F9.has(f)?F9.get(f):f}function v9(t){let e=t.relativeTo;if(e===void 0)return e;let r,i,n,s,o,a,f,c,u,l,y,m,g="option",E=!1;if(Ii(e)){if(wt(e)||br(e))return e;if(ar(e))return zb(e);l=cv(e);let x=dr(e,On(l,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]),T=zo(null);T.overflow="constrain",{year:r,month:i,day:n,hour:s,minute:o,second:a,millisecond:f,microsecond:c,nanosecond:u}=$_(l,x,T),m=e.offset,m===void 0&&(g="wall"),y=e.timeZone}else{let x,T;({year:r,month:i,day:n,hour:s,minute:o,second:a,millisecond:f,microsecond:c,nanosecond:u,calendar:l,ianaName:x,offset:m,z:T}=wl(Nt(e))),x&&(y=x),T?g="exact":m||(g="wall"),l||(l=mn()),l=xo(l),E=!0}if(y!==void 0){y=qs(y);let x=0;return g==="option"&&(x=gm(Nt(m))),Lo(V9(r,i,n,s,o,a,f,c,u,g,x,y,"compatible","reject",E),y,l)}return uu(r,i,n,l)}function MO(t,e,r,i,n,s,o,a,f,c){for(let[u,l]of[["years",t],["months",e],["weeks",r],["days",i],["hours",n],["minutes",s],["seconds",o],["milliseconds",a],["microseconds",f],["nanoseconds",c]])if(l!==0)return F9.get(u);return"nanosecond"}function Sa(t,e){return Gfe.indexOf(t)>Gfe.indexOf(e)?e:t}function RS(t,e){let r=t;return r===void 0&&(r=zo(null)),wpe(zo(null),r,{largestUnit:e})}function dr(t,e,r,{emptySourceErrorMessage:i}={emptySourceErrorMessage:"no supported properties found"}){let n=zo(null),s=!1;for(let o of e){let a=t[o];if(a!==void 0)s=!0,Zfe.has(o)&&(a=Zfe.get(o)(a)),n[o]=a;else if(r!=="partial"){if(bpe.call(r,o))throw new TypeError(`required property '${o}' missing or undefined`);a=hVe.get(o),n[o]=a}}if(r==="partial"&&!s)throw new TypeError(i);if(n.era===void 0!=(n.eraYear===void 0))throw new RangeError("properties 'era' and 'eraYear' must be provided together");return n}function $9(t,e="complete"){let r=["hour","microsecond","millisecond","minute","nanosecond","second"],i=dr(t,r,"partial",{emptySourceErrorMessage:"invalid time-like"}),n={};for(let s of r){let o=fVe(i,s);o!==void 0?n[s]=o.value:e==="complete"&&(n[s]=0)}return n}function bi(t,e){let r=t;if(Ii(r)){if(br(r))return r;if(wt(r)&&(yn(e),r=Ha(K(r,Yr),K(r,os),K(r,we))),ar(r))return yn(e),uu(K(r,Ke),K(r,Je),K(r,et),K(r,we));let f=cv(r);return qp(f,dr(r,On(f,["day","month","monthCode","year"]),[]),e)}yn(e);let{year:i,month:n,day:s,calendar:o,z:a}=function(f){return wl(f)}(Nt(r));if(a)throw new RangeError("Z designator not supported for PlainDate");return new(Tt("%Temporal.PlainDate%"))(i,n,s,o)}function $_(t,e,r){let{hour:i,minute:n,second:s,millisecond:o,microsecond:a,nanosecond:f}=$9(e),c=yn(r),u=qp(t,e,r),l=K(u,Ke),y=K(u,Je),m=K(u,et);return{hour:i,minute:n,second:s,millisecond:o,microsecond:a,nanosecond:f}=IS(i,n,s,o,a,f,c),{year:l,month:y,day:m,hour:i,minute:n,second:s,millisecond:o,microsecond:a,nanosecond:f}}function nm(t,e){let r,i,n,s,o,a,f,c,u,l;if(Ii(t)){if(ar(t))return t;if(wt(t))return yn(e),Ha(K(t,Yr),K(t,os),K(t,we));if(br(t))return yn(e),wa(K(t,Ke),K(t,Je),K(t,et),0,0,0,0,0,0,K(t,we));l=cv(t);let y=dr(t,On(l,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:r,month:i,day:n,hour:s,minute:o,second:a,millisecond:f,microsecond:c,nanosecond:u}=$_(l,y,e))}else{let y;if(yn(e),{year:r,month:i,day:n,hour:s,minute:o,second:a,millisecond:f,microsecond:c,nanosecond:u,calendar:l,z:y}=function(m){return wl(m)}(Nt(t)),y)throw new RangeError("Z designator not supported for PlainDateTime");EL(r,i,n,s,o,a,f,c,u),l===void 0&&(l=mn()),l=xo(l)}return wa(r,i,n,s,o,a,f,c,u,l)}function xb(t){if(Yi(t))return t;let{years:e,months:r,weeks:i,days:n,hours:s,minutes:o,seconds:a,milliseconds:f,microseconds:c,nanoseconds:u}=Dm(t);return new(Tt("%Temporal.Duration%"))(e,r,i,n,s,o,a,f,c,u)}function ul(t){if(Kn(t))return t;if(wt(t))return new(Tt("%Temporal.Instant%"))(K(t,kt));let e=mVe(Nt(t));return new(Tt("%Temporal.Instant%"))(e)}function Qfe(t,e){let r=t;if(Ii(r)){if(_o(r))return r;let f,c;if(co(r,we))f=K(r,we),c=!1;else{let l=r.calendar;c=l===void 0,l===void 0&&(l=mn()),f=xo(l)}r=r;let u=dr(r,On(f,["day","month","monthCode","year"]),[]);return c&&u.month!==void 0&&u.monthCode===void 0&&u.year===void 0&&(u.year=1972),qb(f,u,e)}yn(e);let{month:i,day:n,referenceISOYear:s,calendar:o}=Tpe(Nt(r)),a=o;return a===void 0&&(a=mn()),a=xo(a),s===void 0?(dl(1972,i,n),E_(i,n,a)):qb(a,E_(i,n,a,s))}function Bd(t,e="constrain"){let r,i,n,s,o,a,f,c=t;if(Ii(c)){if(Zi(c))return c;if(wt(c)&&(c=Ha(K(c,Yr),K(c,os),K(c,we))),ar(c))return new(Tt("%Temporal.PlainTime%"))(K(c,Gt),K(c,Jt),K(c,Xt),K(c,Qt),K(c,er),K(c,tr));if(f=cv(c),Nt(f)!=="iso8601")throw new RangeError("PlainTime can only have iso8601 calendar");({hour:r,minute:i,second:n,millisecond:s,microsecond:o,nanosecond:a}=$9(c)),{hour:r,minute:i,second:n,millisecond:s,microsecond:o,nanosecond:a}=IS(r,i,n,s,o,a,e)}else if({hour:r,minute:i,second:n,millisecond:s,microsecond:o,nanosecond:a,calendar:f}=function(u){let l=Q$e.exec(u),y,m,g,E,x,T,M;if(l){y=Gr(l[1]),m=Gr(l[2]||l[5]),g=Gr(l[3]||l[6]),g===60&&(g=59);let I=(l[4]||l[7])+"000000000";E=Gr(I.slice(0,3)),x=Gr(I.slice(3,6)),T=Gr(I.slice(6,9)),M=l[15]}else{let I,R;if({hasTime:R,hour:y,minute:m,second:g,millisecond:E,microsecond:x,nanosecond:T,calendar:M,z:I}=wl(u),!R)throw new RangeError(`time is missing in string: ${u}`);if(I)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(u))return{hour:y,minute:m,second:g,millisecond:E,microsecond:x,nanosecond:T,calendar:M};try{let{month:I,day:R}=Tpe(u);dl(1972,I,R)}catch{try{let{year:I,month:R}=kpe(u);dl(I,R,1)}catch{return{hour:y,minute:m,second:g,millisecond:E,microsecond:x,nanosecond:T,calendar:M}}}throw new RangeError(`invalid ISO 8601 time-only string ${u}; may need a T prefix`)}(Nt(c)),$S(r,i,n,s,o,a),f!==void 0&&f!=="iso8601")throw new RangeError("PlainTime can only have iso8601 calendar");return new(Tt("%Temporal.PlainTime%"))(r,i,n,s,o,a)}function J3(t,e){if(Ii(t)){if(Lr(t))return t;let a=cv(t);return mm(a,dr(t,On(a,["month","monthCode","year"]),[]),e)}yn(e);let{year:r,month:i,referenceISODay:n,calendar:s}=kpe(Nt(t)),o=s;return o===void 0&&(o=mn()),o=xo(o),n===void 0?(dl(r,i,1),S_(r,i,o)):mm(o,S_(r,i,o,n))}function V9(t,e,r,i,n,s,o,a,f,c,u,l,y,m,g){let E=new(Tt("%Temporal.PlainDateTime%"))(t,e,r,i,n,s,o,a,f);if(c==="wall"||m==="ignore")return K(Ls(l,E,y),kt);if(c==="exact"||m==="use"){let T=zp(t,e,r,i,n,s,o,a,f);if(T===null)throw new RangeError("ZonedDateTime outside of supported range");return ae.default.subtract(T,ae.default.BigInt(u))}let x=K9(l,E);for(let T of x){let M=ic(l,T),I=ae.default.toNumber(va(ae.default.BigInt(M),6e10,"halfExpand"));if(M===u||g&&I===u)return K(T,kt)}if(m==="reject"){let T=vL(u),M=ol(l)?K(l,_p):"time zone";throw new RangeError(`Offset ${T} is invalid for ${E.toString()} in ${M}`)}return K(jpe(x,l,E,y),kt)}function X3(t,e){let r,i,n,s,o,a,f,c,u,l,y,m,g=!1,E="option";if(Ii(t)){if(wt(t))return t;m=cv(t);let T=dr(t,xO(On(m,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),"timeZone","offset"),["timeZone"]);({year:r,month:i,day:n,hour:s,minute:o,second:a,millisecond:f,microsecond:c,nanosecond:u}=$_(m,T,e)),l=qs(T.timeZone),y=T.offset,y===void 0?E="wall":y=Nt(y)}else{let T,M;if(yn(e),{year:r,month:i,day:n,hour:s,minute:o,second:a,millisecond:f,microsecond:c,nanosecond:u,ianaName:T,offset:y,z:M,calendar:m}=function(I){let R=wl(I);if(!R.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return R}(Nt(t)),!T)throw new RangeError("time zone ID required in brackets");M?E="exact":y||(E="wall"),l=new(Tt("%Temporal.TimeZone%"))(T),m||(m=mn()),m=xo(m),g=!0}let x=0;return E==="option"&&(x=gm(y)),Lo(V9(r,i,n,s,o,a,f,c,u,E,x,l,__(e),AO(e,"reject"),g),l,m)}function Ppe(t,e,r,i,n){dl(e,r,i),Vpe(e,r,i),vl(t),ur(t,Ke,e),ur(t,Je,r),ur(t,et,i),ur(t,we,n),ur(t,"slot-date-brand",!0)}function uu(t,e,r,i=mn()){let n=Tt("%Temporal.PlainDate%"),s=zo(n.prototype);return Ppe(s,t,e,r,i),s}function Dpe(t,e,r,i,n,s,o,a,f,c,u){EL(e,r,i,n,s,o,a,f,c),Kpe(e,r,i,n,s,o,a,f,c),vl(t),ur(t,Ke,e),ur(t,Je,r),ur(t,et,i),ur(t,Gt,n),ur(t,Jt,s),ur(t,Xt,o),ur(t,Qt,a),ur(t,er,f),ur(t,tr,c),ur(t,we,u)}function wa(t,e,r,i,n,s,o,a,f,c=mn()){let u=Tt("%Temporal.PlainDateTime%"),l=zo(u.prototype);return Dpe(l,t,e,r,i,n,s,o,a,f,c),l}function Ipe(t,e,r,i,n){dl(n,e,r),Vpe(n,e,r),vl(t),ur(t,Je,e),ur(t,et,r),ur(t,Ke,n),ur(t,we,i),ur(t,"slot-month-day-brand",!0)}function E_(t,e,r=mn(),i=1972){let n=Tt("%Temporal.PlainMonthDay%"),s=zo(n.prototype);return Ipe(s,t,e,r,i),s}function Rpe(t,e,r,i,n){dl(e,r,n),function(s,o){No(s,-271821,275760),s===-271821?No(o,4,12):s===275760&&No(o,1,9)}(e,r),vl(t),ur(t,Ke,e),ur(t,Je,r),ur(t,et,n),ur(t,we,i),ur(t,"slot-year-month-brand",!0)}function S_(t,e,r=mn(),i=1){let n=Tt("%Temporal.PlainYearMonth%"),s=zo(n.prototype);return Rpe(s,t,e,r,i),s}function Bpe(t,e,r,i){rm(e),vl(t),ur(t,kt,e),ur(t,Yr,r),ur(t,we,i);let n=new(Tt("%Temporal.Instant%"))(K(t,kt));ur(t,os,n)}function Lo(t,e,r=mn()){let i=Tt("%Temporal.ZonedDateTime%"),n=zo(i.prototype);return Bpe(n,t,e,r),n}function mn(){return new(Tt("%Temporal.Calendar%"))("iso8601")}function On(t,e){let r=e;t.fields&&(r=t.fields(r));let i=[];for(let n of r){if(typeof n!="string")throw new TypeError("bad return from calendar.fields()");fL.call(i,n)}return i}function ym(t,e,r){let i=t.mergeFields;if(!i)return{...e,...r};let n=Reflect.apply(i,t,[e,r]);if(!Ii(n))throw new TypeError("bad return from calendar.mergeFields()");return n}function js(t,e,r,i,n){let s=n;s===void 0&&(s=t.dateAdd);let o=uL(s,t,[e,r,i]);if(!br(o))throw new TypeError("invalid result");return o}function Np(t,e,r,i,n){let s=n;s===void 0&&(s=t.dateUntil);let o=uL(s,t,[e,r,i]);if(!Yi(o))throw new TypeError("invalid result");return o}function BS(t,e){let r=t.year(e);if(r===void 0)throw new RangeError("calendar year result must be an integer");return vi(r)}function CS(t,e){let r=t.month(e);if(r===void 0)throw new RangeError("calendar month result must be a positive integer");return w_(r)}function V_(t,e){let r=t.monthCode(e);if(r===void 0)throw new RangeError("calendar monthCode result must be a string");return Nt(r)}function OS(t,e){let r=t.day(e);if(r===void 0)throw new RangeError("calendar day result must be a positive integer");return w_(r)}function jS(t,e){let r=t.era(e);return r!==void 0&&(r=Nt(r)),r}function LS(t,e){let r=t.eraYear(e);return r!==void 0&&(r=vi(r)),r}function hL(t,e){return t.dayOfWeek(e)}function pL(t,e){return t.dayOfYear(e)}function yL(t,e){return t.weekOfYear(e)}function mL(t,e){return t.daysInWeek(e)}function K_(t,e){return t.daysInMonth(e)}function NS(t,e){return t.daysInYear(e)}function qS(t,e){return t.monthsInYear(e)}function zS(t,e){return t.inLeapYear(e)}function xo(t){let e=t;if(Ii(e)){if(co(e,we))return K(e,we);if(!("calendar"in e)||(e=e.calendar,Ii(e)&&!("calendar"in e)))return e}let r=Nt(e),i=Tt("%Temporal.Calendar%");if(Jpe(r))return new i(r);let n;try{({calendar:n}=wl(r))}catch{throw new RangeError(`Invalid calendar: ${r}`)}return n||(n="iso8601"),new i(n)}function cv(t){if(co(t,we))return K(t,we);let{calendar:e}=t;return e===void 0?mn():xo(e)}function H_(t,e){return t===e?!0:Nt(t)===Nt(e)}function Cpe(t,e){if(t===e)return e;let r=Nt(t),i=Nt(e);if(r===i||r==="iso8601")return e;if(i==="iso8601")return t;throw new RangeError("irreconcilable calendars")}function qp(t,e,r){let i=t.dateFromFields(e,r);if(!br(i))throw new TypeError("invalid result");return i}function mm(t,e,r){let i=t.yearMonthFromFields(e,r);if(!Lr(i))throw new TypeError("invalid result");return i}function qb(t,e,r){let i=t.monthDayFromFields(e,r);if(!_o(i))throw new TypeError("invalid result");return i}function qs(t){let e=t;if(Ii(e)){if(wt(e))return K(e,Yr);if(!("timeZone"in e)||(e=e.timeZone,Ii(e)&&!("timeZone"in e)))return e}let r=Mpe(Nt(e));return new(Tt("%Temporal.TimeZone%"))(r)}function Ope(t,e){return t===e?!0:Nt(t)===Nt(e)}function zb(t){return uu(K(t,Ke),K(t,Je),K(t,et),K(t,we))}function gL(t){return new(Tt("%Temporal.PlainTime%"))(K(t,Gt),K(t,Jt),K(t,Xt),K(t,Qt),K(t,er),K(t,tr))}function ic(t,e){let r=t.getOffsetNanosecondsFor;if(typeof r!="function")throw new TypeError("getOffsetNanosecondsFor not callable");let i=Reflect.apply(r,t,[e]);if(typeof i!="number")throw new TypeError("bad return from getOffsetNanosecondsFor");if(!xpe(i)||Dr(i)>864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return i}function kO(t,e){return vL(ic(t,e))}function Ha(t,e,r){let i=K(e,kt),n=ic(t,e),{year:s,month:o,day:a,hour:f,minute:c,second:u,millisecond:l,microsecond:y,nanosecond:m}=Npe(i);return{year:s,month:o,day:a,hour:f,minute:c,second:u,millisecond:l,microsecond:y,nanosecond:m}=wL(s,o,a,f,c,u,l,y,m+n),wa(s,o,a,f,c,u,l,y,m,r)}function Ls(t,e,r){return jpe(K9(t,e),t,e,r)}function jpe(t,e,r,i){let n=Tt("%Temporal.Instant%"),s=t.length;if(s===1)return t[0];if(s)switch(i){case"compatible":case"earlier":return t[0];case"later":return t[s-1];case"reject":throw new RangeError("multiple instants found")}let o=K(r,Ke),a=K(r,Je),f=K(r,et),c=K(r,Gt),u=K(r,Jt),l=K(r,Xt),y=K(r,Qt),m=K(r,er),g=K(r,tr),E=zp(o,a,f,c,u,l,y,m,g);if(E===null)throw new RangeError("DateTime outside of supported range");let x=new n(ae.default.subtract(E,Lp)),T=new n(ae.default.add(E,Lp)),M=ic(e,x),I=ic(e,T)-M;switch(i){case"earlier":{let R=K(r,we),O=Tt("%Temporal.PlainDateTime%"),B=PO(o,a,f,c,u,l,y,m,g,R,0,0,0,0,0,0,0,0,0,-I,void 0);return K9(e,new O(B.year,B.month,B.day,B.hour,B.minute,B.second,B.millisecond,B.microsecond,B.nanosecond,R))[0]}case"compatible":case"later":{let R=K(r,we),O=Tt("%Temporal.PlainDateTime%"),B=PO(o,a,f,c,u,l,y,m,g,R,0,0,0,0,0,0,0,0,0,I,void 0),C=K9(e,new O(B.year,B.month,B.day,B.hour,B.minute,B.second,B.millisecond,B.microsecond,B.nanosecond,R));return C[C.length-1]}case"reject":throw new RangeError("no such instant found")}}function K9(t,e){let r=t.getPossibleInstantsFor(e),i=[];for(let n of r){if(!Kn(n))throw new TypeError("bad return from getPossibleInstantsFor");fL.call(i,n)}return i}function Im(t){let e;return t<0||t>9999?e=(t<0?"-":"+")+`000000${Dr(t)}`.slice(-6):e=`0000${t}`.slice(-4),e}function zi(t){return`00${t}`.slice(-2)}function FS(t,e,r,i,n){if(n==="minute")return"";let s=`:${zi(t)}`,o,a=1e6*e+1e3*r+i;if(n==="auto"){if(a===0)return s;for(o=`${a}`.padStart(9,"0");o[o.length-1]==="0";)o=o.slice(0,-1)}else{if(n===0)return s;o=`${a}`.padStart(9,"0").slice(0,n)}return`${s}.${o}`}function eue(t,e,r){let i=e;i===void 0&&(i=new(Tt("%Temporal.TimeZone%"))("UTC"));let n=Ha(i,t,mn()),s=Im(K(n,Ke)),o=zi(K(n,Je)),a=zi(K(n,et)),f=zi(K(n,Gt)),c=zi(K(n,Jt)),u=FS(K(n,Xt),K(n,Qt),K(n,er),K(n,tr),r),l="Z";return e!==void 0&&(l=Lpe(ic(i,t))),`${s}-${o}-${a}T${f}:${c}${u}${l}`}function UC(t,e="auto",r){function i(W){return W<=aVe?W.toString(10):ae.default.BigInt(W).toString(10)}let n=K(t,ks),s=K(t,wo),o=K(t,Qs),a=K(t,Ts),f=K(t,Ps),c=K(t,Ds),u=K(t,Is),l=K(t,Rs),y=K(t,Bs),m=K(t,Cs),g=ll(n,s,o,a,f,c,u,l,y,m);if(r){let{unit:W,increment:L,roundingMode:j}=r;({seconds:u,milliseconds:l,microseconds:y,nanoseconds:m}=Fp(0,0,0,0,0,0,u,l,y,m,L,W,j))}let E=[];n&&E.push(`${i(Dr(n))}Y`),s&&E.push(`${i(Dr(s))}M`),o&&E.push(`${i(Dr(o))}W`),a&&E.push(`${i(Dr(a))}D`);let x=[];f&&x.push(`${i(Dr(f))}H`),c&&x.push(`${i(Dr(c))}M`);let T=[],M,I,R,O,B=Fb(0,0,0,u,l,y,m,0);({quotient:B,remainder:M}=so(B,Zr)),{quotient:B,remainder:I}=so(B,Zr),{quotient:O,remainder:R}=so(B,Zr);let C=1e6*Dr(ae.default.toNumber(R))+1e3*Dr(ae.default.toNumber(I))+Dr(ae.default.toNumber(M)),U;if(e==="auto"){if(C!==0)for(U=`${C}`.padStart(9,"0");U[U.length-1]==="0";)U=U.slice(0,-1)}else e!==0&&(U=`${C}`.padStart(9,"0").slice(0,e));return U&&T.unshift(".",U),ae.default.equal(O,hn)&&!T.length&&e==="auto"||T.unshift(lL(O).toString()),T.length&&x.push(`${T.join("")}S`),x.length&&x.unshift("T"),E.length||x.length?`${g<0?"-":""}P${E.join("")}${x.join("")}`:"PT0S"}function tue(t,e="auto"){return`${Im(K(t,Ke))}-${zi(K(t,Je))}-${zi(K(t,et))}${q_(Nt(K(t,we)),e)}`}function rue(t,e,r="auto",i){let n=K(t,Ke),s=K(t,Je),o=K(t,et),a=K(t,Gt),f=K(t,Jt),c=K(t,Xt),u=K(t,Qt),l=K(t,er),y=K(t,tr);if(i){let{unit:m,increment:g,roundingMode:E}=i;({year:n,month:s,day:o,hour:a,minute:f,second:c,millisecond:u,microsecond:l,nanosecond:y}=ML(n,s,o,a,f,c,u,l,y,g,m,E))}return`${Im(n)}-${zi(s)}-${zi(o)}T${zi(a)}:${zi(f)}${FS(c,u,l,y,e)}${q_(Nt(K(t,we)),r)}`}function iue(t,e="auto"){let r=`${zi(K(t,Je))}-${zi(K(t,et))}`,i=Nt(K(t,we));(e==="always"||i!=="iso8601")&&(r=`${Im(K(t,Ke))}-${r}`);let n=q_(i,e);return n&&(r+=n),r}function nue(t,e="auto"){let r=`${Im(K(t,Ke))}-${zi(K(t,Je))}`,i=Nt(K(t,we));(e==="always"||i!=="iso8601")&&(r+=`-${zi(K(t,et))}`);let n=q_(i,e);return n&&(r+=n),r}function oue(t,e,r="auto",i="auto",n="auto",s){let o=K(t,os);if(s){let{unit:u,increment:l,roundingMode:y}=s,m=W9(K(t,kt),l,u,y);o=new(Tt("%Temporal.Instant%"))(m)}let a=K(t,Yr),f=Ha(a,o,mn()),c=`${Im(K(f,Ke))}-${zi(K(f,Je))}-${zi(K(f,et))}T${zi(K(f,Gt))}:${zi(K(f,Jt))}${FS(K(f,Xt),K(f,Qt),K(f,er),K(f,tr),e)}`;return n!=="never"&&(c+=Lpe(ic(a,o))),i!=="never"&&(c+=`[${a}]`),c+=q_(Nt(K(t,we)),r),c}function Q3(t){return Xpe.test(N_(t))}function gm(t){let e=Xpe.exec(N_(t));if(!e)throw new RangeError(`invalid time zone offset: ${t}`);return(e[1]==="-"||e[1]==="\u2212"?-1:1)*(1e9*(60*(60*+e[2]+ +(e[3]||0))+ +(e[4]||0))+ +((e[5]||0)+"000000000").slice(0,9))}function bL(t){return Q3(t)?vL(gm(t)):Ape(N_(t)).resolvedOptions().timeZone}function Id(t,e){let{year:r,month:i,day:n,hour:s,minute:o,second:a,millisecond:f,microsecond:c,nanosecond:u}=qpe(t,e),l=zp(r,i,n,s,o,a,f,c,u);if(l===null)throw new RangeError("Date outside of supported range");return ae.default.toNumber(ae.default.subtract(l,t))}function vL(t){let e=t<0?"-":"+",r=Dr(t),i=r%1e9,n=fo(r/1e9)%60,s=fo(r/6e10)%60,o=zi(fo(r/36e11)),a=zi(s),f=zi(n),c="";if(i){let u=`${i}`.padStart(9,"0");for(;u[u.length-1]==="0";)u=u.slice(0,-1);c=`:${f}.${u}`}else n&&(c=`:${f}`);return`${e}${o}:${a}${c}`}function Lpe(t){let e=ae.default.toNumber(va(ae.default.BigInt(t),6e10,"halfExpand")),r=e<0?"-":"+";e=Dr(e);let i=e/6e10%60;return`${r}${zi(fo(e/36e11))}:${zi(i)}`}function zp(t,e,r,i,n,s,o,a,f){let c=new Date;c.setUTCHours(i,n,s,o),c.setUTCFullYear(t,e-1,r);let u=c.getTime();if(L_(u))return null;let l=ae.default.multiply(ae.default.BigInt(u),xf);return l=ae.default.add(l,ae.default.multiply(ae.default.BigInt(a),Zr)),l=ae.default.add(l,ae.default.BigInt(f)),ae.default.lessThan(l,g_)||ae.default.greaterThan(l,b_)?null:l}function Npe(t){let{quotient:e,remainder:r}=so(t,xf),i=ae.default.toNumber(e),n=ae.default.toNumber(r);n<0&&(n+=1e6,i-=1);let s=fo(n/1e3)%1e3,o=n%1e3,a=new Date(i);return{epochMilliseconds:i,year:a.getUTCFullYear(),month:a.getUTCMonth()+1,day:a.getUTCDate(),hour:a.getUTCHours(),minute:a.getUTCMinutes(),second:a.getUTCSeconds(),millisecond:a.getUTCMilliseconds(),microsecond:s,nanosecond:o}}function qpe(t,e){let{epochMilliseconds:r,millisecond:i,microsecond:n,nanosecond:s}=Npe(t),{year:o,month:a,day:f,hour:c,minute:u,second:l}=function(y,m){let g=Ape(y);return function(E){let x=E.split(/[^\w]+/);if(x.length!==7)throw new RangeError(`expected 7 parts in "${E}`);let T=+x[0],M=+x[1],I=+x[2],R=x[3].toUpperCase();if(R==="B"||R==="BC")I=1-I;else if(R!=="A"&&R!=="AD")throw new RangeError(`Unknown era ${R} in "${E}`);let O=+x[4];O===24&&(O=0);let B=+x[5],C=+x[6];if(!(Eo(I)&&Eo(T)&&Eo(M)&&Eo(O)&&Eo(B)&&Eo(C)))throw new RangeError(`Invalid number in "${E}`);return{year:I,month:T,day:M,hour:O,minute:B,second:C}}(g.format(new Date(m)))}(e,r);return wL(o,a,f,c,u,l,i,n,s)}function sue(t,e){return ae.default.lessThan(t,e)?e:t}function zpe(){return ae.default.add(TL(),lVe)}function Fpe(t,e){let r=zpe(),i=ae.default.greaterThan(t,r),n=i?ae.default.subtract(t,Epe):_pe,s=ae.default.subtract(t,cL),o=Id(s,e),a=s,f=o;for(;o===f&&ae.default.greaterThan(s,n);)a=ae.default.subtract(s,Spe),f=Id(a,e),o===f&&(s=a);return o===f?i?Fpe(ae.default.subtract(r,Lp),e):null:Qpe(c=>Id(c,e),a,s,f,o)}function kp(t){return t===void 0?!1:t%4==0&&(t%100!=0||t%400==0)}function Od(t,e){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[kp(t)?"leapyear":"standard"][e-1]}function $C(t,e,r){let i=e+(e<3?10:-2),n=t-(e<3?1:0),s=fo(n/100),o=n-100*s,a=(r+fo(2.6*i-.2)+(o+fo(o/4))+(fo(s/4)-2*s))%7;return a+(a<=0?7:0)}function H9(t,e,r){let i=r;for(let n=e-1;n>0;n--)i+=Od(t,n);return i}function ll(t,e,r,i,n,s,o,a,f,c){for(let u of[t,e,r,i,n,s,o,a,f,c])if(u!==0)return u<0?-1:1;return 0}function w9(t,e){let r=t,i=e;if(!Eo(r)||!Eo(i))throw new RangeError("infinity is out of range");return i-=1,r+=fo(i/12),i%=12,i<0&&(i+=12),i+=1,{year:r,month:i}}function US(t,e,r){let i=t,n=e,s=r;if(!Eo(s))throw new RangeError("infinity is out of range");({year:i,month:n}=w9(i,n));let o=0,a=n>2?i:i-1;for(;o=kp(a)?366:365,s<-o;)i-=1,a-=1,s+=o;for(a+=1;o=kp(a)?366:365,s>o;)i+=1,a+=1,s-=o;for(;s<1;)({year:i,month:n}=w9(i,n-1)),s+=Od(i,n);for(;s>Od(i,n);)s-=Od(i,n),{year:i,month:n}=w9(i,n+1);return{year:i,month:n,day:s}}function wL(t,e,r,i,n,s,o,a,f){let{deltaDays:c,hour:u,minute:l,second:y,millisecond:m,microsecond:g,nanosecond:E}=Rd(i,n,s,o,a,f),{year:x,month:T,day:M}=US(t,e,r+c);return{year:x,month:T,day:M,hour:u,minute:l,second:y,millisecond:m,microsecond:g,nanosecond:E}}function Rd(t,e,r,i,n,s){let o=t,a=e,f=r,c=i,u=n,l=s;if(!(Eo(o)&&Eo(a)&&Eo(f)&&Eo(c)&&Eo(u)&&Eo(l)))throw new RangeError("infinity is out of range");u+=fo(l/1e3),l=vb(l,1e3),c+=fo(u/1e3),u=vb(u,1e3),f+=fo(c/1e3),c=vb(c,1e3),a+=fo(f/60),f=vb(f,60),o+=fo(a/60),a=vb(a,60);let y=fo(o/24);return o=vb(o,24),{deltaDays:y,hour:o,minute:a,second:f,millisecond:c,microsecond:u,nanosecond:l}}function Fb(t,e,r,i,n,s,o,a){let f=ae.default.BigInt(t),c=ae.default.BigInt(o);t!==0&&(c=ae.default.subtract(ae.default.BigInt(o),ae.default.BigInt(a)));let u=ae.default.add(ae.default.BigInt(e),ae.default.multiply(f,ae.default.BigInt(24))),l=ae.default.add(ae.default.BigInt(r),ae.default.multiply(u,fm)),y=ae.default.add(ae.default.BigInt(i),ae.default.multiply(l,fm)),m=ae.default.add(ae.default.BigInt(n),ae.default.multiply(y,Zr)),g=ae.default.add(ae.default.BigInt(s),ae.default.multiply(m,Zr));return ae.default.add(ae.default.BigInt(c),ae.default.multiply(g,Zr))}function _L(t,e){let r=Tt("%Temporal.Instant%"),i=m_(ae.default.toNumber(t)),n=ae.default.BigInt(t),s=864e11;if(i===0)return{days:0,nanoseconds:hn,dayLengthNs:s};if(!wt(e)){let M;return{quotient:M,remainder:n}=so(n,ae.default.BigInt(s)),{days:ae.default.toNumber(M),nanoseconds:n,dayLengthNs:s}}let o=K(e,kt),a=K(e,os),f=ae.default.add(o,n),c=new r(f),u=K(e,Yr),l=K(e,we),y=Ha(u,a,l),m=Ha(u,c,l),{days:g}=AL(K(y,Ke),K(y,Je),K(y,et),K(y,Gt),K(y,Jt),K(y,Xt),K(y,Qt),K(y,er),K(y,tr),K(m,Ke),K(m,Je),K(m,et),K(m,Gt),K(m,Jt),K(m,Xt),K(m,Qt),K(m,er),K(m,tr),l,"day",zo(null)),E=kf(a,u,l,0,0,0,g,0,0,0,0,0,0);if(i===1)for(;g>0&&ae.default.greaterThan(E,f);)--g,E=kf(a,u,l,0,0,0,g,0,0,0,0,0,0);n=ae.default.subtract(f,E);let x=!1,T=new r(E);do{let M=kf(T,u,l,0,0,0,i,0,0,0,0,0,0),I=K(T,kt);s=ae.default.toNumber(ae.default.subtract(M,I)),x=ae.default.greaterThan(ae.default.multiply(ae.default.subtract(n,ae.default.BigInt(s)),ae.default.BigInt(i)),hn),x&&(n=ae.default.subtract(n,ae.default.BigInt(s)),T=new r(M),g+=i)}while(x);return{days:g,nanoseconds:n,dayLengthNs:Dr(s)}}function Ea(t,e,r,i,n,s,o,a,f){let c,u,l,y,m,g,E=t;if(wt(f)){let T=kf(K(f,os),K(f,Yr),K(f,we),0,0,0,E,e,r,i,n,s,o),M=K(f,kt);c=ae.default.subtract(T,M)}else c=Fb(E,e,r,i,n,s,o,0);a==="year"||a==="month"||a==="week"||a==="day"?{days:E,nanoseconds:c}=_L(c,f):E=0;let x=ae.default.lessThan(c,hn)?-1:1;switch(c=lL(c),u=l=y=m=g=hn,a){case"year":case"month":case"week":case"day":case"hour":({quotient:u,remainder:c}=so(c,Zr)),{quotient:l,remainder:u}=so(u,Zr),{quotient:y,remainder:l}=so(l,Zr),{quotient:m,remainder:y}=so(y,fm),{quotient:g,remainder:m}=so(m,fm);break;case"minute":({quotient:u,remainder:c}=so(c,Zr)),{quotient:l,remainder:u}=so(u,Zr),{quotient:y,remainder:l}=so(l,Zr),{quotient:m,remainder:y}=so(y,fm);break;case"second":({quotient:u,remainder:c}=so(c,Zr)),{quotient:l,remainder:u}=so(u,Zr),{quotient:y,remainder:l}=so(l,Zr);break;case"millisecond":({quotient:u,remainder:c}=so(c,Zr)),{quotient:l,remainder:u}=so(u,Zr);break;case"microsecond":({quotient:u,remainder:c}=so(c,Zr));break;case"nanosecond":break;default:throw new Error("assert not reached")}return{days:E,hours:ae.default.toNumber(g)*x,minutes:ae.default.toNumber(m)*x,seconds:ae.default.toNumber(y)*x,milliseconds:ae.default.toNumber(l)*x,microseconds:ae.default.toNumber(u)*x,nanoseconds:ae.default.toNumber(c)*x}}function Q7(t,e,r,i,n,s){let o=t,a=e,f=r,c=i,u=Tt("%Temporal.Duration%"),l=ll(o,a,f,c,0,0,0,0,0,0),y,m;s&&(m=bi(s),y=K(m,we));let g=new u(l),E=new u(0,l),x=new u(0,0,l);switch(n){case"year":break;case"month":{if(!y)throw new RangeError("a starting point is required for months balancing");let T=y.dateAdd,M=y.dateUntil,I=m;for(;Dr(o)>0;){let R=js(y,I,g,void 0,T),O=zo(null);O.largestUnit="month";let B=K(Np(y,I,R,O,M),wo);I=R,a+=B,o-=l}}break;case"week":if(!y)throw new RangeError("a starting point is required for weeks balancing");for(;Dr(o)>0;){let T;({relativeTo:m,days:T}=is(y,m,g)),c+=T,o-=l}for(;Dr(a)>0;){let T;({relativeTo:m,days:T}=is(y,m,E)),c+=T,a-=l}break;default:for(;Dr(o)>0;){if(!y)throw new RangeError("a starting point is required for balancing calendar units");let T;({relativeTo:m,days:T}=is(y,m,g)),c+=T,o-=l}for(;Dr(a)>0;){if(!y)throw new RangeError("a starting point is required for balancing calendar units");let T;({relativeTo:m,days:T}=is(y,m,E)),c+=T,a-=l}for(;Dr(f)>0;){if(!y)throw new RangeError("a starting point is required for balancing calendar units");let T;({relativeTo:m,days:T}=is(y,m,x)),c+=T,f-=l}}return{years:o,months:a,weeks:f,days:c}}function aue(t,e,r,i,n){if(wt(t)){let s=K(t,os),o=K(t,Yr),a=K(t,we),f=ic(o,s),c=kf(s,o,a,e,r,i,n,0,0,0,0,0,0);return ic(o,new(Tt("%Temporal.Instant%"))(c))-f}return 0}function Upe(t){return new(Tt("%Temporal.Duration%"))(-K(t,ks),-K(t,wo),-K(t,Qs),-K(t,Ts),-K(t,Ps),-K(t,Ds),-K(t,Is),-K(t,Rs),-K(t,Bs),-K(t,Cs))}function _a(t,e,r){return nVe(r,oVe(e,t))}function $pe(t,e,r){let i=_a(e,1,12);return{year:t,month:i,day:_a(r,1,Od(t,i))}}function No(t,e,r){if(t<e||t>r)throw new RangeError(`value out of range: ${e} <= ${t} <= ${r}`)}function dl(t,e,r){No(e,1,12),No(r,1,Od(t,e))}function Vpe(t,e,r){Kpe(t,e,r,12,0,0,0,0,0)}function $S(t,e,r,i,n,s){No(t,0,23),No(e,0,59),No(r,0,59),No(i,0,999),No(n,0,999),No(s,0,999)}function EL(t,e,r,i,n,s,o,a,f){dl(t,e,r),$S(i,n,s,o,a,f)}function Kpe(t,e,r,i,n,s,o,a,f){if(No(t,-271821,275760),t===-271821&&zp(t,e,r+1,i,n,s,o,a,f-1)==null||t===275760&&zp(t,e,r-1,i,n,s,o,a,f+1)==null)throw new RangeError("DateTime outside of supported range")}function rm(t){if(ae.default.lessThan(t,g_)||ae.default.greaterThan(t,b_))throw new RangeError("Instant outside of supported range")}function VS(t,e,r,i,n,s,o,a,f,c){let u=ll(t,e,r,i,n,s,o,a,f,c);for(let l of[t,e,r,i,n,s,o,a,f,c]){if(!Eo(l))throw new RangeError("infinite values not allowed as duration fields");let y=m_(l);if(y!==0&&y!==u)throw new RangeError("mixed-sign values not allowed as duration fields")}}function SL(t,e,r,i,n,s,o){switch(o){case"year":case"month":{let a=-Tp(t,e,r,i,n,s);if(a===0)return{years:0,months:0,weeks:0,days:0};let f={year:t,month:e,day:r},c={year:i,month:n,day:s},u=c.year-f.year,l=um(t,e,r,u,0,0,0,"constrain"),y=-Tp(l.year,l.month,l.day,i,n,s);if(y===0)return o==="year"?{years:u,months:0,weeks:0,days:0}:{years:0,months:12*u,weeks:0,days:0};let m=c.month-f.month;if(y!==a&&(u-=a,m+=12*a),l=um(t,e,r,u,m,0,0,"constrain"),y=-Tp(l.year,l.month,l.day,i,n,s),y===0)return o==="year"?{years:u,months:m,weeks:0,days:0}:{years:0,months:m+12*u,weeks:0,days:0};y!==a&&(m-=a,m===-a&&(u-=a,m=11*a),l=um(t,e,r,u,m,0,0,"constrain"));let g=0;return g=l.month===c.month?c.day-l.day:a<0?-l.day-(Od(c.year,c.month)-c.day):c.day+(Od(l.year,l.month)-l.day),o==="month"&&(m+=12*u,u=0),{years:u,months:m,weeks:0,days:g}}case"week":case"day":{let a,f,c;Tp(t,e,r,i,n,s)<0?(f={year:t,month:e,day:r},a={year:i,month:n,day:s},c=1):(f={year:i,month:n,day:s},a={year:t,month:e,day:r},c=-1);let u=H9(a.year,a.month,a.day)-H9(f.year,f.month,f.day);for(let y=f.year;y<a.year;++y)u+=kp(y)?366:365;let l=0;return o==="week"&&(l=fo(u/7),u%=7),l*=c,u*=c,{years:0,months:0,weeks:l,days:u}}default:throw new Error("assert not reached")}}function Hpe(t,e,r,i,n,s,o,a,f,c,u,l){let y=o-t,m=a-e,g=f-r,E=c-i,x=u-n,T=l-s,M=ll(0,0,0,0,y,m,g,E,x,T);y*=M,m*=M,g*=M,E*=M,x*=M,T*=M;let I=0;if({deltaDays:I,hour:y,minute:m,second:g,millisecond:E,microsecond:x,nanosecond:T}=Rd(y,m,g,E,x,T),I!=0)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return y*=M,m*=M,g*=M,E*=M,x*=M,T*=M,{hours:y,minutes:m,seconds:g,milliseconds:E,microseconds:x,nanoseconds:T}}function xL(t,e,r,i,n){let s=ae.default.subtract(e,t),o=ae.default.remainder(s,ae.default.BigInt(864e11)),a=ae.default.subtract(s,o),f=va(o,PL[i]*r,n),c=ae.default.add(a,f),u=ae.default.toNumber(ae.default.remainder(c,Zr)),l=ae.default.toNumber(ae.default.remainder(ae.default.divide(c,Zr),Zr)),y=ae.default.toNumber(ae.default.remainder(ae.default.divide(c,xf),Zr));return{seconds:ae.default.toNumber(ae.default.divide(c,Cd)),milliseconds:y,microseconds:l,nanoseconds:u}}function AL(t,e,r,i,n,s,o,a,f,c,u,l,y,m,g,E,x,T,M,I,R){let O=t,B=e,C=r,{hours:U,minutes:W,seconds:L,milliseconds:j,microseconds:k,nanoseconds:P}=Hpe(i,n,s,o,a,f,y,m,g,E,x,T),p=ll(0,0,0,0,U,W,L,j,k,P);Tp(c,u,l,O,B,C)===-p&&({year:O,month:B,day:C}=US(O,B,C-p),{hours:U,minutes:W,seconds:L,milliseconds:j,microseconds:k,nanoseconds:P}=Ea(-p,U,W,L,j,k,P,I));let d=uu(O,B,C,M),h=uu(c,u,l,M),b=RS(R,Sa("day",I)),{years:v,months:w,weeks:_,days:D}=Np(M,d,h,b);return{days:D,hours:U,minutes:W,seconds:L,milliseconds:j,microseconds:k,nanoseconds:P}=Ea(D,U,W,L,j,k,P,I),{years:v,months:w,weeks:_,days:D,hours:U,minutes:W,seconds:L,milliseconds:j,microseconds:k,nanoseconds:P}}function Wpe(t,e,r,i,n,s){let o=ae.default.subtract(e,t);if(ae.default.equal(o,hn))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let a=Tt("%Temporal.Instant%"),f=new a(t),c=new a(e),u=Ha(r,f,i),l=Ha(r,c,i),{years:y,months:m,weeks:g,days:E}=AL(K(u,Ke),K(u,Je),K(u,et),K(u,Gt),K(u,Jt),K(u,Xt),K(u,Qt),K(u,er),K(u,tr),K(l,Ke),K(l,Je),K(l,et),K(l,Gt),K(l,Jt),K(l,Xt),K(l,Qt),K(l,er),K(l,tr),i,n,s),x=kf(f,r,i,y,m,g,0,0,0,0,0,0,0),T=ae.default.subtract(e,x),M=Lo(x,r,i);({nanoseconds:T,days:E}=_L(T,M));let{hours:I,minutes:R,seconds:O,milliseconds:B,microseconds:C,nanoseconds:U}=Ea(0,0,0,0,0,0,ae.default.toNumber(T),"hour");return{years:y,months:m,weeks:g,days:E,hours:I,minutes:R,seconds:O,milliseconds:B,microseconds:C,nanoseconds:U}}function fue(t,e,r,i){let n=ul(r),s,o;[s,o]=t==="until"?[e,n]:[n,e];let a=pr(i),f=uo(a,"smallestUnit","time","nanosecond"),c=Sa("second",f),u=uo(a,"largestUnit","time","auto");if(u==="auto"&&(u=c),Sa(u,f)!==u)throw new RangeError(`largestUnit ${u} cannot be smaller than smallestUnit ${f}`);let l=ea(a,"trunc"),y=Fd(a,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[f],!1),m=K(s,kt),g=K(o,kt),E,x,{seconds:T,milliseconds:M,microseconds:I,nanoseconds:R}=xL(m,g,y,f,l);return{hours:E,minutes:x,seconds:T,milliseconds:M,microseconds:I,nanoseconds:R}=Ea(0,0,0,T,M,I,R,u),new(Tt("%Temporal.Duration%"))(0,0,0,0,E,x,T,M,I,R)}function uue(t,e,r,i){let n=t==="since"?-1:1,s=bi(r),o=K(e,we),a=K(s,we),f=Nt(o),c=Nt(a);if(f!==c)throw new RangeError(`cannot compute difference between dates of ${f} and ${c} calendars`);let u=pr(i),l=uo(u,"smallestUnit","date","day"),y=Sa("day",l),m=uo(u,"largestUnit","date","auto");if(m==="auto"&&(m=y),Sa(m,l)!==m)throw new RangeError(`largestUnit ${m} cannot be smaller than smallestUnit ${l}`);let g=ea(u,"trunc");t==="since"&&(g=z_(g));let E=Fd(u,void 0,!1),x=RS(u,m),{years:T,months:M,weeks:I,days:R}=Np(o,e,s,x);return l==="day"&&E===1||({years:T,months:M,weeks:I,days:R}=Fp(T,M,I,R,0,0,0,0,0,0,E,l,g,e)),new(Tt("%Temporal.Duration%"))(n*T,n*M,n*I,n*R,0,0,0,0,0,0)}function cue(t,e,r,i){let n=t==="since"?-1:1,s=nm(r),o=K(e,we),a=K(s,we),f=Nt(o),c=Nt(a);if(f!==c)throw new RangeError(`cannot compute difference between dates of ${f} and ${c} calendars`);let u=pr(i),l=uo(u,"smallestUnit","datetime","nanosecond"),y=Sa("day",l),m=uo(u,"largestUnit","datetime","auto");if(m==="auto"&&(m=y),Sa(m,l)!==m)throw new RangeError(`largestUnit ${m} cannot be smaller than smallestUnit ${l}`);let g=ea(u,"trunc");t==="since"&&(g=z_(g));let E=dL(u,l),{years:x,months:T,weeks:M,days:I,hours:R,minutes:O,seconds:B,milliseconds:C,microseconds:U,nanoseconds:W}=AL(K(e,Ke),K(e,Je),K(e,et),K(e,Gt),K(e,Jt),K(e,Xt),K(e,Qt),K(e,er),K(e,tr),K(s,Ke),K(s,Je),K(s,et),K(s,Gt),K(s,Jt),K(s,Xt),K(s,Qt),K(s,er),K(s,tr),o,m,u),L=zb(e);return{years:x,months:T,weeks:M,days:I,hours:R,minutes:O,seconds:B,milliseconds:C,microseconds:U,nanoseconds:W}=Fp(x,T,M,I,R,O,B,C,U,W,E,l,g,L),{days:I,hours:R,minutes:O,seconds:B,milliseconds:C,microseconds:U,nanoseconds:W}=Ea(I,R,O,B,C,U,W,m),new(Tt("%Temporal.Duration%"))(n*x,n*T,n*M,n*I,n*R,n*O,n*B,n*C,n*U,n*W)}function lue(t,e,r,i){let n=t==="since"?-1:1,s=Bd(r),o=pr(i),a=uo(o,"largestUnit","time","auto");a==="auto"&&(a="hour");let f=uo(o,"smallestUnit","time","nanosecond");if(Sa(a,f)!==a)throw new RangeError(`largestUnit ${a} cannot be smaller than smallestUnit ${f}`);let c=ea(o,"trunc");t==="since"&&(c=z_(c));let u=Fd(o,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[f],!1),{hours:l,minutes:y,seconds:m,milliseconds:g,microseconds:E,nanoseconds:x}=Hpe(K(e,Gt),K(e,Jt),K(e,Xt),K(e,Qt),K(e,er),K(e,tr),K(s,Gt),K(s,Jt),K(s,Xt),K(s,Qt),K(s,er),K(s,tr));return{hours:l,minutes:y,seconds:m,milliseconds:g,microseconds:E,nanoseconds:x}=Fp(0,0,0,0,l,y,m,g,E,x,u,f,c),{hours:l,minutes:y,seconds:m,milliseconds:g,microseconds:E,nanoseconds:x}=Ea(0,l,y,m,g,E,x,a),new(Tt("%Temporal.Duration%"))(0,0,0,0,n*l,n*y,n*m,n*g,n*E,n*x)}function due(t,e,r,i){let n=t==="since"?-1:1,s=J3(r),o=K(e,we),a=K(s,we),f=Nt(o),c=Nt(a);if(f!==c)throw new RangeError(`cannot compute difference between months of ${f} and ${c} calendars`);let u=pr(i),l=fv.reduce((U,[W,L,j])=>(j==="date"&&L!=="week"&&L!=="day"&&U.push(L,W),U),[]),y=uo(u,"smallestUnit","date","month");if(y==="week"||y==="day")throw new RangeError(`smallestUnit must be one of ${l.join(", ")}, not ${y}`);let m=uo(u,"largestUnit","date","auto");if(m==="week"||m==="day")throw new RangeError(`largestUnit must be one of ${l.join(", ")}, not ${m}`);if(m==="auto"&&(m="year"),Sa(m,y)!==m)throw new RangeError(`largestUnit ${m} cannot be smaller than smallestUnit ${y}`);let g=ea(u,"trunc");t==="since"&&(g=z_(g));let E=Fd(u,void 0,!1),x=On(o,["monthCode","year"]),T=dr(s,x,[]);T.day=1;let M=dr(e,x,[]);M.day=1;let I=qp(o,T),R=qp(o,M),O=RS(u,m),{years:B,months:C}=Np(o,R,I,O);return y==="month"&&E===1||({years:B,months:C}=Fp(B,C,0,0,0,0,0,0,0,0,E,y,g,R)),new(Tt("%Temporal.Duration%"))(n*B,n*C,0,0,0,0,0,0,0,0)}function hue(t,e,r,i){let n=t==="since"?-1:1,s=X3(r),o=K(e,we),a=K(s,we),f=Nt(o),c=Nt(a);if(f!==c)throw new RangeError(`cannot compute difference between dates of ${f} and ${c} calendars`);let u=pr(i),l=uo(u,"smallestUnit","datetime","nanosecond"),y=Sa("hour",l),m=uo(u,"largestUnit","datetime","auto");if(m==="auto"&&(m=y),Sa(m,l)!==m)throw new RangeError(`largestUnit ${m} cannot be smaller than smallestUnit ${l}`);let g=ea(u,"trunc");t==="since"&&(g=z_(g));let E=dL(u,l),x=K(e,kt),T=K(s,kt),M,I,R,O,B,C,U,W,L,j;if(m!=="year"&&m!=="month"&&m!=="week"&&m!=="day")M=0,I=0,R=0,O=0,{seconds:U,milliseconds:W,microseconds:L,nanoseconds:j}=xL(x,T,E,l,g),{hours:B,minutes:C,seconds:U,milliseconds:W,microseconds:L,nanoseconds:j}=Ea(0,0,0,U,W,L,j,m);else{let k=K(e,Yr);if(!Ope(k,K(s,Yr)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");let P=RS(u,m);({years:M,months:I,weeks:R,days:O,hours:B,minutes:C,seconds:U,milliseconds:W,microseconds:L,nanoseconds:j}=Wpe(x,T,k,o,m,P)),{years:M,months:I,weeks:R,days:O,hours:B,minutes:C,seconds:U,milliseconds:W,microseconds:L,nanoseconds:j}=Fp(M,I,R,O,B,C,U,W,L,j,E,l,g,e),{years:M,months:I,weeks:R,days:O,hours:B,minutes:C,seconds:U,milliseconds:W,microseconds:L,nanoseconds:j}=Gpe(M,I,R,O,B,C,U,W,L,j,E,l,g,e)}return new(Tt("%Temporal.Duration%"))(n*M,n*I,n*R,n*O,n*B,n*C,n*U,n*W,n*L,n*j)}function um(t,e,r,i,n,s,o,a){let f=t,c=e,u=r,l=s,y=o;return f+=i,c+=n,{year:f,month:c}=w9(f,c),{year:f,month:c,day:u}=U9(f,c,u,a),y+=7*l,u+=y,{year:f,month:c,day:u}=US(f,c,u),{year:f,month:c,day:u}}function Ype(t,e,r,i,n,s,o,a,f,c,u,l){let y=t,m=e,g=r,E=i,x=n,T=s;y+=o,m+=a,g+=f,E+=c,x+=u,T+=l;let M=0;return{deltaDays:M,hour:y,minute:m,second:g,millisecond:E,microsecond:x,nanosecond:T}=Rd(y,m,g,E,x,T),{deltaDays:M,hour:y,minute:m,second:g,millisecond:E,microsecond:x,nanosecond:T}}function Zpe(t,e,r,i,n,s,o,a,f,c,u,l,y,m,g,E,x,T,M,I,R){let O=Sa(MO(t,e,r,i,n,s,o,a,f,c),MO(u,l,y,m,g,E,x,T,M,I)),B,C,U,W,L,j,k,P,p,d;if(R)if(br(R)){let h=Tt("%Temporal.Duration%"),b=K(R,we),v=new h(t,e,r,i,0,0,0,0,0,0),w=new h(u,l,y,m,0,0,0,0,0,0),_=b.dateAdd,D=js(b,R,v,void 0,_),S=js(b,D,w,void 0,_),A=Sa("day",O),N=zo(null);N.largestUnit=A,{years:B,months:C,weeks:U,days:W}=Np(b,R,S,N),{days:W,hours:L,minutes:j,seconds:k,milliseconds:P,microseconds:p,nanoseconds:d}=Ea(W,n+g,s+E,o+x,a+T,f+M,c+I,O)}else{let h=Tt("%Temporal.Instant%"),b=K(R,Yr),v=K(R,we),w=kf(K(R,os),b,v,t,e,r,i,n,s,o,a,f,c),_=kf(new h(w),b,v,u,l,y,m,g,E,x,T,M,I);O!=="year"&&O!=="month"&&O!=="week"&&O!=="day"?(B=0,C=0,U=0,W=0,{seconds:k,milliseconds:P,microseconds:p,nanoseconds:d}=xL(K(R,kt),_,1,"nanosecond","halfExpand"),{hours:L,minutes:j,seconds:k,milliseconds:P,microseconds:p,nanoseconds:d}=Ea(0,0,0,k,P,p,d,O)):{years:B,months:C,weeks:U,days:W,hours:L,minutes:j,seconds:k,milliseconds:P,microseconds:p,nanoseconds:d}=Wpe(K(R,kt),_,b,v,O,zo(null))}else{if(O==="year"||O==="month"||O==="week")throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");B=C=U=0,{days:W,hours:L,minutes:j,seconds:k,milliseconds:P,microseconds:p,nanoseconds:d}=Ea(i+m,n+g,s+E,o+x,a+T,f+M,c+I,O)}return VS(B,C,U,W,L,j,k,P,p,d),{years:B,months:C,weeks:U,days:W,hours:L,minutes:j,seconds:k,milliseconds:P,microseconds:p,nanoseconds:d}}function TO(t,e,r,i,n,s,o){let a=hn;a=ae.default.add(a,ae.default.BigInt(o)),a=ae.default.add(a,ae.default.multiply(ae.default.BigInt(s),Zr)),a=ae.default.add(a,ae.default.multiply(ae.default.BigInt(n),xf)),a=ae.default.add(a,ae.default.multiply(ae.default.BigInt(i),Cd)),a=ae.default.add(a,ae.default.multiply(ae.default.BigInt(r),ae.default.BigInt(6e10))),a=ae.default.add(a,ae.default.multiply(ae.default.BigInt(e),ae.default.BigInt(36e11)));let f=ae.default.add(t,a);return rm(f),f}function PO(t,e,r,i,n,s,o,a,f,c,u,l,y,m,g,E,x,T,M,I,R){let O=m,{deltaDays:B,hour:C,minute:U,second:W,millisecond:L,microsecond:j,nanosecond:k}=Ype(i,n,s,o,a,f,g,E,x,T,M,I);O+=B;let P=Tt("%Temporal.Duration%"),p=js(c,uu(t,e,r,c),new P(u,l,y,O,0,0,0,0,0,0),R);return{year:K(p,Ke),month:K(p,Je),day:K(p,et),hour:C,minute:U,second:W,millisecond:L,microsecond:j,nanosecond:k}}function kf(t,e,r,i,n,s,o,a,f,c,u,l,y,m){let g=Tt("%Temporal.Duration%");if(ll(i,n,s,o,0,0,0,0,0,0)===0)return TO(K(t,kt),a,f,c,u,l,y);let E=Ha(e,t,r),x=js(r,uu(K(E,Ke),K(E,Je),K(E,et),r),new g(i,n,s,o,0,0,0,0,0,0),m),T=wa(K(x,Ke),K(x,Je),K(x,et),K(E,Gt),K(E,Jt),K(E,Xt),K(E,Qt),K(E,er),K(E,tr),r);return TO(K(Ls(e,T,"compatible"),kt),a,f,c,u,l,y)}function pue(t,e,r,i){let n=t==="subtract"?-1:1,{years:s,months:o,weeks:a,days:f,hours:c,minutes:u,seconds:l,milliseconds:y,microseconds:m,nanoseconds:g}=Dm(r),E=v9(pr(i));return{years:s,months:o,weeks:a,days:f,hours:c,minutes:u,seconds:l,milliseconds:y,microseconds:m,nanoseconds:g}=Zpe(K(e,ks),K(e,wo),K(e,Qs),K(e,Ts),K(e,Ps),K(e,Ds),K(e,Is),K(e,Rs),K(e,Bs),K(e,Cs),n*s,n*o,n*a,n*f,n*c,n*u,n*l,n*y,n*m,n*g,E),new(Tt("%Temporal.Duration%"))(s,o,a,f,c,u,l,y,m,g)}function yue(t,e,r){let i=t==="subtract"?-1:1,{hours:n,minutes:s,seconds:o,milliseconds:a,microseconds:f,nanoseconds:c}=function(l,y){let m=Dm(l);for(let g of y)if(m[g]!==0)throw new RangeError(`Duration field ${g} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return m}(r,["years","months","weeks","days"]),u=TO(K(e,kt),i*n,i*s,i*o,i*a,i*f,i*c);return new(Tt("%Temporal.Instant%"))(u)}function mue(t,e,r,i){let n=t==="subtract"?-1:1,{years:s,months:o,weeks:a,days:f,hours:c,minutes:u,seconds:l,milliseconds:y,microseconds:m,nanoseconds:g}=Dm(r),E=pr(i),x=K(e,we),{year:T,month:M,day:I,hour:R,minute:O,second:B,millisecond:C,microsecond:U,nanosecond:W}=PO(K(e,Ke),K(e,Je),K(e,et),K(e,Gt),K(e,Jt),K(e,Xt),K(e,Qt),K(e,er),K(e,tr),x,n*s,n*o,n*a,n*f,n*c,n*u,n*l,n*y,n*m,n*g,E);return wa(T,M,I,R,O,B,C,U,W,x)}function gue(t,e,r){let i=t==="subtract"?-1:1,{hours:n,minutes:s,seconds:o,milliseconds:a,microseconds:f,nanoseconds:c}=Dm(r),{hour:u,minute:l,second:y,millisecond:m,microsecond:g,nanosecond:E}=Ype(K(e,Gt),K(e,Jt),K(e,Xt),K(e,Qt),K(e,er),K(e,tr),i*n,i*s,i*o,i*a,i*f,i*c);return{hour:u,minute:l,second:y,millisecond:m,microsecond:g,nanosecond:E}=IS(u,l,y,m,g,E,"reject"),new(Tt("%Temporal.PlainTime%"))(u,l,y,m,g,E)}function bue(t,e,r,i){let n=Dm(r);t==="subtract"&&(n={years:-n.years,months:-n.months,weeks:-n.weeks,days:-n.days,hours:-n.hours,minutes:-n.minutes,seconds:-n.seconds,milliseconds:-n.milliseconds,microseconds:-n.microseconds,nanoseconds:-n.nanoseconds});let{years:s,months:o,weeks:a,days:f,hours:c,minutes:u,seconds:l,milliseconds:y,microseconds:m,nanoseconds:g}=n;({days:f}=Ea(f,c,u,l,y,m,g,"day"));let E=pr(i),x=K(e,we),T=On(x,["monthCode","year"]),M=dr(e,T,[]),I=ll(s,o,a,f,0,0,0,0,0,0);M.day=I<0?w_(K_(x,e)):1;let R=qp(x,M),O=new(Tt("%Temporal.Duration%"))(s,o,a,f,0,0,0,0,0,0),B=wpe(zo(null),E);return mm(x,dr(js(x,R,O,E),T,[]),B)}function vue(t,e,r,i){let n=t==="subtract"?-1:1,{years:s,months:o,weeks:a,days:f,hours:c,minutes:u,seconds:l,milliseconds:y,microseconds:m,nanoseconds:g}=Dm(r),E=pr(i),x=K(e,Yr),T=K(e,we);return Lo(kf(K(e,os),x,T,n*s,n*o,n*a,n*f,n*c,n*u,n*l,n*y,n*m,n*g,E),x,T)}function va(t,e,r){if(e===1)return t;let{quotient:i,remainder:n}=so(t,ae.default.BigInt(e));if(ae.default.equal(n,hn))return t;let s=ae.default.lessThan(n,hn)?-1:1;switch(r){case"ceil":s>0&&(i=ae.default.add(i,ae.default.BigInt(s)));break;case"floor":s<0&&(i=ae.default.add(i,ae.default.BigInt(s)));break;case"trunc":break;case"halfExpand":ae.default.toNumber(lL(ae.default.multiply(n,ae.default.BigInt(2))))>=e&&(i=ae.default.add(i,ae.default.BigInt(s)))}return ae.default.multiply(i,ae.default.BigInt(e))}function W9(t,e,r,i){let n=ae.default.remainder(t,ae.default.BigInt(864e11));ae.default.lessThan(n,hn)&&(n=ae.default.add(n,ae.default.BigInt(864e11)));let s=ae.default.subtract(t,n),o=va(n,PL[r]*e,i);return ae.default.add(s,o)}function ML(t,e,r,i,n,s,o,a,f,c,u,l,y=864e11){let{deltaDays:m,hour:g,minute:E,second:x,millisecond:T,microsecond:M,nanosecond:I}=kL(i,n,s,o,a,f,c,u,l,y),{year:R,month:O,day:B}=US(t,e,r+m);return{year:R,month:O,day:B,hour:g,minute:E,second:x,millisecond:T,microsecond:M,nanosecond:I}}function kL(t,e,r,i,n,s,o,a,f,c=864e11){let u=hn;switch(a){case"day":case"hour":u=ae.default.BigInt(t);case"minute":u=ae.default.add(ae.default.multiply(u,fm),ae.default.BigInt(e));case"second":u=ae.default.add(ae.default.multiply(u,fm),ae.default.BigInt(r));case"millisecond":u=ae.default.add(ae.default.multiply(u,Zr),ae.default.BigInt(i));case"microsecond":u=ae.default.add(ae.default.multiply(u,Zr),ae.default.BigInt(n));case"nanosecond":u=ae.default.add(ae.default.multiply(u,Zr),ae.default.BigInt(s))}let l=a==="day"?c:PL[a],y=va(u,l*o,f),m=ae.default.toNumber(ae.default.divide(y,ae.default.BigInt(l)));switch(a){case"day":return{deltaDays:m,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return Rd(m,0,0,0,0,0);case"minute":return Rd(t,m,0,0,0,0);case"second":return Rd(t,e,m,0,0,0);case"millisecond":return Rd(t,e,r,m,0,0);case"microsecond":return Rd(t,e,r,i,m,0);case"nanosecond":return Rd(t,e,r,i,n,m);default:throw new Error(`Invalid unit ${a}`)}}function _9(t,e){return SL(K(t,Ke),K(t,Je),K(t,et),K(e,Ke),K(e,Je),K(e,et),"day").days}function is(t,e,r){let i=js(t,e,r,void 0);return{relativeTo:i,days:_9(e,i)}}function DO(t,e,r,i,n){let s=K(t,Yr),o=K(t,we);return Lo(kf(K(t,os),s,o,e,r,i,n,0,0,0,0,0,0),s,o)}function Gpe(t,e,r,i,n,s,o,a,f,c,u,l,y,m){let g=t,E=e,x=r,T=i,M=n,I=s,R=o,O=a,B=f,C=c;if(!wt(m)||l==="year"||l==="month"||l==="week"||l==="day"||l==="nanosecond"&&u===1)return{years:g,months:E,weeks:x,days:T,hours:M,minutes:I,seconds:R,milliseconds:O,microseconds:B,nanoseconds:C};let U=Fb(0,M,I,R,O,B,C,0),W=m_(ae.default.toNumber(U)),L=K(m,Yr),j=K(m,we),k=kf(K(m,os),L,j,g,E,x,T,0,0,0,0,0,0),P=kf(new(Tt("%Temporal.Instant%"))(k),L,j,0,0,0,W,0,0,0,0,0,0),p=ae.default.subtract(P,k);return ae.default.greaterThanOrEqual(ae.default.multiply(ae.default.subtract(U,p),ae.default.BigInt(W)),hn)&&({years:g,months:E,weeks:x,days:T}=Zpe(g,E,x,T,0,0,0,0,0,0,0,0,0,W,0,0,0,0,0,0,m),U=W9(ae.default.subtract(U,p),u,l,y),{hours:M,minutes:I,seconds:R,milliseconds:O,microseconds:B,nanoseconds:C}=Ea(0,0,0,0,0,0,ae.default.toNumber(U),"hour")),{years:g,months:E,weeks:x,days:T,hours:M,minutes:I,seconds:R,milliseconds:O,microseconds:B,nanoseconds:C}}function Fp(t,e,r,i,n,s,o,a,f,c,u,l,y,m){let g=t,E=e,x=r,T=i,M=n,I=s,R=o,O=a,B=f,C=ae.default.BigInt(c),U=Tt("%Temporal.Duration%"),W,L,j,k,P=m;if(P){if(wt(P))L=P,P=bi(P);else if(!br(P))throw new TypeError("starting point must be PlainDate or ZonedDateTime");W=K(P,we)}if(l==="year"||l==="month"||l==="week"||l==="day"){let p,d,h;C=Fb(0,M,I,R,O,B,c,0),L&&(p=DO(L,g,E,x,T)),{days:d,nanoseconds:C,dayLengthNs:h}=_L(C,p),j=ae.default.BigInt(h),T+=d,M=I=R=O=B=0}switch(l){case"year":{if(!W)throw new RangeError("A starting point is required for years rounding");let p=new U(g),d=W.dateAdd,h=js(W,P,p,void 0,d),b=js(W,P,new U(g,E,x),void 0,d);P=h,T+=_9(h,b);let v=js(W,P,{days:T},void 0,d),w=zo(null);w.largestUnit="year";let _=Np(W,P,v,w).years;g+=_;let D=P;P=js(W,P,{years:_},void 0,d),T-=_9(D,P);let S=new U(T<0?-1:1),{days:A}=is(W,P,S);A=Dr(A);let N=ae.default.multiply(ae.default.BigInt(A),j);C=ae.default.add(ae.default.add(ae.default.multiply(N,ae.default.BigInt(g)),ae.default.multiply(ae.default.BigInt(T),j)),C);let G=va(C,ae.default.toNumber(ae.default.multiply(N,ae.default.BigInt(u))),y);k=ae.default.toNumber(C)/ae.default.toNumber(N),g=ae.default.toNumber(ae.default.divide(G,N)),C=hn,E=x=T=0;break}case"month":{if(!W)throw new RangeError("A starting point is required for months rounding");let p=new U(g,E),d=W.dateAdd,h=js(W,P,p,void 0,d),b=js(W,P,new U(g,E,x),void 0,d);P=h,T+=_9(h,b);let v=m_(T),w=new U(0,T<0?-1:1),_;for({relativeTo:P,days:_}=is(W,P,w);Dr(T)>=Dr(_);)E+=v,T-=_,{relativeTo:P,days:_}=is(W,P,w);_=Dr(_);let D=ae.default.multiply(ae.default.BigInt(_),j);C=ae.default.add(ae.default.add(ae.default.multiply(D,ae.default.BigInt(E)),ae.default.multiply(ae.default.BigInt(T),j)),C);let S=va(C,ae.default.toNumber(ae.default.multiply(D,ae.default.BigInt(u))),y);k=ae.default.toNumber(C)/ae.default.toNumber(D),E=ae.default.toNumber(ae.default.divide(S,D)),C=hn,x=T=0;break}case"week":{if(!W)throw new RangeError("A starting point is required for weeks rounding");let p=m_(T),d=new U(0,0,T<0?-1:1),h;for({relativeTo:P,days:h}=is(W,P,d);Dr(T)>=Dr(h);)x+=p,T-=h,{relativeTo:P,days:h}=is(W,P,d);h=Dr(h);let b=ae.default.multiply(ae.default.BigInt(h),j);C=ae.default.add(ae.default.add(ae.default.multiply(b,ae.default.BigInt(x)),ae.default.multiply(ae.default.BigInt(T),j)),C);let v=va(C,ae.default.toNumber(ae.default.multiply(b,ae.default.BigInt(u))),y);k=ae.default.toNumber(C)/ae.default.toNumber(b),x=ae.default.toNumber(ae.default.divide(v,b)),C=hn,T=0;break}case"day":{let p=j;C=ae.default.add(ae.default.multiply(p,ae.default.BigInt(T)),C);let d=va(C,ae.default.toNumber(ae.default.multiply(p,ae.default.BigInt(u))),y);k=ae.default.toNumber(C)/ae.default.toNumber(p),T=ae.default.toNumber(ae.default.divide(d,p)),C=hn;break}case"hour":{let p=ae.default.multiply(ae.default.BigInt(M),ae.default.BigInt(36e11));p=ae.default.add(p,ae.default.multiply(ae.default.BigInt(I),ae.default.BigInt(6e10))),p=ae.default.add(p,ae.default.multiply(ae.default.BigInt(R),Cd)),p=ae.default.add(p,ae.default.multiply(ae.default.BigInt(O),xf)),p=ae.default.add(p,ae.default.multiply(ae.default.BigInt(B),Zr)),p=ae.default.add(p,C),k=ae.default.toNumber(p)/36e11;let d=va(p,36e11*u,y);M=ae.default.toNumber(ae.default.divide(d,ae.default.BigInt(36e11))),C=hn,I=R=O=B=0;break}case"minute":{let p=ae.default.multiply(ae.default.BigInt(I),ae.default.BigInt(6e10));p=ae.default.add(p,ae.default.multiply(ae.default.BigInt(R),Cd)),p=ae.default.add(p,ae.default.multiply(ae.default.BigInt(O),xf)),p=ae.default.add(p,ae.default.multiply(ae.default.BigInt(B),Zr)),p=ae.default.add(p,C),k=ae.default.toNumber(p)/6e10;let d=va(p,6e10*u,y);I=ae.default.toNumber(ae.default.divide(d,ae.default.BigInt(6e10))),C=hn,R=O=B=0;break}case"second":{let p=ae.default.multiply(ae.default.BigInt(R),Cd);p=ae.default.add(p,ae.default.multiply(ae.default.BigInt(O),xf)),p=ae.default.add(p,ae.default.multiply(ae.default.BigInt(B),Zr)),p=ae.default.add(p,C),k=ae.default.toNumber(p)/1e9;let d=va(p,1e9*u,y);R=ae.default.toNumber(ae.default.divide(d,ae.default.BigInt(1e9))),C=hn,O=B=0;break}case"millisecond":{let p=ae.default.multiply(ae.default.BigInt(O),xf);p=ae.default.add(p,ae.default.multiply(ae.default.BigInt(B),Zr)),p=ae.default.add(p,C),k=ae.default.toNumber(p)/1e6;let d=va(p,1e6*u,y);O=ae.default.toNumber(ae.default.divide(d,ae.default.BigInt(1e6))),C=hn,B=0;break}case"microsecond":{let p=ae.default.multiply(ae.default.BigInt(B),Zr);p=ae.default.add(p,C),k=ae.default.toNumber(p)/1e3;let d=va(p,1e3*u,y);B=ae.default.toNumber(ae.default.divide(d,ae.default.BigInt(1e3))),C=hn;break}case"nanosecond":k=ae.default.toNumber(C),C=va(C,u,y)}return{years:g,months:E,weeks:x,days:T,hours:M,minutes:I,seconds:R,milliseconds:O,microseconds:B,nanoseconds:ae.default.toNumber(C),total:k}}function Tp(t,e,r,i,n,s){for(let[o,a]of[[t,i],[e,n],[r,s]])if(o!==a)return cm(o-a);return 0}function vb(t,e){let r=t%e;return uVe(r,-0)?0:(r<0&&(r+=e),r)}function Y9(t){let e=i_(t);return globalThis.BigInt!==void 0?globalThis.BigInt(e.toString(10)):e}function i_(t){if(t instanceof ae.default)return t;let e=t;if(typeof t=="object"){let r=t[Symbol.toPrimitive];r&&typeof r=="function"&&(e=uL(r,t,["number"]))}switch(typeof e){case"undefined":case"object":case"number":case"symbol":default:throw new TypeError(`cannot convert ${typeof t} to bigint`);case"string":if(!e.match(/^\s*(?:[+-]?\d+\s*)?$/))throw new SyntaxError("invalid BigInt syntax");case"bigint":try{return ae.default.BigInt(e.toString())}catch(r){throw r instanceof Error&&r.message.startsWith("Invalid integer")?new SyntaxError(r.message):r}case"boolean":return e?cL:hn}}var TL=(()=>{let t=ae.default.BigInt(Date.now()%1e6);return()=>{let e=ae.default.BigInt(Date.now()),r=ae.default.add(ae.default.multiply(e,xf),t);return t=ae.default.remainder(e,xf),ae.default.greaterThan(r,b_)?b_:ae.default.lessThan(r,g_)?g_:r}})();function cm(t){return t<0?-1:t>0?1:t}function pr(t){if(t===void 0)return zo(null);if(Ii(t)&&t!==null)return t;throw new TypeError("Options parameter must be an object, not "+(t===null?"null":typeof t))}function Ub(t,e){let r=zo(null);return r[t]=e,r}function Up(t,e,r,i){let n=t[e];if(n!==void 0){if(n=Nt(n),!r.includes(n))throw new RangeError(`${e} must be one of ${r.join(", ")}, not ${n}`);return n}return i}function Jpe(t){return bpe.call(dVe,t)}var Xpe=new RegExp(`^${ype.source}$`);function Qpe(t,e,r,i=t(e),n=t(r)){let s=ae.default.BigInt(e),o=ae.default.BigInt(r),a=i,f=n;for(;ae.default.greaterThan(ae.default.subtract(o,s),cL);){let c=ae.default.divide(ae.default.add(s,o),ae.default.BigInt(2)),u=t(c);if(u===a)s=c,a=u;else{if(u!==f)throw new Error(`invalid state in bisection ${a} - ${u} - ${f}`);o=c,f=u}}return o}var PL={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},e0e=Symbol("date"),t0e=Symbol("ym"),r0e=Symbol("md"),i0e=Symbol("time"),n0e=Symbol("datetime"),o0e=Symbol("zoneddatetime"),s0e=Symbol("instant"),Ab=Symbol("original"),IO=Symbol("timezone"),E9=Symbol("timezone-id-given"),Ua=Symbol("calendar-id"),a0e=Symbol("locale"),RO=Symbol("options"),n_=t=>({value:t,enumerable:!0,writable:!1,configurable:!0}),lm=globalThis.Intl.DateTimeFormat,hl=Object.assign,gVe=Object.prototype.hasOwnProperty,bVe=Reflect.apply;function tm(t,e){let r=t[e];return typeof r=="function"&&(r=new lm(t[a0e],r(t[RO])),t[e]=r),r}function V3(t){let e=t[IO];return typeof e=="string"&&(e=qs(e),t[IO]=e),e}function bm(t,e={}){if(!(this instanceof bm))return new bm(t,e);let r=e!==void 0,i=r?hl({},e):{},n=new lm(t,i),s=n.resolvedOptions();if(r){let o=hl({},s);for(let a in o)bVe(gVe,i,[a])||delete o[a];this[RO]=o}else this[RO]=i;this[E9]=i.timeZone?i.timeZone:null,this[a0e]=s.locale,this[Ab]=n,this[IO]=s.timeZone,this[Ua]=s.calendar,this[e0e]=EVe,this[t0e]=wVe,this[r0e]=_Ve,this[i0e]=vVe,this[n0e]=SVe,this[o0e]=xVe,this[s0e]=AVe}Object.defineProperty(bm,"name",{writable:!0,value:"DateTimeFormat"}),bm.supportedLocalesOf=function(t,e){return lm.supportedLocalesOf(t,e)};var VC={resolvedOptions:n_(function(){return this[Ab].resolvedOptions()}),format:n_(function(t,...e){let{instant:r,formatter:i,timeZone:n}=Mb(t,this);return r&&i?(i=Z9(i,n),i.format(r.epochMilliseconds)):this[Ab].format(t,...e)}),formatRange:n_(function(t,e){if($b(t)||$b(e)){if(!f0e(t,e))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");let{instant:r,formatter:i,timeZone:n}=Mb(t,this),{instant:s,formatter:o,timeZone:a}=Mb(e,this);if(n&&a&&n!==a)throw new RangeError("cannot format range between different time zones");if(r&&s&&i&&o&&i===o)return Z9(i,n).formatRange(r.epochMilliseconds,s.epochMilliseconds)}return this[Ab].formatRange(t,e)})};"formatToParts"in lm.prototype&&(VC.formatToParts=n_(function(t,...e){let{instant:r,formatter:i,timeZone:n}=Mb(t,this);return r&&i?(i=Z9(i,n),i.formatToParts(r.epochMilliseconds)):this[Ab].formatToParts(t,...e)})),"formatRangeToParts"in lm.prototype&&(VC.formatRangeToParts=n_(function(t,e){if($b(t)||$b(e)){if(!f0e(t,e))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");let{instant:r,formatter:i,timeZone:n}=Mb(t,this),{instant:s,formatter:o,timeZone:a}=Mb(e,this);if(n&&a&&n!==a)throw new RangeError("cannot format range between different time zones");if(r&&s&&i&&o&&i===o)return Z9(i,n).formatRangeToParts(r.epochMilliseconds,s.epochMilliseconds)}return this[Ab].formatRangeToParts(t,e)})),bm.prototype=Object.create(lm.prototype,VC),Object.defineProperty(bm,"prototype",{writable:!1,enumerable:!1,configurable:!1});var Wp=bm;function Z9(t,e){if(!e)return t;let r=t.resolvedOptions();return r.timeZone===e?t:((r.dateStyle||r.timeStyle)&&(delete r.weekday,delete r.era,delete r.year,delete r.month,delete r.day,delete r.hour,delete r.minute,delete r.second,delete r.timeZoneName,delete r.hourCycle,delete r.hour12,delete r.dayPeriod),new lm(r.locale,{...r,timeZone:e}))}function W_(t={},e={}){let r=hl({},t);for(let i of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])r[i]=i in e?e[i]:r[i],r[i]!==!1&&r[i]!==void 0||delete r[i];return r}function vVe(t){let e=W_(t,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return HS(e)||(e=hl({},e,{hour:"numeric",minute:"numeric",second:"numeric"})),e}function wVe(t){let e=W_(t,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in e||"month"in e||(e=hl(e,{year:"numeric",month:"numeric"})),e}function _Ve(t){let e=W_(t,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in e||"day"in e||(e=hl({},e,{month:"numeric",day:"numeric"})),e}function EVe(t){let e=W_(t,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return KS(e)||(e=hl({},e,{year:"numeric",month:"numeric",day:"numeric"})),e}function SVe(t){let e=W_(t,{timeZoneName:!1});return HS(e)||KS(e)||(e=hl({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function xVe(t){let e=t;return HS(e)||KS(e)||(e=hl({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),e.timeZoneName===void 0&&(e.timeZoneName="short")),e}function AVe(t){let e=t;return HS(e)||KS(e)||(e=hl({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function KS(t){return"year"in t||"month"in t||"day"in t||"weekday"in t||"dateStyle"in t}function HS(t){return"hour"in t||"minute"in t||"second"in t||"timeStyle"in t||"dayPeriod"in t}function $b(t){return br(t)||Zi(t)||ar(t)||wt(t)||Lr(t)||_o(t)||Kn(t)}function f0e(t,e){return!(!$b(t)||!$b(e))&&!(Zi(t)&&!Zi(e))&&!(br(t)&&!br(e))&&!(ar(t)&&!ar(e))&&!(wt(t)&&!wt(e))&&!(Lr(t)&&!Lr(e))&&!(_o(t)&&!_o(e))&&!(Kn(t)&&!Kn(e))}function Mb(t,e){let r=Tt("%Temporal.PlainDateTime%");if(Zi(t)){let i=new r(1970,1,1,K(t,Gt),K(t,Jt),K(t,Xt),K(t,Qt),K(t,er),K(t,tr),e[Ua]);return{instant:Ls(V3(e),i,"compatible"),formatter:tm(e,i0e)}}if(Lr(t)){let i=K(t,Ke),n=K(t,Je),s=K(t,et),o=Nt(K(t,we));if(o!==e[Ua])throw new RangeError(`cannot format PlainYearMonth with calendar ${o} in locale with calendar ${e[Ua]}`);let a=new r(i,n,s,12,0,0,0,0,0,o);return{instant:Ls(V3(e),a,"compatible"),formatter:tm(e,t0e)}}if(_o(t)){let i=K(t,Ke),n=K(t,Je),s=K(t,et),o=Nt(K(t,we));if(o!==e[Ua])throw new RangeError(`cannot format PlainMonthDay with calendar ${o} in locale with calendar ${e[Ua]}`);let a=new r(i,n,s,12,0,0,0,0,0,o);return{instant:Ls(V3(e),a,"compatible"),formatter:tm(e,r0e)}}if(br(t)){let i=K(t,Ke),n=K(t,Je),s=K(t,et),o=Nt(K(t,we));if(o!=="iso8601"&&o!==e[Ua])throw new RangeError(`cannot format PlainDate with calendar ${o} in locale with calendar ${e[Ua]}`);let a=new r(i,n,s,12,0,0,0,0,0,e[Ua]);return{instant:Ls(V3(e),a,"compatible"),formatter:tm(e,e0e)}}if(ar(t)){let i=K(t,Ke),n=K(t,Je),s=K(t,et),o=K(t,Gt),a=K(t,Jt),f=K(t,Xt),c=K(t,Qt),u=K(t,er),l=K(t,tr),y=Nt(K(t,we));if(y!=="iso8601"&&y!==e[Ua])throw new RangeError(`cannot format PlainDateTime with calendar ${y} in locale with calendar ${e[Ua]}`);let m=t;return y==="iso8601"&&(m=new r(i,n,s,o,a,f,c,u,l,e[Ua])),{instant:Ls(V3(e),m,"compatible"),formatter:tm(e,n0e)}}if(wt(t)){let i=Nt(K(t,we));if(i!=="iso8601"&&i!==e[Ua])throw new RangeError(`cannot format ZonedDateTime with calendar ${i} in locale with calendar ${e[Ua]}`);let n=Nt(K(t,Yr));if(e[E9]&&e[E9]!==n)throw new RangeError(`timeZone option ${e[E9]} doesn't match actual time zone ${n}`);return{instant:K(t,os),formatter:tm(e,o0e),timeZone:n}}return Kn(t)?{instant:t,formatter:tm(e,s0e)}:{}}var a2t=Object.freeze({__proto__:null,DateTimeFormat:Wp}),fl=class{constructor(t){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");let e=i_(t);rm(e),vl(this),ur(this,kt,e)}get epochSeconds(){if(!Kn(this))throw new TypeError("invalid receiver");let t=K(this,kt);return ae.default.toNumber(ae.default.divide(t,Cd))}get epochMilliseconds(){if(!Kn(this))throw new TypeError("invalid receiver");let t=ae.default.BigInt(K(this,kt));return ae.default.toNumber(ae.default.divide(t,xf))}get epochMicroseconds(){if(!Kn(this))throw new TypeError("invalid receiver");let t=ae.default.BigInt(K(this,kt));return Y9(ae.default.divide(t,Zr))}get epochNanoseconds(){if(!Kn(this))throw new TypeError("invalid receiver");return Y9(ae.default.BigInt(K(this,kt)))}add(t){if(!Kn(this))throw new TypeError("invalid receiver");return yue("add",this,t)}subtract(t){if(!Kn(this))throw new TypeError("invalid receiver");return yue("subtract",this,t)}until(t,e){if(!Kn(this))throw new TypeError("invalid receiver");return fue("until",this,t,e)}since(t,e){if(!Kn(this))throw new TypeError("invalid receiver");return fue("since",this,t,e)}round(t){if(!Kn(this))throw new TypeError("invalid receiver");if(t===void 0)throw new TypeError("options parameter is required");let e=typeof t=="string"?Ub("smallestUnit",t):pr(t),r=uo(e,"smallestUnit","time",pm),i=ea(e,"halfExpand"),n=Fd(e,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[r],!0),s=W9(K(this,kt),n,r,i);return new fl(s)}equals(t){if(!Kn(this))throw new TypeError("invalid receiver");let e=ul(t),r=K(this,kt),i=K(e,kt);return ae.default.equal(ae.default.BigInt(r),ae.default.BigInt(i))}toString(t){if(!Kn(this))throw new TypeError("invalid receiver");let e=pr(t),r=e.timeZone;r!==void 0&&(r=qs(r));let{precision:i,unit:n,increment:s}=U_(e),o=ea(e,"trunc"),a=W9(K(this,kt),s,n,o);return eue(new fl(a),r,i)}toJSON(){if(!Kn(this))throw new TypeError("invalid receiver");return eue(this,void 0,"auto")}toLocaleString(t,e){if(!Kn(this))throw new TypeError("invalid receiver");return new Wp(t,e).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(t){if(!Kn(this))throw new TypeError("invalid receiver");if(!Ii(t))throw new TypeError("invalid argument in toZonedDateTime");let e=t.calendar;if(e===void 0)throw new TypeError("missing calendar property in toZonedDateTime");let r=xo(e),i=t.timeZone;if(i===void 0)throw new TypeError("missing timeZone property in toZonedDateTime");let n=qs(i);return Lo(K(this,kt),n,r)}toZonedDateTimeISO(t){let e=t;if(!Kn(this))throw new TypeError("invalid receiver");if(Ii(e)){let n=e.timeZone;n!==void 0&&(e=n)}let r=qs(e),i=mn();return Lo(K(this,kt),r,i)}static fromEpochSeconds(t){let e=v_(t),r=ae.default.multiply(ae.default.BigInt(e),Cd);return rm(r),new fl(r)}static fromEpochMilliseconds(t){let e=v_(t),r=ae.default.multiply(ae.default.BigInt(e),xf);return rm(r),new fl(r)}static fromEpochMicroseconds(t){let e=i_(t),r=ae.default.multiply(e,Zr);return rm(r),new fl(r)}static fromEpochNanoseconds(t){let e=i_(t);return rm(e),new fl(e)}static from(t){return Kn(t)?new fl(K(t,kt)):ul(t)}static compare(t,e){let r=ul(t),i=ul(e),n=K(r,kt),s=K(i,kt);return ae.default.lessThan(n,s)?-1:ae.default.greaterThan(n,s)?1:0}};bl(fl,"Temporal.Instant");var G9=Array.prototype.includes,MVe=Array.prototype.push,kVe=globalThis.Intl.DateTimeFormat,TVe=Array.prototype.sort,PVe=Math.abs,DVe=Math.floor,BO=Object.entries,wue=Object.keys,Gi={},J9=class{constructor(t){if(arguments.length<1)throw new RangeError("missing argument: id is required");let e=Nt(t);if(!Jpe(e))throw new RangeError(`invalid calendar identifier ${e}`);vl(this),ur(this,dn,e)}get id(){if(!ln(this))throw new TypeError("invalid receiver");return Nt(this)}dateFromFields(t,e){if(!ln(this))throw new TypeError("invalid receiver");if(!Ii(t))throw new TypeError("invalid fields");let r=pr(e);return Gi[K(this,dn)].dateFromFields(t,r,this)}yearMonthFromFields(t,e){if(!ln(this))throw new TypeError("invalid receiver");if(!Ii(t))throw new TypeError("invalid fields");let r=pr(e);return Gi[K(this,dn)].yearMonthFromFields(t,r,this)}monthDayFromFields(t,e){if(!ln(this))throw new TypeError("invalid receiver");if(!Ii(t))throw new TypeError("invalid fields");let r=pr(e);return Gi[K(this,dn)].monthDayFromFields(t,r,this)}fields(t){if(!ln(this))throw new TypeError("invalid receiver");let e=[],r=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(let i of t){if(typeof i!="string")throw new TypeError("invalid fields");if(!r.has(i))throw new RangeError(`invalid field name ${i}`);r.delete(i),MVe.call(e,i)}return Gi[K(this,dn)].fields(e)}mergeFields(t,e){if(!ln(this))throw new TypeError("invalid receiver");return Gi[K(this,dn)].mergeFields(t,e)}dateAdd(t,e,r){if(!ln(this))throw new TypeError("invalid receiver");let i=bi(t),n=xb(e),s=yn(pr(r)),{days:o}=Ea(K(n,Ts),K(n,Ps),K(n,Ds),K(n,Is),K(n,Rs),K(n,Bs),K(n,Cs),"day");return Gi[K(this,dn)].dateAdd(i,K(n,ks),K(n,wo),K(n,Qs),o,s,this)}dateUntil(t,e,r){if(!ln(this))throw new TypeError("invalid receiver");let i=bi(t),n=bi(e),s=uo(pr(r),"largestUnit","date","auto");s==="auto"&&(s="day");let{years:o,months:a,weeks:f,days:c}=Gi[K(this,dn)].dateUntil(i,n,s);return new(Tt("%Temporal.Duration%"))(o,a,f,c,0,0,0,0,0,0)}year(t){let e=t;if(!ln(this))throw new TypeError("invalid receiver");return Lr(e)||(e=bi(e)),Gi[K(this,dn)].year(e)}month(t){let e=t;if(!ln(this))throw new TypeError("invalid receiver");if(_o(e))throw new TypeError("use monthCode on PlainMonthDay instead");return Lr(e)||(e=bi(e)),Gi[K(this,dn)].month(e)}monthCode(t){let e=t;if(!ln(this))throw new TypeError("invalid receiver");return Lr(e)||_o(e)||(e=bi(e)),Gi[K(this,dn)].monthCode(e)}day(t){let e=t;if(!ln(this))throw new TypeError("invalid receiver");return _o(e)||(e=bi(e)),Gi[K(this,dn)].day(e)}era(t){let e=t;if(!ln(this))throw new TypeError("invalid receiver");return Lr(e)||(e=bi(e)),Gi[K(this,dn)].era(e)}eraYear(t){let e=t;if(!ln(this))throw new TypeError("invalid receiver");return Lr(e)||(e=bi(e)),Gi[K(this,dn)].eraYear(e)}dayOfWeek(t){if(!ln(this))throw new TypeError("invalid receiver");let e=bi(t);return Gi[K(this,dn)].dayOfWeek(e)}dayOfYear(t){if(!ln(this))throw new TypeError("invalid receiver");let e=bi(t);return Gi[K(this,dn)].dayOfYear(e)}weekOfYear(t){if(!ln(this))throw new TypeError("invalid receiver");let e=bi(t);return Gi[K(this,dn)].weekOfYear(e)}daysInWeek(t){if(!ln(this))throw new TypeError("invalid receiver");let e=bi(t);return Gi[K(this,dn)].daysInWeek(e)}daysInMonth(t){let e=t;if(!ln(this))throw new TypeError("invalid receiver");return Lr(e)||(e=bi(e)),Gi[K(this,dn)].daysInMonth(e)}daysInYear(t){let e=t;if(!ln(this))throw new TypeError("invalid receiver");return Lr(e)||(e=bi(e)),Gi[K(this,dn)].daysInYear(e)}monthsInYear(t){let e=t;if(!ln(this))throw new TypeError("invalid receiver");return Lr(e)||(e=bi(e)),Gi[K(this,dn)].monthsInYear(e)}inLeapYear(t){let e=t;if(!ln(this))throw new TypeError("invalid receiver");return Lr(e)||(e=bi(e)),Gi[K(this,dn)].inLeapYear(e)}toString(){if(!ln(this))throw new TypeError("invalid receiver");return K(this,dn)}toJSON(){if(!ln(this))throw new TypeError("invalid receiver");return Nt(this)}static from(t){return xo(t)}};function DL(t){if(!t.startsWith("M"))throw new RangeError(`Invalid month code: ${t}.  Month codes must start with M.`);let e=+t.slice(1);if(isNaN(e))throw new RangeError(`Invalid month code: ${t}`);return e}function jd(t,e=!1){return`M${t.toString().padStart(2,"0")}${e?"L":""}`}function S9(t,e,r=12){let{month:i,monthCode:n}=t;if(n===void 0){if(i===void 0)throw new TypeError("Either month or monthCode are required");e==="reject"&&No(i,1,r),e==="constrain"&&(i=_a(i,1,r)),n=jd(i)}else{let s=DL(n);if(i!==void 0&&i!==s)throw new RangeError(`monthCode ${n} and month ${i} must match if both are present`);if(n!==jd(s))throw new RangeError(`Invalid month code: ${n}`);if(i=s,i<1||i>r)throw new RangeError(`Invalid monthCode: ${n}`)}return{...t,month:i,monthCode:n}}bl(J9,"Temporal.Calendar"),EO("Temporal.Calendar.from",J9.from),Gi.iso8601={dateFromFields(t,e,r){let i=yn(e),n=dr(t,["day","month","monthCode","year"],["year","day"]);n=S9(n);let{year:s,month:o,day:a}=n;return{year:s,month:o,day:a}=U9(s,o,a,i),uu(s,o,a,r)},yearMonthFromFields(t,e,r){let i=yn(e),n=dr(t,["month","monthCode","year"],["year"]);n=S9(n);let{year:s,month:o}=n;return{year:s,month:o}=function(a,f,c){let u=a,l=f;switch(c){case"reject":dl(u,l,1);break;case"constrain":({year:u,month:l}=$pe(u,l))}return{year:u,month:l}}(s,o,i),S_(s,o,r,1)},monthDayFromFields(t,e,r){let i=yn(e),n=dr(t,["day","month","monthCode","year"],["day"]);if(n.month!==void 0&&n.year===void 0&&n.monthCode===void 0)throw new TypeError("either year or monthCode required with month");let s=n.monthCode===void 0;n=S9(n);let{month:o,day:a,year:f}=n;return{month:o,day:a}=U9(s?f:1972,o,a,i),E_(o,a,r,1972)},fields:t=>t,mergeFields(t,e){let r={};for(let n of wue(t))n!=="month"&&n!=="monthCode"&&(r[n]=t[n]);let i=wue(e);for(let n of i)r[n]=e[n];if(!G9.call(i,"month")&&!G9.call(i,"monthCode")){let{month:n,monthCode:s}=t;n!==void 0&&(r.month=n),s!==void 0&&(r.monthCode=s)}return r},dateAdd(t,e,r,i,n,s,o){let a=K(t,Ke),f=K(t,Je),c=K(t,et);return{year:a,month:f,day:c}=um(a,f,c,e,r,i,n,s),uu(a,f,c,o)},dateUntil:(t,e,r)=>SL(K(t,Ke),K(t,Je),K(t,et),K(e,Ke),K(e,Je),K(e,et),r),year:t=>K(t,Ke),era(){},eraYear(){},month:t=>K(t,Je),monthCode:t=>jd(K(t,Je)),day:t=>K(t,et),dayOfWeek:t=>$C(K(t,Ke),K(t,Je),K(t,et)),dayOfYear:t=>H9(K(t,Ke),K(t,Je),K(t,et)),weekOfYear:t=>function(e,r,i){let n=H9(e,r,i),s=$C(e,r,i)||7,o=$C(e,1,1),a=fo((n-s+10)/7);return a<1?o===5||o===6&&kp(e-1)?53:52:a===53&&(kp(e)?366:365)-n<4-s?1:a}(K(t,Ke),K(t,Je),K(t,et)),daysInWeek:()=>7,daysInMonth:t=>Od(K(t,Ke),K(t,Je)),daysInYear(t){let e=t;return co(e,Ke)||(e=bi(e)),kp(K(e,Ke))?366:365},monthsInYear:()=>12,inLeapYear(t){let e=t;return co(e,Ke)||(e=bi(e)),kp(K(e,Ke))}};var Ji=class{constructor(t){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),t!==void 0){let e=0;for(let r of t.map.entries()){if(++e>Ji.MAX_CACHE_ENTRIES)break;this.map.set(...r)}}}get(t){let e=this.map.get(t);return e&&(this.hits++,this.report()),this.calls++,e}set(t,e){this.map.set(t,e),this.misses++,this.report()}report(){}setObject(t){if(Ji.objectMap.get(t))throw new RangeError("object already cached");Ji.objectMap.set(t,this),this.report()}static getCacheForObject(t){let e=Ji.objectMap.get(t);return e||(e=new Ji,Ji.objectMap.set(t,e)),e}};function u0e({isoYear:t,isoMonth:e,isoDay:r}){return`${Im(t)}-${zi(e)}-${zi(r)}T00:00Z`}function KC(t,e){return{years:t.year-e.year,months:t.month-e.month,days:t.day-e.day}}Ji.objectMap=new WeakMap,Ji.MAX_CACHE_ENTRIES=1e3;var lv=class{constructor(){this.eraLength="short",this.hasEra=!0}getFormatter(){return this.formatter===void 0&&(this.formatter=new kVe(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(t,e){let{year:r,month:i,day:n}=t,s=JSON.stringify({func:"isoToCalendarDate",isoYear:r,isoMonth:i,isoDay:n,id:this.id}),o=e.get(s);if(o)return o;let a=this.getFormatter(),f,c;try{c=u0e({isoYear:r,isoMonth:i,isoDay:n}),f=a.formatToParts(new Date(c))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:r,isoMonth:i,isoDay:n})}`)}let u={};for(let{type:y,value:m}of f){if(y==="year"&&(u.eraYear=+m),y==="relatedYear"&&(u.eraYear=+m),y==="month"){let g=/^([0-9]*)(.*?)$/.exec(m);if(!g||g.length!=3||!g[1]&&!g[2])throw new RangeError(`Unexpected month: ${m}`);if(u.month=g[1]?+g[1]:1,u.month<1)throw new RangeError(`Invalid month ${m} from ${c}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(u.month>13)throw new RangeError(`Invalid month ${m} from ${c}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);g[2]&&(u.monthExtra=g[2])}y==="day"&&(u.day=+m),this.hasEra&&y==="era"&&m!=null&&m!==""&&(m=m.split(" (")[0],u.era=m.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(u.eraYear===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){let{era:y,eraYear:m}=this.reviseIntlEra(u,t);u.era=y,u.eraYear=m}this.checkIcuBugs&&this.checkIcuBugs(t);let l=this.adjustCalendarDate(u,e,"constrain",!0);if(l.year===void 0)throw new RangeError(`Missing year converting ${JSON.stringify(t)}`);if(l.month===void 0)throw new RangeError(`Missing month converting ${JSON.stringify(t)}`);if(l.day===void 0)throw new RangeError(`Missing day converting ${JSON.stringify(t)}`);return e.set(s,l),["constrain","reject"].forEach(y=>{let m=JSON.stringify({func:"calendarToIsoDate",year:l.year,month:l.month,day:l.day,overflow:y,id:this.id});e.set(m,t)}),l}validateCalendarDate(t){let{era:e,month:r,year:i,day:n,eraYear:s,monthCode:o,monthExtra:a}=t;if(a!==void 0)throw new RangeError("Unexpected `monthExtra` value");if(i===void 0&&s===void 0)throw new TypeError("year or eraYear is required");if(r===void 0&&o===void 0)throw new TypeError("month or monthCode is required");if(n===void 0)throw new RangeError("Missing day");if(o!==void 0){if(typeof o!="string")throw new RangeError("monthCode must be a string, not "+typeof o);if(!/^M([01]?\d)(L?)$/.test(o))throw new RangeError(`Invalid monthCode: ${o}`)}if(this.constantEra){if(e!==void 0&&e!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${e}`);if(s!==void 0&&i!==void 0&&s!==i)throw new RangeError(`eraYear ${s} does not match year ${i}`)}}adjustCalendarDate(t,e,r="constrain",i=!1){if(this.calendarType==="lunisolar")throw new RangeError("Override required for lunisolar calendars");let n=t;if(this.validateCalendarDate(n),this.constantEra){let{year:f,eraYear:c}=n;n={...n,era:this.constantEra,year:f!==void 0?f:c,eraYear:c!==void 0?c:f}}let s=this.monthsInYear(n,e),{month:o,monthCode:a}=n;return{month:o,monthCode:a}=S9(n,r,s),{...n,month:o,monthCode:a}}regulateMonthDayNaive(t,e,r){let i=this.monthsInYear(t,r),{month:n,day:s}=t;return e==="reject"?(No(n,1,i),No(s,1,this.maximumMonthLength(t))):(n=_a(n,1,i),s=_a(s,1,this.maximumMonthLength({...t,month:n}))),{...t,month:n,day:s}}calendarToIsoDate(t,e="constrain",r){let i=t,n=this.adjustCalendarDate(t,r,e,!1);n=this.regulateMonthDayNaive(n,e,r);let{year:s,month:o,day:a}=n,f=JSON.stringify({func:"calendarToIsoDate",year:s,month:o,day:a,overflow:e,id:this.id}),c,u=r.get(f);if(u||i.year!==void 0&&i.month!==void 0&&i.day!==void 0&&(i.year!==n.year||i.month!==n.month||i.day!==n.day)&&(c=JSON.stringify({func:"calendarToIsoDate",year:i.year,month:i.month,day:i.day,overflow:e,id:this.id}),u=r.get(c),u))return u;let l=this.estimateIsoDate({year:s,month:o,day:a}),y=M=>{let I=this.addDaysIso(l,M);if(n.day>this.minimumMonthLength(n)){let R=this.isoToCalendarDate(I,r);for(;R.month!==o||R.year!==s;){if(e==="reject")throw new RangeError(`day ${a} does not exist in month ${o} of year ${s}`);I=this.addDaysIso(I,-1),R=this.isoToCalendarDate(I,r)}}return I},m=0,g=this.isoToCalendarDate(l,r),E=KC(n,g);if(E.years!==0||E.months!==0||E.days!==0){let M=365*E.years+30*E.months+E.days;l=this.addDaysIso(l,M),g=this.isoToCalendarDate(l,r),E=KC(n,g),E.years===0&&E.months===0?l=y(E.days):m=this.compareCalendarDates(n,g)}let x=8,T=!1;for(;m;){l=this.addDaysIso(l,m*x);let M=g;g=this.isoToCalendarDate(l,r);let I=m;if(m=this.compareCalendarDates(n,g),m){if(E=KC(n,g),E.years===0&&E.months===0)l=y(E.days),m=0,T=n.day>this.minimumMonthLength(n);else if(I&&m!==I)if(x>1)x/=2;else{if(e==="reject")throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...i})}`);this.compareCalendarDates(g,M)>0&&(l=this.addDaysIso(l,-1)),T=!0,m=0}}}if(r.set(f,l),c&&r.set(c,l),n.year===void 0||n.month===void 0||n.day===void 0||n.monthCode===void 0||this.hasEra&&(n.era===void 0||n.eraYear===void 0))throw new RangeError("Unexpected missing property");if(!T){let M=JSON.stringify({func:"isoToCalendarDate",isoYear:l.year,isoMonth:l.month,isoDay:l.day,id:this.id});r.set(M,n)}return l}temporalToCalendarDate(t,e){let r={year:K(t,Ke),month:K(t,Je),day:K(t,et)};return this.isoToCalendarDate(r,e)}compareCalendarDates(t,e){let r=dr(t,["day","month","year"],["day","month","year"]),i=dr(e,["day","month","year"],["day","month","year"]);return r.year!==i.year?cm(r.year-i.year):r.month!==i.month?cm(r.month-i.month):r.day!==i.day?cm(r.day-i.day):0}regulateDate(t,e="constrain",r){let i=this.calendarToIsoDate(t,e,r);return this.isoToCalendarDate(i,r)}addDaysIso(t,e){return um(t.year,t.month,t.day,0,0,0,e,"constrain")}addDaysCalendar(t,e,r){let i=this.calendarToIsoDate(t,"constrain",r),n=this.addDaysIso(i,e);return this.isoToCalendarDate(n,r)}addMonthsCalendar(t,e,r,i){let n=t,{day:s}=n;for(let o=0,a=PVe(e);o<a;o++){let{month:f}=n,c=n,u=e<0?-Math.max(s,this.daysInPreviousMonth(n,i)):this.daysInMonth(n,i),l=this.calendarToIsoDate(n,"constrain",i),y=this.addDaysIso(l,u);if(n=this.isoToCalendarDate(y,i),e>0){let m=this.monthsInYear(c,i);for(;n.month-1!=f%m;)y=this.addDaysIso(y,-1),n=this.isoToCalendarDate(y,i)}n.day!==s&&(n=this.regulateDate({...n,day:s},"constrain",i))}if(r==="reject"&&n.day!==s)throw new RangeError(`Day ${s} does not exist in resulting calendar month`);return n}addCalendar(t,{years:e=0,months:r=0,weeks:i=0,days:n=0},s,o){let{year:a,day:f,monthCode:c}=t,u=this.adjustCalendarDate({year:a+e,monthCode:c,day:f},o),l=this.addMonthsCalendar(u,r,s,o),y=n+7*i;return this.addDaysCalendar(l,y,o)}untilCalendar(t,e,r,i){let n=0,s=0,o=0,a=0;switch(r){case"day":n=this.calendarDaysUntil(t,e,i);break;case"week":{let f=this.calendarDaysUntil(t,e,i);n=f%7,s=(f-n)/7;break}case"month":case"year":{let f=e.year-t.year,c=e.month-t.month,u=e.day-t.day,l=this.compareCalendarDates(e,t);if(!l)return{years:0,months:0,weeks:0,days:0};r==="year"&&f&&(a=c*l<0||c===0&&u*l<0?f-l:f);let y,m=a?this.addCalendar(t,{years:a},"constrain",i):t;do o+=l,y=m,m=this.addMonthsCalendar(y,l,"constrain",i),m.day!==t.day&&(m=this.regulateDate({...m,day:t.day},"constrain",i));while(this.compareCalendarDates(e,m)*l>=0);o-=l,n=this.calendarDaysUntil(y,e,i);break}}return{years:a,months:o,weeks:s,days:n}}daysInMonth(t,e){let{day:r}=t,i=this.maximumMonthLength(t),n=this.minimumMonthLength(t);if(n===i)return n;let s=r<=i-n?i:n,o=this.calendarToIsoDate(t,"constrain",e),a=this.addDaysIso(o,s),f=this.isoToCalendarDate(a,e),c=this.addDaysIso(a,-f.day);return this.isoToCalendarDate(c,e).day}daysInPreviousMonth(t,e){let{day:r,month:i,year:n}=t,s={year:i>1?n:n-1,month:i,day:1},o=i>1?i-1:this.monthsInYear(s,e);s={...s,month:o};let a=this.minimumMonthLength(s),f=this.maximumMonthLength(s);if(a===f)return f;let c=this.calendarToIsoDate(t,"constrain",e),u=this.addDaysIso(c,-r);return this.isoToCalendarDate(u,e).day}startOfCalendarYear(t){return{year:t.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(t){return{year:t.year,month:t.month,day:1}}calendarDaysUntil(t,e,r){let i=this.calendarToIsoDate(t,"constrain",r),n=this.calendarToIsoDate(e,"constrain",r);return this.isoDaysUntil(i,n)}isoDaysUntil(t,e){return SL(t.year,t.month,t.day,e.year,e.month,e.day,"day").days}monthDayFromFields(t,e,r){let i,n,s,o,a,{year:f,month:c,monthCode:u,day:l,era:y,eraYear:m}=t;if(u===void 0){if(f===void 0&&(y===void 0||m===void 0))throw new TypeError("`monthCode`, `year`, or `era` and `eraYear` is required");({monthCode:u,year:f}=this.adjustCalendarDate({year:f,month:c,monthCode:u,day:l,era:y,eraYear:m},r,e))}let{year:g}=this.isoToCalendarDate({year:1972,month:1,day:1},r);for(let E=0;E<100;E++){let x=this.adjustCalendarDate({day:l,monthCode:u,year:g-E},r),T=this.calendarToIsoDate(x,"constrain",r),M=this.isoToCalendarDate(T,r);if({year:i,month:n,day:s}=T,M.monthCode===u&&M.day===l)return{month:n,day:s,year:i};e==="constrain"&&(o===void 0||M.monthCode===o.monthCode&&M.day>o.day)&&(o=M,a=T)}if(e==="constrain"&&a!==void 0)return a;throw new RangeError(`No recent ${this.id} year with monthCode ${u} and day ${l}`)}},IVe=class extends lv{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(t){let{year:e}=t;return(7*e+1)%19<7}monthsInYear(t){return this.inLeapYear(t)?13:12}minimumMonthLength(t){return this.minMaxMonthLength(t,"min")}maximumMonthLength(t){return this.minMaxMonthLength(t,"max")}minMaxMonthLength(t,e){let{month:r,year:i}=t,n=this.getMonthCode(i,r),s=BO(this.months).find(a=>a[1].monthCode===n);if(s===void 0)throw new RangeError(`unmatched Hebrew month: ${r}`);let o=s[1].days;return typeof o=="number"?o:o[e]}estimateIsoDate(t){let{year:e}=t;return{year:e-3760,month:1,day:1}}getMonthCode(t,e){return this.inLeapYear({year:t})?e===6?jd(5,!0):jd(e<6?e:e-1):jd(e)}adjustCalendarDate(t,e,r="constrain",i=!1){let{year:n,eraYear:s,month:o,monthCode:a,day:f,monthExtra:c}=t;if(n===void 0&&s!==void 0&&(n=s),s===void 0&&n!==void 0&&(s=n),i){if(c){let u=this.months[c];if(!u)throw new RangeError(`Unrecognized month from formatToParts: ${c}`);o=this.inLeapYear({year:n})?u.leap:u.regular}return a=this.getMonthCode(n,o),{year:n,month:o,day:f,era:void 0,eraYear:s,monthCode:a}}if(this.validateCalendarDate(t),o===void 0)if(a.endsWith("L")){if(a!=="M05L")throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${a}`);if(o=6,!this.inLeapYear({year:n})){if(r==="reject")throw new RangeError(`Hebrew monthCode M05L is invalid in year ${n} which is not a leap year`);o=5,f=30,a="M05"}}else{o=DL(a),this.inLeapYear({year:n})&&o>=6&&o++;let u=this.monthsInYear({year:n});if(o<1||o>u)throw new RangeError(`Invalid monthCode: ${a}`)}else if(r==="reject"?(No(o,1,this.monthsInYear({year:n})),No(f,1,this.maximumMonthLength({year:n,month:o}))):(o=_a(o,1,this.monthsInYear({year:n})),f=_a(f,1,this.maximumMonthLength({year:n,month:o}))),a===void 0)a=this.getMonthCode(n,o);else if(this.getMonthCode(n,o)!==a)throw new RangeError(`monthCode ${a} doesn't correspond to month ${o} in Hebrew year ${n}`);return{...t,day:f,month:o,monthCode:a,year:n,eraYear:s}}},dv=class extends lv{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(t,e){return this.daysInMonth({year:t.year,month:12,day:1},e)===30}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(t){let{year:e}=this.adjustCalendarDate(t);return{year:DVe(e*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}},c0e=class extends dv{constructor(){super(...arguments),this.id="islamic"}},RVe=class extends dv{constructor(){super(...arguments),this.id="islamic-umalqura"}},BVe=class extends dv{constructor(){super(...arguments),this.id="islamic-tbla"}},CVe=class extends dv{constructor(){super(...arguments),this.id="islamic-civil"}},OVe=class extends dv{constructor(){super(...arguments),this.id="islamic-rgsa"}},jVe=class extends dv{constructor(){super(...arguments),this.id="islamicc"}},LVe=class extends lv{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(t,e){return c0e.prototype.inLeapYear.call(this,t,e)}monthsInYear(){return 12}minimumMonthLength(t){let{month:e}=t;return e===12?29:e<=6?31:30}maximumMonthLength(t){let{month:e}=t;return e===12?30:e<=6?31:30}estimateIsoDate(t){let{year:e}=this.adjustCalendarDate(t);return{year:e+621,month:1,day:1}}},NVe=class extends lv{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug=new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})!=="10/11/-79 Saka"}inLeapYear(t){return l0e(t.year+78)}monthsInYear(){return 12}minimumMonthLength(t){return this.getMonthInfo(t).length}maximumMonthLength(t){return this.getMonthInfo(t).length}getMonthInfo(t){let{month:e}=t,r=this.months[e];if(r===void 0)throw new RangeError(`Invalid month: ${e}`);return this.inLeapYear(t)&&r.leap&&(r=r.leap),r}estimateIsoDate(t){let e=this.adjustCalendarDate(t),r=this.getMonthInfo(e);return um(e.year+78+(r.nextYear?1:0),r.month,r.day,0,0,0,e.day-1,"constrain")}checkIcuBugs(t){if(this.vulnerableToBceBug&&t.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}};function l0e(t){return t%4==0&&(t%100!=0||t%400==0)}var Y_=class extends lv{constructor(t,e){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=t;let{eras:r,anchorEra:i}=function(n){let s,o=n;if(o.length===0)throw new RangeError("Invalid era data: eras are required");if(o.length===1&&o[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(o.length===1&&!o[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(o.filter(f=>f.reverseOf!=null).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");o.forEach(f=>{if(f.isAnchor||!f.anchorEpoch&&!f.reverseOf){if(s)throw new RangeError("Invalid era data: cannot have multiple anchor eras");s=f,f.anchorEpoch={year:f.hasYearZero?0:1}}else if(!f.name)throw new RangeError("If era name is blank, it must be the anchor era")}),o=o.filter(f=>f.name),o.forEach(f=>{let{reverseOf:c}=f;if(c){let u=o.find(l=>l.name===c);if(u===void 0)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${c}`);f.reverseOf=u,f.anchorEpoch=u.anchorEpoch,f.isoEpoch=u.isoEpoch}f.anchorEpoch.month===void 0&&(f.anchorEpoch.month=1),f.anchorEpoch.day===void 0&&(f.anchorEpoch.day=1)}),TVe.call(o,(f,c)=>{if(f.reverseOf)return 1;if(c.reverseOf)return-1;if(!f.isoEpoch||!c.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return c.isoEpoch.year-f.isoEpoch.year});let a=o[o.length-1].reverseOf;if(a&&a!==o[o.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return o.forEach((f,c)=>{f.genericName="era"+(o.length-1-c)}),{eras:o,anchorEra:s||o[0]}}(e);this.anchorEra=i,this.eras=r}inLeapYear(t){let{year:e}=this.estimateIsoDate({month:1,day:1,year:t.year});return l0e(e)}monthsInYear(){return 12}minimumMonthLength(t){let{month:e}=t;return e===2?this.inLeapYear(t)?29:28:[4,6,9,11].indexOf(e)>=0?30:31}maximumMonthLength(t){return this.minimumMonthLength(t)}completeEraYear(t){let e=(o,a)=>{let f=t[o];if(f!=null&&f!=a)throw new RangeError(`Input ${o} ${f} doesn't match calculated value ${a}`)},r=o=>{let a,f={...t,year:o},c=this.eras.find((u,l)=>{if(l===this.eras.length-1){if(u.reverseOf){if(o>0)throw new RangeError(`Signed year ${o} is invalid for era ${u.name}`);return a=u.anchorEpoch.year-o,!0}return a=o-u.anchorEpoch.year+(u.hasYearZero?0:1),!0}return this.compareCalendarDates(f,u.anchorEpoch)>=0&&(a=o-u.anchorEpoch.year+(u.hasYearZero?0:1),!0)});if(!c)throw new RangeError(`Year ${o} was not matched by any era`);return{eraYear:a,era:c.name}},{year:i,eraYear:n,era:s}=t;if(i!=null)({eraYear:n,era:s}=r(i)),e("era",s),e("eraYear",n);else{if(n==null)throw new RangeError("Either `year` or `eraYear` and `era` are required");{let o=s===void 0?void 0:this.eras.find(a=>a.name===s||a.genericName===s);if(!o)throw new RangeError(`Era ${s} (ISO year ${n}) was not matched by any era`);if(n<1&&o.reverseOf)throw new RangeError(`Years in ${s} era must be positive, not ${i}`);i=o.reverseOf?o.anchorEpoch.year-n:n+o.anchorEpoch.year-(o.hasYearZero?0:1),e("year",i),{eraYear:n,era:s}=r(i)}}return{...t,year:i,eraYear:n,era:s}}adjustCalendarDate(t,e,r="constrain"){let i=t,{month:n,monthCode:s}=i;return n===void 0&&(i={...i,month:DL(s)}),this.validateCalendarDate(i),i=this.completeEraYear(i),super.adjustCalendarDate(i,e,r)}estimateIsoDate(t){let e=this.adjustCalendarDate(t),{year:r,month:i,day:n}=e,{anchorEra:s}=this;return U9(r+s.isoEpoch.year-(s.hasYearZero?0:1),i,n,"constrain")}checkIcuBugs(t){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&Tp(t.year,t.month,t.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}},IL=class extends Y_{constructor(t,e){super(t,e)}inLeapYear(t){let{year:e}=t;return(e+1)%4==0}monthsInYear(){return 13}minimumMonthLength(t){let{month:e}=t;return e===13?this.inLeapYear(t)?6:5:30}maximumMonthLength(t){return this.minimumMonthLength(t)}},qVe=class extends IL{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}},zVe=class extends IL{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}},FVe=class extends IL{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}},UVe=class extends Y_{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}},$Ve=class extends Y_{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}},VVe=class extends Y_{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(t){let{era:e,eraYear:r}=t;return e!=="bc"&&e!=="b"||(e="bce"),e!=="ad"&&e!=="a"||(e="ce"),{era:e,eraYear:r}}},KVe=class extends Y_{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long"}reviseIntlEra(t,e){let{era:r,eraYear:i}=t,{year:n}=e;return this.eras.find(s=>s.name===r)?{era:r,eraYear:i}:n<1?{era:"bce",eraYear:1-n}:{era:"ce",eraYear:n}}},d0e=class extends lv{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(t,e){let r=this.getMonthList(t.year,e);return BO(r).length===13}monthsInYear(t,e){return this.inLeapYear(t,e)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(t,e){if(t===void 0)throw new TypeError("Missing year");let r=JSON.stringify({func:"getMonthList",calendarYear:t,id:this.id}),i=e.get(r);if(i)return i;let n=this.getFormatter(),s=(E,x)=>{let T=u0e({isoYear:E,isoMonth:2,isoDay:1}),M=new Date(T);M.setUTCDate(x+1);let I=n.formatToParts(M),R=I.find(C=>C.type==="month").value,O=+I.find(C=>C.type==="day").value,B=I.find(C=>C.type==="relatedYear");if(B===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return B=+B.value,{calendarMonthString:R,calendarDay:O,calendarYearToVerify:B}},o=17,{calendarMonthString:a,calendarDay:f,calendarYearToVerify:c}=s(t,o);a!=="1"&&(o+=29,{calendarMonthString:a,calendarDay:f}=s(t,o)),o-=f-5;let u={},l,y,m=1,g=!1;do({calendarMonthString:a,calendarDay:f,calendarYearToVerify:c}=s(t,o)),l&&(u[y].daysInMonth=l+30-f),c!==t?g=!0:(u[a]={monthIndex:m++},o+=30),l=f,y=a;while(!g);return u[y].daysInMonth=l+30-f,e.set(r,u),u}estimateIsoDate(t){let{year:e,month:r}=t;return{year:e,month:r>=12?12:r+1,day:1}}adjustCalendarDate(t,e,r="constrain",i=!1){let{year:n,month:s,monthExtra:o,day:a,monthCode:f,eraYear:c}=t;if(i){if(n=c,o&&o!=="bis")throw new RangeError(`Unexpected leap month suffix: ${o}`);let u=jd(s,o!==void 0),l=`${s}${o||""}`,y=this.getMonthList(n,e)[l];if(y===void 0)throw new RangeError(`Unmatched month ${l} in Chinese year ${n}`);return s=y.monthIndex,{year:n,month:s,day:a,era:void 0,eraYear:c,monthCode:u}}if(this.validateCalendarDate(t),n===void 0&&(n=c),c===void 0&&(c=n),s===void 0){let u=this.getMonthList(n,e),l=f.replace("L","bis").slice(1);l[0]==="0"&&(l=l.slice(1));let y=u[l];if(s=y&&y.monthIndex,s===void 0&&f.endsWith("L")&&!G9.call(["M01L","M12L","M13L"],f)&&r==="constrain"){let m=f.slice(1,-1);m[0]==="0"&&(m=m.slice(1)),y=u[m],y&&({daysInMonth:a,monthIndex:s}=y,f=jd(m))}if(s===void 0)throw new RangeError(`Unmatched month ${f} in Chinese year ${n}`)}else if(f===void 0){let u=this.getMonthList(n,e),l=BO(u),y=l.length;r==="reject"?(No(s,1,y),No(a,1,this.maximumMonthLength())):(s=_a(s,1,y),a=_a(a,1,this.maximumMonthLength()));let m=l.find(([,g])=>g.monthIndex===s);if(m===void 0)throw new RangeError(`Invalid month ${s} in Chinese year ${n}`);f=jd(m[0].replace("bis",""),m[0].indexOf("bis")!==-1)}else{let u=this.getMonthList(n,e),l=f.replace("L","bis").slice(1);l[0]==="0"&&(l=l.slice(1));let y=u[l];if(!y)throw new RangeError(`Unmatched monthCode ${f} in Chinese year ${n}`);if(s!==y.monthIndex)throw new RangeError(`monthCode ${f} doesn't correspond to month ${s} in Chinese year ${n}`)}return{...t,year:n,eraYear:c,month:s,monthCode:f,day:a}}},HVe=class extends d0e{constructor(){super(...arguments),this.id="chinese"}},WVe=class extends d0e{constructor(){super(...arguments),this.id="dangi"}},YVe={helper:void 0,dateFromFields(t,e,r){let i=yn(e),n=new Ji,s=dr(t,["day","era","eraYear","month","monthCode","year"],["day"]),{year:o,month:a,day:f}=this.helper.calendarToIsoDate(s,i,n),c=uu(o,a,f,r);return n.setObject(c),c},yearMonthFromFields(t,e,r){let i=yn(e),n=new Ji,s=dr(t,["era","eraYear","month","monthCode","year"],[]),{year:o,month:a,day:f}=this.helper.calendarToIsoDate({...s,day:1},i,n),c=S_(o,a,r,f);return n.setObject(c),c},monthDayFromFields(t,e,r){let i=yn(e),n=new Ji,s=dr(t,["day","era","eraYear","month","monthCode","year"],["day"]),{year:o,month:a,day:f}=this.helper.monthDayFromFields(s,i,n),c=E_(a,f,r,o);return n.setObject(c),c},fields(t){let e=t;return G9.call(e,"year")&&(e=[...e,"era","eraYear"]),e},mergeFields(t,e){let r={...t},i={...e},{month:n,monthCode:s,year:o,era:a,eraYear:f,...c}=r,{month:u,monthCode:l,year:y,era:m,eraYear:g}=i;return u===void 0&&l===void 0&&(c.month=n,c.monthCode=s),y===void 0&&m===void 0&&g===void 0&&(c.year=o),{...c,...i}},dateAdd(t,e,r,i,n,s,o){let a=Ji.getCacheForObject(t),f=this.helper.temporalToCalendarDate(t,a),c=this.helper.addCalendar(f,{years:e,months:r,weeks:i,days:n},s,a),u=this.helper.calendarToIsoDate(c,"constrain",a),{year:l,month:y,day:m}=u,g=uu(l,y,m,o);return new Ji(a).setObject(g),g},dateUntil(t,e,r){let i=Ji.getCacheForObject(t),n=Ji.getCacheForObject(e),s=this.helper.temporalToCalendarDate(t,i),o=this.helper.temporalToCalendarDate(e,n);return this.helper.untilCalendar(s,o,r,i)},year(t){let e=Ji.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).year},month(t){let e=Ji.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).month},day(t){let e=Ji.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).day},era(t){if(!this.helper.hasEra)return;let e=Ji.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).era},eraYear(t){if(!this.helper.hasEra)return;let e=Ji.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).eraYear},monthCode(t){let e=Ji.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).monthCode},dayOfWeek:t=>Gi.iso8601.dayOfWeek(t),dayOfYear(t){let e=Ji.getCacheForObject(t),r=this.helper.isoToCalendarDate(t,e),i=this.helper.startOfCalendarYear(r);return this.helper.calendarDaysUntil(i,r,e)+1},weekOfYear:t=>Gi.iso8601.weekOfYear(t),daysInWeek:t=>Gi.iso8601.daysInWeek(t),daysInMonth(t){let e=Ji.getCacheForObject(t),r=this.helper.temporalToCalendarDate(t,e),i=this.helper.maximumMonthLength(r);if(i===this.helper.minimumMonthLength(r))return i;let n=this.helper.startOfCalendarMonth(r),s=this.helper.addMonthsCalendar(n,1,"constrain",e);return this.helper.calendarDaysUntil(n,s,e)},daysInYear(t){let e=t;co(e,Ke)||(e=bi(e));let r=Ji.getCacheForObject(e),i=this.helper.temporalToCalendarDate(e,r),n=this.helper.startOfCalendarYear(i),s=this.helper.addCalendar(n,{years:1},"constrain",r);return this.helper.calendarDaysUntil(n,s,r)},monthsInYear(t){let e=Ji.getCacheForObject(t),r=this.helper.temporalToCalendarDate(t,e);return this.helper.monthsInYear(r,e)},inLeapYear(t){let e=t;co(e,Ke)||(e=bi(e));let r=Ji.getCacheForObject(e),i=this.helper.temporalToCalendarDate(e,r);return this.helper.inLeapYear(i,r)}};for(let t of[IVe,LVe,FVe,qVe,zVe,HVe,WVe,UVe,NVe,$Ve,VVe,KVe,c0e,RVe,BVe,CVe,OVe,jVe]){let e=new t;Gi[e.id]={...YVe,helper:e}}var WS=class{constructor(t,e,r,i=mn()){let n=vi(t),s=vi(e),o=vi(r),a=xo(i);if(arguments.length<3)throw new RangeError("missing argument: isoYear, isoMonth and isoDay are required");Ppe(this,n,s,o,a)}get calendar(){if(!br(this))throw new TypeError("invalid receiver");return K(this,we)}get era(){if(!br(this))throw new TypeError("invalid receiver");return jS(K(this,we),this)}get eraYear(){if(!br(this))throw new TypeError("invalid receiver");return LS(K(this,we),this)}get year(){if(!br(this))throw new TypeError("invalid receiver");return BS(K(this,we),this)}get month(){if(!br(this))throw new TypeError("invalid receiver");return CS(K(this,we),this)}get monthCode(){if(!br(this))throw new TypeError("invalid receiver");return V_(K(this,we),this)}get day(){if(!br(this))throw new TypeError("invalid receiver");return OS(K(this,we),this)}get dayOfWeek(){if(!br(this))throw new TypeError("invalid receiver");return hL(K(this,we),this)}get dayOfYear(){if(!br(this))throw new TypeError("invalid receiver");return pL(K(this,we),this)}get weekOfYear(){if(!br(this))throw new TypeError("invalid receiver");return yL(K(this,we),this)}get daysInWeek(){if(!br(this))throw new TypeError("invalid receiver");return mL(K(this,we),this)}get daysInMonth(){if(!br(this))throw new TypeError("invalid receiver");return K_(K(this,we),this)}get daysInYear(){if(!br(this))throw new TypeError("invalid receiver");return NS(K(this,we),this)}get monthsInYear(){if(!br(this))throw new TypeError("invalid receiver");return qS(K(this,we),this)}get inLeapYear(){if(!br(this))throw new TypeError("invalid receiver");return zS(K(this,we),this)}with(t,e){if(!br(this))throw new TypeError("invalid receiver");if(!Ii(t))throw new TypeError("invalid argument");uv(t);let r=K(this,we),i=On(r,["day","month","monthCode","year"]),n=dr(t,i,"partial");if(!n)throw new TypeError("invalid date-like");let s=dr(this,i,[]);return s=ym(r,s,n),s=dr(s,i,[]),qp(r,s,pr(e))}withCalendar(t){if(!br(this))throw new TypeError("invalid receiver");let e=xo(t);return new WS(K(this,Ke),K(this,Je),K(this,et),e)}add(t,e){if(!br(this))throw new TypeError("invalid receiver");let r=xb(t),i=pr(e);return js(K(this,we),this,r,i)}subtract(t,e){if(!br(this))throw new TypeError("invalid receiver");let r=Upe(xb(t)),i=pr(e);return js(K(this,we),this,r,i)}until(t,e){if(!br(this))throw new TypeError("invalid receiver");return uue("until",this,t,e)}since(t,e){if(!br(this))throw new TypeError("invalid receiver");return uue("since",this,t,e)}equals(t){if(!br(this))throw new TypeError("invalid receiver");let e=bi(t);for(let r of[Ke,Je,et])if(K(this,r)!==K(e,r))return!1;return H_(K(this,we),K(e,we))}toString(t){if(!br(this))throw new TypeError("invalid receiver");return tue(this,F_(pr(t)))}toJSON(){if(!br(this))throw new TypeError("invalid receiver");return tue(this)}toLocaleString(t,e){if(!br(this))throw new TypeError("invalid receiver");return new Wp(t,e).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(t){if(!br(this))throw new TypeError("invalid receiver");let e=K(this,Ke),r=K(this,Je),i=K(this,et),n=K(this,we);if(t===void 0)return wa(e,r,i,0,0,0,0,0,0,n);let s=Bd(t);return wa(e,r,i,K(s,Gt),K(s,Jt),K(s,Xt),K(s,Qt),K(s,er),K(s,tr),n)}toZonedDateTime(t){if(!br(this))throw new TypeError("invalid receiver");let e,r;if(Ii(t)){let m=t.timeZone;m===void 0?e=qs(t):(e=qs(m),r=t.plainTime)}else e=qs(t);let i=K(this,Ke),n=K(this,Je),s=K(this,et),o=K(this,we),a=0,f=0,c=0,u=0,l=0,y=0;return r!==void 0&&(r=Bd(r),a=K(r,Gt),f=K(r,Jt),c=K(r,Xt),u=K(r,Qt),l=K(r,er),y=K(r,tr)),Lo(K(Ls(e,wa(i,n,s,a,f,c,u,l,y,o),"compatible"),kt),e,o)}toPlainYearMonth(){if(!br(this))throw new TypeError("invalid receiver");let t=K(this,we);return mm(t,dr(this,On(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!br(this))throw new TypeError("invalid receiver");let t=K(this,we);return qb(t,dr(this,On(t,["day","monthCode"]),[]))}getISOFields(){if(!br(this))throw new TypeError("invalid receiver");return{calendar:K(this,we),isoDay:K(this,et),isoMonth:K(this,Je),isoYear:K(this,Ke)}}static from(t,e){let r=pr(e);return br(t)?(yn(r),uu(K(t,Ke),K(t,Je),K(t,et),K(t,we))):bi(t,r)}static compare(t,e){let r=bi(t),i=bi(e);return Tp(K(r,Ke),K(r,Je),K(r,et),K(i,Ke),K(i,Je),K(i,et))}};bl(WS,"Temporal.PlainDate");var YS=class{constructor(t,e,r,i=0,n=0,s=0,o=0,a=0,f=0,c=mn()){let u=vi(t),l=vi(e),y=vi(r),m=vi(i),g=vi(n),E=vi(s),x=vi(o),T=vi(a),M=vi(f),I=xo(c);if(arguments.length<3)throw new RangeError("missing argument: isoYear, isoMonth and isoDay are required");Dpe(this,u,l,y,m,g,E,x,T,M,I)}get calendar(){if(!ar(this))throw new TypeError("invalid receiver");return K(this,we)}get year(){if(!ar(this))throw new TypeError("invalid receiver");return BS(K(this,we),this)}get month(){if(!ar(this))throw new TypeError("invalid receiver");return CS(K(this,we),this)}get monthCode(){if(!ar(this))throw new TypeError("invalid receiver");return V_(K(this,we),this)}get day(){if(!ar(this))throw new TypeError("invalid receiver");return OS(K(this,we),this)}get hour(){if(!ar(this))throw new TypeError("invalid receiver");return K(this,Gt)}get minute(){if(!ar(this))throw new TypeError("invalid receiver");return K(this,Jt)}get second(){if(!ar(this))throw new TypeError("invalid receiver");return K(this,Xt)}get millisecond(){if(!ar(this))throw new TypeError("invalid receiver");return K(this,Qt)}get microsecond(){if(!ar(this))throw new TypeError("invalid receiver");return K(this,er)}get nanosecond(){if(!ar(this))throw new TypeError("invalid receiver");return K(this,tr)}get era(){if(!ar(this))throw new TypeError("invalid receiver");return jS(K(this,we),this)}get eraYear(){if(!ar(this))throw new TypeError("invalid receiver");return LS(K(this,we),this)}get dayOfWeek(){if(!ar(this))throw new TypeError("invalid receiver");return hL(K(this,we),this)}get dayOfYear(){if(!ar(this))throw new TypeError("invalid receiver");return pL(K(this,we),this)}get weekOfYear(){if(!ar(this))throw new TypeError("invalid receiver");return yL(K(this,we),this)}get daysInWeek(){if(!ar(this))throw new TypeError("invalid receiver");return mL(K(this,we),this)}get daysInYear(){if(!ar(this))throw new TypeError("invalid receiver");return NS(K(this,we),this)}get daysInMonth(){if(!ar(this))throw new TypeError("invalid receiver");return K_(K(this,we),this)}get monthsInYear(){if(!ar(this))throw new TypeError("invalid receiver");return qS(K(this,we),this)}get inLeapYear(){if(!ar(this))throw new TypeError("invalid receiver");return zS(K(this,we),this)}with(t,e){if(!ar(this))throw new TypeError("invalid receiver");if(!Ii(t))throw new TypeError("invalid argument");uv(t);let r=pr(e),i=K(this,we),n=On(i,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),s=dr(t,n,"partial");if(!s)throw new TypeError("invalid date-time-like");let o=dr(this,n,[]);o=ym(i,o,s),o=dr(o,n,[]);let{year:a,month:f,day:c,hour:u,minute:l,second:y,millisecond:m,microsecond:g,nanosecond:E}=$_(i,o,r);return wa(a,f,c,u,l,y,m,g,E,i)}withPlainTime(t){if(!ar(this))throw new TypeError("invalid receiver");let e=K(this,Ke),r=K(this,Je),i=K(this,et),n=K(this,we);if(t===void 0)return wa(e,r,i,0,0,0,0,0,0,n);let s=Bd(t);return wa(e,r,i,K(s,Gt),K(s,Jt),K(s,Xt),K(s,Qt),K(s,er),K(s,tr),n)}withPlainDate(t){if(!ar(this))throw new TypeError("invalid receiver");let e=bi(t),r=K(e,Ke),i=K(e,Je),n=K(e,et),s=K(e,we),o=K(this,Gt),a=K(this,Jt),f=K(this,Xt),c=K(this,Qt),u=K(this,er),l=K(this,tr);return s=Cpe(K(this,we),s),wa(r,i,n,o,a,f,c,u,l,s)}withCalendar(t){if(!ar(this))throw new TypeError("invalid receiver");let e=xo(t);return new YS(K(this,Ke),K(this,Je),K(this,et),K(this,Gt),K(this,Jt),K(this,Xt),K(this,Qt),K(this,er),K(this,tr),e)}add(t,e){if(!ar(this))throw new TypeError("invalid receiver");return mue("add",this,t,e)}subtract(t,e){if(!ar(this))throw new TypeError("invalid receiver");return mue("subtract",this,t,e)}until(t,e){if(!ar(this))throw new TypeError("invalid receiver");return cue("until",this,t,e)}since(t,e){if(!ar(this))throw new TypeError("invalid receiver");return cue("since",this,t,e)}round(t){if(!ar(this))throw new TypeError("invalid receiver");if(t===void 0)throw new TypeError("options parameter is required");let e=typeof t=="string"?Ub("smallestUnit",t):pr(t),r=uo(e,"smallestUnit","time",pm,["day"]),i=ea(e,"halfExpand"),n=Fd(e,{day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[r],!1),s=K(this,Ke),o=K(this,Je),a=K(this,et),f=K(this,Gt),c=K(this,Jt),u=K(this,Xt),l=K(this,Qt),y=K(this,er),m=K(this,tr);return{year:s,month:o,day:a,hour:f,minute:c,second:u,millisecond:l,microsecond:y,nanosecond:m}=ML(s,o,a,f,c,u,l,y,m,n,r,i),wa(s,o,a,f,c,u,l,y,m,K(this,we))}equals(t){if(!ar(this))throw new TypeError("invalid receiver");let e=nm(t);for(let r of[Ke,Je,et,Gt,Jt,Xt,Qt,er,tr])if(K(this,r)!==K(e,r))return!1;return H_(K(this,we),K(e,we))}toString(t){if(!ar(this))throw new TypeError("invalid receiver");let e=pr(t),{precision:r,unit:i,increment:n}=U_(e);return rue(this,r,F_(e),{unit:i,increment:n,roundingMode:ea(e,"trunc")})}toJSON(){if(!ar(this))throw new TypeError("invalid receiver");return rue(this,"auto")}toLocaleString(t,e){if(!ar(this))throw new TypeError("invalid receiver");return new Wp(t,e).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(t,e){if(!ar(this))throw new TypeError("invalid receiver");let r=qs(t);return Lo(K(Ls(r,this,__(pr(e))),kt),r,K(this,we))}toPlainDate(){if(!ar(this))throw new TypeError("invalid receiver");return zb(this)}toPlainYearMonth(){if(!ar(this))throw new TypeError("invalid receiver");let t=K(this,we);return mm(t,dr(this,On(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!ar(this))throw new TypeError("invalid receiver");let t=K(this,we);return qb(t,dr(this,On(t,["day","monthCode"]),[]))}toPlainTime(){if(!ar(this))throw new TypeError("invalid receiver");return gL(this)}getISOFields(){if(!ar(this))throw new TypeError("invalid receiver");return{calendar:K(this,we),isoDay:K(this,et),isoHour:K(this,Gt),isoMicrosecond:K(this,er),isoMillisecond:K(this,Qt),isoMinute:K(this,Jt),isoMonth:K(this,Je),isoNanosecond:K(this,tr),isoSecond:K(this,Xt),isoYear:K(this,Ke)}}static from(t,e){let r=pr(e);return ar(t)?(yn(r),wa(K(t,Ke),K(t,Je),K(t,et),K(t,Gt),K(t,Jt),K(t,Xt),K(t,Qt),K(t,er),K(t,tr),K(t,we))):nm(t,r)}static compare(t,e){let r=nm(t),i=nm(e);for(let n of[Ke,Je,et,Gt,Jt,Xt,Qt,er,tr]){let s=K(r,n),o=K(i,n);if(s!==o)return cm(s-o)}return 0}};bl(YS,"Temporal.PlainDateTime");var om=class{constructor(t=0,e=0,r=0,i=0,n=0,s=0,o=0,a=0,f=0,c=0){let u=ao(t),l=ao(e),y=ao(r),m=ao(i),g=ao(n),E=ao(s),x=ao(o),T=ao(a),M=ao(f),I=ao(c);VS(u,l,y,m,g,E,x,T,M,I),vl(this),ur(this,ks,u),ur(this,wo,l),ur(this,Qs,y),ur(this,Ts,m),ur(this,Ps,g),ur(this,Ds,E),ur(this,Is,x),ur(this,Rs,T),ur(this,Bs,M),ur(this,Cs,I)}get years(){if(!Yi(this))throw new TypeError("invalid receiver");return K(this,ks)}get months(){if(!Yi(this))throw new TypeError("invalid receiver");return K(this,wo)}get weeks(){if(!Yi(this))throw new TypeError("invalid receiver");return K(this,Qs)}get days(){if(!Yi(this))throw new TypeError("invalid receiver");return K(this,Ts)}get hours(){if(!Yi(this))throw new TypeError("invalid receiver");return K(this,Ps)}get minutes(){if(!Yi(this))throw new TypeError("invalid receiver");return K(this,Ds)}get seconds(){if(!Yi(this))throw new TypeError("invalid receiver");return K(this,Is)}get milliseconds(){if(!Yi(this))throw new TypeError("invalid receiver");return K(this,Rs)}get microseconds(){if(!Yi(this))throw new TypeError("invalid receiver");return K(this,Bs)}get nanoseconds(){if(!Yi(this))throw new TypeError("invalid receiver");return K(this,Cs)}get sign(){if(!Yi(this))throw new TypeError("invalid receiver");return ll(K(this,ks),K(this,wo),K(this,Qs),K(this,Ts),K(this,Ps),K(this,Ds),K(this,Is),K(this,Rs),K(this,Bs),K(this,Cs))}get blank(){if(!Yi(this))throw new TypeError("invalid receiver");return ll(K(this,ks),K(this,wo),K(this,Qs),K(this,Ts),K(this,Ps),K(this,Ds),K(this,Is),K(this,Rs),K(this,Bs),K(this,Cs))===0}with(t){if(!Yi(this))throw new TypeError("invalid receiver");let e=dr(t,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial");if(!e)throw new TypeError("invalid duration-like");let{years:r=K(this,ks),months:i=K(this,wo),weeks:n=K(this,Qs),days:s=K(this,Ts),hours:o=K(this,Ps),minutes:a=K(this,Ds),seconds:f=K(this,Is),milliseconds:c=K(this,Rs),microseconds:u=K(this,Bs),nanoseconds:l=K(this,Cs)}=e;return new om(r,i,n,s,o,a,f,c,u,l)}negated(){if(!Yi(this))throw new TypeError("invalid receiver");return Upe(this)}abs(){if(!Yi(this))throw new TypeError("invalid receiver");return new om(Math.abs(K(this,ks)),Math.abs(K(this,wo)),Math.abs(K(this,Qs)),Math.abs(K(this,Ts)),Math.abs(K(this,Ps)),Math.abs(K(this,Ds)),Math.abs(K(this,Is)),Math.abs(K(this,Rs)),Math.abs(K(this,Bs)),Math.abs(K(this,Cs)))}add(t,e){if(!Yi(this))throw new TypeError("invalid receiver");return pue("add",this,t,e)}subtract(t,e){if(!Yi(this))throw new TypeError("invalid receiver");return pue("subtract",this,t,e)}round(t){if(!Yi(this))throw new TypeError("invalid receiver");if(t===void 0)throw new TypeError("options parameter is required");let e=K(this,ks),r=K(this,wo),i=K(this,Qs),n=K(this,Ts),s=K(this,Ps),o=K(this,Ds),a=K(this,Is),f=K(this,Rs),c=K(this,Bs),u=K(this,Cs),l=MO(e,r,i,n,s,o,a,f,c,u),y=typeof t=="string"?Ub("smallestUnit",t):pr(t),m=uo(y,"smallestUnit","datetime",void 0),g=!0;m||(g=!1,m="nanosecond"),l=Sa(l,m);let E=uo(y,"largestUnit","datetime",void 0,["auto"]),x=!0;if(E||(x=!1,E=l),E==="auto"&&(E=l),!g&&!x)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(Sa(E,m)!==E)throw new RangeError(`largestUnit ${E} cannot be smaller than smallestUnit ${m}`);let T=ea(y,"halfExpand"),M=dL(y,m),I=v9(y);return{years:e,months:r,weeks:i,days:n}=Q7(e,r,i,n,E,I),{years:e,months:r,weeks:i,days:n,hours:s,minutes:o,seconds:a,milliseconds:f,microseconds:c,nanoseconds:u}=Fp(e,r,i,n,s,o,a,f,c,u,M,m,T,I),{years:e,months:r,weeks:i,days:n,hours:s,minutes:o,seconds:a,milliseconds:f,microseconds:c,nanoseconds:u}=Gpe(e,r,i,n,s,o,a,f,c,u,M,m,T,I),{years:e,months:r,weeks:i,days:n}=function(R,O,B,C,U,W){let L=R,j=O,k=B,P=C,p=Tt("%Temporal.Duration%"),d=ll(L,j,k,P,0,0,0,0,0,0);if(d===0)return{years:L,months:j,weeks:k,days:P};let h,b;W&&(b=bi(W),h=K(b,we));let v=new p(d),w=new p(0,d),_=new p(0,0,d);switch(U){case"year":{if(!h)throw new RangeError("a starting point is required for years balancing");let D,S,A;for({relativeTo:D,days:S}=is(h,b,v);Dr(P)>=Dr(S);)P-=S,L+=d,b=D,{relativeTo:D,days:S}=is(h,b,v);for({relativeTo:D,days:A}=is(h,b,w);Dr(P)>=Dr(A);)P-=A,j+=d,b=D,{relativeTo:D,days:A}=is(h,b,w);let N=h.dateAdd;D=js(h,b,v,void 0,N);let G=h.dateUntil,Q=zo(null);Q.largestUnit="month";let ne=Np(h,b,D,Q,G),H=K(ne,wo);for(;Dr(j)>=Dr(H);){j-=H,L+=d,b=D,D=js(h,b,v,void 0,N);let Z=zo(null);Z.largestUnit="month",ne=Np(h,b,D,Z,G),H=K(ne,wo)}break}case"month":{if(!h)throw new RangeError("a starting point is required for months balancing");let D,S;for({relativeTo:D,days:S}=is(h,b,w);Dr(P)>=Dr(S);)P-=S,j+=d,b=D,{relativeTo:D,days:S}=is(h,b,w);break}case"week":{if(!h)throw new RangeError("a starting point is required for weeks balancing");let D,S;for({relativeTo:D,days:S}=is(h,b,_);Dr(P)>=Dr(S);)P-=S,k+=d,b=D,{relativeTo:D,days:S}=is(h,b,_);break}}return{years:L,months:j,weeks:k,days:P}}(e,r,i,n,E,I),wt(I)&&(I=DO(I,e,r,i,0)),{days:n,hours:s,minutes:o,seconds:a,milliseconds:f,microseconds:c,nanoseconds:u}=Ea(n,s,o,a,f,c,u,E,I),new om(e,r,i,n,s,o,a,f,c,u)}total(t){if(!Yi(this))throw new TypeError("invalid receiver");let e=K(this,ks),r=K(this,wo),i=K(this,Qs),n=K(this,Ts),s=K(this,Ps),o=K(this,Ds),a=K(this,Is),f=K(this,Rs),c=K(this,Bs),u=K(this,Cs);if(t===void 0)throw new TypeError("options argument is required");let l=typeof t=="string"?Ub("unit",t):pr(t),y=uo(l,"unit","datetime",pm),m=v9(l),g;({years:e,months:r,weeks:i,days:n}=Q7(e,r,i,n,y,m)),wt(m)&&(g=DO(m,e,r,i,0)),{days:n,hours:s,minutes:o,seconds:a,milliseconds:f,microseconds:c,nanoseconds:u}=Ea(n,s,o,a,f,c,u,y,g);let{total:E}=Fp(e,r,i,n,s,o,a,f,c,u,1,y,"trunc",m);return E}toString(t){if(!Yi(this))throw new TypeError("invalid receiver");let e=pr(t),{precision:r,unit:i,increment:n}=U_(e);if(r==="minute")throw new RangeError('smallestUnit must not be "minute"');return UC(this,r,{unit:i,increment:n,roundingMode:ea(e,"trunc")})}toJSON(){if(!Yi(this))throw new TypeError("invalid receiver");return UC(this)}toLocaleString(t,e){if(!Yi(this))throw new TypeError("invalid receiver");return typeof Intl<"u"&&Intl.DurationFormat!==void 0?new Intl.DurationFormat(t,e).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),UC(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(t){return Yi(t)?new om(K(t,ks),K(t,wo),K(t,Qs),K(t,Ts),K(t,Ps),K(t,Ds),K(t,Is),K(t,Rs),K(t,Bs),K(t,Cs)):xb(t)}static compare(t,e,r){let i=xb(t),n=xb(e),s=v9(pr(r)),o=K(i,ks),a=K(i,wo),f=K(i,Qs),c=K(i,Ts),u=K(i,Ps),l=K(i,Ds),y=K(i,Is),m=K(i,Rs),g=K(i,Bs),E=K(i,Cs),x=K(n,ks),T=K(n,wo),M=K(n,Qs),I=K(n,Ts),R=K(n,Ps),O=K(n,Ds),B=K(n,Is),C=K(n,Rs),U=K(n,Bs),W=K(n,Cs),L=aue(s,o,a,f,c),j=aue(s,x,T,M,I);o===0&&x===0&&a===0&&T===0&&f===0&&M===0||({days:c}=Q7(o,a,f,c,"day",s),{days:I}=Q7(x,T,M,I,"day",s));let k=Fb(c,u,l,y,m,g,E,L),P=Fb(I,R,O,B,C,U,W,j);return cm(ae.default.toNumber(ae.default.subtract(k,P)))}};bl(om,"Temporal.Duration");var ZVe=Object.create,RL=class{constructor(t,e,r=mn(),i=1972){let n=vi(t),s=vi(e),o=xo(r),a=vi(i);if(arguments.length<2)throw new RangeError("missing argument: isoMonth and isoDay are required");Ipe(this,n,s,o,a)}get monthCode(){if(!_o(this))throw new TypeError("invalid receiver");return V_(K(this,we),this)}get day(){if(!_o(this))throw new TypeError("invalid receiver");return OS(K(this,we),this)}get calendar(){if(!_o(this))throw new TypeError("invalid receiver");return K(this,we)}with(t,e){if(!_o(this))throw new TypeError("invalid receiver");if(!Ii(t))throw new TypeError("invalid argument");uv(t);let r=K(this,we),i=On(r,["day","month","monthCode","year"]),n=dr(t,i,"partial");if(!n)throw new TypeError("invalid month-day-like");let s=dr(this,i,[]);return s=ym(r,s,n),s=dr(s,i,[]),qb(r,s,pr(e))}equals(t){if(!_o(this))throw new TypeError("invalid receiver");let e=Qfe(t);for(let r of[Je,et,Ke])if(K(this,r)!==K(e,r))return!1;return H_(K(this,we),K(e,we))}toString(t){if(!_o(this))throw new TypeError("invalid receiver");return iue(this,F_(pr(t)))}toJSON(){if(!_o(this))throw new TypeError("invalid receiver");return iue(this)}toLocaleString(t,e){if(!_o(this))throw new TypeError("invalid receiver");return new Wp(t,e).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(t){if(!_o(this))throw new TypeError("invalid receiver");if(!Ii(t))throw new TypeError("argument should be an object");let e=K(this,we),r=On(e,["day","monthCode"]),i=dr(this,r,[]),n=On(e,["year"]),s=ym(e,i,dr(t,n,[]));s=dr(s,[...new Set([...r,...n])],[]);let o=ZVe(null);return o.overflow="reject",qp(e,s,o)}getISOFields(){if(!_o(this))throw new TypeError("invalid receiver");return{calendar:K(this,we),isoDay:K(this,et),isoMonth:K(this,Je),isoYear:K(this,Ke)}}static from(t,e){let r=pr(e);return _o(t)?(yn(r),E_(K(t,Je),K(t,et),K(t,we),K(t,Ke))):Qfe(t,r)}};bl(RL,"Temporal.PlainMonthDay");var BL=()=>new(Tt("%Temporal.Instant%"))(TL()),_ue=(t,e=Ap())=>{let r=qs(e),i=xo(t);return Ha(r,BL(),i)},HC=(t=Ap())=>{let e=qs(t),r=mn();return Ha(e,BL(),r)},Eue=(t,e=Ap())=>{let r=qs(e),i=xo(t);return Lo(TL(),r,i)},Ap=()=>function(){let t=new vpe("en-us");return new(Tt("%Temporal.TimeZone%"))(Mpe(t.resolvedOptions().timeZone))}(),h0e={instant:BL,plainDateTime:_ue,plainDateTimeISO:HC,plainDate:(t,e=Ap())=>zb(_ue(t,e)),plainDateISO:(t=Ap())=>zb(HC(t)),plainTimeISO:(t=Ap())=>gL(HC(t)),timeZone:Ap,zonedDateTime:Eue,zonedDateTimeISO:(t=Ap())=>Eue(mn(),t),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(h0e,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});var GVe=Object.assign;function Sue(t,e,r){let i=K(t,Gt),n=K(t,Jt),s=K(t,Xt),o=K(t,Qt),a=K(t,er),f=K(t,tr);if(r){let{unit:c,increment:u,roundingMode:l}=r;({hour:i,minute:n,second:s,millisecond:o,microsecond:a,nanosecond:f}=kL(i,n,s,o,a,f,u,c,l))}return`${zi(i)}:${zi(n)}${FS(s,o,a,f,e)}`}var kb=class{constructor(t=0,e=0,r=0,i=0,n=0,s=0){let o=vi(t),a=vi(e),f=vi(r),c=vi(i),u=vi(n),l=vi(s);$S(o,a,f,c,u,l),vl(this),ur(this,Gt,o),ur(this,Jt,a),ur(this,Xt,f),ur(this,Qt,c),ur(this,er,u),ur(this,tr,l),ur(this,we,mn())}get calendar(){if(!Zi(this))throw new TypeError("invalid receiver");return K(this,we)}get hour(){if(!Zi(this))throw new TypeError("invalid receiver");return K(this,Gt)}get minute(){if(!Zi(this))throw new TypeError("invalid receiver");return K(this,Jt)}get second(){if(!Zi(this))throw new TypeError("invalid receiver");return K(this,Xt)}get millisecond(){if(!Zi(this))throw new TypeError("invalid receiver");return K(this,Qt)}get microsecond(){if(!Zi(this))throw new TypeError("invalid receiver");return K(this,er)}get nanosecond(){if(!Zi(this))throw new TypeError("invalid receiver");return K(this,tr)}with(t,e){if(!Zi(this))throw new TypeError("invalid receiver");if(!Ii(t))throw new TypeError("invalid argument");uv(t);let r=$9(t,"partial"),i=yn(pr(e)),n=$9(this),{hour:s,minute:o,second:a,millisecond:f,microsecond:c,nanosecond:u}=GVe(n,r);return{hour:s,minute:o,second:a,millisecond:f,microsecond:c,nanosecond:u}=IS(s,o,a,f,c,u,i),new kb(s,o,a,f,c,u)}add(t){if(!Zi(this))throw new TypeError("invalid receiver");return gue("add",this,t)}subtract(t){if(!Zi(this))throw new TypeError("invalid receiver");return gue("subtract",this,t)}until(t,e){if(!Zi(this))throw new TypeError("invalid receiver");return lue("until",this,t,e)}since(t,e){if(!Zi(this))throw new TypeError("invalid receiver");return lue("since",this,t,e)}round(t){if(!Zi(this))throw new TypeError("invalid receiver");if(t===void 0)throw new TypeError("options parameter is required");let e=typeof t=="string"?Ub("smallestUnit",t):pr(t),r=uo(e,"smallestUnit","time",pm),i=ea(e,"halfExpand"),n=Fd(e,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[r],!1),s=K(this,Gt),o=K(this,Jt),a=K(this,Xt),f=K(this,Qt),c=K(this,er),u=K(this,tr);return{hour:s,minute:o,second:a,millisecond:f,microsecond:c,nanosecond:u}=kL(s,o,a,f,c,u,n,r,i),new kb(s,o,a,f,c,u)}equals(t){if(!Zi(this))throw new TypeError("invalid receiver");let e=Bd(t);for(let r of[Gt,Jt,Xt,Qt,er,tr])if(K(this,r)!==K(e,r))return!1;return!0}toString(t){if(!Zi(this))throw new TypeError("invalid receiver");let e=pr(t),{precision:r,unit:i,increment:n}=U_(e);return Sue(this,r,{unit:i,increment:n,roundingMode:ea(e,"trunc")})}toJSON(){if(!Zi(this))throw new TypeError("invalid receiver");return Sue(this,"auto")}toLocaleString(t,e){if(!Zi(this))throw new TypeError("invalid receiver");return new Wp(t,e).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(t){if(!Zi(this))throw new TypeError("invalid receiver");let e=bi(t),r=K(e,Ke),i=K(e,Je),n=K(e,et),s=K(e,we);return wa(r,i,n,K(this,Gt),K(this,Jt),K(this,Xt),K(this,Qt),K(this,er),K(this,tr),s)}toZonedDateTime(t){if(!Zi(this))throw new TypeError("invalid receiver");if(!Ii(t))throw new TypeError("invalid argument");let e=t.plainDate;if(e===void 0)throw new TypeError("missing date property");let r=bi(e),i=t.timeZone;if(i===void 0)throw new TypeError("missing timeZone property");let n=qs(i),s=K(r,Ke),o=K(r,Je),a=K(r,et),f=K(r,we),c=K(this,Gt),u=K(this,Jt),l=K(this,Xt),y=K(this,Qt),m=K(this,er),g=K(this,tr);return Lo(K(Ls(n,new(Tt("%Temporal.PlainDateTime%"))(s,o,a,c,u,l,y,m,g,f),"compatible"),kt),n,f)}getISOFields(){if(!Zi(this))throw new TypeError("invalid receiver");return{calendar:K(this,we),isoHour:K(this,Gt),isoMicrosecond:K(this,er),isoMillisecond:K(this,Qt),isoMinute:K(this,Jt),isoNanosecond:K(this,tr),isoSecond:K(this,Xt)}}static from(t,e){let r=yn(pr(e));return Zi(t)?new kb(K(t,Gt),K(t,Jt),K(t,Xt),K(t,Qt),K(t,er),K(t,tr)):Bd(t,r)}static compare(t,e){let r=Bd(t),i=Bd(e);for(let n of[Gt,Jt,Xt,Qt,er,tr]){let s=K(r,n),o=K(i,n);if(s!==o)return cm(s-o)}return 0}};bl(kb,"Temporal.PlainTime");var CL=class{constructor(t){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");let e=bL(t);vl(this),ur(this,_p,e)}get id(){if(!ol(this))throw new TypeError("invalid receiver");return Nt(this)}getOffsetNanosecondsFor(t){if(!ol(this))throw new TypeError("invalid receiver");let e=ul(t),r=K(this,_p);return Q3(r)?gm(r):Id(K(e,kt),r)}getOffsetStringFor(t){if(!ol(this))throw new TypeError("invalid receiver");return kO(this,ul(t))}getPlainDateTimeFor(t,e=mn()){return Ha(this,ul(t),xo(e))}getInstantFor(t,e){if(!ol(this))throw new TypeError("invalid receiver");return Ls(this,nm(t),__(pr(e)))}getPossibleInstantsFor(t){if(!ol(this))throw new TypeError("invalid receiver");let e=nm(t),r=Tt("%Temporal.Instant%"),i=K(this,_p);if(Q3(i)){let n=zp(K(e,Ke),K(e,Je),K(e,et),K(e,Gt),K(e,Jt),K(e,Xt),K(e,Qt),K(e,er),K(e,tr));if(n===null)throw new RangeError("DateTime outside of supported range");let s=gm(i);return[new r(ae.default.subtract(n,ae.default.BigInt(s)))]}return function(n,s,o,a,f,c,u,l,y,m){let g=zp(s,o,a,f,c,u,l,y,m);if(g===null)throw new RangeError("DateTime outside of supported range");let E=ae.default.subtract(g,Lp);ae.default.lessThan(E,g_)&&(E=g);let x=ae.default.add(g,Lp);ae.default.greaterThan(x,b_)&&(x=g);let T=Id(E,n),M=Id(x,n);return(T===M?[T]:[T,M]).map(I=>{let R=ae.default.subtract(g,ae.default.BigInt(I)),O=qpe(R,n);if(s===O.year&&o===O.month&&a===O.day&&f===O.hour&&c===O.minute&&u===O.second&&l===O.millisecond&&y===O.microsecond&&m===O.nanosecond)return R}).filter(I=>I!==void 0)}(i,K(e,Ke),K(e,Je),K(e,et),K(e,Gt),K(e,Jt),K(e,Xt),K(e,Qt),K(e,er),K(e,tr)).map(n=>new r(n))}getNextTransition(t){if(!ol(this))throw new TypeError("invalid receiver");let e=ul(t),r=K(this,_p);if(Q3(r)||r==="UTC")return null;let i=K(e,kt),n=Tt("%Temporal.Instant%");return i=function(s,o){let a=ae.default.add(s,Epe),f=sue(zpe(),a),c=sue(_pe,s),u=Id(c,o),l=c,y=u;for(;u===y&&ae.default.lessThan(ae.default.BigInt(c),f);)l=ae.default.add(c,Spe),y=Id(l,o),u===y&&(c=l);return u===y?null:Qpe(m=>Id(m,o),c,l,u,y)}(i,r),i===null?null:new n(i)}getPreviousTransition(t){if(!ol(this))throw new TypeError("invalid receiver");let e=ul(t),r=K(this,_p);if(Q3(r)||r==="UTC")return null;let i=K(e,kt),n=Tt("%Temporal.Instant%");return i=Fpe(i,r),i===null?null:new n(i)}toString(){if(!ol(this))throw new TypeError("invalid receiver");return Nt(K(this,_p))}toJSON(){if(!ol(this))throw new TypeError("invalid receiver");return Nt(this)}static from(t){return qs(t)}};bl(CL,"Temporal.TimeZone");var JVe=Object.create,OL=class{constructor(t,e,r=mn(),i=1){let n=vi(t),s=vi(e),o=xo(r),a=vi(i);if(arguments.length<2)throw new RangeError("missing argument: isoYear and isoMonth are required");Rpe(this,n,s,o,a)}get year(){if(!Lr(this))throw new TypeError("invalid receiver");return BS(K(this,we),this)}get month(){if(!Lr(this))throw new TypeError("invalid receiver");return CS(K(this,we),this)}get monthCode(){if(!Lr(this))throw new TypeError("invalid receiver");return V_(K(this,we),this)}get calendar(){if(!Lr(this))throw new TypeError("invalid receiver");return K(this,we)}get era(){if(!Lr(this))throw new TypeError("invalid receiver");return jS(K(this,we),this)}get eraYear(){if(!Lr(this))throw new TypeError("invalid receiver");return LS(K(this,we),this)}get daysInMonth(){if(!Lr(this))throw new TypeError("invalid receiver");return K_(K(this,we),this)}get daysInYear(){if(!Lr(this))throw new TypeError("invalid receiver");return NS(K(this,we),this)}get monthsInYear(){if(!Lr(this))throw new TypeError("invalid receiver");return qS(K(this,we),this)}get inLeapYear(){if(!Lr(this))throw new TypeError("invalid receiver");return zS(K(this,we),this)}with(t,e){if(!Lr(this))throw new TypeError("invalid receiver");if(!Ii(t))throw new TypeError("invalid argument");uv(t);let r=K(this,we),i=On(r,["month","monthCode","year"]),n=dr(t,i,"partial");if(!n)throw new TypeError("invalid year-month-like");let s=dr(this,i,[]);return s=ym(r,s,n),s=dr(s,i,[]),mm(r,s,pr(e))}add(t,e){if(!Lr(this))throw new TypeError("invalid receiver");return bue("add",this,t,e)}subtract(t,e){if(!Lr(this))throw new TypeError("invalid receiver");return bue("subtract",this,t,e)}until(t,e){if(!Lr(this))throw new TypeError("invalid receiver");return due("until",this,t,e)}since(t,e){if(!Lr(this))throw new TypeError("invalid receiver");return due("since",this,t,e)}equals(t){if(!Lr(this))throw new TypeError("invalid receiver");let e=J3(t);for(let r of[Ke,Je,et])if(K(this,r)!==K(e,r))return!1;return H_(K(this,we),K(e,we))}toString(t){if(!Lr(this))throw new TypeError("invalid receiver");return nue(this,F_(pr(t)))}toJSON(){if(!Lr(this))throw new TypeError("invalid receiver");return nue(this)}toLocaleString(t,e){if(!Lr(this))throw new TypeError("invalid receiver");return new Wp(t,e).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(t){if(!Lr(this))throw new TypeError("invalid receiver");if(!Ii(t))throw new TypeError("argument should be an object");let e=K(this,we),r=On(e,["monthCode","year"]),i=dr(this,r,[]),n=On(e,["day"]),s=ym(e,i,dr(t,n,[]));s=dr(s,[...new Set([...r,...n])],[]);let o=JVe(null);return o.overflow="reject",qp(e,s,o)}getISOFields(){if(!Lr(this))throw new TypeError("invalid receiver");return{calendar:K(this,we),isoDay:K(this,et),isoMonth:K(this,Je),isoYear:K(this,Ke)}}static from(t,e){let r=pr(e);return Lr(t)?(yn(r),S_(K(t,Ke),K(t,Je),K(t,we),K(t,et))):J3(t,r)}static compare(t,e){let r=J3(t),i=J3(e);return Tp(K(r,Ke),K(r,Je),K(r,et),K(i,Ke),K(i,Je),K(i,et))}};bl(OL,"Temporal.PlainYearMonth");var jL=class{constructor(t,e,r=mn()){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");Bpe(this,i_(t),qs(e),xo(r))}get calendar(){if(!wt(this))throw new TypeError("invalid receiver");return K(this,we)}get timeZone(){if(!wt(this))throw new TypeError("invalid receiver");return K(this,Yr)}get year(){if(!wt(this))throw new TypeError("invalid receiver");return BS(K(this,we),Oi(this))}get month(){if(!wt(this))throw new TypeError("invalid receiver");return CS(K(this,we),Oi(this))}get monthCode(){if(!wt(this))throw new TypeError("invalid receiver");return V_(K(this,we),Oi(this))}get day(){if(!wt(this))throw new TypeError("invalid receiver");return OS(K(this,we),Oi(this))}get hour(){if(!wt(this))throw new TypeError("invalid receiver");return K(Oi(this),Gt)}get minute(){if(!wt(this))throw new TypeError("invalid receiver");return K(Oi(this),Jt)}get second(){if(!wt(this))throw new TypeError("invalid receiver");return K(Oi(this),Xt)}get millisecond(){if(!wt(this))throw new TypeError("invalid receiver");return K(Oi(this),Qt)}get microsecond(){if(!wt(this))throw new TypeError("invalid receiver");return K(Oi(this),er)}get nanosecond(){if(!wt(this))throw new TypeError("invalid receiver");return K(Oi(this),tr)}get era(){if(!wt(this))throw new TypeError("invalid receiver");return jS(K(this,we),Oi(this))}get eraYear(){if(!wt(this))throw new TypeError("invalid receiver");return LS(K(this,we),Oi(this))}get epochSeconds(){if(!wt(this))throw new TypeError("invalid receiver");let t=K(this,kt);return ae.default.toNumber(ae.default.divide(t,Cd))}get epochMilliseconds(){if(!wt(this))throw new TypeError("invalid receiver");let t=K(this,kt);return ae.default.toNumber(ae.default.divide(t,xf))}get epochMicroseconds(){if(!wt(this))throw new TypeError("invalid receiver");let t=K(this,kt);return Y9(ae.default.divide(t,Zr))}get epochNanoseconds(){if(!wt(this))throw new TypeError("invalid receiver");return Y9(K(this,kt))}get dayOfWeek(){if(!wt(this))throw new TypeError("invalid receiver");return hL(K(this,we),Oi(this))}get dayOfYear(){if(!wt(this))throw new TypeError("invalid receiver");return pL(K(this,we),Oi(this))}get weekOfYear(){if(!wt(this))throw new TypeError("invalid receiver");return yL(K(this,we),Oi(this))}get hoursInDay(){if(!wt(this))throw new TypeError("invalid receiver");let t=Oi(this),e=Tt("%Temporal.PlainDateTime%"),r=K(t,Ke),i=K(t,Je),n=K(t,et),s=new e(r,i,n,0,0,0,0,0,0),o=um(r,i,n,0,0,0,1,"reject"),a=new e(o.year,o.month,o.day,0,0,0,0,0,0),f=K(this,Yr),c=K(Ls(f,s,"compatible"),kt),u=K(Ls(f,a,"compatible"),kt);return ae.default.toNumber(ae.default.subtract(u,c))/36e11}get daysInWeek(){if(!wt(this))throw new TypeError("invalid receiver");return mL(K(this,we),Oi(this))}get daysInMonth(){if(!wt(this))throw new TypeError("invalid receiver");return K_(K(this,we),Oi(this))}get daysInYear(){if(!wt(this))throw new TypeError("invalid receiver");return NS(K(this,we),Oi(this))}get monthsInYear(){if(!wt(this))throw new TypeError("invalid receiver");return qS(K(this,we),Oi(this))}get inLeapYear(){if(!wt(this))throw new TypeError("invalid receiver");return zS(K(this,we),Oi(this))}get offset(){if(!wt(this))throw new TypeError("invalid receiver");return kO(K(this,Yr),K(this,os))}get offsetNanoseconds(){if(!wt(this))throw new TypeError("invalid receiver");return ic(K(this,Yr),K(this,os))}with(t,e){if(!wt(this))throw new TypeError("invalid receiver");if(!Ii(t))throw new TypeError("invalid zoned-date-time-like");uv(t);let r=pr(e),i=__(r),n=AO(r,"prefer"),s=K(this,Yr),o=K(this,we),a=xO(On(o,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),"offset"),f=dr(t,a,"partial"),c=xO(a,"timeZone"),u=dr(this,c,["timeZone","offset"]);u=ym(o,u,f),u=dr(u,c,["timeZone","offset"]);let{year:l,month:y,day:m,hour:g,minute:E,second:x,millisecond:T,microsecond:M,nanosecond:I}=$_(o,u,r);return Lo(V9(l,y,m,g,E,x,T,M,I,"option",gm(u.offset),s,i,n,!1),K(this,Yr),o)}withPlainDate(t){if(!wt(this))throw new TypeError("invalid receiver");let e=bi(t),r=K(e,Ke),i=K(e,Je),n=K(e,et),s=K(e,we),o=Oi(this),a=K(o,Gt),f=K(o,Jt),c=K(o,Xt),u=K(o,Qt),l=K(o,er),y=K(o,tr);s=Cpe(K(this,we),s);let m=K(this,Yr);return Lo(K(Ls(m,new(Tt("%Temporal.PlainDateTime%"))(r,i,n,a,f,c,u,l,y,s),"compatible"),kt),m,s)}withPlainTime(t){if(!wt(this))throw new TypeError("invalid receiver");let e=Tt("%Temporal.PlainTime%"),r=t===void 0?new e:Bd(t),i=Oi(this),n=K(i,Ke),s=K(i,Je),o=K(i,et),a=K(this,we),f=K(r,Gt),c=K(r,Jt),u=K(r,Xt),l=K(r,Qt),y=K(r,er),m=K(r,tr),g=K(this,Yr);return Lo(K(Ls(g,new(Tt("%Temporal.PlainDateTime%"))(n,s,o,f,c,u,l,y,m,a),"compatible"),kt),g,a)}withTimeZone(t){if(!wt(this))throw new TypeError("invalid receiver");let e=qs(t);return Lo(K(this,kt),e,K(this,we))}withCalendar(t){if(!wt(this))throw new TypeError("invalid receiver");let e=xo(t);return Lo(K(this,kt),K(this,Yr),e)}add(t,e){if(!wt(this))throw new TypeError("invalid receiver");return vue("add",this,t,e)}subtract(t,e){if(!wt(this))throw new TypeError("invalid receiver");return vue("subtract",this,t,e)}until(t,e){if(!wt(this))throw new TypeError("invalid receiver");return hue("until",this,t,e)}since(t,e){if(!wt(this))throw new TypeError("invalid receiver");return hue("since",this,t,e)}round(t){if(!wt(this))throw new TypeError("invalid receiver");if(t===void 0)throw new TypeError("options parameter is required");let e=typeof t=="string"?Ub("smallestUnit",t):pr(t),r=uo(e,"smallestUnit","time",pm,["day"]),i=ea(e,"halfExpand"),n=Fd(e,{day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[r],!1),s=Oi(this),o=K(s,Ke),a=K(s,Je),f=K(s,et),c=K(s,Gt),u=K(s,Jt),l=K(s,Xt),y=K(s,Qt),m=K(s,er),g=K(s,tr),E=Tt("%Temporal.PlainDateTime%"),x=K(this,Yr),T=K(this,we),M=Ls(x,new E(K(s,Ke),K(s,Je),K(s,et),0,0,0,0,0,0),"compatible"),I=kf(M,x,T,0,0,0,1,0,0,0,0,0,0),R=ae.default.subtract(I,ae.default.BigInt(K(M,kt)));if(ae.default.equal(R,hn))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero-length days");return{year:o,month:a,day:f,hour:c,minute:u,second:l,millisecond:y,microsecond:m,nanosecond:g}=ML(o,a,f,c,u,l,y,m,g,n,r,i,ae.default.toNumber(R)),Lo(V9(o,a,f,c,u,l,y,m,g,"option",ic(x,K(this,os)),x,"compatible","prefer",!1),x,K(this,we))}equals(t){if(!wt(this))throw new TypeError("invalid receiver");let e=X3(t),r=K(this,kt),i=K(e,kt);return!!ae.default.equal(ae.default.BigInt(r),ae.default.BigInt(i))&&!!Ope(K(this,Yr),K(e,Yr))&&H_(K(this,we),K(e,we))}toString(t){if(!wt(this))throw new TypeError("invalid receiver");let e=pr(t),{precision:r,unit:i,increment:n}=U_(e),s=ea(e,"trunc");return oue(this,r,F_(e),function(o){return Up(o,"timeZoneName",["auto","never"],"auto")}(e),function(o){return Up(o,"offset",["auto","never"],"auto")}(e),{unit:i,increment:n,roundingMode:s})}toLocaleString(t,e){if(!wt(this))throw new TypeError("invalid receiver");return new Wp(t,e).format(this)}toJSON(){if(!wt(this))throw new TypeError("invalid receiver");return oue(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!wt(this))throw new TypeError("invalid receiver");let t=Oi(this),e=Tt("%Temporal.PlainDateTime%"),r=K(this,we),i=new e(K(t,Ke),K(t,Je),K(t,et),0,0,0,0,0,0,r),n=K(this,Yr);return Lo(K(Ls(n,i,"compatible"),kt),n,r)}toInstant(){if(!wt(this))throw new TypeError("invalid receiver");return new(Tt("%Temporal.Instant%"))(K(this,kt))}toPlainDate(){if(!wt(this))throw new TypeError("invalid receiver");return zb(Oi(this))}toPlainTime(){if(!wt(this))throw new TypeError("invalid receiver");return gL(Oi(this))}toPlainDateTime(){if(!wt(this))throw new TypeError("invalid receiver");return Oi(this)}toPlainYearMonth(){if(!wt(this))throw new TypeError("invalid receiver");let t=K(this,we);return mm(t,dr(this,On(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!wt(this))throw new TypeError("invalid receiver");let t=K(this,we);return qb(t,dr(this,On(t,["day","monthCode"]),[]))}getISOFields(){if(!wt(this))throw new TypeError("invalid receiver");let t=Oi(this),e=K(this,Yr);return{calendar:K(this,we),isoDay:K(t,et),isoHour:K(t,Gt),isoMicrosecond:K(t,er),isoMillisecond:K(t,Qt),isoMinute:K(t,Jt),isoMonth:K(t,Je),isoNanosecond:K(t,tr),isoSecond:K(t,Xt),isoYear:K(t,Ke),offset:kO(e,K(this,os)),timeZone:e}}static from(t,e){let r=pr(e);return wt(t)?(yn(r),__(r),AO(r,"reject"),Lo(K(t,kt),K(t,Yr),K(t,we))):X3(t,r)}static compare(t,e){let r=X3(t),i=X3(e),n=K(r,kt),s=K(i,kt);return ae.default.lessThan(ae.default.BigInt(n),ae.default.BigInt(s))?-1:ae.default.greaterThan(ae.default.BigInt(n),ae.default.BigInt(s))?1:0}};function Oi(t){return Ha(K(t,Yr),K(t,os),K(t,we))}bl(jL,"Temporal.ZonedDateTime");var XVe=Object.freeze({__proto__:null,Instant:fl,Calendar:J9,PlainDate:WS,PlainDateTime:YS,Duration:om,PlainMonthDay:RL,Now:h0e,PlainTime:kb,TimeZone:CL,PlainYearMonth:OL,ZonedDateTime:jL}),QVe=[fl,J9,WS,YS,om,RL,kb,CL,OL,jL];for(let t of QVe){let e=Object.getOwnPropertyDescriptor(t,"prototype");(e.configurable||e.enumerable||e.writable)&&(e.configurable=!1,e.enumerable=!1,e.writable=!1,Object.defineProperty(t,"prototype",e))}function xue(t){return new Promise(e=>setTimeout(e,t))}function qd(){return XVe.Now.instant().toString({smallestUnit:"microseconds"})}async function hv(t,e){let{Level:r}=await Promise.resolve().then(()=>vr(Kje(),1));return new r(t,{...e,keyEncoding:"utf8"})}var x_=class{constructor(t,e){this.config={createLevelDatabase:hv,...t},this.db=e}async open(){for(await this.createLevelDatabase();this.db.status==="opening"||this.db.status==="closing";)await xue(200);if(this.db.status!=="open")return this.db.open()}async close(){if(this.db){for(;this.db.status==="opening"||this.db.status==="closing";)await xue(200);if(this.db.status!=="closed")return this.db.close()}}async partition(t){return await this.createLevelDatabase(),new x_(this.config,this.db.sublevel(t,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))}async get(t,e){e?.signal?.throwIfAborted(),await Ms(e?.signal,this.createLevelDatabase());try{return await Ms(e?.signal,this.db.get(String(t)))}catch(r){if(r.code==="LEVEL_NOT_FOUND")return;throw r}}async has(t,e){return!!await this.get(t,e)}async*keys(t){t?.signal?.throwIfAborted(),await Ms(t?.signal,this.createLevelDatabase());for await(let e of this.db.keys())t?.signal?.throwIfAborted(),yield e}async*iterator(t,e){e?.signal?.throwIfAborted(),await Ms(e?.signal,this.createLevelDatabase());for await(let r of this.db.iterator(t))e?.signal?.throwIfAborted(),yield r}async put(t,e,r){return r?.signal?.throwIfAborted(),await Ms(r?.signal,this.createLevelDatabase()),Ms(r?.signal,this.db.put(String(t),e))}async delete(t,e){return e?.signal?.throwIfAborted(),await Ms(e?.signal,this.createLevelDatabase()),Ms(e?.signal,this.db.del(String(t)))}async isEmpty(t){for await(let e of this.keys(t))return!1;return!0}async clear(){await this.createLevelDatabase(),await this.db.clear(),await this.compactUnderlyingStorage()}async batch(t,e){return e?.signal?.throwIfAborted(),await Ms(e?.signal,this.createLevelDatabase()),Ms(e?.signal,this.db.batch(t))}async compactUnderlyingStorage(t){t?.signal?.throwIfAborted(),await Ms(t?.signal,this.createLevelDatabase());let e=this.sublevelRange;if(!e)return;let r=this.root;if(r.db.supports.additionalMethods.compactRange)return Ms(t?.signal,r.db.compactRange?.(...e))}get sublevelRange(){let t=this.db.prefix;if(t)return[t,t.slice(0,-1)+String.fromCharCode(t.charCodeAt(t.length-1)+1)]}get root(){let t=this.db;for(let e=t.db;e&&e!==t;)t=e;return new x_(this.config,t)}async createLevelDatabase(){this.db??=await this.config.createLevelDatabase(this.config.location,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding})}async dump(){if(this.db)for await(let[t,e]of this.db.iterator())console.debug(t,e)}},LL=class{constructor(t,e){this.config={createLevelDatabase:hv,...t},this.db=e??new x_({...this.config,valueEncoding:"binary"})}async open(){return this.db.open()}async close(){return this.db.close()}async partition(t){let e=await this.db.partition(t);return new LL({...this.config,location:""},e)}async put(t,e,r){return this.db.put(String(t),e,r)}async get(t,e){return await this.db.get(String(t),e)}async has(t,e){return this.db.has(String(t),e)}async delete(t,e){return this.db.delete(String(t),e)}async isEmpty(t){return this.db.isEmpty(t)}async*putMany(t,e){for await(let r of t)await this.put(r.key,r.value,e),yield r}async*getMany(t,e){for await(let r of t)yield this.get(r,e)}async*deleteMany(t,e){for await(let r of t)await this.delete(r,e),yield r}async clear(){return this.db.clear()}batch(){throw new Error("not implemented")}query(t,e){throw new Error("not implemented")}queryKeys(t,e){throw new Error("not implemented")}async dump(){console.group("db"),await this.db.dump?.(),console.groupEnd()}};ee();var NL=vr(Wa(),1);ee();ee();ee();var eKe=p0e,Aue=128,tKe=127,rKe=~tKe,iKe=Math.pow(2,31);function p0e(t,e,r){e=e||[],r=r||0;for(var i=r;t>=iKe;)e[r++]=t&255|Aue,t/=128;for(;t&rKe;)e[r++]=t&255|Aue,t>>>=7;return e[r]=t|0,p0e.bytes=r-i+1,e}var nKe=CO,oKe=128,Mue=127;function CO(t,i){var r=0,i=i||0,n=0,s=i,o,a=t.length;do{if(s>=a)throw CO.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=n<28?(o&Mue)<<n:(o&Mue)*Math.pow(2,n),n+=7}while(o>=oKe);return CO.bytes=s-i,r}var sKe=Math.pow(2,7),aKe=Math.pow(2,14),fKe=Math.pow(2,21),uKe=Math.pow(2,28),cKe=Math.pow(2,35),lKe=Math.pow(2,42),dKe=Math.pow(2,49),hKe=Math.pow(2,56),pKe=Math.pow(2,63),yKe=function(t){return t<sKe?1:t<aKe?2:t<fKe?3:t<uKe?4:t<cKe?5:t<lKe?6:t<dKe?7:t<hKe?8:t<pKe?9:10},mKe={encode:eKe,decode:nKe,encodingLength:yKe},gKe=mKe,X9=gKe,OO=(t,e=0)=>[X9.decode(t,e),X9.decode.bytes],Q9=(t,e,r=0)=>(X9.encode(t,e,r),e),eS=t=>X9.encodingLength(t);ee();ee();var f2t=new Uint8Array(0),bKe=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},ZS=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},y0e=(t,e)=>{let r=e.byteLength,i=eS(t),n=i+eS(r),s=new Uint8Array(n+r);return Q9(t,s,0),Q9(r,s,i),s.set(e,n),new qL(t,r,e,s)},m0e=t=>{let e=ZS(t),[r,i]=OO(e),[n,s]=OO(e.subarray(i)),o=e.subarray(i+s);if(o.byteLength!==n)throw new Error("Incorrect length");return new qL(r,n,o,e)},vKe=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&bKe(t.bytes,e.bytes),qL=class{constructor(t,e,r,i){this.code=t,this.size=e,this.digest=r,this.bytes=i}};ee();ee();ee();function wKe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var s=t.charAt(n),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=n}var a=t.length,f=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function l(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var E=0,x=0,T=0,M=g.length;T!==M&&g[T]===0;)T++,E++;for(var I=(M-T)*u+1>>>0,R=new Uint8Array(I);T!==M;){for(var O=g[T],B=0,C=I-1;(O!==0||B<x)&&C!==-1;C--,B++)O+=256*R[C]>>>0,R[C]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");x=B,T++}for(var U=I-x;U!==I&&R[U]===0;)U++;for(var W=f.repeat(E);U<I;++U)W+=t.charAt(R[U]);return W}function y(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var E=0;if(g[E]!==" "){for(var x=0,T=0;g[E]===f;)x++,E++;for(var M=(g.length-E)*c+1>>>0,I=new Uint8Array(M);g[E];){var R=r[g.charCodeAt(E)];if(R===255)return;for(var O=0,B=M-1;(R!==0||O<T)&&B!==-1;B--,O++)R+=a*I[B]>>>0,I[B]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");T=O,E++}if(g[E]!==" "){for(var C=M-T;C!==M&&I[C]===0;)C++;for(var U=new Uint8Array(x+(M-C)),W=x;C!==M;)U[W++]=I[C++];return U}}}function m(g){var E=y(g);if(E)return E;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:y,decode:m}}var _Ke=wKe,EKe=_Ke,SKe=EKe,xKe=class{constructor(t,e,r){this.name=t,this.prefix=e,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},AKe=class{constructor(t,e,r){if(this.name=t,this.prefix=e,e.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return g0e(this,t)}},MKe=class{constructor(t){this.decoders=t}or(t){return g0e(this,t)}decode(t){let e=t[0],r=this.decoders[e];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},g0e=(t,e)=>new MKe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),kKe=class{constructor(t,e,r,i){this.name=t,this.prefix=e,this.baseEncode=r,this.baseDecode=i,this.encoder=new xKe(t,e,r),this.decoder=new AKe(t,e,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}},b0e=({name:t,prefix:e,encode:r,decode:i})=>new kKe(t,e,r,i),v0e=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=SKe(r,e);return b0e({prefix:t,name:e,encode:i,decode:s=>ZS(n(s))})},TKe=(t,e,r,i)=>{let n={};for(let u=0;u<e.length;++u)n[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),a=0,f=0,c=0;for(let u=0;u<s;++u){let l=n[t[u]];if(l===void 0)throw new SyntaxError(`Non-${i} character`);f=f<<r|l,a+=r,a>=8&&(a-=8,o[c++]=255&f>>a)}if(a>=r||255&f<<8-a)throw new SyntaxError("Unexpected end of data");return o},PKe=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,s="",o=0,a=0;for(let f=0;f<t.length;++f)for(a=a<<8|t[f],o+=8;o>r;)o-=r,s+=e[n&a>>o];if(o&&(s+=e[n&a<<r-o]),i)for(;s.length*r&7;)s+="=";return s},Ud=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>b0e({prefix:e,name:t,encode(n){return PKe(n,i,r)},decode(n){return TKe(n,i,r,t)}}),Ep=v0e({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),u2t=v0e({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});ee();var x9=Ud({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),c2t=Ud({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),l2t=Ud({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),d2t=Ud({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),h2t=Ud({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),p2t=Ud({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),y2t=Ud({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),m2t=Ud({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),g2t=Ud({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),jo=class{constructor(t,e,r,i){this.code=e,this.version=t,this.multihash=r,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:t9,byteLength:t9,code:e9,version:e9,multihash:e9,bytes:e9,_baseCache:t9,asCID:t9})}toV0(){switch(this.version){case 0:return this;default:{let{code:t,multihash:e}=this;if(t!==K3)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(e.code!==BKe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return jo.createV0(e)}}}toV1(){switch(this.version){case 0:{let{code:t,digest:e}=this.multihash,r=y0e(t,e);return jo.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(t){return t&&this.code===t.code&&this.version===t.version&&vKe(this.multihash,t.multihash)}toString(t){let{bytes:e,version:r,_baseCache:i}=this;switch(r){case 0:return IKe(e,i,t||Ep.encoder);default:return RKe(e,i,t||x9.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(t){return OKe(/^0\.0/,jKe),!!(t&&(t[Tue]||t.asCID===t))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(t){if(t instanceof jo)return t;if(t!=null&&t.asCID===t){let{version:e,code:r,multihash:i,bytes:n}=t;return new jo(e,r,i,n||kue(e,r,i.bytes))}else if(t!=null&&t[Tue]===!0){let{version:e,multihash:r,code:i}=t,n=m0e(r);return jo.create(e,i,n)}else return null}static create(t,e,r){if(typeof e!="number")throw new Error("String codecs are no longer supported");switch(t){case 0:{if(e!==K3)throw new Error(`Version 0 CID must use dag-pb (code: ${K3}) block encoding`);return new jo(t,e,r,r.bytes)}case 1:{let i=kue(t,e,r.bytes);return new jo(t,e,r,i)}default:throw new Error("Invalid version")}}static createV0(t){return jo.create(0,K3,t)}static createV1(t,e){return jo.create(1,t,e)}static decode(t){let[e,r]=jo.decodeFirst(t);if(r.length)throw new Error("Incorrect length");return e}static decodeFirst(t){let e=jo.inspectBytes(t),r=e.size-e.multihashSize,i=ZS(t.subarray(r,r+e.multihashSize));if(i.byteLength!==e.multihashSize)throw new Error("Incorrect length");let n=i.subarray(e.multihashSize-e.digestSize),s=new qL(e.multihashCode,e.digestSize,n,i);return[e.version===0?jo.createV0(s):jo.createV1(e.codec,s),t.subarray(e.size)]}static inspectBytes(t){let e=0,r=()=>{let[u,l]=OO(t.subarray(e));return e+=l,u},i=r(),n=K3;if(i===18?(i=0,e=0):i===1&&(n=r()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let s=e,o=r(),a=r(),f=e+a,c=f-s;return{version:i,codec:n,multihashCode:o,digestSize:a,multihashSize:c,size:f}}static parse(t,e){let[r,i]=DKe(t,e),n=jo.decode(i);return n._baseCache.set(r,t),n}},DKe=(t,e)=>{switch(t[0]){case"Q":{let r=e||Ep;return[Ep.prefix,r.decode(`${Ep.prefix}${t}`)]}case Ep.prefix:{let r=e||Ep;return[Ep.prefix,r.decode(t)]}case x9.prefix:{let r=e||x9;return[x9.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},IKe=(t,e,r)=>{let{prefix:i}=r;if(i!==Ep.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let s=r.encode(t).slice(1);return e.set(i,s),s}else return n},RKe=(t,e,r)=>{let{prefix:i}=r,n=e.get(i);if(n==null){let s=r.encode(t);return e.set(i,s),s}else return n},K3=112,BKe=18,kue=(t,e,r)=>{let i=eS(t),n=i+eS(e),s=new Uint8Array(n+r.byteLength);return Q9(t,s,0),Q9(e,s,i),s.set(r,n),s},Tue=Symbol.for("@ipld/js-cid/CID"),e9={writable:!1,configurable:!1,enumerable:!0},t9={writable:!1,enumerable:!1,configurable:!1},CKe="0.0.0-dev",OKe=(t,e)=>{if(t.test(CKe))console.warn(e);else throw new Error(e)},jKe=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;ee();var LKe=vr(Wa(),1);ee();ee();ee();ee();var NKe=w0e,Pue=128,qKe=127,zKe=~qKe,FKe=Math.pow(2,31);function w0e(t,e,r){e=e||[],r=r||0;for(var i=r;t>=FKe;)e[r++]=t&255|Pue,t/=128;for(;t&zKe;)e[r++]=t&255|Pue,t>>>=7;return e[r]=t|0,w0e.bytes=r-i+1,e}var UKe=jO,$Ke=128,Due=127;function jO(t,i){var r=0,i=i||0,n=0,s=i,o,a=t.length;do{if(s>=a)throw jO.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=n<28?(o&Due)<<n:(o&Due)*Math.pow(2,n),n+=7}while(o>=$Ke);return jO.bytes=s-i,r}var VKe=Math.pow(2,7),KKe=Math.pow(2,14),HKe=Math.pow(2,21),WKe=Math.pow(2,28),YKe=Math.pow(2,35),ZKe=Math.pow(2,42),GKe=Math.pow(2,49),JKe=Math.pow(2,56),XKe=Math.pow(2,63),QKe=function(t){return t<VKe?1:t<KKe?2:t<HKe?3:t<WKe?4:t<YKe?5:t<ZKe?6:t<GKe?7:t<JKe?8:t<XKe?9:10},eHe={encode:NKe,decode:UKe,encodingLength:QKe},tHe=eHe,tS=tHe,LO=(t,e=0)=>[tS.decode(t,e),tS.decode.bytes],rS=(t,e,r=0)=>(tS.encode(t,e,r),e),iS=t=>tS.encodingLength(t);ee();ee();var b2t=new Uint8Array(0),rHe=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},zL=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},iHe=(t,e)=>{let r=e.byteLength,i=iS(t),n=i+iS(r),s=new Uint8Array(n+r);return rS(t,s,0),rS(r,s,i),s.set(e,n),new FL(t,r,e,s)},nHe=t=>{let e=zL(t),[r,i]=LO(e),[n,s]=LO(e.subarray(i)),o=e.subarray(i+s);if(o.byteLength!==n)throw new Error("Incorrect length");return new FL(r,n,o,e)},oHe=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&rHe(t.bytes,e.bytes),FL=class{constructor(t,e,r,i){this.code=t,this.size=e,this.digest=r,this.bytes=i}};ee();ee();ee();function sHe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var s=t.charAt(n),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=n}var a=t.length,f=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function l(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var E=0,x=0,T=0,M=g.length;T!==M&&g[T]===0;)T++,E++;for(var I=(M-T)*u+1>>>0,R=new Uint8Array(I);T!==M;){for(var O=g[T],B=0,C=I-1;(O!==0||B<x)&&C!==-1;C--,B++)O+=256*R[C]>>>0,R[C]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");x=B,T++}for(var U=I-x;U!==I&&R[U]===0;)U++;for(var W=f.repeat(E);U<I;++U)W+=t.charAt(R[U]);return W}function y(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var E=0;if(g[E]!==" "){for(var x=0,T=0;g[E]===f;)x++,E++;for(var M=(g.length-E)*c+1>>>0,I=new Uint8Array(M);g[E];){var R=r[g.charCodeAt(E)];if(R===255)return;for(var O=0,B=M-1;(R!==0||O<T)&&B!==-1;B--,O++)R+=a*I[B]>>>0,I[B]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");T=O,E++}if(g[E]!==" "){for(var C=M-T;C!==M&&I[C]===0;)C++;for(var U=new Uint8Array(x+(M-C)),W=x;C!==M;)U[W++]=I[C++];return U}}}function m(g){var E=y(g);if(E)return E;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:y,decode:m}}var aHe=sHe,fHe=aHe,uHe=fHe,cHe=class{constructor(t,e,r){this.name=t,this.prefix=e,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},lHe=class{constructor(t,e,r){if(this.name=t,this.prefix=e,e.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return _0e(this,t)}},dHe=class{constructor(t){this.decoders=t}or(t){return _0e(this,t)}decode(t){let e=t[0],r=this.decoders[e];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},_0e=(t,e)=>new dHe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),hHe=class{constructor(t,e,r,i){this.name=t,this.prefix=e,this.baseEncode=r,this.baseDecode=i,this.encoder=new cHe(t,e,r),this.decoder=new lHe(t,e,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}},E0e=({name:t,prefix:e,encode:r,decode:i})=>new hHe(t,e,r,i),S0e=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=uHe(r,e);return E0e({prefix:t,name:e,encode:i,decode:s=>zL(n(s))})},pHe=(t,e,r,i)=>{let n={};for(let u=0;u<e.length;++u)n[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),a=0,f=0,c=0;for(let u=0;u<s;++u){let l=n[t[u]];if(l===void 0)throw new SyntaxError(`Non-${i} character`);f=f<<r|l,a+=r,a>=8&&(a-=8,o[c++]=255&f>>a)}if(a>=r||255&f<<8-a)throw new SyntaxError("Unexpected end of data");return o},yHe=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,s="",o=0,a=0;for(let f=0;f<t.length;++f)for(a=a<<8|t[f],o+=8;o>r;)o-=r,s+=e[n&a>>o];if(o&&(s+=e[n&a<<r-o]),i)for(;s.length*r&7;)s+="=";return s},$d=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>E0e({prefix:e,name:t,encode(n){return yHe(n,i,r)},decode(n){return pHe(n,i,r,t)}}),Sp=S0e({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),v2t=S0e({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});ee();var A9=$d({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),w2t=$d({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),_2t=$d({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),E2t=$d({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),S2t=$d({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),x2t=$d({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),A2t=$d({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),M2t=$d({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),k2t=$d({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),ma=class{constructor(t,e,r,i){this.code=e,this.version=t,this.multihash=r,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:i9,byteLength:i9,code:r9,version:r9,multihash:r9,bytes:r9,_baseCache:i9,asCID:i9})}toV0(){switch(this.version){case 0:return this;default:{let{code:t,multihash:e}=this;if(t!==H3)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(e.code!==vHe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return ma.createV0(e)}}}toV1(){switch(this.version){case 0:{let{code:t,digest:e}=this.multihash,r=iHe(t,e);return ma.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(t){return t&&this.code===t.code&&this.version===t.version&&oHe(this.multihash,t.multihash)}toString(t){let{bytes:e,version:r,_baseCache:i}=this;switch(r){case 0:return gHe(e,i,t||Sp.encoder);default:return bHe(e,i,t||A9.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(t){return _He(/^0\.0/,EHe),!!(t&&(t[Rue]||t.asCID===t))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(t){if(t instanceof ma)return t;if(t!=null&&t.asCID===t){let{version:e,code:r,multihash:i,bytes:n}=t;return new ma(e,r,i,n||Iue(e,r,i.bytes))}else if(t!=null&&t[Rue]===!0){let{version:e,multihash:r,code:i}=t,n=nHe(r);return ma.create(e,i,n)}else return null}static create(t,e,r){if(typeof e!="number")throw new Error("String codecs are no longer supported");switch(t){case 0:{if(e!==H3)throw new Error(`Version 0 CID must use dag-pb (code: ${H3}) block encoding`);return new ma(t,e,r,r.bytes)}case 1:{let i=Iue(t,e,r.bytes);return new ma(t,e,r,i)}default:throw new Error("Invalid version")}}static createV0(t){return ma.create(0,H3,t)}static createV1(t,e){return ma.create(1,t,e)}static decode(t){let[e,r]=ma.decodeFirst(t);if(r.length)throw new Error("Incorrect length");return e}static decodeFirst(t){let e=ma.inspectBytes(t),r=e.size-e.multihashSize,i=zL(t.subarray(r,r+e.multihashSize));if(i.byteLength!==e.multihashSize)throw new Error("Incorrect length");let n=i.subarray(e.multihashSize-e.digestSize),s=new FL(e.multihashCode,e.digestSize,n,i);return[e.version===0?ma.createV0(s):ma.createV1(e.codec,s),t.subarray(e.size)]}static inspectBytes(t){let e=0,r=()=>{let[u,l]=LO(t.subarray(e));return e+=l,u},i=r(),n=H3;if(i===18?(i=0,e=0):i===1&&(n=r()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let s=e,o=r(),a=r(),f=e+a,c=f-s;return{version:i,codec:n,multihashCode:o,digestSize:a,multihashSize:c,size:f}}static parse(t,e){let[r,i]=mHe(t,e),n=ma.decode(i);return n._baseCache.set(r,t),n}},mHe=(t,e)=>{switch(t[0]){case"Q":{let r=e||Sp;return[Sp.prefix,r.decode(`${Sp.prefix}${t}`)]}case Sp.prefix:{let r=e||Sp;return[Sp.prefix,r.decode(t)]}case A9.prefix:{let r=e||A9;return[A9.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},gHe=(t,e,r)=>{let{prefix:i}=r;if(i!==Sp.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let s=r.encode(t).slice(1);return e.set(i,s),s}else return n},bHe=(t,e,r)=>{let{prefix:i}=r,n=e.get(i);if(n==null){let s=r.encode(t);return e.set(i,s),s}else return n},H3=112,vHe=18,Iue=(t,e,r)=>{let i=iS(t),n=i+iS(e),s=new Uint8Array(n+r.byteLength);return rS(t,s,0),rS(e,s,i),s.set(r,n),s},Rue=Symbol.for("@ipld/js-cid/CID"),r9={writable:!1,configurable:!1,enumerable:!0},i9={writable:!1,enumerable:!1,configurable:!1},wHe="0.0.0-dev",_He=(t,e)=>{if(t.test(wHe))console.warn(e);else throw new Error(e)},EHe=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;ee();var SHe=new TextDecoder;function UL(t,e){let r=0;for(let i=0;;i+=7){if(i>=64)throw new Error("protobuf: varint overflow");if(e>=t.length)throw new Error("protobuf: unexpected end of data");let n=t[e++];if(r+=i<28?(n&127)<<i:(n&127)*2**i,n<128)break}return[r,e]}function nS(t,e){let r;[r,e]=UL(t,e);let i=e+r;if(r<0||i<0)throw new Error("protobuf: invalid length");if(i>t.length)throw new Error("protobuf: unexpected end of data");return[t.subarray(e,i),i]}function x0e(t,e){let r;return[r,e]=UL(t,e),[r&7,r>>3,e]}function xHe(t){let e={},r=t.length,i=0;for(;i<r;){let n,s;if([n,s,i]=x0e(t,i),s===1){if(e.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(n!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Hash`);if(e.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[e.Hash,i]=nS(t,i)}else if(s===2){if(e.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(n!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Name`);if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let o;[o,i]=nS(t,i),e.Name=SHe.decode(o)}else if(s===3){if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(n!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Tsize`);[e.Tsize,i]=UL(t,i)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${s}`)}if(i>r)throw new Error("protobuf: (PBLink) unexpected end of data");return e}function AHe(t){let e=t.length,r=0,i,n=!1,s;for(;r<e;){let a,f;if([a,f,r]=x0e(t,r),a!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${a}`);if(f===1){if(s)throw new Error("protobuf: (PBNode) duplicate Data section");[s,r]=nS(t,r),i&&(n=!0)}else if(f===2){if(n)throw new Error("protobuf: (PBNode) duplicate Links section");i||(i=[]);let c;[c,r]=nS(t,r),i.push(xHe(c))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${f}`)}if(r>e)throw new Error("protobuf: (PBNode) unexpected end of data");let o={};return s&&(o.Data=s),o.Links=i||[],o}ee();var T2t=new TextEncoder,P2t=2**32,D2t=2**31;ee();var I2t=new TextEncoder,A0e=112;function GS(t){let e=AHe(t),r={};return e.Data&&(r.Data=e.Data),e.Links&&(r.Links=e.Links.map(i=>{let n={};try{n.Hash=ma.decode(i.Hash)}catch{}if(!n.Hash)throw new Error("Invalid Hash field found in link, expected CID");return i.Name!==void 0&&(n.Name=i.Name),i.Tsize!==void 0&&(n.Tsize=i.Tsize),n})),r}ee();var MHe=42;function kHe(t){if(t[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return jo.decode(t.subarray(1))}var M0e={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};M0e.tags[MHe]=kHe;var k0e=113,T0e=t=>phe(t,M0e);ee();var P0e=85;ee();var D0e=0,THe="identity",I0e=ZS,PHe=t=>y0e(D0e,I0e(t)),DHe={code:D0e,name:THe,encode:I0e,digest:PHe};ee();var WC=vr(Wa(),1);ee();var NO=vr(Wa(),1);ee();var $p=vr(Qje(),1),Vb=$p.default.Reader,$L=$p.default.Writer,Zt=$p.default.util,Os=$p.default.roots["ipfs-unixfs"]||($p.default.roots["ipfs-unixfs"]={}),IHe=Os.Data=(()=>{function t(e){if(this.blocksizes=[],e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.Type=0,t.prototype.Data=Zt.newBuffer([]),t.prototype.filesize=Zt.Long?Zt.Long.fromBits(0,0,!0):0,t.prototype.blocksizes=Zt.emptyArray,t.prototype.hashType=Zt.Long?Zt.Long.fromBits(0,0,!0):0,t.prototype.fanout=Zt.Long?Zt.Long.fromBits(0,0,!0):0,t.prototype.mode=0,t.prototype.mtime=null,t.encode=function(e,r){if(r||(r=$L.create()),r.uint32(8).int32(e.Type),e.Data!=null&&Object.hasOwnProperty.call(e,"Data")&&r.uint32(18).bytes(e.Data),e.filesize!=null&&Object.hasOwnProperty.call(e,"filesize")&&r.uint32(24).uint64(e.filesize),e.blocksizes!=null&&e.blocksizes.length)for(var i=0;i<e.blocksizes.length;++i)r.uint32(32).uint64(e.blocksizes[i]);return e.hashType!=null&&Object.hasOwnProperty.call(e,"hashType")&&r.uint32(40).uint64(e.hashType),e.fanout!=null&&Object.hasOwnProperty.call(e,"fanout")&&r.uint32(48).uint64(e.fanout),e.mode!=null&&Object.hasOwnProperty.call(e,"mode")&&r.uint32(56).uint32(e.mode),e.mtime!=null&&Object.hasOwnProperty.call(e,"mtime")&&Os.UnixTime.encode(e.mtime,r.uint32(66).fork()).ldelim(),r},t.decode=function(e,r){e instanceof Vb||(e=Vb.create(e));for(var i=r===void 0?e.len:e.pos+r,n=new Os.Data;e.pos<i;){var s=e.uint32();switch(s>>>3){case 1:n.Type=e.int32();break;case 2:n.Data=e.bytes();break;case 3:n.filesize=e.uint64();break;case 4:if(n.blocksizes&&n.blocksizes.length||(n.blocksizes=[]),(s&7)===2)for(var o=e.uint32()+e.pos;e.pos<o;)n.blocksizes.push(e.uint64());else n.blocksizes.push(e.uint64());break;case 5:n.hashType=e.uint64();break;case 6:n.fanout=e.uint64();break;case 7:n.mode=e.uint32();break;case 8:n.mtime=Os.UnixTime.decode(e,e.uint32());break;default:e.skipType(s&7);break}}if(!n.hasOwnProperty("Type"))throw Zt.ProtocolError("missing required 'Type'",{instance:n});return n},t.fromObject=function(e){if(e instanceof Os.Data)return e;var r=new Os.Data;switch(e.Type){case"Raw":case 0:r.Type=0;break;case"Directory":case 1:r.Type=1;break;case"File":case 2:r.Type=2;break;case"Metadata":case 3:r.Type=3;break;case"Symlink":case 4:r.Type=4;break;case"HAMTShard":case 5:r.Type=5;break}if(e.Data!=null&&(typeof e.Data=="string"?Zt.base64.decode(e.Data,r.Data=Zt.newBuffer(Zt.base64.length(e.Data)),0):e.Data.length&&(r.Data=e.Data)),e.filesize!=null&&(Zt.Long?(r.filesize=Zt.Long.fromValue(e.filesize)).unsigned=!0:typeof e.filesize=="string"?r.filesize=parseInt(e.filesize,10):typeof e.filesize=="number"?r.filesize=e.filesize:typeof e.filesize=="object"&&(r.filesize=new Zt.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0))),e.blocksizes){if(!Array.isArray(e.blocksizes))throw TypeError(".Data.blocksizes: array expected");r.blocksizes=[];for(var i=0;i<e.blocksizes.length;++i)Zt.Long?(r.blocksizes[i]=Zt.Long.fromValue(e.blocksizes[i])).unsigned=!0:typeof e.blocksizes[i]=="string"?r.blocksizes[i]=parseInt(e.blocksizes[i],10):typeof e.blocksizes[i]=="number"?r.blocksizes[i]=e.blocksizes[i]:typeof e.blocksizes[i]=="object"&&(r.blocksizes[i]=new Zt.LongBits(e.blocksizes[i].low>>>0,e.blocksizes[i].high>>>0).toNumber(!0))}if(e.hashType!=null&&(Zt.Long?(r.hashType=Zt.Long.fromValue(e.hashType)).unsigned=!0:typeof e.hashType=="string"?r.hashType=parseInt(e.hashType,10):typeof e.hashType=="number"?r.hashType=e.hashType:typeof e.hashType=="object"&&(r.hashType=new Zt.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0))),e.fanout!=null&&(Zt.Long?(r.fanout=Zt.Long.fromValue(e.fanout)).unsigned=!0:typeof e.fanout=="string"?r.fanout=parseInt(e.fanout,10):typeof e.fanout=="number"?r.fanout=e.fanout:typeof e.fanout=="object"&&(r.fanout=new Zt.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0))),e.mode!=null&&(r.mode=e.mode>>>0),e.mtime!=null){if(typeof e.mtime!="object")throw TypeError(".Data.mtime: object expected");r.mtime=Os.UnixTime.fromObject(e.mtime)}return r},t.toObject=function(e,r){r||(r={});var i={};if((r.arrays||r.defaults)&&(i.blocksizes=[]),r.defaults){if(i.Type=r.enums===String?"Raw":0,r.bytes===String?i.Data="":(i.Data=[],r.bytes!==Array&&(i.Data=Zt.newBuffer(i.Data))),Zt.Long){var n=new Zt.Long(0,0,!0);i.filesize=r.longs===String?n.toString():r.longs===Number?n.toNumber():n}else i.filesize=r.longs===String?"0":0;if(Zt.Long){var n=new Zt.Long(0,0,!0);i.hashType=r.longs===String?n.toString():r.longs===Number?n.toNumber():n}else i.hashType=r.longs===String?"0":0;if(Zt.Long){var n=new Zt.Long(0,0,!0);i.fanout=r.longs===String?n.toString():r.longs===Number?n.toNumber():n}else i.fanout=r.longs===String?"0":0;i.mode=0,i.mtime=null}if(e.Type!=null&&e.hasOwnProperty("Type")&&(i.Type=r.enums===String?Os.Data.DataType[e.Type]:e.Type),e.Data!=null&&e.hasOwnProperty("Data")&&(i.Data=r.bytes===String?Zt.base64.encode(e.Data,0,e.Data.length):r.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),e.filesize!=null&&e.hasOwnProperty("filesize")&&(typeof e.filesize=="number"?i.filesize=r.longs===String?String(e.filesize):e.filesize:i.filesize=r.longs===String?Zt.Long.prototype.toString.call(e.filesize):r.longs===Number?new Zt.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0):e.filesize),e.blocksizes&&e.blocksizes.length){i.blocksizes=[];for(var s=0;s<e.blocksizes.length;++s)typeof e.blocksizes[s]=="number"?i.blocksizes[s]=r.longs===String?String(e.blocksizes[s]):e.blocksizes[s]:i.blocksizes[s]=r.longs===String?Zt.Long.prototype.toString.call(e.blocksizes[s]):r.longs===Number?new Zt.LongBits(e.blocksizes[s].low>>>0,e.blocksizes[s].high>>>0).toNumber(!0):e.blocksizes[s]}return e.hashType!=null&&e.hasOwnProperty("hashType")&&(typeof e.hashType=="number"?i.hashType=r.longs===String?String(e.hashType):e.hashType:i.hashType=r.longs===String?Zt.Long.prototype.toString.call(e.hashType):r.longs===Number?new Zt.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0):e.hashType),e.fanout!=null&&e.hasOwnProperty("fanout")&&(typeof e.fanout=="number"?i.fanout=r.longs===String?String(e.fanout):e.fanout:i.fanout=r.longs===String?Zt.Long.prototype.toString.call(e.fanout):r.longs===Number?new Zt.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0):e.fanout),e.mode!=null&&e.hasOwnProperty("mode")&&(i.mode=e.mode),e.mtime!=null&&e.hasOwnProperty("mtime")&&(i.mtime=Os.UnixTime.toObject(e.mtime,r)),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,$p.default.util.toJSONOptions)},t.DataType=function(){let e={},r=Object.create(e);return r[e[0]="Raw"]=0,r[e[1]="Directory"]=1,r[e[2]="File"]=2,r[e[3]="Metadata"]=3,r[e[4]="Symlink"]=4,r[e[5]="HAMTShard"]=5,r}(),t})(),R2t=Os.UnixTime=(()=>{function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.Seconds=Zt.Long?Zt.Long.fromBits(0,0,!1):0,t.prototype.FractionalNanoseconds=0,t.encode=function(e,r){return r||(r=$L.create()),r.uint32(8).int64(e.Seconds),e.FractionalNanoseconds!=null&&Object.hasOwnProperty.call(e,"FractionalNanoseconds")&&r.uint32(21).fixed32(e.FractionalNanoseconds),r},t.decode=function(e,r){e instanceof Vb||(e=Vb.create(e));for(var i=r===void 0?e.len:e.pos+r,n=new Os.UnixTime;e.pos<i;){var s=e.uint32();switch(s>>>3){case 1:n.Seconds=e.int64();break;case 2:n.FractionalNanoseconds=e.fixed32();break;default:e.skipType(s&7);break}}if(!n.hasOwnProperty("Seconds"))throw Zt.ProtocolError("missing required 'Seconds'",{instance:n});return n},t.fromObject=function(e){if(e instanceof Os.UnixTime)return e;var r=new Os.UnixTime;return e.Seconds!=null&&(Zt.Long?(r.Seconds=Zt.Long.fromValue(e.Seconds)).unsigned=!1:typeof e.Seconds=="string"?r.Seconds=parseInt(e.Seconds,10):typeof e.Seconds=="number"?r.Seconds=e.Seconds:typeof e.Seconds=="object"&&(r.Seconds=new Zt.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber())),e.FractionalNanoseconds!=null&&(r.FractionalNanoseconds=e.FractionalNanoseconds>>>0),r},t.toObject=function(e,r){r||(r={});var i={};if(r.defaults){if(Zt.Long){var n=new Zt.Long(0,0,!1);i.Seconds=r.longs===String?n.toString():r.longs===Number?n.toNumber():n}else i.Seconds=r.longs===String?"0":0;i.FractionalNanoseconds=0}return e.Seconds!=null&&e.hasOwnProperty("Seconds")&&(typeof e.Seconds=="number"?i.Seconds=r.longs===String?String(e.Seconds):e.Seconds:i.Seconds=r.longs===String?Zt.Long.prototype.toString.call(e.Seconds):r.longs===Number?new Zt.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber():e.Seconds),e.FractionalNanoseconds!=null&&e.hasOwnProperty("FractionalNanoseconds")&&(i.FractionalNanoseconds=e.FractionalNanoseconds),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,$p.default.util.toJSONOptions)},t})(),B2t=Os.Metadata=(()=>{function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.MimeType="",t.encode=function(e,r){return r||(r=$L.create()),e.MimeType!=null&&Object.hasOwnProperty.call(e,"MimeType")&&r.uint32(10).string(e.MimeType),r},t.decode=function(e,r){e instanceof Vb||(e=Vb.create(e));for(var i=r===void 0?e.len:e.pos+r,n=new Os.Metadata;e.pos<i;){var s=e.uint32();switch(s>>>3){case 1:n.MimeType=e.string();break;default:e.skipType(s&7);break}}return n},t.fromObject=function(e){if(e instanceof Os.Metadata)return e;var r=new Os.Metadata;return e.MimeType!=null&&(r.MimeType=String(e.MimeType)),r},t.toObject=function(e,r){r||(r={});var i={};return r.defaults&&(i.MimeType=""),e.MimeType!=null&&e.hasOwnProperty("MimeType")&&(i.MimeType=e.MimeType),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,$p.default.util.toJSONOptions)},t})(),Td=IHe,Bue=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],RHe=["directory","hamt-sharded-directory"],Cue=parseInt("0644",8),Oue=parseInt("0755",8);function YC(t){if(t!=null)return typeof t=="number"?t&4095:(t=t.toString(),t.substring(0,1)==="0"?parseInt(t,8)&4095:parseInt(t,10)&4095)}function jue(t){if(t==null)return;let e;if(t.secs!=null&&(e={secs:t.secs,nsecs:t.nsecs}),t.Seconds!=null&&(e={secs:t.Seconds,nsecs:t.FractionalNanoseconds}),Array.isArray(t)&&(e={secs:t[0],nsecs:t[1]}),t instanceof Date){let r=t.getTime(),i=Math.floor(r/1e3);e={secs:i,nsecs:(r-i*1e3)*1e3}}if(Object.prototype.hasOwnProperty.call(e,"secs")){if(e!=null&&e.nsecs!=null&&(e.nsecs<0||e.nsecs>999999999))throw(0,NO.default)(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return e}}var VL=class{static unmarshal(t){let e=Td.decode(t),r=Td.toObject(e,{defaults:!1,arrays:!0,longs:Number,objects:!1}),i=new VL({type:Bue[r.Type],data:r.Data,blockSizes:r.blocksizes,mode:r.mode,mtime:r.mtime?{secs:r.mtime.Seconds,nsecs:r.mtime.FractionalNanoseconds}:void 0});return i._originalMode=r.mode||0,i}constructor(t={type:"file"}){let{type:e,data:r,blockSizes:i,hashType:n,fanout:s,mtime:o,mode:a}=t;if(e&&!Bue.includes(e))throw(0,NO.default)(new Error("Type: "+e+" is not valid"),"ERR_INVALID_TYPE");this.type=e||"file",this.data=r,this.hashType=n,this.fanout=s,this.blockSizes=i||[],this._originalMode=0,this.mode=YC(a),o&&(this.mtime=jue(o),this.mtime&&!this.mtime.nsecs&&(this.mtime.nsecs=0))}set mode(t){this._mode=this.isDirectory()?Oue:Cue;let e=YC(t);e!==void 0&&(this._mode=e)}get mode(){return this._mode}isDirectory(){return Boolean(this.type&&RHe.includes(this.type))}addBlockSize(t){this.blockSizes.push(t)}removeBlockSize(t){this.blockSizes.splice(t,1)}fileSize(){if(this.isDirectory())return 0;let t=0;return this.blockSizes.forEach(e=>{t+=e}),this.data&&(t+=this.data.length),t}marshal(){let t;switch(this.type){case"raw":t=Td.DataType.Raw;break;case"directory":t=Td.DataType.Directory;break;case"file":t=Td.DataType.File;break;case"metadata":t=Td.DataType.Metadata;break;case"symlink":t=Td.DataType.Symlink;break;case"hamt-sharded-directory":t=Td.DataType.HAMTShard;break;default:throw(0,NO.default)(new Error("Type: "+t+" is not valid"),"ERR_INVALID_TYPE")}let e=this.data;(!this.data||!this.data.length)&&(e=void 0);let r;this.mode!=null&&(r=this._originalMode&4294963200|(YC(this.mode)||0),r===Cue&&!this.isDirectory()&&(r=void 0),r===Oue&&this.isDirectory()&&(r=void 0));let i;if(this.mtime!=null){let s=jue(this.mtime);s&&(i={Seconds:s.secs,FractionalNanoseconds:s.nsecs},i.FractionalNanoseconds===0&&delete i.FractionalNanoseconds)}let n={Type:t,Data:e,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:r,mtime:i};return Td.encode(n).finish()}};ee();var R0e=vr(RLe(),1);ee();ee();ee();var B0e={};wi(B0e,{coerce:()=>JS,empty:()=>C0e,equals:()=>O0e,fromHex:()=>CHe,fromString:()=>jHe,isBinary:()=>OHe,toHex:()=>BHe,toString:()=>LHe});ee();var C0e=new Uint8Array(0),BHe=t=>t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),""),CHe=t=>{let e=t.match(/../g);return e?new Uint8Array(e.map(r=>parseInt(r,16))):C0e},O0e=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},JS=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},OHe=t=>t instanceof ArrayBuffer||ArrayBuffer.isView(t),jHe=t=>new TextEncoder().encode(t),LHe=t=>new TextDecoder().decode(t);ee();ee();var NHe=j0e,Lue=128,qHe=127,zHe=~qHe,FHe=Math.pow(2,31);function j0e(t,e,r){e=e||[],r=r||0;for(var i=r;t>=FHe;)e[r++]=t&255|Lue,t/=128;for(;t&zHe;)e[r++]=t&255|Lue,t>>>=7;return e[r]=t|0,j0e.bytes=r-i+1,e}var UHe=qO,$He=128,Nue=127;function qO(t,i){var r=0,i=i||0,n=0,s=i,o,a=t.length;do{if(s>=a)throw qO.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=n<28?(o&Nue)<<n:(o&Nue)*Math.pow(2,n),n+=7}while(o>=$He);return qO.bytes=s-i,r}var VHe=Math.pow(2,7),KHe=Math.pow(2,14),HHe=Math.pow(2,21),WHe=Math.pow(2,28),YHe=Math.pow(2,35),ZHe=Math.pow(2,42),GHe=Math.pow(2,49),JHe=Math.pow(2,56),XHe=Math.pow(2,63),QHe=function(t){return t<VHe?1:t<KHe?2:t<HHe?3:t<WHe?4:t<YHe?5:t<ZHe?6:t<GHe?7:t<JHe?8:t<XHe?9:10},eWe={encode:NHe,decode:UHe,encodingLength:QHe},tWe=eWe,oS=tWe,zO=(t,e=0)=>[oS.decode(t,e),oS.decode.bytes],sS=(t,e,r=0)=>(oS.encode(t,e,r),e),aS=t=>oS.encodingLength(t),FO=(t,e)=>{let r=e.byteLength,i=aS(t),n=i+aS(r),s=new Uint8Array(n+r);return sS(t,s,0),sS(r,s,i),s.set(e,n),new KL(t,r,e,s)},rWe=t=>{let e=JS(t),[r,i]=zO(e),[n,s]=zO(e.subarray(i)),o=e.subarray(i+s);if(o.byteLength!==n)throw new Error("Incorrect length");return new KL(r,n,o,e)},iWe=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&O0e(t.bytes,e.bytes),KL=class{constructor(t,e,r,i){this.code=t,this.size=e,this.digest=r,this.bytes=i}},L0e=({name:t,code:e,encode:r})=>new nWe(t,e,r),nWe=class{constructor(t,e,r){this.name=t,this.code=e,this.encode=r}digest(t){if(t instanceof Uint8Array){let e=this.encode(t);return e instanceof Uint8Array?FO(this.code,e):e.then(r=>FO(this.code,r))}else throw Error("Unknown type, must be binary type")}};ee();ee();ee();ee();ee();function oWe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var s=t.charAt(n),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=n}var a=t.length,f=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function l(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var E=0,x=0,T=0,M=g.length;T!==M&&g[T]===0;)T++,E++;for(var I=(M-T)*u+1>>>0,R=new Uint8Array(I);T!==M;){for(var O=g[T],B=0,C=I-1;(O!==0||B<x)&&C!==-1;C--,B++)O+=256*R[C]>>>0,R[C]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");x=B,T++}for(var U=I-x;U!==I&&R[U]===0;)U++;for(var W=f.repeat(E);U<I;++U)W+=t.charAt(R[U]);return W}function y(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var E=0;if(g[E]!==" "){for(var x=0,T=0;g[E]===f;)x++,E++;for(var M=(g.length-E)*c+1>>>0,I=new Uint8Array(M);g[E];){var R=r[g.charCodeAt(E)];if(R===255)return;for(var O=0,B=M-1;(R!==0||O<T)&&B!==-1;B--,O++)R+=a*I[B]>>>0,I[B]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");T=O,E++}if(g[E]!==" "){for(var C=M-T;C!==M&&I[C]===0;)C++;for(var U=new Uint8Array(x+(M-C)),W=x;C!==M;)U[W++]=I[C++];return U}}}function m(g){var E=y(g);if(E)return E;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:y,decode:m}}var sWe=oWe,aWe=sWe,fWe=aWe,uWe=class{constructor(t,e,r){this.name=t,this.prefix=e,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},cWe=class{constructor(t,e,r){if(this.name=t,this.prefix=e,e.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return N0e(this,t)}},lWe=class{constructor(t){this.decoders=t}or(t){return N0e(this,t)}decode(t){let e=t[0],r=this.decoders[e];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},N0e=(t,e)=>new lWe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),dWe=class{constructor(t,e,r,i){this.name=t,this.prefix=e,this.baseEncode=r,this.baseDecode=i,this.encoder=new uWe(t,e,r),this.decoder=new cWe(t,e,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}},q0e=({name:t,prefix:e,encode:r,decode:i})=>new dWe(t,e,r,i),z0e=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=fWe(r,e);return q0e({prefix:t,name:e,encode:i,decode:s=>JS(n(s))})},hWe=(t,e,r,i)=>{let n={};for(let u=0;u<e.length;++u)n[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),a=0,f=0,c=0;for(let u=0;u<s;++u){let l=n[t[u]];if(l===void 0)throw new SyntaxError(`Non-${i} character`);f=f<<r|l,a+=r,a>=8&&(a-=8,o[c++]=255&f>>a)}if(a>=r||255&f<<8-a)throw new SyntaxError("Unexpected end of data");return o},pWe=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,s="",o=0,a=0;for(let f=0;f<t.length;++f)for(a=a<<8|t[f],o+=8;o>r;)o-=r,s+=e[n&a>>o];if(o&&(s+=e[n&a<<r-o]),i)for(;s.length*r&7;)s+="=";return s},Vd=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>q0e({prefix:e,name:t,encode(n){return pWe(n,i,r)},decode(n){return hWe(n,i,r,t)}}),xp=z0e({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),C2t=z0e({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});ee();var M9=Vd({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),O2t=Vd({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),j2t=Vd({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),L2t=Vd({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),N2t=Vd({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),q2t=Vd({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),z2t=Vd({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),F2t=Vd({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),U2t=Vd({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Fa=class{constructor(t,e,r,i){this.code=e,this.version=t,this.multihash=r,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:o9,byteLength:o9,code:n9,version:n9,multihash:n9,bytes:n9,_baseCache:o9,asCID:o9})}toV0(){switch(this.version){case 0:return this;default:{let{code:t,multihash:e}=this;if(t!==W3)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(e.code!==bWe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Fa.createV0(e)}}}toV1(){switch(this.version){case 0:{let{code:t,digest:e}=this.multihash,r=FO(t,e);return Fa.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(t){return t&&this.code===t.code&&this.version===t.version&&iWe(this.multihash,t.multihash)}toString(t){let{bytes:e,version:r,_baseCache:i}=this;switch(r){case 0:return mWe(e,i,t||xp.encoder);default:return gWe(e,i,t||M9.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(t){return wWe(/^0\.0/,_We),!!(t&&(t[zue]||t.asCID===t))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(t){if(t instanceof Fa)return t;if(t!=null&&t.asCID===t){let{version:e,code:r,multihash:i,bytes:n}=t;return new Fa(e,r,i,n||que(e,r,i.bytes))}else if(t!=null&&t[zue]===!0){let{version:e,multihash:r,code:i}=t,n=rWe(r);return Fa.create(e,i,n)}else return null}static create(t,e,r){if(typeof e!="number")throw new Error("String codecs are no longer supported");switch(t){case 0:{if(e!==W3)throw new Error(`Version 0 CID must use dag-pb (code: ${W3}) block encoding`);return new Fa(t,e,r,r.bytes)}case 1:{let i=que(t,e,r.bytes);return new Fa(t,e,r,i)}default:throw new Error("Invalid version")}}static createV0(t){return Fa.create(0,W3,t)}static createV1(t,e){return Fa.create(1,t,e)}static decode(t){let[e,r]=Fa.decodeFirst(t);if(r.length)throw new Error("Incorrect length");return e}static decodeFirst(t){let e=Fa.inspectBytes(t),r=e.size-e.multihashSize,i=JS(t.subarray(r,r+e.multihashSize));if(i.byteLength!==e.multihashSize)throw new Error("Incorrect length");let n=i.subarray(e.multihashSize-e.digestSize),s=new KL(e.multihashCode,e.digestSize,n,i);return[e.version===0?Fa.createV0(s):Fa.createV1(e.codec,s),t.subarray(e.size)]}static inspectBytes(t){let e=0,r=()=>{let[u,l]=zO(t.subarray(e));return e+=l,u},i=r(),n=W3;if(i===18?(i=0,e=0):i===1&&(n=r()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let s=e,o=r(),a=r(),f=e+a,c=f-s;return{version:i,codec:n,multihashCode:o,digestSize:a,multihashSize:c,size:f}}static parse(t,e){let[r,i]=yWe(t,e),n=Fa.decode(i);return n._baseCache.set(r,t),n}},yWe=(t,e)=>{switch(t[0]){case"Q":{let r=e||xp;return[xp.prefix,r.decode(`${xp.prefix}${t}`)]}case xp.prefix:{let r=e||xp;return[xp.prefix,r.decode(t)]}case M9.prefix:{let r=e||M9;return[M9.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},mWe=(t,e,r)=>{let{prefix:i}=r;if(i!==xp.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let s=r.encode(t).slice(1);return e.set(i,s),s}else return n},gWe=(t,e,r)=>{let{prefix:i}=r,n=e.get(i);if(n==null){let s=r.encode(t);return e.set(i,s),s}else return n},W3=112,bWe=18,que=(t,e,r)=>{let i=aS(t),n=i+aS(e),s=new Uint8Array(n+r.byteLength);return sS(t,s,0),sS(e,s,i),s.set(r,n),s},zue=Symbol.for("@ipld/js-cid/CID"),n9={writable:!1,configurable:!1,enumerable:!0},o9={writable:!1,enumerable:!1,configurable:!1},vWe="0.0.0-dev",wWe=(t,e)=>{if(t.test(vWe))console.warn(e);else throw new Error(e)},_We=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,F0e=vr(Oce(),1);function EWe(t){let e=new Array(4);for(let r=0;r<4;r++)e[r]=t&255,t=t>>8;return new Uint8Array(e)}var $2t=L0e({name:"murmur3-32",code:35,encode:t=>EWe(F0e.default.x86.hash32(t))}),SWe=L0e({name:"murmur3-128",code:34,encode:t=>B0e.fromHex(F0e.default.x64.hash128(t))}),xWe=async function(t){return(await SWe.encode(t)).slice(0,8).reverse()},AWe=(t,e,r)=>Promise.all(t.map(i=>{if(i.Name==null)throw new Error("Unexpected Link without a Name");if(i.Name.length===2){let n=parseInt(i.Name,16);return e._putObjectAt(n,new R0e.Bucket({hash:r._options.hash,bits:r._options.bits},e,n))}return r.put(i.Name.substring(2),!0)})),Fue=t=>t.toString(16).toUpperCase().padStart(2,"0").substring(0,2),MWe=t=>{let e=t.bucket,r=[];for(;e._parent;)r.push(e),e=e._parent;return r.push(e),r.reverse()},U0e=async(t,e,r,i,n)=>{if(!i){let u=(0,R0e.createHAMT)({hashFn:xWe});i={rootBucket:u,hamtDepth:1,lastBucket:u}}await AWe(t.Links,i.lastBucket,i.rootBucket);let s=await i.rootBucket._findNewBucketAndPos(e),o=Fue(s.pos),a=MWe(s);a.length>i.hamtDepth&&(i.lastBucket=a[i.hamtDepth],o=Fue(i.lastBucket._posAtParent));let f=t.Links.find(u=>{if(u.Name==null)return!1;let l=u.Name.substring(0,2),y=u.Name.substring(2);return!(l!==o||y&&y!==e)});if(!f)return null;if(f.Name!=null&&f.Name.substring(2)===e)return f.Hash;i.hamtDepth++;let c=await r.get(f.Hash,n);return t=GS(c),U0e(t,e,r,i,n)},kWe=U0e;ee();ee();function TWe(t,e,r,i){let n=t.length,s=e+n;return r>=s||i<e?new Uint8Array(0):(i>=e&&i<s&&(t=t.slice(0,i-e)),r>=e&&r<s&&(t=t.slice(r-e)),t)}var fS=TWe;ee();var ZC=vr(Wa(),1),PWe=(t,e,r)=>{if(e||(e=0),e<0)throw(0,ZC.default)(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(e>t)throw(0,ZC.default)(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(!r&&r!==0&&(r=t-e),r<0)throw(0,ZC.default)(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");return e+r>t&&(r=t-e),{offset:e,length:r}},HL=PWe,Uue=vr(Wa(),1);async function*$0e(t,e,r,i,n=0,s){if(e instanceof Uint8Array){let f=fS(e,n,r,i);return f.length&&(yield f),n+=f.length,n}if(e.Data==null)throw(0,Uue.default)(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");let o;try{o=VL.unmarshal(e.Data)}catch(f){throw(0,Uue.default)(f,"ERR_NOT_UNIXFS")}if(o.data&&o.data.length){let f=fS(o.data,n,r,i);f.length&&(yield f),n+=o.data.length}let a=n;for(let f=0;f<e.Links.length;f++){let c=e.Links[f],u=n+o.blockSizes[f];if(r>=a&&r<u||i>a&&i<=u||r<a&&i>u){let l=await t.get(c.Hash,{signal:s.signal}),y;switch(c.Hash.code){case A0e:y=await GS(l);break;case P0e:y=l;break;case k0e:y=await T0e(l);break;default:throw Error(`Unsupported codec: ${c.Hash.code}`)}for await(let m of $0e(t,y,r,i,n,s))n+=m.length,yield m}n=u,a=u+1}}var DWe=(t,e,r,i,n,s,o)=>{function a(f={}){let c=r.fileSize();if(c===void 0)throw new Error("File was a directory");let{offset:u,length:l}=HL(c,f.offset,f.length),y=u,m=u+l;return $0e(o,e,y,m,0,f)}return a},$ue=DWe;ee();var IWe=(t,e,r,i,n,s,o)=>{async function*a(f={}){let c=f.offset||0,u=f.length||e.Links.length,l=e.Links.slice(c,u);for(let y of l){let m=await n(y.Hash,y.Name||"",`${i}/${y.Name||""}`,[],s+1,o,f);m.entry&&(yield m.entry)}}return a},RWe=IWe;ee();var BWe=(t,e,r,i,n,s,o)=>{function a(f={}){return V0e(e,i,n,s,o,f)}return a};async function*V0e(t,e,r,i,n,s){let o=t.Links;for(let a of o){let f=a.Name!=null?a.Name.substring(2):null;if(f)yield(await r(a.Hash,f,`${e}/${f}`,[],i+1,n,s)).entry;else{let c=await n.get(a.Hash);t=GS(c);for await(let u of V0e(t,e,r,i,n,s))yield u}}}var CWe=BWe,OWe=(t,e)=>{let r=t.Links.find(i=>i.Name===e);return r&&r.Hash},jWe={raw:$ue,file:$ue,directory:RWe,"hamt-sharded-directory":CWe,metadata:(t,e,r,i,n,s,o)=>()=>[],symlink:(t,e,r,i,n,s,o)=>()=>[]},LWe=async(t,e,r,i,n,s,o,a)=>{let f=await o.get(t,a),c=GS(f),u,l;if(e||(e=t.toString()),c.Data==null)throw(0,WC.default)(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{u=VL.unmarshal(c.Data)}catch(y){throw(0,WC.default)(y,"ERR_NOT_UNIXFS")}if(r||(r=e),i.length){let y;if(u&&u.type==="hamt-sharded-directory"?y=await kWe(c,i[0],o):y=OWe(c,i[0]),!y)throw(0,WC.default)(new Error("file does not exist"),"ERR_NOT_FOUND");let m=i.shift(),g=`${r}/${m}`;l={cid:y,toResolve:i,name:m||"",path:g}}return{entry:{type:u.isDirectory()?"directory":"file",name:e,path:r,cid:t,content:jWe[u.type](t,c,u,r,n,s,o),unixfs:u,depth:s,node:c,size:u.fileSize()},next:l}},NWe=LWe;ee();var qWe=vr(Wa(),1),zWe=t=>{async function*e(r={}){let{offset:i,length:n}=HL(t.length,r.offset,r.length);yield fS(t,0,i,i+n)}return e},FWe=async(t,e,r,i,n,s,o,a)=>{if(i.length)throw(0,qWe.default)(new Error(`No link named ${r} found in raw node ${t}`),"ERR_NOT_FOUND");let f=await o.get(t,a);return{entry:{type:"raw",name:e,path:r,cid:t,content:zWe(f),depth:s,size:f.length,node:f}}},UWe=FWe;ee();var $We=vr(Wa(),1),VWe=async(t,e,r,i,n,s,o,a)=>{let f=await o.get(t),c=T0e(f),u=c,l=r;for(;i.length;){let y=i[0];if(y in u){i.shift(),l=`${l}/${y}`;let m=jo.asCID(u[y]);if(m)return{entry:{type:"object",name:e,path:r,cid:t,node:f,depth:s,size:f.length,content:async function*(){yield c}},next:{cid:m,name:y,path:l,toResolve:i}};u=u[y]}else throw(0,$We.default)(new Error(`No property named ${y} found in cbor node ${t}`),"ERR_NO_PROP")}return{entry:{type:"object",name:e,path:r,cid:t,node:f,depth:s,size:f.length,content:async function*(){yield c}}}},KWe=VWe;ee();var HWe=vr(Wa(),1),WWe=t=>{async function*e(r={}){let{offset:i,length:n}=HL(t.length,r.offset,r.length);yield fS(t,0,i,i+n)}return e},YWe=async(t,e,r,i,n,s,o,a)=>{if(i.length)throw(0,HWe.default)(new Error(`No link named ${r} found in raw node ${t}`),"ERR_NOT_FOUND");let f=await m0e(t.multihash.bytes);return{entry:{type:"identity",name:e,path:r,cid:t,content:WWe(f.digest),depth:s,size:f.digest.length,node:f.digest}}},ZWe=YWe,GWe={[A0e]:NWe,[P0e]:UWe,[k0e]:KWe,[DHe.code]:ZWe};function K0e(t,e,r,i,n,s,o){let a=GWe[t.code];if(!a)throw(0,LKe.default)(new Error(`No resolver for code ${t.code}`),"ERR_NO_RESOLVER");return a(t,e,r,i,K0e,n,s,o)}var JWe=K0e,XWe=vr(BLe(),1),QWe=(t="")=>(t.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean),eYe=t=>{if(t instanceof Uint8Array)return{cid:jo.decode(t),toResolve:[]};let e=jo.asCID(t);if(e)return{cid:e,toResolve:[]};if(typeof t=="string"){t.indexOf("/ipfs/")===0&&(t=t.substring(6));let r=QWe(t);return{cid:jo.parse(r[0]),toResolve:r.slice(1)}}throw(0,NL.default)(new Error(`Unknown path type ${t}`),"ERR_BAD_PATH")};async function*tYe(t,e,r={}){let{cid:i,toResolve:n}=eYe(t),s=i.toString(),o=s,a=n.length;for(;;){let f=await JWe(i,s,o,n,a,e,r);if(!f.entry&&!f.next)throw(0,NL.default)(new Error(`Could not resolve ${t}`),"ERR_NOT_FOUND");if(f.entry&&(yield f.entry),!f.next)return;n=f.next.toResolve,i=f.next.cid,s=f.next.name,o=f.next.path}}async function Vue(t,e,r={}){let i=await(0,XWe.default)(tYe(t,e,r));if(!i)throw(0,NL.default)(new Error(`Could not resolve ${t}`),"ERR_NOT_FOUND");return i}var rYe=vr(mj(),1),s9="data",a9="host",Kue=new Uint8Array,iYe=class{constructor(t={}){this.config={blockstoreLocation:"DATASTORE",createLevelDatabase:hv,...t},this.blockstore=new LL({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase})}async open(){await this.blockstore.open()}async close(){await this.blockstore.close()}async put(t,e,r,i){await(await(await(await this.blockstore.partition(a9)).partition(r)).partition(t)).put(e,Kue);let n=await(await this.blockstore.partition(s9)).partition(r),s=wO([{content:i}],n,{cidVersion:1}),o;for await(o of s);return o==null?{dataCid:r,dataSize:0}:{dataCid:String(o.cid),dataSize:Number(o.unixfs?.fileSize()??o.size)}}async get(t,e,r){if(!await(await(await(await this.blockstore.partition(a9)).partition(r)).partition(t)).has(e))return;let i=await(await this.blockstore.partition(s9)).partition(r);if(!await i.has(r))return;let n=await Vue(r,i),s=n.content()[Symbol.asyncIterator](),o=new rYe.Readable({async read(){let a=await s.next();a.done?this.push(null):this.push(a.value)}});return{dataCid:String(n.cid),dataSize:Number(n.unixfs?.fileSize()??n.size),dataStream:o}}async associate(t,e,r){let i=await(await(await this.blockstore.partition(a9)).partition(r)).partition(t);if(await i.isEmpty())return;let n=await(await this.blockstore.partition(s9)).partition(r);if(!await n.has(r))return;await i.put(e,Kue);let s=await Vue(r,n);return{dataCid:String(s.cid),dataSize:Number(s.unixfs?.fileSize()??s.size)}}async delete(t,e,r){let i=await(await this.blockstore.partition(a9)).partition(r),n=await i.partition(t);await n.delete(e),!(!await n.isEmpty()||!await i.isEmpty())&&await(await(await this.blockstore.partition(s9)).partition(r)).clear()}async clear(){await this.blockstore.clear()}async dump(){console.group("blockstore"),await this.blockstore.dump?.(),console.groupEnd()}};ee();ee();ee();ee();var GC=new TextEncoder,nYe=new TextDecoder,Ir=class{static base64UrlToBytes(t){return G3.baseDecode(t)}static base64UrlToObject(t){let e=G3.baseDecode(t),r=Ir.bytesToString(e);return JSON.parse(r)}static bytesToBase64Url(t){return G3.baseEncode(t)}static bytesToString(t){return nYe.decode(t)}static objectToBytes(t){let e=JSON.stringify(t);return GC.encode(e)}static stringToBase64Url(t){let e=GC.encode(t);return G3.baseEncode(e)}static stringToBytes(t){return GC.encode(t)}};ee();ee();ee();var oYe=vr(iv(),1),ns=BigInt(0),oi=BigInt(1),Tb=BigInt(2),Hue=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),pn=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:Hue,n:Hue,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),H0e=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),o_=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),V2t=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),sYe=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),aYe=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),fYe=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),uYe=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Ai=class{constructor(t,e,r,i){this.x=t,this.y=e,this.z=r,this.t=i}static fromAffine(t){if(!(t instanceof So))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return t.equals(So.ZERO)?Ai.ZERO:new Ai(t.x,t.y,oi,ze(t.x*t.y))}static toAffineBatch(t){let e=dYe(t.map(r=>r.z));return t.map((r,i)=>r.toAffine(e[i]))}static normalizeZ(t){return this.toAffineBatch(t).map(this.fromAffine)}equals(t){Wue(t);let{x:e,y:r,z:i}=this,{x:n,y:s,z:o}=t,a=ze(e*o),f=ze(n*i),c=ze(r*o),u=ze(s*i);return a===f&&c===u}negate(){return new Ai(ze(-this.x),this.y,this.z,ze(-this.t))}double(){let{x:t,y:e,z:r}=this,{a:i}=pn,n=ze(t*t),s=ze(e*e),o=ze(Tb*ze(r*r)),a=ze(i*n),f=t+e,c=ze(ze(f*f)-n-s),u=a+s,l=u-o,y=a-s,m=ze(c*l),g=ze(u*y),E=ze(c*y),x=ze(l*u);return new Ai(m,g,x,E)}add(t){Wue(t);let{x:e,y:r,z:i,t:n}=this,{x:s,y:o,z:a,t:f}=t,c=ze((r-e)*(o+s)),u=ze((r+e)*(o-s)),l=ze(u-c);if(l===ns)return this.double();let y=ze(i*Tb*f),m=ze(n*Tb*a),g=m+y,E=u+c,x=m-y,T=ze(g*l),M=ze(E*x),I=ze(g*x),R=ze(l*E);return new Ai(T,M,R,I)}subtract(t){return this.add(t.negate())}precomputeWindow(t){let e=1+256/t,r=[],i=this,n=i;for(let s=0;s<e;s++){n=i,r.push(n);for(let o=1;o<2**(t-1);o++)n=n.add(i),r.push(n);i=n.double()}return r}wNAF(t,e){!e&&this.equals(Ai.BASE)&&(e=So.BASE);let r=e&&e._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=e&&UO.get(e);i||(i=this.precomputeWindow(r),e&&r!==1&&(i=Ai.normalizeZ(i),UO.set(e,i)));let n=Ai.ZERO,s=Ai.ZERO,o=1+256/r,a=2**(r-1),f=BigInt(2**r-1),c=2**r,u=BigInt(r);for(let l=0;l<o;l++){let y=l*a,m=Number(t&f);if(t>>=u,m>a&&(m-=c,t+=oi),m===0){let g=i[y];l%2&&(g=g.negate()),s=s.add(g)}else{let g=i[y+Math.abs(m)-1];m<0&&(g=g.negate()),n=n.add(g)}}return Ai.normalizeZ([n,s])[0]}multiply(t,e){return this.wNAF(lS(t,pn.l),e)}multiplyUnsafe(t){let e=lS(t,pn.l,!1),r=Ai.BASE,i=Ai.ZERO;if(e===ns)return i;if(this.equals(i)||e===oi)return this;if(this.equals(r))return this.wNAF(e);let n=i,s=this;for(;e>ns;)e&oi&&(n=n.add(s)),s=s.double(),e>>=oi;return n}isSmallOrder(){return this.multiplyUnsafe(pn.h).equals(Ai.ZERO)}isTorsionFree(){return this.multiplyUnsafe(pn.l).equals(Ai.ZERO)}toAffine(t=XS(this.z)){let{x:e,y:r,z:i}=this,n=ze(e*t),s=ze(r*t);if(ze(i*t)!==oi)throw new Error("invZ was invalid");return new So(n,s)}fromRistrettoBytes(){XC()}toRistrettoBytes(){XC()}fromRistrettoHash(){XC()}};Ai.BASE=new Ai(pn.Gx,pn.Gy,oi,ze(pn.Gx*pn.Gy));Ai.ZERO=new Ai(ns,oi,oi,ns);function Wue(t){if(!(t instanceof Ai))throw new TypeError("ExtendedPoint expected")}function JC(t){if(!(t instanceof ec))throw new TypeError("RistrettoPoint expected")}function XC(){throw new Error("Legacy method: switch to RistrettoPoint")}var ec=class{constructor(t){this.ep=t}static calcElligatorRistrettoMap(t){let{d:e}=pn,r=ze(o_*t*t),i=ze((r+oi)*fYe),n=BigInt(-1),s=ze((n-e*r)*ze(r+e)),{isValid:o,value:a}=YL(i,s),f=ze(a*t);wp(f)||(f=ze(-f)),o||(a=f),o||(n=r);let c=ze(n*(r-oi)*uYe-s),u=a*a,l=ze((a+a)*s),y=ze(c*sYe),m=ze(oi-u),g=ze(oi+u);return new Ai(ze(l*g),ze(m*y),ze(y*g),ze(l*m))}static hashToCurve(t){t=Vp(t,64);let e=QC(t.slice(0,32)),r=this.calcElligatorRistrettoMap(e),i=QC(t.slice(32,64)),n=this.calcElligatorRistrettoMap(i);return new ec(r.add(n))}static fromHex(t){t=Vp(t,32);let{a:e,d:r}=pn,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",n=QC(t);if(!pYe(A_(n),t)||wp(n))throw new Error(i);let s=ze(n*n),o=ze(oi+e*s),a=ze(oi-e*s),f=ze(o*o),c=ze(a*a),u=ze(e*r*f-c),{isValid:l,value:y}=Zue(ze(u*c)),m=ze(y*a),g=ze(y*m*u),E=ze((n+n)*m);wp(E)&&(E=ze(-E));let x=ze(o*g),T=ze(E*x);if(!l||wp(T)||x===ns)throw new Error(i);return new ec(new Ai(E,x,oi,T))}toRawBytes(){let{x:t,y:e,z:r,t:i}=this.ep,n=ze(ze(r+e)*ze(r-e)),s=ze(t*e),o=ze(s*s),{value:a}=Zue(ze(n*o)),f=ze(a*n),c=ze(a*s),u=ze(f*c*i),l;if(wp(i*u)){let m=ze(e*o_),g=ze(t*o_);t=m,e=g,l=ze(f*aYe)}else l=c;wp(t*u)&&(e=ze(-e));let y=ze((r-e)*l);return wp(y)&&(y=ze(-y)),A_(y)}toHex(){return Z_(this.toRawBytes())}toString(){return this.toHex()}equals(t){JC(t);let e=this.ep,r=t.ep,i=ze(e.x*r.y)===ze(e.y*r.x),n=ze(e.y*r.y)===ze(e.x*r.x);return i||n}add(t){return JC(t),new ec(this.ep.add(t.ep))}subtract(t){return JC(t),new ec(this.ep.subtract(t.ep))}multiply(t){return new ec(this.ep.multiply(t))}multiplyUnsafe(t){return new ec(this.ep.multiplyUnsafe(t))}};ec.BASE=new ec(Ai.BASE);ec.ZERO=new ec(Ai.ZERO);var UO=new WeakMap,So=class{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,UO.delete(this)}static fromHex(t,e=!0){let{d:r,P:i}=pn;t=Vp(t,32);let n=t.slice();n[31]=t[31]&-129;let s=G_(n);if(e&&s>=i)throw new Error("Expected 0 < hex < P");if(!e&&s>=H0e)throw new Error("Expected 0 < hex < 2**256");let o=ze(s*s),a=ze(o-oi),f=ze(r*o+oi),{isValid:c,value:u}=YL(a,f);if(!c)throw new Error("Point.fromHex: invalid y coordinate");let l=(u&oi)===oi;return(t[31]&128)!==0!==l&&(u=ze(-u)),new So(u,s)}static async fromPrivateKey(t){return(await QS(t)).point}toRawBytes(){let t=A_(this.y);return t[31]|=this.x&oi?128:0,t}toHex(){return Z_(this.toRawBytes())}toX25519(){let{y:t}=this,e=ze((oi+t)*XS(oi-t));return A_(e)}isTorsionFree(){return Ai.fromAffine(this).isTorsionFree()}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new So(ze(-this.x),this.y)}add(t){return Ai.fromAffine(this).add(Ai.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return Ai.fromAffine(this).multiply(t,this).toAffine()}};So.BASE=new So(pn.Gx,pn.Gy);So.ZERO=new So(ns,oi);var uS=class{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromHex(t){let e=Vp(t,64),r=So.fromHex(e.slice(0,32),!1),i=G_(e.slice(32,64));return new uS(r,i)}assertValidity(){let{r:t,s:e}=this;if(!(t instanceof So))throw new Error("Expected Point instance");return lS(e,pn.l,!1),this}toRawBytes(){let t=new Uint8Array(64);return t.set(this.r.toRawBytes()),t.set(A_(this.s),32),t}toHex(){return Z_(this.toRawBytes())}};function Yue(...t){if(!t.every(i=>i instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];let e=t.reduce((i,n)=>i+n.length,0),r=new Uint8Array(e);for(let i=0,n=0;i<t.length;i++){let s=t[i];r.set(s,n),n+=s.length}return r}var cYe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Z_(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=cYe[t[r]];return e}function WL(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let i=r*2,n=t.slice(i,i+2),s=Number.parseInt(n,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}function W0e(t){let e=t.toString(16).padStart(64,"0");return WL(e)}function A_(t){return W0e(t).reverse()}function wp(t){return(ze(t)&oi)===oi}function G_(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+Z_(Uint8Array.from(t).reverse()))}var lYe=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function QC(t){return ze(G_(t)&lYe)}function ze(t,e=pn.P){let r=t%e;return r>=ns?r:e+r}function XS(t,e=pn.P){if(t===ns||e<=ns)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=ze(t,e),i=e,n=ns,s=oi,o=oi,a=ns;for(;r!==ns;){let f=i/r,c=i%r,u=n-o*f,l=s-a*f;i=r,r=c,n=o,s=a,o=u,a=l}if(i!==oi)throw new Error("invert: does not exist");return ze(n,e)}function dYe(t,e=pn.P){let r=new Array(t.length),i=t.reduce((s,o,a)=>o===ns?s:(r[a]=s,ze(s*o,e)),oi),n=XS(i,e);return t.reduceRight((s,o,a)=>o===ns?s:(r[a]=ze(s*r[a],e),ze(s*o,e)),n),r}function nl(t,e){let{P:r}=pn,i=t;for(;e-- >ns;)i*=i,i%=r;return i}function hYe(t){let{P:e}=pn,r=BigInt(5),i=BigInt(10),n=BigInt(20),s=BigInt(40),o=BigInt(80),a=t*t%e*t%e,f=nl(a,Tb)*a%e,c=nl(f,oi)*t%e,u=nl(c,r)*c%e,l=nl(u,i)*u%e,y=nl(l,n)*l%e,m=nl(y,s)*y%e,g=nl(m,o)*m%e,E=nl(g,o)*m%e,x=nl(E,i)*u%e;return{pow_p_5_8:nl(x,Tb)*t%e,b2:a}}function YL(t,e){let r=ze(e*e*e),i=ze(r*r*e),n=hYe(t*i).pow_p_5_8,s=ze(t*r*n),o=ze(e*s*s),a=s,f=ze(s*o_),c=o===t,u=o===ze(-t),l=o===ze(-t*o_);return c&&(s=a),(u||l)&&(s=f),wp(s)&&(s=ze(-s)),{isValid:c||u,value:s}}function Zue(t){return YL(oi,t)}function cS(t){return ze(G_(t),pn.l)}function pYe(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Vp(t,e){let r=t instanceof Uint8Array?Uint8Array.from(t):WL(t);if(typeof e=="number"&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}function lS(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(r){if(ns<t)return t}else if(ns<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function yYe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function mYe(t){if(t=typeof t=="bigint"||typeof t=="number"?W0e(lS(t,H0e)):Vp(t),t.length!==32)throw new Error("Expected 32 bytes");return t}function gYe(t){let e=yYe(t.slice(0,32)),r=t.slice(32,64),i=cS(e),n=So.BASE.multiply(i),s=n.toRawBytes();return{head:e,prefix:r,scalar:i,point:n,pointBytes:s}}var eO;async function QS(t){return gYe(await vm.sha512(mYe(t)))}async function bYe(t){return(await QS(t)).pointBytes}async function vYe(t,e){t=Vp(t);let{prefix:r,scalar:i,pointBytes:n}=await QS(e),s=cS(await vm.sha512(r,t)),o=So.BASE.multiply(s),a=cS(await vm.sha512(o.toRawBytes(),n,t)),f=ze(s+a*i,pn.l);return new uS(o,f).toRawBytes()}function wYe(t,e,r){e=Vp(e),r instanceof So||(r=So.fromHex(r,!1));let{r:i,s:n}=t instanceof uS?t.assertValidity():uS.fromHex(t),s=Ai.BASE.multiplyUnsafe(n);return{r:i,s:n,SB:s,pub:r,msg:e}}function _Ye(t,e,r,i){let n=cS(i),s=Ai.fromAffine(t).multiplyUnsafe(n);return Ai.fromAffine(e).add(s).subtract(r).multiplyUnsafe(pn.h).equals(Ai.ZERO)}async function EYe(t,e,r){let{r:i,SB:n,msg:s,pub:o}=wYe(t,e,r),a=await vm.sha512(i.toRawBytes(),o.toRawBytes(),s);return _Ye(o,i,n,a)}So.BASE._setWindowSize(8);var bp={node:oYe,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},vm={bytesToHex:Z_,hexToBytes:WL,concatBytes:Yue,getExtendedPublicKey:QS,mod:ze,invert:XS,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if(t=Vp(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return ze(G_(t),pn.l-oi)+oi},randomBytes:(t=32)=>{if(bp.web)return bp.web.getRandomValues(new Uint8Array(t));if(bp.node){let{randomBytes:e}=bp.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>vm.randomBytes(32),sha512:async(...t)=>{let e=Yue(...t);if(bp.web){let r=await bp.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(r)}else{if(bp.node)return Uint8Array.from(bp.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=So.BASE){let r=e.equals(So.BASE)?e:new So(e.x,e.y);return r._setWindowSize(t),r.multiply(Tb),r},sha512Sync:void 0};Object.defineProperties(vm,{sha512Sync:{configurable:!1,get(){return eO},set(t){eO||(eO=t)}}});function Gue(t){if(t.kty!=="OKP"||t.crv!=="Ed25519")throw new Error("invalid jwk. kty MUST be OKP. crv MUST be Ed25519")}function Jue(t){return{alg:"EdDSA",kty:"OKP",crv:"Ed25519",x:Ir.bytesToBase64Url(t)}}var $O={sign:(t,e)=>{Gue(e);let r=Ir.base64UrlToBytes(e.d);return vYe(t,r)},verify:(t,e,r)=>{Gue(r);let i=Ir.base64UrlToBytes(r.x);return EYe(e,t,i)},generateKeyPair:async()=>{let t=vm.randomPrivateKey(),e=await bYe(t),r=Ir.bytesToBase64Url(t),i=Jue(e),n={...i,d:r};return{publicJwk:i,privateJwk:n}},publicKeyToJwk:async t=>Jue(t)};ee();ee();var SYe=vr(iv(),1),ni=BigInt(0),nn=BigInt(1),Pp=BigInt(2),s_=BigInt(3),Xue=BigInt(8),Wn=Object.freeze({a:ni,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:nn,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),Que=(t,e)=>(t+e/Pp)/e,f9={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){let{n:e}=Wn,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-nn*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=Que(s*t,e),f=Que(-i*t,e),c=Et(t-a*r-f*n,e),u=Et(-a*i-f*s,e),l=c>o,y=u>o;if(l&&(c=e-c),y&&(u=e-u),c>o||u>o)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:l,k1:c,k2neg:y,k2:u}}},rc=32,Kb=32,xYe=32,ece=rc+1,tce=2*rc+1;function rce(t){let{a:e,b:r}=Wn,i=Et(t*t),n=Et(i*t);return Et(n+e*t+r)}var u9=Wn.a===ni,Y0e=class extends Error{constructor(t){super(t)}};function ice(t){if(!(t instanceof Di))throw new TypeError("JacobianPoint expected")}var Di=class{constructor(t,e,r){this.x=t,this.y=e,this.z=r}static fromAffine(t){if(!(t instanceof Xi))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(Xi.ZERO)?Di.ZERO:new Di(t.x,t.y,nn)}static toAffineBatch(t){let e=PYe(t.map(r=>r.z));return t.map((r,i)=>r.toAffine(e[i]))}static normalizeZ(t){return Di.toAffineBatch(t).map(Di.fromAffine)}equals(t){ice(t);let{x:e,y:r,z:i}=this,{x:n,y:s,z:o}=t,a=Et(i*i),f=Et(o*o),c=Et(e*f),u=Et(n*a),l=Et(Et(r*o)*f),y=Et(Et(s*i)*a);return c===u&&l===y}negate(){return new Di(this.x,Et(-this.y),this.z)}double(){let{x:t,y:e,z:r}=this,i=Et(t*t),n=Et(e*e),s=Et(n*n),o=t+n,a=Et(Pp*(Et(o*o)-i-s)),f=Et(s_*i),c=Et(f*f),u=Et(c-Pp*a),l=Et(f*(a-u)-Xue*s),y=Et(Pp*e*r);return new Di(u,l,y)}add(t){ice(t);let{x:e,y:r,z:i}=this,{x:n,y:s,z:o}=t;if(n===ni||s===ni)return this;if(e===ni||r===ni)return t;let a=Et(i*i),f=Et(o*o),c=Et(e*f),u=Et(n*a),l=Et(Et(r*o)*f),y=Et(Et(s*i)*a),m=Et(u-c),g=Et(y-l);if(m===ni)return g===ni?this.double():Di.ZERO;let E=Et(m*m),x=Et(m*E),T=Et(c*E),M=Et(g*g-x-Pp*T),I=Et(g*(T-M)-l*x),R=Et(i*o*m);return new Di(M,I,R)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){let e=Di.ZERO;if(typeof t=="bigint"&&t===ni)return e;let r=sce(t);if(r===nn)return this;if(!u9){let u=e,l=this;for(;r>ni;)r&nn&&(u=u.add(l)),l=l.double(),r>>=nn;return u}let{k1neg:i,k1:n,k2neg:s,k2:o}=f9.splitScalar(r),a=e,f=e,c=this;for(;n>ni||o>ni;)n&nn&&(a=a.add(c)),o&nn&&(f=f.add(c)),c=c.double(),n>>=nn,o>>=nn;return i&&(a=a.negate()),s&&(f=f.negate()),f=new Di(Et(f.x*f9.beta),f.y,f.z),a.add(f)}precomputeWindow(t){let e=u9?128/t+1:256/t+1,r=[],i=this,n=i;for(let s=0;s<e;s++){n=i,r.push(n);for(let o=1;o<2**(t-1);o++)n=n.add(i),r.push(n);i=n.double()}return r}wNAF(t,e){!e&&this.equals(Di.BASE)&&(e=Xi.BASE);let r=e&&e._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=e&&VO.get(e);i||(i=this.precomputeWindow(r),e&&r!==1&&(i=Di.normalizeZ(i),VO.set(e,i)));let n=Di.ZERO,s=Di.BASE,o=1+(u9?128/r:256/r),a=2**(r-1),f=BigInt(2**r-1),c=2**r,u=BigInt(r);for(let l=0;l<o;l++){let y=l*a,m=Number(t&f);t>>=u,m>a&&(m-=c,t+=nn);let g=y,E=y+Math.abs(m)-1,x=l%2!==0,T=m<0;m===0?s=s.add(c9(x,i[g])):n=n.add(c9(T,i[E]))}return{p:n,f:s}}multiply(t,e){let r=sce(t),i,n;if(u9){let{k1neg:s,k1:o,k2neg:a,k2:f}=f9.splitScalar(r),{p:c,f:u}=this.wNAF(o,e),{p:l,f:y}=this.wNAF(f,e);c=c9(s,c),l=c9(a,l),l=new Di(Et(l.x*f9.beta),l.y,l.z),i=c.add(l),n=u.add(y)}else{let{p:s,f:o}=this.wNAF(r,e);i=s,n=o}return Di.normalizeZ([i,n])[0]}toAffine(t){let{x:e,y:r,z:i}=this,n=this.equals(Di.ZERO);t==null&&(t=n?Xue:pv(i));let s=t,o=Et(s*s),a=Et(o*s),f=Et(e*o),c=Et(r*a),u=Et(i*s);if(n)return Xi.ZERO;if(u!==nn)throw new Error("invZ was invalid");return new Xi(f,c)}};Di.BASE=new Di(Wn.Gx,Wn.Gy,nn);Di.ZERO=new Di(ni,nn,ni);function c9(t,e){let r=e.negate();return t?r:e}var VO=new WeakMap,Xi=class{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,VO.delete(this)}hasEvenY(){return this.y%Pp===ni}static fromCompressedHex(t){let e=t.length===32,r=Ip(e?t:t.subarray(1));if(!tO(r))throw new Error("Point is not on curve");let i=rce(r),n=TYe(i),s=(n&nn)===nn;e?s&&(n=Et(-n)):(t[0]&1)===1!==s&&(n=Et(-n));let o=new Xi(r,n);return o.assertValidity(),o}static fromUncompressedHex(t){let e=Ip(t.subarray(1,rc+1)),r=Ip(t.subarray(rc+1,rc*2+1)),i=new Xi(e,r);return i.assertValidity(),i}static fromHex(t){let e=Wb(t),r=e.length,i=e[0];if(r===rc)return this.fromCompressedHex(e);if(r===ece&&(i===2||i===3))return this.fromCompressedHex(e);if(r===tce&&i===4)return this.fromUncompressedHex(e);throw new Error(`Point.fromHex: received invalid point. Expected 32-${ece} compressed bytes or ${tce} uncompressed bytes, not ${r}`)}static fromPrivateKey(t){return Xi.BASE.multiply(hS(t))}static fromSignature(t,e,r){let{r:i,s:n}=Z0e(e);if(![0,1,2,3].includes(r))throw new Error("Cannot recover: invalid recovery bit");let s=ZL(Wb(t)),{n:o}=Wn,a=r===2||r===3?i+o:i,f=pv(a,o),c=Et(-s*f,o),u=Et(n*f,o),l=r&1?"03":"02",y=Xi.fromHex(l+Pb(a)),m=Xi.BASE.multiplyAndAddUnsafe(y,c,u);if(!m)throw new Error("Cannot recover signature: point at infinify");return m.assertValidity(),m}toRawBytes(t=!1){return hm(this.toHex(t))}toHex(t=!1){let e=Pb(this.x);return t?`${this.hasEvenY()?"02":"03"}${e}`:`04${e}${Pb(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let t="Point is not on elliptic curve",{x:e,y:r}=this;if(!tO(e)||!tO(r))throw new Error(t);let i=Et(r*r),n=rce(e);if(Et(i-n)!==ni)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new Xi(this.x,Et(-this.y))}double(){return Di.fromAffine(this).double().toAffine()}add(t){return Di.fromAffine(this).add(Di.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return Di.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,r){let i=Di.fromAffine(this),n=e===ni||e===nn||this!==Xi.BASE?i.multiplyUnsafe(e):i.multiply(e),s=Di.fromAffine(t).multiplyUnsafe(r),o=n.add(s);return o.equals(Di.ZERO)?void 0:o.toAffine()}};Xi.BASE=new Xi(Wn.Gx,Wn.Gy);Xi.ZERO=new Xi(ni,ni);function nce(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function oce(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${Hb(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Ip(r),left:t.subarray(e+2)}}function AYe(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${Hb(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=oce(t.subarray(2)),{data:i,left:n}=oce(r);if(n.length)throw new Error(`Invalid signature: left bytes after parsing: ${Hb(n)}`);return{r:e,s:i}}var dm=class{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){let e=t instanceof Uint8Array,r="Signature.fromCompact";if(typeof t!="string"&&!e)throw new TypeError(`${r}: Expected string or Uint8Array`);let i=e?Hb(t):t;if(i.length!==128)throw new Error(`${r}: Expected 64-byte hex`);return new dm(dS(i.slice(0,64)),dS(i.slice(64,128)))}static fromDER(t){let e=t instanceof Uint8Array;if(typeof t!="string"&&!e)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r,s:i}=AYe(e?t:hm(t));return new dm(r,i)}static fromHex(t){return this.fromDER(t)}assertValidity(){let{r:t,s:e}=this;if(!M_(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!M_(e))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let t=Wn.n>>nn;return this.s>t}normalizeS(){return this.hasHighS()?new dm(this.r,Et(-this.s,Wn.n)):this}toDERRawBytes(){return hm(this.toDERHex())}toDERHex(){let t=nce(Y3(this.s)),e=nce(Y3(this.r)),r=t.length/2,i=e.length/2,n=Y3(r),s=Y3(i);return`30${Y3(i+r+4)}02${s}${e}02${n}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return hm(this.toCompactHex())}toCompactHex(){return Pb(this.r)+Pb(this.s)}};function Mp(...t){if(!t.every(i=>i instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((i,n)=>i+n.length,0),r=new Uint8Array(e);for(let i=0,n=0;i<t.length;i++){let s=t[i];r.set(s,n),n+=s.length}return r}var MYe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Hb(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=MYe[t[r]];return e}var kYe=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Pb(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(ni<=t&&t<kYe))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function KO(t){let e=hm(Pb(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function Y3(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function dS(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function hm(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let i=r*2,n=t.slice(i,i+2),s=Number.parseInt(n,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}function Ip(t){return dS(Hb(t))}function Wb(t){return t instanceof Uint8Array?Uint8Array.from(t):hm(t)}function sce(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&M_(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function Et(t,e=Wn.P){let r=t%e;return r>=ni?r:e+r}function au(t,e){let{P:r}=Wn,i=t;for(;e-- >ni;)i*=i,i%=r;return i}function TYe(t){let{P:e}=Wn,r=BigInt(6),i=BigInt(11),n=BigInt(22),s=BigInt(23),o=BigInt(44),a=BigInt(88),f=t*t*t%e,c=f*f*t%e,u=au(c,s_)*c%e,l=au(u,s_)*c%e,y=au(l,Pp)*f%e,m=au(y,i)*y%e,g=au(m,n)*m%e,E=au(g,o)*g%e,x=au(E,a)*E%e,T=au(x,o)*g%e,M=au(T,s_)*c%e,I=au(M,s)*m%e,R=au(I,r)*f%e,O=au(R,Pp);if(O*O%e!==t)throw new Error("Cannot find square root");return O}function pv(t,e=Wn.P){if(t===ni||e<=ni)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Et(t,e),i=e,n=ni,s=nn,o=nn,a=ni;for(;r!==ni;){let f=i/r,c=i%r,u=n-o*f,l=s-a*f;i=r,r=c,n=o,s=a,o=u,a=l}if(i!==nn)throw new Error("invert: does not exist");return Et(n,e)}function PYe(t,e=Wn.P){let r=new Array(t.length),i=t.reduce((s,o,a)=>o===ni?s:(r[a]=s,Et(s*o,e)),nn),n=pv(i,e);return t.reduceRight((s,o,a)=>o===ni?s:(r[a]=Et(s*r[a],e),Et(s*o,e)),n),r}function DYe(t){let e=t.length*8-Kb*8,r=Ip(t);return e>0?r>>BigInt(e):r}function ZL(t,e=!1){let r=DYe(t);if(e)return r;let{n:i}=Wn;return r>=i?r-i:r}var Db,a_,IYe=class{constructor(t,e){if(this.hashLen=t,this.qByteLen=e,typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(t).fill(1),this.k=new Uint8Array(t).fill(0),this.counter=0}hmac(...t){return cl.hmacSha256(this.k,...t)}hmacSync(...t){return a_(this.k,...t)}checkSync(){if(typeof a_!="function")throw new Y0e("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),t.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),t.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){this.incr();let t=0,e=[];for(;t<this.qByteLen;){this.v=await this.hmac(this.v);let r=this.v.slice();e.push(r),t+=this.v.length}return Mp(...e)}generateSync(){this.checkSync(),this.incr();let t=0,e=[];for(;t<this.qByteLen;){this.v=this.hmacSync(this.v);let r=this.v.slice();e.push(r),t+=this.v.length}return Mp(...e)}};function M_(t){return ni<t&&t<Wn.n}function tO(t){return ni<t&&t<Wn.P}function RYe(t,e,r,i=!0){let{n}=Wn,s=ZL(t,!0);if(!M_(s))return;let o=pv(s,n),a=Xi.BASE.multiply(s),f=Et(a.x,n);if(f===ni)return;let c=Et(o*Et(e+r*f,n),n);if(c===ni)return;let u=new dm(f,c),l=(a.x===u.r?0:2)|Number(a.y&nn);return i&&u.hasHighS()&&(u=u.normalizeS(),l^=1),{sig:u,recovery:l}}function hS(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*Kb)throw new Error("Expected 32 bytes of private key");e=dS(t)}else if(t instanceof Uint8Array){if(t.length!==Kb)throw new Error("Expected 32 bytes of private key");e=Ip(t)}else throw new TypeError("Expected valid private key");if(!M_(e))throw new Error("Expected private key: 0 < key < n");return e}function BYe(t){return t instanceof Xi?(t.assertValidity(),t):Xi.fromHex(t)}function Z0e(t){if(t instanceof dm)return t.assertValidity(),t;try{return dm.fromDER(t)}catch{return dm.fromCompact(t)}}function l9(t,e=!1){return Xi.fromPrivateKey(t).toRawBytes(e)}function G0e(t){let e=t.length>rc?t.slice(0,rc):t;return Ip(e)}function CYe(t){let e=G0e(t),r=Et(e,Wn.n);return J0e(r<ni?e:r)}function J0e(t){return KO(t)}function OYe(t,e,r){if(t==null)throw new Error(`sign: expected valid message hash, not "${t}"`);let i=Wb(t),n=hS(e),s=[J0e(n),CYe(i)];if(r!=null){r===!0&&(r=cl.randomBytes(rc));let f=Wb(r);if(f.length!==rc)throw new Error(`sign: Expected ${rc} bytes of extra data`);s.push(f)}let o=Mp(...s),a=G0e(i);return{seed:o,m:a,d:n}}function jYe(t,e){let{sig:r,recovery:i}=t,{der:n,recovered:s}=Object.assign({canonical:!0,der:!0},e),o=n?r.toDERRawBytes():r.toCompactRawBytes();return s?[o,i]:o}async function LYe(t,e,r={}){let{seed:i,m:n,d:s}=OYe(t,e,r.extraEntropy),o=new IYe(xYe,Kb);await o.reseed(i);let a;for(;!(a=RYe(await o.generate(),n,s,r.canonical));)await o.reseed();return jYe(a,r)}var NYe={strict:!0};function qYe(t,e,r,i=NYe){let n;try{n=Z0e(t),e=Wb(e)}catch{return!1}let{r:s,s:o}=n;if(i.strict&&n.hasHighS())return!1;let a=ZL(e),f;try{f=BYe(r)}catch{return!1}let{n:c}=Wn,u=pv(o,c),l=Et(a*u,c),y=Et(s*u,c),m=Xi.BASE.multiplyAndAddUnsafe(f,l,y);return m?Et(m.x,c)===s:!1}Xi.BASE._setWindowSize(8);var _f={node:SYe,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},d9={},cl={bytesToHex:Hb,hexToBytes:hm,concatBytes:Mp,mod:Et,invert:pv,isValidPrivateKey(t){try{return hS(t),!0}catch{return!1}},_bigintTo32Bytes:KO,_normalizePrivateKey:hS,hashToPrivateKey:t=>{t=Wb(t);let e=Kb+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=Et(Ip(t),Wn.n-nn)+nn;return KO(r)},randomBytes:(t=32)=>{if(_f.web)return _f.web.getRandomValues(new Uint8Array(t));if(_f.node){let{randomBytes:e}=_f.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>cl.hashToPrivateKey(cl.randomBytes(Kb+8)),precompute(t=8,e=Xi.BASE){let r=e===Xi.BASE?e:new Xi(e.x,e.y);return r._setWindowSize(t),r.multiply(s_),r},sha256:async(...t)=>{if(_f.web){let e=await _f.web.subtle.digest("SHA-256",Mp(...t));return new Uint8Array(e)}else if(_f.node){let{createHash:e}=_f.node,r=e("sha256");return t.forEach(i=>r.update(i)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(_f.web){let r=await _f.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),i=Mp(...e),n=await _f.web.subtle.sign("HMAC",r,i);return new Uint8Array(n)}else if(_f.node){let{createHmac:r}=_f.node,i=r("sha256",t);return e.forEach(n=>i.update(n)),Uint8Array.from(i.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let r=d9[t];if(r===void 0){let i=await cl.sha256(Uint8Array.from(t,n=>n.charCodeAt(0)));r=Mp(i,i),d9[t]=r}return cl.sha256(r,...e)},taggedHashSync:(t,...e)=>{if(typeof Db!="function")throw new Y0e("sha256Sync is undefined, you need to set it");let r=d9[t];if(r===void 0){let i=Db(Uint8Array.from(t,n=>n.charCodeAt(0)));r=Mp(i,i),d9[t]=r}return Db(r,...e)},_JacobianPoint:Di};Object.defineProperties(cl,{sha256Sync:{configurable:!1,get(){return Db},set(t){Db||(Db=t)}},hmacSha256Sync:{configurable:!1,get(){return a_},set(t){a_||(a_=t)}}});var ace=vr(xqe(),1);ee();var Af=class extends Error{constructor(t,e){super(`${t}: ${e}`),this.code=t,this.name="DwnError"}},zYe=(t=>(t.AuthenticateJwsMissing="AuthenticateJwsMissing",t.AuthorizationMissing="AuthorizationMissing",t.AuthorizationUnknownAuthor="AuthorizationUnknownAuthor",t.HdKeyDerivationPathInvalid="HdKeyDerivationPathInvalid",t.MessageStoreDataCidMismatch="MessageStoreDataCidMismatch",t.MessageStoreDataNotFound="MessageStoreDataNotFound",t.MessageStoreDataSizeMismatch="MessageStoreDataSizeMismatch",t.RecordsDecryptNoMatchingKeyDerivationScheme="RecordsDecryptNoMatchingKeyDerivationScheme",t.RecordsDeriveLeafPrivateKeyUnSupportedCurve="RecordsDeriveLeafPrivateKeyUnSupportedCurve",t.RecordsDeriveLeafPublicKeyUnSupportedCurve="RecordsDeriveLeafPublicKeyUnSupportedCurve",t.RecordsInvalidAncestorKeyDerivationSegment="RecordsInvalidAncestorKeyDerivationSegment",t.RecordsWriteGetEntryIdUndefinedAuthor="RecordsWriteGetEntryIdUndefinedAuthor",t.RecordsWriteValidateIntegrityEncryptionCidMismatch="RecordsWriteValidateIntegrityEncryptionCidMismatch",t.Secp256k1KeyNotValid="Secp256k1KeyNotValid",t))(zYe||{}),rn=class{static validateKey(t){if(t.kty!=="EC"||t.crv!=="secp256k1")throw new Af("Secp256k1KeyNotValid","Invalid SECP256K1 JWK: `kty` MUST be `EC`. `crv` MUST be `secp256k1`")}static async publicKeyToJwk(t){let e;if(t.byteLength===33){let n=cl.bytesToHex(t);e=Xi.fromHex(n).toRawBytes(!1)}else e=t;let r=Ir.bytesToBase64Url(e.subarray(1,33)),i=Ir.bytesToBase64Url(e.subarray(33,65));return{alg:"ES256K",kty:"EC",crv:"secp256k1",x:r,y:i}}static async privateKeyToJwk(t){let e=await rn.getPublicKey(t),r=await rn.publicKeyToJwk(e);return r.d=Ir.bytesToBase64Url(t),r}static publicJwkToBytes(t){let e=Ir.base64UrlToBytes(t.x),r=Ir.base64UrlToBytes(t.y);return new Uint8Array([4,...e,...r])}static privateJwkToBytes(t){return Ir.base64UrlToBytes(t.d)}static async sign(t,e){rn.validateKey(e);let r=await tc.encode(t),i=rn.privateJwkToBytes(e);return await LYe(r,i,{der:!1})}static async verify(t,e,r){rn.validateKey(r);let i=rn.publicJwkToBytes(r),n=await tc.encode(t);return qYe(e,n,i)}static async generateKeyPair(){let t=cl.randomPrivateKey(),e=l9(t),r=Ir.bytesToBase64Url(t),i=await rn.publicKeyToJwk(e),n={...i,d:r};return{publicJwk:i,privateJwk:n}}static async generateKeyPairRaw(){let t=cl.randomPrivateKey();return{publicKey:l9(t),privateKey:t}}static async getPublicKey(t){return l9(t,!1)}static async derivePublicKey(t,e){rn.validateKeyDerivationPath(e);let r;t.length===32?r=l9(t):r=t;for(let i of e){let n=await tc.encode(Ir.stringToBytes(i));r=rn.deriveChildPublicKey(r,n)}return r}static async derivePrivateKey(t,e){rn.validateKeyDerivationPath(e);let r=t;for(let i of e){let n=await tc.encode(Ir.stringToBytes(i));r=rn.deriveChildPrivateKey(r,n)}return r}static deriveChildPublicKey(t,e){let r=Rt.Buffer.from(t),i=Rt.Buffer.from(e);return ace.default.publicKeyTweakAdd(r,i,!1)}static deriveChildPrivateKey(t,e){let r=Rt.Buffer.from(t),i=Rt.Buffer.from(e);return ace.default.privateKeyTweakAdd(r,i)}static validateKeyDerivationPath(t){if(t.includes(""))throw new Af("HdKeyDerivationPathInvalid",`Invalid key derivation path: ${t}`)}},pS={Ed25519:$O,secp256k1:{sign:rn.sign,verify:rn.verify,generateKeyPair:rn.generateKeyPair,publicKeyToJwk:rn.publicKeyToJwk}},yS=class{constructor(t){this.jws=t}static async create(t,e=[]){let r={payload:Ir.bytesToBase64Url(t),signatures:[]},i=new yS(r);for(let n of e)await i.addSignature(n);return i}async addSignature(t){let{privateJwk:e,protectedHeader:r}=t,i=pS[e.crv];if(!i)throw new Error(`unsupported crv. crv must be one of ${Object.keys(pS)}`);let n=JSON.stringify(r),s=Ir.stringToBase64Url(n),o=`${s}.${this.jws.payload}`,a=Ir.stringToBytes(o),f=await i.sign(a,e),c=Ir.bytesToBase64Url(f);this.jws.signatures.push({protected:s,signature:c})}getJws(){return this.jws}};ee();var FYe=vr(Bqe(),1),Mf=class{static getKid(t){let{kid:e}=Ir.base64UrlToObject(t.protected);return e}static getSignerDid(t){let e=Mf.getKid(t);return Mf.extractDid(e)}static async verifySignature(t,e,r){let i=pS[r.crv];if(!i)throw new Error(`unsupported crv. crv must be one of ${Object.keys(pS)}`);let n=Ir.stringToBytes(`${e.protected}.${t}`),s=Ir.base64UrlToBytes(e.signature);return await i.verify(n,s,r)}static decodePlainObjectPayload(t){let e;try{e=Ir.base64UrlToObject(t.payload)}catch{throw new Error("payload is not a JSON object")}if(!(0,FYe.default)(e))throw new Error("signed payload must be a plain object");return e}static extractDid(t){let[e]=t.split("#");return e}static createSignatureInputs(t){return t.map(e=>Mf.createSignatureInput(e))}static createSignatureInput(t){return{privateJwk:t.keyPair.privateJwk,protectedHeader:{alg:t.keyPair.privateJwk.alg,kid:t.keyId}}}};ee();function e_(t,e){return t>e?1:t<e?-1:0}ee();var X0e={};wi(X0e,{Definitions:()=>HYe,EventsGet:()=>KYe,GeneralJwk:()=>WYe,GeneralJws:()=>YYe,HooksWrite:()=>ZYe,JwkVerificationMethod:()=>GYe,MessagesGet:()=>JYe,PermissionsDefinitions:()=>XYe,PermissionsGrant:()=>QYe,PermissionsRequest:()=>eZe,ProtocolDefinition:()=>tZe,ProtocolRuleSet:()=>rZe,ProtocolsConfigure:()=>iZe,ProtocolsQuery:()=>nZe,PublicJwk:()=>sZe,RecordsDelete:()=>UYe,RecordsQuery:()=>$Ye,RecordsRead:()=>oZe,RecordsWrite:()=>VYe});ee();var UYe=$a,fce={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-delete.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","dateModified","recordId"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Delete"],type:"string"},dateModified:{type:"string"},recordId:{type:"string"}}}}},sm=new RegExp("^[A-Za-z0-9_-]+$","u");function fr(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let u=o;for(let l in t)if(!(l==="payload"||l==="signatures"))return fr.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"}],!1;if(u===o){if(t.payload!==void 0){let l=t.payload,y=o;if(o===o)if(typeof l=="string"){if(!sm.test(l))return fr.errors=[{instancePath:e+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return fr.errors=[{instancePath:e+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=y===o}else var c=!0;if(c)if(t.signatures!==void 0){let l=t.signatures,y=o;if(o===y)if(Array.isArray(l)){if(l.length<1)return fr.errors=[{instancePath:e+"/signatures",schemaPath:"#/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var a=!0;let g=l.length;for(let E=0;E<g;E++){let x=l[E],T=o;if(o===T)if(x&&typeof x=="object"&&!Array.isArray(x)){if(x.protected!==void 0){let I=x.protected,R=o;if(o===o)if(typeof I=="string"){if(!sm.test(I))return fr.errors=[{instancePath:e+"/signatures/"+E+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return fr.errors=[{instancePath:e+"/signatures/"+E+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=R===o}else var f=!0;if(f)if(x.signature!==void 0){let I=x.signature,R=o;if(o===o)if(typeof I=="string"){if(!sm.test(I))return fr.errors=[{instancePath:e+"/signatures/"+E+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return fr.errors=[{instancePath:e+"/signatures/"+E+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=R===o}else var f=!0}else return fr.errors=[{instancePath:e+"/signatures/"+E,schemaPath:"#/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=T===o;if(!a)break}}}else return fr.errors=[{instancePath:e+"/signatures",schemaPath:"#/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var c=y===o}else var c=!0}}else return fr.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return fr.errors=s,o===0}function $a(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let c;if(t.authorization===void 0&&(c="authorization")||t.descriptor===void 0&&(c="descriptor"))return $a.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:c},message:"must have required property '"+c+"'"}],!1;{let u=o;for(let l in t)if(!(l==="authorization"||l==="descriptor"))return $a.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"}],!1;if(u===o){if(t.authorization!==void 0){let l=o;fr(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?fr.errors:s.concat(fr.errors),o=s.length);var f=l===o}else var f=!0;if(f)if(t.descriptor!==void 0){let l=t.descriptor,y=o;if(o===y)if(l&&typeof l=="object"&&!Array.isArray(l)){let g;if(l.interface===void 0&&(g="interface")||l.method===void 0&&(g="method")||l.dateModified===void 0&&(g="dateModified")||l.recordId===void 0&&(g="recordId"))return $a.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:g},message:"must have required property '"+g+"'"}],!1;{let E=o;for(let x in l)if(!(x==="interface"||x==="method"||x==="dateModified"||x==="recordId"))return $a.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;if(E===o){if(l.interface!==void 0){let x=l.interface,T=o;if(typeof x!="string")return $a.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(x!=="Records")return $a.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:fce.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var a=T===o}else var a=!0;if(a){if(l.method!==void 0){let T=l.method,M=o;if(typeof T!="string")return $a.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(T!=="Delete")return $a.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:fce.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var a=M===o}else var a=!0;if(a){if(l.dateModified!==void 0){let M=o;if(typeof l.dateModified!="string")return $a.errors=[{instancePath:e+"/descriptor/dateModified",schemaPath:"#/properties/descriptor/properties/dateModified/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=M===o}else var a=!0;if(a)if(l.recordId!==void 0){let M=o;if(typeof l.recordId!="string")return $a.errors=[{instancePath:e+"/descriptor/recordId",schemaPath:"#/properties/descriptor/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=M===o}else var a=!0}}}}}else return $a.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=y===o}else var f=!0}}}else return $a.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return $a.errors=s,o===0}var $Ye=gi,h9={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-query.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","dateCreated","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Query"],type:"string"},dateCreated:{type:"string"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},attester:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},contextId:{type:"string"},schema:{type:"string"},recordId:{type:"string"},parentId:{type:"string"},dataFormat:{type:"string"},dateCreated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{type:"string"},to:{type:"string"}}}}},dateSort:{enum:["createdAscending","createdDescending","publishedAscending","publishedDescending"],type:"string"}}}}},ex=Object.prototype.hasOwnProperty,zd=new RegExp("^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$","u");function gi(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let l;if(t.authorization===void 0&&(l="authorization")||t.descriptor===void 0&&(l="descriptor"))return gi.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:l},message:"must have required property '"+l+"'"}],!1;{let y=o;for(let m in t)if(!(m==="authorization"||m==="descriptor"))return gi.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(y===o){if(t.authorization!==void 0){let m=o;fr(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?fr.errors:s.concat(fr.errors),o=s.length);var u=m===o}else var u=!0;if(u)if(t.descriptor!==void 0){let m=t.descriptor,g=o;if(o===g)if(m&&typeof m=="object"&&!Array.isArray(m)){let x;if(m.interface===void 0&&(x="interface")||m.method===void 0&&(x="method")||m.dateCreated===void 0&&(x="dateCreated")||m.filter===void 0&&(x="filter"))return gi.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:x},message:"must have required property '"+x+"'"}],!1;{let T=o;for(let M in m)if(!(M==="interface"||M==="method"||M==="dateCreated"||M==="filter"||M==="dateSort"))return gi.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:M},message:"must NOT have additional properties"}],!1;if(T===o){if(m.interface!==void 0){let M=m.interface,I=o;if(typeof M!="string")return gi.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(M!=="Records")return gi.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:h9.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var a=I===o}else var a=!0;if(a){if(m.method!==void 0){let I=m.method,R=o;if(typeof I!="string")return gi.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(I!=="Query")return gi.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:h9.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var a=R===o}else var a=!0;if(a){if(m.dateCreated!==void 0){let R=o;if(typeof m.dateCreated!="string")return gi.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"#/properties/descriptor/properties/dateCreated/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=R===o}else var a=!0;if(a){if(m.filter!==void 0){let O=m.filter,B=o;if(o===B)if(O&&typeof O=="object"&&!Array.isArray(O)){if(Object.keys(O).length<1)return gi.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let U=o;for(let W in O)if(!ex.call(h9.properties.descriptor.properties.filter.properties,W))return gi.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:W},message:"must NOT have additional properties"}],!1;if(U===o){if(O.protocol!==void 0){let W=o;if(typeof O.protocol!="string")return gi.errors=[{instancePath:e+"/descriptor/filter/protocol",schemaPath:"#/properties/descriptor/properties/filter/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=W===o}else var f=!0;if(f){if(O.attester!==void 0){let L=O.attester,j=o;if(o===o)if(typeof L=="string"){if(!zd.test(L))return gi.errors=[{instancePath:e+"/descriptor/filter/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return gi.errors=[{instancePath:e+"/descriptor/filter/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=j===o}else var f=!0;if(f){if(O.recipient!==void 0){let j=O.recipient,k=o;if(o===o)if(typeof j=="string"){if(!zd.test(j))return gi.errors=[{instancePath:e+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return gi.errors=[{instancePath:e+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=k===o}else var f=!0;if(f){if(O.contextId!==void 0){let k=o;if(typeof O.contextId!="string")return gi.errors=[{instancePath:e+"/descriptor/filter/contextId",schemaPath:"#/properties/descriptor/properties/filter/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=k===o}else var f=!0;if(f){if(O.schema!==void 0){let P=o;if(typeof O.schema!="string")return gi.errors=[{instancePath:e+"/descriptor/filter/schema",schemaPath:"#/properties/descriptor/properties/filter/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=P===o}else var f=!0;if(f){if(O.recordId!==void 0){let p=o;if(typeof O.recordId!="string")return gi.errors=[{instancePath:e+"/descriptor/filter/recordId",schemaPath:"#/properties/descriptor/properties/filter/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=p===o}else var f=!0;if(f){if(O.parentId!==void 0){let d=o;if(typeof O.parentId!="string")return gi.errors=[{instancePath:e+"/descriptor/filter/parentId",schemaPath:"#/properties/descriptor/properties/filter/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=d===o}else var f=!0;if(f){if(O.dataFormat!==void 0){let h=o;if(typeof O.dataFormat!="string")return gi.errors=[{instancePath:e+"/descriptor/filter/dataFormat",schemaPath:"#/properties/descriptor/properties/filter/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=h===o}else var f=!0;if(f)if(O.dateCreated!==void 0){let h=O.dateCreated,b=o;if(o===b)if(h&&typeof h=="object"&&!Array.isArray(h)){if(Object.keys(h).length<1)return gi.errors=[{instancePath:e+"/descriptor/filter/dateCreated",schemaPath:"#/properties/descriptor/properties/filter/properties/dateCreated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let w=o;for(let _ in h)if(!(_==="from"||_==="to"))return gi.errors=[{instancePath:e+"/descriptor/filter/dateCreated",schemaPath:"#/properties/descriptor/properties/filter/properties/dateCreated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_},message:"must NOT have additional properties"}],!1;if(w===o){if(h.from!==void 0){let _=o;if(typeof h.from!="string")return gi.errors=[{instancePath:e+"/descriptor/filter/dateCreated/from",schemaPath:"#/properties/descriptor/properties/filter/properties/dateCreated/properties/from/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=_===o}else var c=!0;if(c)if(h.to!==void 0){let _=o;if(typeof h.to!="string")return gi.errors=[{instancePath:e+"/descriptor/filter/dateCreated/to",schemaPath:"#/properties/descriptor/properties/filter/properties/dateCreated/properties/to/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=_===o}else var c=!0}}}else return gi.errors=[{instancePath:e+"/descriptor/filter/dateCreated",schemaPath:"#/properties/descriptor/properties/filter/properties/dateCreated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=b===o}else var f=!0}}}}}}}}}}else return gi.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=B===o}else var a=!0;if(a)if(m.dateSort!==void 0){let O=m.dateSort,B=o;if(typeof O!="string")return gi.errors=[{instancePath:e+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(O==="createdAscending"||O==="createdDescending"||O==="publishedAscending"||O==="publishedDescending"))return gi.errors=[{instancePath:e+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/enum",keyword:"enum",params:{allowedValues:h9.properties.descriptor.properties.dateSort.enum},message:"must be equal to one of the allowed values"}],!1;var a=B===o}else var a=!0}}}}}}else return gi.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var u=g===o}else var u=!0}}}else return gi.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return gi.errors=s,o===0}var VYe=Yt,vp={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-write.json",type:"object",additionalProperties:!1,required:["authorization","descriptor","recordId"],properties:{recordId:{type:"string"},contextId:{type:"string"},attestation:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},encryption:{type:"object",properties:{algorithm:{type:"string",enum:["A256CTR"]},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"},keyEncryption:{type:"array",minItems:1,items:{type:"object",properties:{derivationScheme:{type:"string",enum:["protocol-context"]},algorithm:{type:"string",enum:["ECIES-ES256K"]},encryptedKey:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"},ephemeralPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},messageAuthenticationCode:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"}},additionalProperties:!1,required:["derivationScheme","algorithm","encryptedKey","initializationVector","ephemeralPublicKey","messageAuthenticationCode"]}}},additionalProperties:!1,required:["algorithm","initializationVector","keyEncryption"]},descriptor:{type:"object",properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Write"],type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},protocol:{type:"string"},schema:{type:"string"},parentId:{type:"string"},dataCid:{type:"string"},dataSize:{type:"number"},dateCreated:{type:"string"},dateModified:{type:"string"},published:{type:"boolean"},datePublished:{type:"string"},dataFormat:{type:"string"}},additionalProperties:!1,required:["interface","method","dataCid","dataSize","dateCreated","dateModified","dataFormat"],allOf:[{$comment:"rule defining `published` and `datePublished` relationship",anyOf:[{properties:{published:{type:"boolean",enum:[!0]}},required:["published","datePublished"]},{properties:{published:{type:"boolean",enum:[!1]}},not:{required:["datePublished"]}},{allOf:[{not:{required:["published"]}},{not:{required:["datePublished"]}}]}]}]}},$comment:"rule defining `protocol` and `contextId` relationship",anyOf:[{properties:{descriptor:{type:"object",required:["protocol"]}},required:["contextId"]},{allOf:[{not:{required:["contextId"]}},{properties:{descriptor:{type:"object",not:{required:["protocol"]}}}}]}]},Q0e={$id:"https://identity.foundation/dwn/json-schemas/general-jwk.json",$schema:"http://json-schema.org/draft-07/schema#",type:"object",required:["kty"],properties:{alg:{type:"string"},kid:{type:"string"},kty:{enum:["EC","RSA","oct","OKP"]},crv:{type:"string"},use:{type:"string"},key_ops:{type:"string"},x5u:{type:"string"},x5c:{type:"string"},x5t:{type:"string"},"x5t#S256":{type:"string"}},oneOf:[{properties:{kty:{const:"EC"},crv:{type:"string"},x:{type:"string"},y:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"OKP"},crv:{type:"string"},x:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"RSA"},n:{type:"string"},e:{type:"string"},d:{type:"string"},p:{type:"string"},q:{type:"string"},dp:{type:"string"},dq:{type:"string"},qi:{type:"string"},oth:{type:"object"}},required:["n","e"]},{properties:{kty:{const:"oct"},k:{type:"string"}},required:["k"]}]};function Hn(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0,a=o,f=o,c=!1,u=null,l=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let L;if(t.crv===void 0&&(L="crv")||t.x===void 0&&(L="x")){let j={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/required",keyword:"required",params:{missingProperty:L},message:"must have required property '"+L+"'"};s===null?s=[j]:s.push(j),o++}else{if(t.kty!==void 0){let j=o;if(t.kty!=="EC"){let P={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};s===null?s=[P]:s.push(P),o++}var y=j===o}else var y=!0;if(y){if(t.crv!==void 0){let k=o;if(typeof t.crv!="string"){let p={instancePath:e+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[p]:s.push(p),o++}var y=k===o}else var y=!0;if(y){if(t.x!==void 0){let P=o;if(typeof t.x!="string"){let d={instancePath:e+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[d]:s.push(d),o++}var y=P===o}else var y=!0;if(y){if(t.y!==void 0){let p=o;if(typeof t.y!="string"){let h={instancePath:e+"/y",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[h]:s.push(h),o++}var y=p===o}else var y=!0;if(y)if(t.d!==void 0){let p=o;if(typeof t.d!="string"){let h={instancePath:e+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[h]:s.push(h),o++}var y=p===o}else var y=!0}}}}}var E=l===o;E&&(c=!0,u=0);let m=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let L;if(t.crv===void 0&&(L="crv")||t.x===void 0&&(L="x")){let j={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/required",keyword:"required",params:{missingProperty:L},message:"must have required property '"+L+"'"};s===null?s=[j]:s.push(j),o++}else{if(t.kty!==void 0){let j=o;if(t.kty!=="OKP"){let P={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};s===null?s=[P]:s.push(P),o++}var g=j===o}else var g=!0;if(g){if(t.crv!==void 0){let k=o;if(typeof t.crv!="string"){let p={instancePath:e+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[p]:s.push(p),o++}var g=k===o}else var g=!0;if(g){if(t.x!==void 0){let P=o;if(typeof t.x!="string"){let d={instancePath:e+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[d]:s.push(d),o++}var g=P===o}else var g=!0;if(g)if(t.d!==void 0){let P=o;if(typeof t.d!="string"){let d={instancePath:e+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[d]:s.push(d),o++}var g=P===o}else var g=!0}}}}var E=m===o;if(E&&c)c=!1,u=[u,1];else{E&&(c=!0,u=1);let L=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let k;if(t.n===void 0&&(k="n")||t.e===void 0&&(k="e")){let P={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/required",keyword:"required",params:{missingProperty:k},message:"must have required property '"+k+"'"};s===null?s=[P]:s.push(P),o++}else{if(t.kty!==void 0){let P=o;if(t.kty!=="RSA"){let d={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};s===null?s=[d]:s.push(d),o++}var x=P===o}else var x=!0;if(x){if(t.n!==void 0){let p=o;if(typeof t.n!="string"){let h={instancePath:e+"/n",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[h]:s.push(h),o++}var x=p===o}else var x=!0;if(x){if(t.e!==void 0){let d=o;if(typeof t.e!="string"){let b={instancePath:e+"/e",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[b]:s.push(b),o++}var x=d===o}else var x=!0;if(x){if(t.d!==void 0){let h=o;if(typeof t.d!="string"){let v={instancePath:e+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[v]:s.push(v),o++}var x=h===o}else var x=!0;if(x){if(t.p!==void 0){let b=o;if(typeof t.p!="string"){let w={instancePath:e+"/p",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[w]:s.push(w),o++}var x=b===o}else var x=!0;if(x){if(t.q!==void 0){let v=o;if(typeof t.q!="string"){let _={instancePath:e+"/q",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[_]:s.push(_),o++}var x=v===o}else var x=!0;if(x){if(t.dp!==void 0){let w=o;if(typeof t.dp!="string"){let D={instancePath:e+"/dp",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[D]:s.push(D),o++}var x=w===o}else var x=!0;if(x){if(t.dq!==void 0){let _=o;if(typeof t.dq!="string"){let S={instancePath:e+"/dq",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[S]:s.push(S),o++}var x=_===o}else var x=!0;if(x){if(t.qi!==void 0){let D=o;if(typeof t.qi!="string"){let A={instancePath:e+"/qi",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[A]:s.push(A),o++}var x=D===o}else var x=!0;if(x)if(t.oth!==void 0){let D=t.oth,S=o;if(!(D&&typeof D=="object"&&!Array.isArray(D))){let N={instancePath:e+"/oth",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[N]:s.push(N),o++}var x=S===o}else var x=!0}}}}}}}}}}var E=L===o;if(E&&c)c=!1,u=[u,2];else{E&&(c=!0,u=2);let k=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let p;if(t.k===void 0&&(p="k")){let d={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/required",keyword:"required",params:{missingProperty:p},message:"must have required property '"+p+"'"};s===null?s=[d]:s.push(d),o++}else{if(t.kty!==void 0){let d=o;if(t.kty!=="oct"){let b={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};s===null?s=[b]:s.push(b),o++}var T=d===o}else var T=!0;if(T)if(t.k!==void 0){let d=o;if(typeof t.k!="string"){let b={instancePath:e+"/k",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[b]:s.push(b),o++}var T=d===o}else var T=!0}}var E=k===o;E&&c?(c=!1,u=[u,3]):E&&(c=!0,u=3)}}if(c)o=f,s!==null&&(f?s.length=f:s=null);else{let L={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf",keyword:"oneOf",params:{passingSchemas:u},message:"must match exactly one schema in oneOf"};return s===null?s=[L]:s.push(L),o++,Hn.errors=s,!1}if(o===a)if(t&&typeof t=="object"&&!Array.isArray(t)){let L;if(t.kty===void 0&&(L="kty"))return Hn.errors=[{instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/required",keyword:"required",params:{missingProperty:L},message:"must have required property '"+L+"'"}],!1;if(t.alg!==void 0){let j=o;if(typeof t.alg!="string")return Hn.errors=[{instancePath:e+"/alg",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var M=j===o}else var M=!0;if(M){if(t.kid!==void 0){let k=o;if(typeof t.kid!="string")return Hn.errors=[{instancePath:e+"/kid",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var M=k===o}else var M=!0;if(M){if(t.kty!==void 0){let P=t.kty,p=o;if(!(P==="EC"||P==="RSA"||P==="oct"||P==="OKP"))return Hn.errors=[{instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kty/enum",keyword:"enum",params:{allowedValues:Q0e.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;var M=p===o}else var M=!0;if(M){if(t.crv!==void 0){let p=o;if(typeof t.crv!="string")return Hn.errors=[{instancePath:e+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var M=p===o}else var M=!0;if(M){if(t.use!==void 0){let d=o;if(typeof t.use!="string")return Hn.errors=[{instancePath:e+"/use",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var M=d===o}else var M=!0;if(M){if(t.key_ops!==void 0){let h=o;if(typeof t.key_ops!="string")return Hn.errors=[{instancePath:e+"/key_ops",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var M=h===o}else var M=!0;if(M){if(t.x5u!==void 0){let b=o;if(typeof t.x5u!="string")return Hn.errors=[{instancePath:e+"/x5u",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var M=b===o}else var M=!0;if(M){if(t.x5c!==void 0){let v=o;if(typeof t.x5c!="string")return Hn.errors=[{instancePath:e+"/x5c",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var M=v===o}else var M=!0;if(M){if(t.x5t!==void 0){let w=o;if(typeof t.x5t!="string")return Hn.errors=[{instancePath:e+"/x5t",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var M=w===o}else var M=!0;if(M)if(t["x5t#S256"]!==void 0){let w=o;if(typeof t["x5t#S256"]!="string")return Hn.errors=[{instancePath:e+"/x5t#S256",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var M=w===o}else var M=!0}}}}}}}}}else return Hn.errors=[{instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var I=a===o;if(I){let L=o,j=o,k=o,P=!1,p=o,d=o,h=!1,b=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let v;if(t.d===void 0&&(v="d")){let w={};s===null?s=[w]:s.push(w),o++}}var R=b===o;if(h=h||R,h)o=d,s!==null&&(d?s.length=d:s=null);else{let v={};s===null?s=[v]:s.push(v),o++}if(o===p)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.kty!==void 0&&t.kty!=="EC"){let v={};s===null?s=[v]:s.push(v),o++}}else{let v={};s===null?s=[v]:s.push(v),o++}var O=p===o;if(P=P||O,!P){let v=o,w=o,_=!1,D=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let A;if(t.d===void 0&&(A="d")){let N={};s===null?s=[N]:s.push(N),o++}}var B=D===o;if(_=_||B,_)o=w,s!==null&&(w?s.length=w:s=null);else{let A={};s===null?s=[A]:s.push(A),o++}if(o===v)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.kty!==void 0&&t.kty!=="OKP"){let A={};s===null?s=[A]:s.push(A),o++}}else{let A={};s===null?s=[A]:s.push(A),o++}var O=v===o;if(P=P||O,!P){let A=o,N=o,G=!1,Q=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let H;if(t.d===void 0&&(H="d")){let Z={};s===null?s=[Z]:s.push(Z),o++}}var C=Q===o;if(G=G||C,!G){let H=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let ie;if(t.p===void 0&&(ie="p")){let fe={};s===null?s=[fe]:s.push(fe),o++}}var C=H===o;if(G=G||C,!G){let ie=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let ue;if(t.q===void 0&&(ue="q")){let ye={};s===null?s=[ye]:s.push(ye),o++}}var C=ie===o;if(G=G||C,!G){let ue=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let $;if(t.dp===void 0&&($="dp")){let q={};s===null?s=[q]:s.push(q),o++}}var C=ue===o;if(G=G||C,!G){let $=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let z;if(t.dq===void 0&&(z="dq")){let Y={};s===null?s=[Y]:s.push(Y),o++}}var C=$===o;if(G=G||C,!G){let z=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let X;if(t.qi===void 0&&(X="qi")){let re={};s===null?s=[re]:s.push(re),o++}}var C=z===o;if(G=G||C,!G){let X=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let le;if(t.oth===void 0&&(le="oth")){let pe={};s===null?s=[pe]:s.push(pe),o++}}var C=X===o;G=G||C}}}}}}if(G)o=N,s!==null&&(N?s.length=N:s=null);else{let H={};s===null?s=[H]:s.push(H),o++}if(o===A)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.kty!==void 0){let H=o;if(t.kty!=="RSA"){let ie={};s===null?s=[ie]:s.push(ie),o++}var U=H===o}else var U=!0;if(U)if(t.oth!==void 0){let H=t.oth,Z=o;if(!(H&&typeof H=="object"&&!Array.isArray(H))){let fe={};s===null?s=[fe]:s.push(fe),o++}var U=Z===o}else var U=!0}else{let H={};s===null?s=[H]:s.push(H),o++}var O=A===o;P=P||O}}if(P)o=k,s!==null&&(k?s.length=k:s=null);else{let v={};s===null?s=[v]:s.push(v),o++}var W=j===o;if(W)return Hn.errors=[{instancePath:e,schemaPath:"#/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;o=L,s!==null&&(L?s.length=L:s=null)}return Hn.errors=s,o===0}function Yt(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0,a=o,f=!1,c=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let U;if(t.contextId===void 0&&(U="contextId")){let W={instancePath:e,schemaPath:"#/anyOf/0/required",keyword:"required",params:{missingProperty:U},message:"must have required property '"+U+"'"};s===null?s=[W]:s.push(W),o++}else if(t.descriptor!==void 0){let W=t.descriptor;if(o===o)if(W&&typeof W=="object"&&!Array.isArray(W)){let L;if(W.protocol===void 0&&(L="protocol")){let j={instancePath:e+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/required",keyword:"required",params:{missingProperty:L},message:"must have required property '"+L+"'"};s===null?s=[j]:s.push(j),o++}}else{let L={instancePath:e+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[L]:s.push(L),o++}}}var u=c===o;if(f=f||u,!f){let U=o,W=o,L=o,j=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let P;if(t.contextId===void 0&&(P="contextId")){let p={};s===null?s=[p]:s.push(p),o++}}var l=j===o;if(l){let P={instancePath:e,schemaPath:"#/anyOf/1/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};s===null?s=[P]:s.push(P),o++}else o=L,s!==null&&(L?s.length=L:s=null);var y=W===o;if(y){let P=o;if(t&&typeof t=="object"&&!Array.isArray(t)&&t.descriptor!==void 0){let d=t.descriptor;if(!(d&&typeof d=="object"&&!Array.isArray(d))){let v={instancePath:e+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[v]:s.push(v),o++}let h=o,b=o;if(d&&typeof d=="object"&&!Array.isArray(d)){let v;if(d.protocol===void 0&&(v="protocol")){let w={};s===null?s=[w]:s.push(w),o++}}var m=b===o;if(m){let v={instancePath:e+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};s===null?s=[v]:s.push(v),o++}else o=h,s!==null&&(h?s.length=h:s=null)}var y=P===o}var u=U===o;f=f||u}if(f)o=a,s!==null&&(a?s.length=a:s=null);else{let U={instancePath:e,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return s===null?s=[U]:s.push(U),o++,Yt.errors=s,!1}if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let U;if(t.authorization===void 0&&(U="authorization")||t.descriptor===void 0&&(U="descriptor")||t.recordId===void 0&&(U="recordId"))return Yt.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:U},message:"must have required property '"+U+"'"}],!1;{let W=o;for(let L in t)if(!(L==="recordId"||L==="contextId"||L==="attestation"||L==="authorization"||L==="encryption"||L==="descriptor"))return Yt.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:L},message:"must NOT have additional properties"}],!1;if(W===o){if(t.recordId!==void 0){let L=o;if(typeof t.recordId!="string")return Yt.errors=[{instancePath:e+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var g=L===o}else var g=!0;if(g){if(t.contextId!==void 0){let j=o;if(typeof t.contextId!="string")return Yt.errors=[{instancePath:e+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var g=j===o}else var g=!0;if(g){if(t.attestation!==void 0){let k=o;fr(t.attestation,{instancePath:e+"/attestation",parentData:t,parentDataProperty:"attestation",rootData:n})||(s=s===null?fr.errors:s.concat(fr.errors),o=s.length);var g=k===o}else var g=!0;if(g){if(t.authorization!==void 0){let P=o;fr(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?fr.errors:s.concat(fr.errors),o=s.length);var g=P===o}else var g=!0;if(g){if(t.encryption!==void 0){let p=t.encryption,d=o;if(o===d)if(p&&typeof p=="object"&&!Array.isArray(p)){let b;if(p.algorithm===void 0&&(b="algorithm")||p.initializationVector===void 0&&(b="initializationVector")||p.keyEncryption===void 0&&(b="keyEncryption"))return Yt.errors=[{instancePath:e+"/encryption",schemaPath:"#/properties/encryption/required",keyword:"required",params:{missingProperty:b},message:"must have required property '"+b+"'"}],!1;{let v=o;for(let w in p)if(!(w==="algorithm"||w==="initializationVector"||w==="keyEncryption"))return Yt.errors=[{instancePath:e+"/encryption",schemaPath:"#/properties/encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:w},message:"must NOT have additional properties"}],!1;if(v===o){if(p.algorithm!==void 0){let w=p.algorithm,_=o;if(typeof w!="string")return Yt.errors=[{instancePath:e+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(w!=="A256CTR")return Yt.errors=[{instancePath:e+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/enum",keyword:"enum",params:{allowedValues:vp.properties.encryption.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;var E=_===o}else var E=!0;if(E){if(p.initializationVector!==void 0){let _=p.initializationVector,D=o;if(o===o)if(typeof _=="string"){if(!sm.test(_))return Yt.errors=[{instancePath:e+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return Yt.errors=[{instancePath:e+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var E=D===o}else var E=!0;if(E)if(p.keyEncryption!==void 0){let _=p.keyEncryption,D=o;if(o===D)if(Array.isArray(_)){if(_.length<1)return Yt.errors=[{instancePath:e+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var x=!0;let A=_.length;for(let N=0;N<A;N++){let G=_[N],Q=o;if(o===Q)if(G&&typeof G=="object"&&!Array.isArray(G)){let H;if(G.derivationScheme===void 0&&(H="derivationScheme")||G.algorithm===void 0&&(H="algorithm")||G.encryptedKey===void 0&&(H="encryptedKey")||G.initializationVector===void 0&&(H="initializationVector")||G.ephemeralPublicKey===void 0&&(H="ephemeralPublicKey")||G.messageAuthenticationCode===void 0&&(H="messageAuthenticationCode"))return Yt.errors=[{instancePath:e+"/encryption/keyEncryption/"+N,schemaPath:"#/properties/encryption/properties/keyEncryption/items/required",keyword:"required",params:{missingProperty:H},message:"must have required property '"+H+"'"}],!1;{let Z=o;for(let ie in G)if(!(ie==="derivationScheme"||ie==="algorithm"||ie==="encryptedKey"||ie==="initializationVector"||ie==="ephemeralPublicKey"||ie==="messageAuthenticationCode"))return Yt.errors=[{instancePath:e+"/encryption/keyEncryption/"+N,schemaPath:"#/properties/encryption/properties/keyEncryption/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ie},message:"must NOT have additional properties"}],!1;if(Z===o){if(G.derivationScheme!==void 0){let ie=G.derivationScheme,fe=o;if(typeof ie!="string")return Yt.errors=[{instancePath:e+"/encryption/keyEncryption/"+N+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(ie!=="protocol-context")return Yt.errors=[{instancePath:e+"/encryption/keyEncryption/"+N+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/enum",keyword:"enum",params:{allowedValues:vp.properties.encryption.properties.keyEncryption.items.properties.derivationScheme.enum},message:"must be equal to one of the allowed values"}],!1;var T=fe===o}else var T=!0;if(T){if(G.algorithm!==void 0){let fe=G.algorithm,ue=o;if(typeof fe!="string")return Yt.errors=[{instancePath:e+"/encryption/keyEncryption/"+N+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(fe!=="ECIES-ES256K")return Yt.errors=[{instancePath:e+"/encryption/keyEncryption/"+N+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/enum",keyword:"enum",params:{allowedValues:vp.properties.encryption.properties.keyEncryption.items.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;var T=ue===o}else var T=!0;if(T){if(G.encryptedKey!==void 0){let ue=G.encryptedKey,ye=o;if(o===o)if(typeof ue=="string"){if(!sm.test(ue))return Yt.errors=[{instancePath:e+"/encryption/keyEncryption/"+N+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return Yt.errors=[{instancePath:e+"/encryption/keyEncryption/"+N+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var T=ye===o}else var T=!0;if(T){if(G.initializationVector!==void 0){let ye=G.initializationVector,$=o;if(o===o)if(typeof ye=="string"){if(!sm.test(ye))return Yt.errors=[{instancePath:e+"/encryption/keyEncryption/"+N+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return Yt.errors=[{instancePath:e+"/encryption/keyEncryption/"+N+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var T=$===o}else var T=!0;if(T){if(G.ephemeralPublicKey!==void 0){let $=o;Hn(G.ephemeralPublicKey,{instancePath:e+"/encryption/keyEncryption/"+N+"/ephemeralPublicKey",parentData:G,parentDataProperty:"ephemeralPublicKey",rootData:n})||(s=s===null?Hn.errors:s.concat(Hn.errors),o=s.length);var T=$===o}else var T=!0;if(T)if(G.messageAuthenticationCode!==void 0){let $=G.messageAuthenticationCode,q=o;if(o===o)if(typeof $=="string"){if(!sm.test($))return Yt.errors=[{instancePath:e+"/encryption/keyEncryption/"+N+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return Yt.errors=[{instancePath:e+"/encryption/keyEncryption/"+N+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var T=q===o}else var T=!0}}}}}}}else return Yt.errors=[{instancePath:e+"/encryption/keyEncryption/"+N,schemaPath:"#/properties/encryption/properties/keyEncryption/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var x=Q===o;if(!x)break}}}else return Yt.errors=[{instancePath:e+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var E=D===o}else var E=!0}}}}else return Yt.errors=[{instancePath:e+"/encryption",schemaPath:"#/properties/encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var g=d===o}else var g=!0;if(g)if(t.descriptor!==void 0){let p=t.descriptor,d=o,h=o,b=!1,v=o;if(p&&typeof p=="object"&&!Array.isArray(p)){let _;if(p.published===void 0&&(_="published")||p.datePublished===void 0&&(_="datePublished")){let D={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/required",keyword:"required",params:{missingProperty:_},message:"must have required property '"+_+"'"};s===null?s=[D]:s.push(D),o++}else if(p.published!==void 0){let D=p.published;if(typeof D!="boolean"){let S={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};s===null?s=[S]:s.push(S),o++}if(D!==!0){let S={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:vp.properties.descriptor.allOf[0].anyOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};s===null?s=[S]:s.push(S),o++}}}var M=v===o;if(b=b||M,!b){let _=o,D=o,S=o;if(p&&typeof p=="object"&&!Array.isArray(p)){let N;if(p.datePublished===void 0&&(N="datePublished")){let G={};s===null?s=[G]:s.push(G),o++}}var I=S===o;if(I){let N={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};s===null?s=[N]:s.push(N),o++}else o=D,s!==null&&(D?s.length=D:s=null);if(o===_&&p&&typeof p=="object"&&!Array.isArray(p)&&p.published!==void 0){let N=p.published;if(typeof N!="boolean"){let G={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};s===null?s=[G]:s.push(G),o++}if(N!==!1){let G={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/enum",keyword:"enum",params:{allowedValues:vp.properties.descriptor.allOf[0].anyOf[1].properties.published.enum},message:"must be equal to one of the allowed values"};s===null?s=[G]:s.push(G),o++}}var M=_===o;if(b=b||M,!b){let N=o,G=o,Q=o,ne=o;if(p&&typeof p=="object"&&!Array.isArray(p)){let Z;if(p.published===void 0&&(Z="published")){let ie={};s===null?s=[ie]:s.push(ie),o++}}var R=ne===o;if(R){let Z={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};s===null?s=[Z]:s.push(Z),o++}else o=Q,s!==null&&(Q?s.length=Q:s=null);var O=G===o;if(O){let Z=o,ie=o,fe=o;if(p&&typeof p=="object"&&!Array.isArray(p)){let ye;if(p.datePublished===void 0&&(ye="datePublished")){let $={};s===null?s=[$]:s.push($),o++}}var B=fe===o;if(B){let ye={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};s===null?s=[ye]:s.push(ye),o++}else o=ie,s!==null&&(ie?s.length=ie:s=null);var O=Z===o}var M=N===o;b=b||M}}if(b)o=h,s!==null&&(h?s.length=h:s=null);else{let _={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return s===null?s=[_]:s.push(_),o++,Yt.errors=s,!1}if(o===d)if(p&&typeof p=="object"&&!Array.isArray(p)){let _;if(p.interface===void 0&&(_="interface")||p.method===void 0&&(_="method")||p.dataCid===void 0&&(_="dataCid")||p.dataSize===void 0&&(_="dataSize")||p.dateCreated===void 0&&(_="dateCreated")||p.dateModified===void 0&&(_="dateModified")||p.dataFormat===void 0&&(_="dataFormat"))return Yt.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:_},message:"must have required property '"+_+"'"}],!1;{let D=o;for(let S in p)if(!ex.call(vp.properties.descriptor.properties,S))return Yt.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:S},message:"must NOT have additional properties"}],!1;if(D===o){if(p.interface!==void 0){let S=p.interface,A=o;if(typeof S!="string")return Yt.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(S!=="Records")return Yt.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:vp.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var C=A===o}else var C=!0;if(C){if(p.method!==void 0){let A=p.method,N=o;if(typeof A!="string")return Yt.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(A!=="Write")return Yt.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:vp.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var C=N===o}else var C=!0;if(C){if(p.recipient!==void 0){let N=p.recipient,G=o;if(o===o)if(typeof N=="string"){if(!zd.test(N))return Yt.errors=[{instancePath:e+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Yt.errors=[{instancePath:e+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=G===o}else var C=!0;if(C){if(p.protocol!==void 0){let G=o;if(typeof p.protocol!="string")return Yt.errors=[{instancePath:e+"/descriptor/protocol",schemaPath:"#/properties/descriptor/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=G===o}else var C=!0;if(C){if(p.schema!==void 0){let Q=o;if(typeof p.schema!="string")return Yt.errors=[{instancePath:e+"/descriptor/schema",schemaPath:"#/properties/descriptor/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=Q===o}else var C=!0;if(C){if(p.parentId!==void 0){let ne=o;if(typeof p.parentId!="string")return Yt.errors=[{instancePath:e+"/descriptor/parentId",schemaPath:"#/properties/descriptor/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=ne===o}else var C=!0;if(C){if(p.dataCid!==void 0){let H=o;if(typeof p.dataCid!="string")return Yt.errors=[{instancePath:e+"/descriptor/dataCid",schemaPath:"#/properties/descriptor/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=H===o}else var C=!0;if(C){if(p.dataSize!==void 0){let Z=p.dataSize,ie=o;if(!(typeof Z=="number"&&isFinite(Z)))return Yt.errors=[{instancePath:e+"/descriptor/dataSize",schemaPath:"#/properties/descriptor/properties/dataSize/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var C=ie===o}else var C=!0;if(C){if(p.dateCreated!==void 0){let ie=o;if(typeof p.dateCreated!="string")return Yt.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"#/properties/descriptor/properties/dateCreated/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=ie===o}else var C=!0;if(C){if(p.dateModified!==void 0){let fe=o;if(typeof p.dateModified!="string")return Yt.errors=[{instancePath:e+"/descriptor/dateModified",schemaPath:"#/properties/descriptor/properties/dateModified/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=fe===o}else var C=!0;if(C){if(p.published!==void 0){let ue=o;if(typeof p.published!="boolean")return Yt.errors=[{instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var C=ue===o}else var C=!0;if(C){if(p.datePublished!==void 0){let ye=o;if(typeof p.datePublished!="string")return Yt.errors=[{instancePath:e+"/descriptor/datePublished",schemaPath:"#/properties/descriptor/properties/datePublished/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=ye===o}else var C=!0;if(C)if(p.dataFormat!==void 0){let ye=o;if(typeof p.dataFormat!="string")return Yt.errors=[{instancePath:e+"/descriptor/dataFormat",schemaPath:"#/properties/descriptor/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=ye===o}else var C=!0}}}}}}}}}}}}}}else return Yt.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var g=d===o}else var g=!0}}}}}}}else return Yt.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Yt.errors=s,o===0}var KYe=Ef,uce={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/events-get.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method"],properties:{interface:{enum:["Events"],type:"string"},method:{enum:["Get"],type:"string"},watermark:{type:"string"}}}}};function Ef(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let c;if(t.authorization===void 0&&(c="authorization")||t.descriptor===void 0&&(c="descriptor"))return Ef.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:c},message:"must have required property '"+c+"'"}],!1;{let u=o;for(let l in t)if(!(l==="authorization"||l==="descriptor"))return Ef.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"}],!1;if(u===o){if(t.authorization!==void 0){let l=o;fr(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?fr.errors:s.concat(fr.errors),o=s.length);var f=l===o}else var f=!0;if(f)if(t.descriptor!==void 0){let l=t.descriptor,y=o;if(o===y)if(l&&typeof l=="object"&&!Array.isArray(l)){let g;if(l.interface===void 0&&(g="interface")||l.method===void 0&&(g="method"))return Ef.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:g},message:"must have required property '"+g+"'"}],!1;{let E=o;for(let x in l)if(!(x==="interface"||x==="method"||x==="watermark"))return Ef.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;if(E===o){if(l.interface!==void 0){let x=l.interface,T=o;if(typeof x!="string")return Ef.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(x!=="Events")return Ef.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:uce.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var a=T===o}else var a=!0;if(a){if(l.method!==void 0){let T=l.method,M=o;if(typeof T!="string")return Ef.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(T!=="Get")return Ef.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:uce.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var a=M===o}else var a=!0;if(a)if(l.watermark!==void 0){let T=o;if(typeof l.watermark!="string")return Ef.errors=[{instancePath:e+"/descriptor/watermark",schemaPath:"#/properties/descriptor/properties/watermark/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=T===o}else var a=!0}}}}else return Ef.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=y===o}else var f=!0}}}else return Ef.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Ef.errors=s,o===0}var HYe=HO;function HO(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;return t&&typeof t=="object"&&!Array.isArray(t)?(HO.errors=s,o===0):(HO.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}var WYe=ga;function ga(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0,a=o,f=!1,c=null,u=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let M;if(t.crv===void 0&&(M="crv")||t.x===void 0&&(M="x")){let I={instancePath:e,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:M},message:"must have required property '"+M+"'"};s===null?s=[I]:s.push(I),o++}else{if(t.kty!==void 0){let I=o;if(t.kty!=="EC"){let O={instancePath:e+"/kty",schemaPath:"#/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};s===null?s=[O]:s.push(O),o++}var l=I===o}else var l=!0;if(l){if(t.crv!==void 0){let R=o;if(typeof t.crv!="string"){let B={instancePath:e+"/crv",schemaPath:"#/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[B]:s.push(B),o++}var l=R===o}else var l=!0;if(l){if(t.x!==void 0){let O=o;if(typeof t.x!="string"){let C={instancePath:e+"/x",schemaPath:"#/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[C]:s.push(C),o++}var l=O===o}else var l=!0;if(l){if(t.y!==void 0){let B=o;if(typeof t.y!="string"){let U={instancePath:e+"/y",schemaPath:"#/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[U]:s.push(U),o++}var l=B===o}else var l=!0;if(l)if(t.d!==void 0){let B=o;if(typeof t.d!="string"){let U={instancePath:e+"/d",schemaPath:"#/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[U]:s.push(U),o++}var l=B===o}else var l=!0}}}}}var g=u===o;g&&(f=!0,c=0);let y=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let M;if(t.crv===void 0&&(M="crv")||t.x===void 0&&(M="x")){let I={instancePath:e,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:M},message:"must have required property '"+M+"'"};s===null?s=[I]:s.push(I),o++}else{if(t.kty!==void 0){let I=o;if(t.kty!=="OKP"){let O={instancePath:e+"/kty",schemaPath:"#/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};s===null?s=[O]:s.push(O),o++}var m=I===o}else var m=!0;if(m){if(t.crv!==void 0){let R=o;if(typeof t.crv!="string"){let B={instancePath:e+"/crv",schemaPath:"#/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[B]:s.push(B),o++}var m=R===o}else var m=!0;if(m){if(t.x!==void 0){let O=o;if(typeof t.x!="string"){let C={instancePath:e+"/x",schemaPath:"#/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[C]:s.push(C),o++}var m=O===o}else var m=!0;if(m)if(t.d!==void 0){let O=o;if(typeof t.d!="string"){let C={instancePath:e+"/d",schemaPath:"#/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[C]:s.push(C),o++}var m=O===o}else var m=!0}}}}var g=y===o;if(g&&f)f=!1,c=[c,1];else{g&&(f=!0,c=1);let M=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let R;if(t.n===void 0&&(R="n")||t.e===void 0&&(R="e")){let O={instancePath:e,schemaPath:"#/oneOf/2/required",keyword:"required",params:{missingProperty:R},message:"must have required property '"+R+"'"};s===null?s=[O]:s.push(O),o++}else{if(t.kty!==void 0){let O=o;if(t.kty!=="RSA"){let C={instancePath:e+"/kty",schemaPath:"#/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};s===null?s=[C]:s.push(C),o++}var E=O===o}else var E=!0;if(E){if(t.n!==void 0){let B=o;if(typeof t.n!="string"){let U={instancePath:e+"/n",schemaPath:"#/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[U]:s.push(U),o++}var E=B===o}else var E=!0;if(E){if(t.e!==void 0){let C=o;if(typeof t.e!="string"){let W={instancePath:e+"/e",schemaPath:"#/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[W]:s.push(W),o++}var E=C===o}else var E=!0;if(E){if(t.d!==void 0){let U=o;if(typeof t.d!="string"){let L={instancePath:e+"/d",schemaPath:"#/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[L]:s.push(L),o++}var E=U===o}else var E=!0;if(E){if(t.p!==void 0){let W=o;if(typeof t.p!="string"){let j={instancePath:e+"/p",schemaPath:"#/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[j]:s.push(j),o++}var E=W===o}else var E=!0;if(E){if(t.q!==void 0){let L=o;if(typeof t.q!="string"){let k={instancePath:e+"/q",schemaPath:"#/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[k]:s.push(k),o++}var E=L===o}else var E=!0;if(E){if(t.dp!==void 0){let j=o;if(typeof t.dp!="string"){let P={instancePath:e+"/dp",schemaPath:"#/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[P]:s.push(P),o++}var E=j===o}else var E=!0;if(E){if(t.dq!==void 0){let k=o;if(typeof t.dq!="string"){let p={instancePath:e+"/dq",schemaPath:"#/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[p]:s.push(p),o++}var E=k===o}else var E=!0;if(E){if(t.qi!==void 0){let P=o;if(typeof t.qi!="string"){let d={instancePath:e+"/qi",schemaPath:"#/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[d]:s.push(d),o++}var E=P===o}else var E=!0;if(E)if(t.oth!==void 0){let P=t.oth,p=o;if(!(P&&typeof P=="object"&&!Array.isArray(P))){let h={instancePath:e+"/oth",schemaPath:"#/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[h]:s.push(h),o++}var E=p===o}else var E=!0}}}}}}}}}}var g=M===o;if(g&&f)f=!1,c=[c,2];else{g&&(f=!0,c=2);let R=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let B;if(t.k===void 0&&(B="k")){let C={instancePath:e,schemaPath:"#/oneOf/3/required",keyword:"required",params:{missingProperty:B},message:"must have required property '"+B+"'"};s===null?s=[C]:s.push(C),o++}else{if(t.kty!==void 0){let C=o;if(t.kty!=="oct"){let W={instancePath:e+"/kty",schemaPath:"#/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};s===null?s=[W]:s.push(W),o++}var x=C===o}else var x=!0;if(x)if(t.k!==void 0){let C=o;if(typeof t.k!="string"){let W={instancePath:e+"/k",schemaPath:"#/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[W]:s.push(W),o++}var x=C===o}else var x=!0}}var g=R===o;g&&f?(f=!1,c=[c,3]):g&&(f=!0,c=3)}}if(f)o=a,s!==null&&(a?s.length=a:s=null);else{let M={instancePath:e,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:c},message:"must match exactly one schema in oneOf"};return s===null?s=[M]:s.push(M),o++,ga.errors=s,!1}if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let M;if(t.kty===void 0&&(M="kty"))return ga.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:M},message:"must have required property '"+M+"'"}],!1;if(t.alg!==void 0){let I=o;if(typeof t.alg!="string")return ga.errors=[{instancePath:e+"/alg",schemaPath:"#/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var T=I===o}else var T=!0;if(T){if(t.kid!==void 0){let R=o;if(typeof t.kid!="string")return ga.errors=[{instancePath:e+"/kid",schemaPath:"#/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var T=R===o}else var T=!0;if(T){if(t.kty!==void 0){let O=t.kty,B=o;if(!(O==="EC"||O==="RSA"||O==="oct"||O==="OKP"))return ga.errors=[{instancePath:e+"/kty",schemaPath:"#/properties/kty/enum",keyword:"enum",params:{allowedValues:Q0e.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;var T=B===o}else var T=!0;if(T){if(t.crv!==void 0){let B=o;if(typeof t.crv!="string")return ga.errors=[{instancePath:e+"/crv",schemaPath:"#/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var T=B===o}else var T=!0;if(T){if(t.use!==void 0){let C=o;if(typeof t.use!="string")return ga.errors=[{instancePath:e+"/use",schemaPath:"#/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var T=C===o}else var T=!0;if(T){if(t.key_ops!==void 0){let U=o;if(typeof t.key_ops!="string")return ga.errors=[{instancePath:e+"/key_ops",schemaPath:"#/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var T=U===o}else var T=!0;if(T){if(t.x5u!==void 0){let W=o;if(typeof t.x5u!="string")return ga.errors=[{instancePath:e+"/x5u",schemaPath:"#/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var T=W===o}else var T=!0;if(T){if(t.x5c!==void 0){let L=o;if(typeof t.x5c!="string")return ga.errors=[{instancePath:e+"/x5c",schemaPath:"#/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var T=L===o}else var T=!0;if(T){if(t.x5t!==void 0){let j=o;if(typeof t.x5t!="string")return ga.errors=[{instancePath:e+"/x5t",schemaPath:"#/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var T=j===o}else var T=!0;if(T)if(t["x5t#S256"]!==void 0){let j=o;if(typeof t["x5t#S256"]!="string")return ga.errors=[{instancePath:e+"/x5t#S256",schemaPath:"#/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var T=j===o}else var T=!0}}}}}}}}}else return ga.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return ga.errors=s,o===0}var YYe=fr,ZYe=ts,cce={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/hooks-write.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","dateCreated","uri","filter"],properties:{interface:{enum:["Hooks"],type:"string"},method:{enum:["Write"],type:"string"},dateCreated:{type:"string"},schema:{type:"string"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{method:{type:"string"}}}}}}};function ts(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let c;if(t.authorization===void 0&&(c="authorization")||t.descriptor===void 0&&(c="descriptor"))return ts.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:c},message:"must have required property '"+c+"'"}],!1;{let u=o;for(let l in t)if(!(l==="authorization"||l==="descriptor"))return ts.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"}],!1;if(u===o){if(t.authorization!==void 0){let l=o;fr(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?fr.errors:s.concat(fr.errors),o=s.length);var f=l===o}else var f=!0;if(f)if(t.descriptor!==void 0){let l=t.descriptor,y=o;if(o===y)if(l&&typeof l=="object"&&!Array.isArray(l)){let g;if(l.interface===void 0&&(g="interface")||l.method===void 0&&(g="method")||l.dateCreated===void 0&&(g="dateCreated")||l.uri===void 0&&(g="uri")||l.filter===void 0&&(g="filter"))return ts.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:g},message:"must have required property '"+g+"'"}],!1;{let E=o;for(let x in l)if(!(x==="interface"||x==="method"||x==="dateCreated"||x==="schema"||x==="filter"))return ts.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;if(E===o){if(l.interface!==void 0){let x=l.interface,T=o;if(typeof x!="string")return ts.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(x!=="Hooks")return ts.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:cce.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var a=T===o}else var a=!0;if(a){if(l.method!==void 0){let T=l.method,M=o;if(typeof T!="string")return ts.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(T!=="Write")return ts.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:cce.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var a=M===o}else var a=!0;if(a){if(l.dateCreated!==void 0){let M=o;if(typeof l.dateCreated!="string")return ts.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"#/properties/descriptor/properties/dateCreated/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=M===o}else var a=!0;if(a){if(l.schema!==void 0){let I=o;if(typeof l.schema!="string")return ts.errors=[{instancePath:e+"/descriptor/schema",schemaPath:"#/properties/descriptor/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=I===o}else var a=!0;if(a)if(l.filter!==void 0){let I=l.filter,R=o;if(o===R)if(I&&typeof I=="object"&&!Array.isArray(I)){if(Object.keys(I).length<1)return ts.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let B=o;for(let C in I)if(C!=="method")return ts.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:C},message:"must NOT have additional properties"}],!1;if(B===o&&I.method!==void 0&&typeof I.method!="string")return ts.errors=[{instancePath:e+"/descriptor/filter/method",schemaPath:"#/properties/descriptor/properties/filter/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1}}else return ts.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=R===o}else var a=!0}}}}}}else return ts.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=y===o}else var f=!0}}}else return ts.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return ts.errors=s,o===0}var GYe=Pd;function Pd(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let f;if(t.id===void 0&&(f="id")||t.type===void 0&&(f="type")||t.controller===void 0&&(f="controller")||t.publicKeyJwk===void 0&&(f="publicKeyJwk"))return Pd.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:f},message:"must have required property '"+f+"'"}],!1;{let c=o;for(let u in t)if(!(u==="id"||u==="type"||u==="controller"||u==="publicKeyJwk"))return Pd.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:u},message:"must NOT have additional properties"}],!1;if(c===o){if(t.id!==void 0){let u=o;if(typeof t.id!="string")return Pd.errors=[{instancePath:e+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=u===o}else var a=!0;if(a){if(t.type!==void 0){let l=o;if(t.type!=="JsonWebKey2020")return Pd.errors=[{instancePath:e+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue:"JsonWebKey2020"},message:"must be equal to constant"}],!1;var a=l===o}else var a=!0;if(a){if(t.controller!==void 0){let y=t.controller,m=o;if(o===o)if(typeof y=="string"){if(!zd.test(y))return Pd.errors=[{instancePath:e+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Pd.errors=[{instancePath:e+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=m===o}else var a=!0;if(a)if(t.publicKeyJwk!==void 0){let y=o;Hn(t.publicKeyJwk,{instancePath:e+"/publicKeyJwk",parentData:t,parentDataProperty:"publicKeyJwk",rootData:n})||(s=s===null?Hn.errors:s.concat(Hn.errors),o=s.length);var a=y===o}else var a=!0}}}}}else return Pd.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Pd.errors=s,o===0}var JYe=ba,lce={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/messages-get.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Get"],type:"string"},messageCids:{type:"array",items:{type:"string"},minItems:1}}}}};function ba(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.authorization===void 0&&(u="authorization")||t.descriptor===void 0&&(u="descriptor"))return ba.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{let l=o;for(let y in t)if(!(y==="authorization"||y==="descriptor"))return ba.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:y},message:"must NOT have additional properties"}],!1;if(l===o){if(t.authorization!==void 0){let y=o;fr(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?fr.errors:s.concat(fr.errors),o=s.length);var c=y===o}else var c=!0;if(c)if(t.descriptor!==void 0){let y=t.descriptor,m=o;if(o===m)if(y&&typeof y=="object"&&!Array.isArray(y)){let E;if(y.interface===void 0&&(E="interface")||y.method===void 0&&(E="method"))return ba.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:E},message:"must have required property '"+E+"'"}],!1;{let x=o;for(let T in y)if(!(T==="interface"||T==="method"||T==="messageCids"))return ba.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:T},message:"must NOT have additional properties"}],!1;if(x===o){if(y.interface!==void 0){let T=y.interface,M=o;if(typeof T!="string")return ba.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(T!=="Messages")return ba.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:lce.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var a=M===o}else var a=!0;if(a){if(y.method!==void 0){let M=y.method,I=o;if(typeof M!="string")return ba.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(M!=="Get")return ba.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:lce.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var a=I===o}else var a=!0;if(a)if(y.messageCids!==void 0){let M=y.messageCids,I=o;if(o===I)if(Array.isArray(M)){if(M.length<1)return ba.errors=[{instancePath:e+"/descriptor/messageCids",schemaPath:"#/properties/descriptor/properties/messageCids/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var f=!0;let O=M.length;for(let B=0;B<O;B++){let C=o;if(typeof M[B]!="string")return ba.errors=[{instancePath:e+"/descriptor/messageCids/"+B,schemaPath:"#/properties/descriptor/properties/messageCids/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=C===o;if(!f)break}}}else return ba.errors=[{instancePath:e+"/descriptor/messageCids",schemaPath:"#/properties/descriptor/properties/messageCids/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var a=I===o}else var a=!0}}}}else return ba.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=m===o}else var c=!0}}}else return ba.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return ba.errors=s,o===0}var XYe=WO;function WO(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;return t&&typeof t=="object"&&!Array.isArray(t)?(WO.errors=s,o===0):(WO.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}var QYe=Pr,rO={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/permissions-grant.json",type:"object",required:["authorization","descriptor"],additionalProperties:!1,properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},delegationChain:{description:"the parent grant",$ref:"#"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","dateCreated"],properties:{dateCreated:{type:"string"},conditions:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions"},delegatedFrom:{description:"CID of the parent grant",type:"string"},description:{type:"string"},grantedTo:{description:"DID of the grantee",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo"},grantedBy:{description:"DID of the grantor",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy"},interface:{enum:["Permissions"],type:"string"},method:{enum:["Grant"],type:"string"},scope:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope"},objectId:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/uuid"}}}}},mS={type:"object",additionalProperties:!1,properties:{attestation:{enum:["optional","required"],type:"string"},delegation:{type:"boolean"},encryption:{enum:["optional","required"],type:"string"},publication:{type:"boolean"},sharedAccess:{type:"boolean"}}},eye=new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$","u");function Pr(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let l;if(t.authorization===void 0&&(l="authorization")||t.descriptor===void 0&&(l="descriptor"))return Pr.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:l},message:"must have required property '"+l+"'"}],!1;{let y=o;for(let m in t)if(!(m==="authorization"||m==="delegationChain"||m==="descriptor"))return Pr.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(y===o){if(t.authorization!==void 0){let m=o;fr(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?fr.errors:s.concat(fr.errors),o=s.length);var a=m===o}else var a=!0;if(a){if(t.delegationChain!==void 0){let g=o;Pr(t.delegationChain,{instancePath:e+"/delegationChain",parentData:t,parentDataProperty:"delegationChain",rootData:n})||(s=s===null?Pr.errors:s.concat(Pr.errors),o=s.length);var a=g===o}else var a=!0;if(a)if(t.descriptor!==void 0){let g=t.descriptor,E=o;if(o===E)if(g&&typeof g=="object"&&!Array.isArray(g)){let T;if(g.interface===void 0&&(T="interface")||g.method===void 0&&(T="method")||g.dateCreated===void 0&&(T="dateCreated"))return Pr.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:T},message:"must have required property '"+T+"'"}],!1;{let M=o;for(let I in g)if(!ex.call(rO.properties.descriptor.properties,I))return Pr.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:I},message:"must NOT have additional properties"}],!1;if(M===o){if(g.dateCreated!==void 0){let I=o;if(typeof g.dateCreated!="string")return Pr.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"#/properties/descriptor/properties/dateCreated/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=I===o}else var f=!0;if(f){if(g.conditions!==void 0){let R=g.conditions,O=o;if(o===o)if(R&&typeof R=="object"&&!Array.isArray(R)){let C=o;for(let U in R)if(!(U==="attestation"||U==="delegation"||U==="encryption"||U==="publication"||U==="sharedAccess"))return Pr.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:U},message:"must NOT have additional properties"}],!1;if(C===o){if(R.attestation!==void 0){let U=R.attestation,W=o;if(typeof U!="string")return Pr.errors=[{instancePath:e+"/descriptor/conditions/attestation",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/attestation/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(U==="optional"||U==="required"))return Pr.errors=[{instancePath:e+"/descriptor/conditions/attestation",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/attestation/enum",keyword:"enum",params:{allowedValues:mS.properties.attestation.enum},message:"must be equal to one of the allowed values"}],!1;var c=W===o}else var c=!0;if(c){if(R.delegation!==void 0){let W=o;if(typeof R.delegation!="boolean")return Pr.errors=[{instancePath:e+"/descriptor/conditions/delegation",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/delegation/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var c=W===o}else var c=!0;if(c){if(R.encryption!==void 0){let L=R.encryption,j=o;if(typeof L!="string")return Pr.errors=[{instancePath:e+"/descriptor/conditions/encryption",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/encryption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(L==="optional"||L==="required"))return Pr.errors=[{instancePath:e+"/descriptor/conditions/encryption",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/encryption/enum",keyword:"enum",params:{allowedValues:mS.properties.encryption.enum},message:"must be equal to one of the allowed values"}],!1;var c=j===o}else var c=!0;if(c){if(R.publication!==void 0){let j=o;if(typeof R.publication!="boolean")return Pr.errors=[{instancePath:e+"/descriptor/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/publication/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var c=j===o}else var c=!0;if(c)if(R.sharedAccess!==void 0){let j=o;if(typeof R.sharedAccess!="boolean")return Pr.errors=[{instancePath:e+"/descriptor/conditions/sharedAccess",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/sharedAccess/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var c=j===o}else var c=!0}}}}}else return Pr.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=O===o}else var f=!0;if(f){if(g.delegatedFrom!==void 0){let O=o;if(typeof g.delegatedFrom!="string")return Pr.errors=[{instancePath:e+"/descriptor/delegatedFrom",schemaPath:"#/properties/descriptor/properties/delegatedFrom/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=O===o}else var f=!0;if(f){if(g.description!==void 0){let B=o;if(typeof g.description!="string")return Pr.errors=[{instancePath:e+"/descriptor/description",schemaPath:"#/properties/descriptor/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=B===o}else var f=!0;if(f){if(g.grantedTo!==void 0){let C=g.grantedTo,U=o;if(o===o)if(typeof C=="string"){if(!zd.test(C))return Pr.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Pr.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=U===o}else var f=!0;if(f){if(g.grantedBy!==void 0){let U=g.grantedBy,W=o;if(o===o)if(typeof U=="string"){if(!zd.test(U))return Pr.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Pr.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=W===o}else var f=!0;if(f){if(g.interface!==void 0){let W=g.interface,L=o;if(typeof W!="string")return Pr.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(W!=="Permissions")return Pr.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:rO.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var f=L===o}else var f=!0;if(f){if(g.method!==void 0){let L=g.method,j=o;if(typeof L!="string")return Pr.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(L!=="Grant")return Pr.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:rO.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var f=j===o}else var f=!0;if(f){if(g.scope!==void 0){let j=g.scope,k=o;if(o===o)if(j&&typeof j=="object"&&!Array.isArray(j)){let p=o;for(let d in j)if(!(d==="method"||d==="objectId"||d==="schema"))return Pr.errors=[{instancePath:e+"/descriptor/scope",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:d},message:"must NOT have additional properties"}],!1;if(p===o){if(j.method!==void 0){let d=o;if(typeof j.method!="string")return Pr.errors=[{instancePath:e+"/descriptor/scope/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=d===o}else var u=!0;if(u){if(j.objectId!==void 0){let h=o;if(typeof j.objectId!="string")return Pr.errors=[{instancePath:e+"/descriptor/scope/objectId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/properties/objectId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=h===o}else var u=!0;if(u)if(j.schema!==void 0){let h=o;if(typeof j.schema!="string")return Pr.errors=[{instancePath:e+"/descriptor/scope/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=h===o}else var u=!0}}}else return Pr.errors=[{instancePath:e+"/descriptor/scope",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=k===o}else var f=!0;if(f)if(g.objectId!==void 0){let j=g.objectId,k=o;if(o===o)if(typeof j=="string"){if(!eye.test(j))return Pr.errors=[{instancePath:e+"/descriptor/objectId",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/uuid/pattern",keyword:"pattern",params:{pattern:"^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$"},message:'must match pattern "^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$"'}],!1}else return Pr.errors=[{instancePath:e+"/descriptor/objectId",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/uuid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=k===o}else var f=!0}}}}}}}}}}}else return Pr.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=E===o}else var a=!0}}}}else return Pr.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Pr.errors=s,o===0}var eZe=ii,iO={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/permissions-request.json",additionalProperties:!1,type:"object",required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","dateCreated"],properties:{dateCreated:{type:"string"},conditions:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions"},description:{type:"string"},grantedTo:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo"},grantedBy:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy"},interface:{enum:["Permissions"],type:"string"},method:{enum:["Request"],type:"string"},scope:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope"},objectId:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/uuid"}}}}};function ii(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let l;if(t.authorization===void 0&&(l="authorization")||t.descriptor===void 0&&(l="descriptor"))return ii.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:l},message:"must have required property '"+l+"'"}],!1;{let y=o;for(let m in t)if(!(m==="authorization"||m==="descriptor"))return ii.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(y===o){if(t.authorization!==void 0){let m=o;fr(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?fr.errors:s.concat(fr.errors),o=s.length);var u=m===o}else var u=!0;if(u)if(t.descriptor!==void 0){let m=t.descriptor,g=o;if(o===g)if(m&&typeof m=="object"&&!Array.isArray(m)){let x;if(m.interface===void 0&&(x="interface")||m.method===void 0&&(x="method")||m.dateCreated===void 0&&(x="dateCreated"))return ii.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:x},message:"must have required property '"+x+"'"}],!1;{let T=o;for(let M in m)if(!ex.call(iO.properties.descriptor.properties,M))return ii.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:M},message:"must NOT have additional properties"}],!1;if(T===o){if(m.dateCreated!==void 0){let M=o;if(typeof m.dateCreated!="string")return ii.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"#/properties/descriptor/properties/dateCreated/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=M===o}else var a=!0;if(a){if(m.conditions!==void 0){let I=m.conditions,R=o;if(o===o)if(I&&typeof I=="object"&&!Array.isArray(I)){let B=o;for(let C in I)if(!(C==="attestation"||C==="delegation"||C==="encryption"||C==="publication"||C==="sharedAccess"))return ii.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:C},message:"must NOT have additional properties"}],!1;if(B===o){if(I.attestation!==void 0){let C=I.attestation,U=o;if(typeof C!="string")return ii.errors=[{instancePath:e+"/descriptor/conditions/attestation",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/attestation/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(C==="optional"||C==="required"))return ii.errors=[{instancePath:e+"/descriptor/conditions/attestation",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/attestation/enum",keyword:"enum",params:{allowedValues:mS.properties.attestation.enum},message:"must be equal to one of the allowed values"}],!1;var f=U===o}else var f=!0;if(f){if(I.delegation!==void 0){let U=o;if(typeof I.delegation!="boolean")return ii.errors=[{instancePath:e+"/descriptor/conditions/delegation",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/delegation/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var f=U===o}else var f=!0;if(f){if(I.encryption!==void 0){let W=I.encryption,L=o;if(typeof W!="string")return ii.errors=[{instancePath:e+"/descriptor/conditions/encryption",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/encryption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(W==="optional"||W==="required"))return ii.errors=[{instancePath:e+"/descriptor/conditions/encryption",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/encryption/enum",keyword:"enum",params:{allowedValues:mS.properties.encryption.enum},message:"must be equal to one of the allowed values"}],!1;var f=L===o}else var f=!0;if(f){if(I.publication!==void 0){let L=o;if(typeof I.publication!="boolean")return ii.errors=[{instancePath:e+"/descriptor/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/publication/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var f=L===o}else var f=!0;if(f)if(I.sharedAccess!==void 0){let L=o;if(typeof I.sharedAccess!="boolean")return ii.errors=[{instancePath:e+"/descriptor/conditions/sharedAccess",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/sharedAccess/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var f=L===o}else var f=!0}}}}}else return ii.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=R===o}else var a=!0;if(a){if(m.description!==void 0){let R=o;if(typeof m.description!="string")return ii.errors=[{instancePath:e+"/descriptor/description",schemaPath:"#/properties/descriptor/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=R===o}else var a=!0;if(a){if(m.grantedTo!==void 0){let O=m.grantedTo,B=o;if(o===o)if(typeof O=="string"){if(!zd.test(O))return ii.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return ii.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=B===o}else var a=!0;if(a){if(m.grantedBy!==void 0){let B=m.grantedBy,C=o;if(o===o)if(typeof B=="string"){if(!zd.test(B))return ii.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return ii.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=C===o}else var a=!0;if(a){if(m.interface!==void 0){let C=m.interface,U=o;if(typeof C!="string")return ii.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(C!=="Permissions")return ii.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:iO.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var a=U===o}else var a=!0;if(a){if(m.method!==void 0){let U=m.method,W=o;if(typeof U!="string")return ii.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(U!=="Request")return ii.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:iO.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var a=W===o}else var a=!0;if(a){if(m.scope!==void 0){let W=m.scope,L=o;if(o===o)if(W&&typeof W=="object"&&!Array.isArray(W)){let k=o;for(let P in W)if(!(P==="method"||P==="objectId"||P==="schema"))return ii.errors=[{instancePath:e+"/descriptor/scope",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:P},message:"must NOT have additional properties"}],!1;if(k===o){if(W.method!==void 0){let P=o;if(typeof W.method!="string")return ii.errors=[{instancePath:e+"/descriptor/scope/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=P===o}else var c=!0;if(c){if(W.objectId!==void 0){let p=o;if(typeof W.objectId!="string")return ii.errors=[{instancePath:e+"/descriptor/scope/objectId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/properties/objectId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=p===o}else var c=!0;if(c)if(W.schema!==void 0){let p=o;if(typeof W.schema!="string")return ii.errors=[{instancePath:e+"/descriptor/scope/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=p===o}else var c=!0}}}else return ii.errors=[{instancePath:e+"/descriptor/scope",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=L===o}else var a=!0;if(a)if(m.objectId!==void 0){let W=m.objectId,L=o;if(o===o)if(typeof W=="string"){if(!eye.test(W))return ii.errors=[{instancePath:e+"/descriptor/objectId",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/uuid/pattern",keyword:"pattern",params:{pattern:"^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$"},message:'must match pattern "^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$"'}],!1}else return ii.errors=[{instancePath:e+"/descriptor/objectId",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/uuid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=L===o}else var a=!0}}}}}}}}}}else return ii.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var u=g===o}else var u=!0}}}else return ii.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return ii.errors=s,o===0}var tZe=Sf,YO=new RegExp(".*","u"),nO={$id:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json",$schema:"http://json-schema.org/draft-07/schema#",type:"object",additionalProperties:!1,properties:{allow:{type:"object",minProperties:1,additionalProperties:!1,properties:{anyone:{type:"object",additionalProperties:!1,properties:{to:{type:"array",minItems:1,items:{type:"string",enum:["read","write"]}}},required:["to"]},author:{type:"object",additionalProperties:!1,properties:{of:{type:"string"},to:{type:"array",minItems:1,items:{type:"string",enum:["read","write"]}}},required:["of","to"]},recipient:{type:"object",additionalProperties:!1,properties:{of:{type:"string"},to:{type:"array",minItems:1,items:{type:"string",enum:["read","write"]}}},required:["of","to"]}}},records:{type:"object",patternProperties:{".*":{$ref:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json"}}}}},oO={validate:Wr};function Wr(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let E=o;for(let x in t)if(!(x==="allow"||x==="records"))return Wr.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;if(E===o){if(t.allow!==void 0){let x=t.allow,T=o;if(o===T)if(x&&typeof x=="object"&&!Array.isArray(x)){if(Object.keys(x).length<1)return Wr.errors=[{instancePath:e+"/allow",schemaPath:"#/properties/allow/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let I=o;for(let R in x)if(!(R==="anyone"||R==="author"||R==="recipient"))return Wr.errors=[{instancePath:e+"/allow",schemaPath:"#/properties/allow/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:R},message:"must NOT have additional properties"}],!1;if(I===o){if(x.anyone!==void 0){let R=x.anyone,O=o;if(o===O)if(R&&typeof R=="object"&&!Array.isArray(R)){let C;if(R.to===void 0&&(C="to"))return Wr.errors=[{instancePath:e+"/allow/anyone",schemaPath:"#/properties/allow/properties/anyone/required",keyword:"required",params:{missingProperty:C},message:"must have required property '"+C+"'"}],!1;{let U=o;for(let W in R)if(W!=="to")return Wr.errors=[{instancePath:e+"/allow/anyone",schemaPath:"#/properties/allow/properties/anyone/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:W},message:"must NOT have additional properties"}],!1;if(U===o&&R.to!==void 0){let W=R.to;if(o===o)if(Array.isArray(W)){if(W.length<1)return Wr.errors=[{instancePath:e+"/allow/anyone/to",schemaPath:"#/properties/allow/properties/anyone/properties/to/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var a=!0;let L=W.length;for(let j=0;j<L;j++){let k=W[j],P=o;if(typeof k!="string")return Wr.errors=[{instancePath:e+"/allow/anyone/to/"+j,schemaPath:"#/properties/allow/properties/anyone/properties/to/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(k==="read"||k==="write"))return Wr.errors=[{instancePath:e+"/allow/anyone/to/"+j,schemaPath:"#/properties/allow/properties/anyone/properties/to/items/enum",keyword:"enum",params:{allowedValues:nO.properties.allow.properties.anyone.properties.to.items.enum},message:"must be equal to one of the allowed values"}],!1;var a=P===o;if(!a)break}}}else return Wr.errors=[{instancePath:e+"/allow/anyone/to",schemaPath:"#/properties/allow/properties/anyone/properties/to/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1}}}else return Wr.errors=[{instancePath:e+"/allow/anyone",schemaPath:"#/properties/allow/properties/anyone/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=O===o}else var f=!0;if(f){if(x.author!==void 0){let O=x.author,B=o;if(o===B)if(O&&typeof O=="object"&&!Array.isArray(O)){let U;if(O.of===void 0&&(U="of")||O.to===void 0&&(U="to"))return Wr.errors=[{instancePath:e+"/allow/author",schemaPath:"#/properties/allow/properties/author/required",keyword:"required",params:{missingProperty:U},message:"must have required property '"+U+"'"}],!1;{let W=o;for(let L in O)if(!(L==="of"||L==="to"))return Wr.errors=[{instancePath:e+"/allow/author",schemaPath:"#/properties/allow/properties/author/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:L},message:"must NOT have additional properties"}],!1;if(W===o){if(O.of!==void 0){let L=o;if(typeof O.of!="string")return Wr.errors=[{instancePath:e+"/allow/author/of",schemaPath:"#/properties/allow/properties/author/properties/of/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=L===o}else var u=!0;if(u)if(O.to!==void 0){let L=O.to,j=o;if(o===j)if(Array.isArray(L)){if(L.length<1)return Wr.errors=[{instancePath:e+"/allow/author/to",schemaPath:"#/properties/allow/properties/author/properties/to/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var c=!0;let P=L.length;for(let p=0;p<P;p++){let d=L[p],h=o;if(typeof d!="string")return Wr.errors=[{instancePath:e+"/allow/author/to/"+p,schemaPath:"#/properties/allow/properties/author/properties/to/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(d==="read"||d==="write"))return Wr.errors=[{instancePath:e+"/allow/author/to/"+p,schemaPath:"#/properties/allow/properties/author/properties/to/items/enum",keyword:"enum",params:{allowedValues:nO.properties.allow.properties.author.properties.to.items.enum},message:"must be equal to one of the allowed values"}],!1;var c=h===o;if(!c)break}}}else return Wr.errors=[{instancePath:e+"/allow/author/to",schemaPath:"#/properties/allow/properties/author/properties/to/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var u=j===o}else var u=!0}}}else return Wr.errors=[{instancePath:e+"/allow/author",schemaPath:"#/properties/allow/properties/author/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=B===o}else var f=!0;if(f)if(x.recipient!==void 0){let O=x.recipient,B=o;if(o===B)if(O&&typeof O=="object"&&!Array.isArray(O)){let U;if(O.of===void 0&&(U="of")||O.to===void 0&&(U="to"))return Wr.errors=[{instancePath:e+"/allow/recipient",schemaPath:"#/properties/allow/properties/recipient/required",keyword:"required",params:{missingProperty:U},message:"must have required property '"+U+"'"}],!1;{let W=o;for(let L in O)if(!(L==="of"||L==="to"))return Wr.errors=[{instancePath:e+"/allow/recipient",schemaPath:"#/properties/allow/properties/recipient/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:L},message:"must NOT have additional properties"}],!1;if(W===o){if(O.of!==void 0){let L=o;if(typeof O.of!="string")return Wr.errors=[{instancePath:e+"/allow/recipient/of",schemaPath:"#/properties/allow/properties/recipient/properties/of/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var y=L===o}else var y=!0;if(y)if(O.to!==void 0){let L=O.to,j=o;if(o===j)if(Array.isArray(L)){if(L.length<1)return Wr.errors=[{instancePath:e+"/allow/recipient/to",schemaPath:"#/properties/allow/properties/recipient/properties/to/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var l=!0;let P=L.length;for(let p=0;p<P;p++){let d=L[p],h=o;if(typeof d!="string")return Wr.errors=[{instancePath:e+"/allow/recipient/to/"+p,schemaPath:"#/properties/allow/properties/recipient/properties/to/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(d==="read"||d==="write"))return Wr.errors=[{instancePath:e+"/allow/recipient/to/"+p,schemaPath:"#/properties/allow/properties/recipient/properties/to/items/enum",keyword:"enum",params:{allowedValues:nO.properties.allow.properties.recipient.properties.to.items.enum},message:"must be equal to one of the allowed values"}],!1;var l=h===o;if(!l)break}}}else return Wr.errors=[{instancePath:e+"/allow/recipient/to",schemaPath:"#/properties/allow/properties/recipient/properties/to/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var y=j===o}else var y=!0}}}else return Wr.errors=[{instancePath:e+"/allow/recipient",schemaPath:"#/properties/allow/properties/recipient/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=B===o}else var f=!0}}}}else return Wr.errors=[{instancePath:e+"/allow",schemaPath:"#/properties/allow/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var g=T===o}else var g=!0;if(g)if(t.records!==void 0){let x=t.records,T=o;if(o===T)if(x&&typeof x=="object"&&!Array.isArray(x)){var m=!0;for(let I in x)if(YO.test(I)){let R=o;oO.validate(x[I],{instancePath:e+"/records/"+I.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:x,parentDataProperty:I,rootData:n})||(s=s===null?oO.validate.errors:s.concat(oO.validate.errors),o=s.length);var m=R===o;if(!m)break}}else return Wr.errors=[{instancePath:e+"/records",schemaPath:"#/properties/records/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var g=T===o}else var g=!0}}else return Wr.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Wr.errors=s,o===0}function Sf(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.labels===void 0&&(u="labels")||t.records===void 0&&(u="records"))return Sf.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{let l=o;for(let y in t)if(!(y==="labels"||y==="records"))return Sf.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:y},message:"must NOT have additional properties"}],!1;if(l===o){if(t.labels!==void 0){let y=t.labels,m=o;if(o===m)if(y&&typeof y=="object"&&!Array.isArray(y)){var a=!0;for(let E in y)if(YO.test(E)){let x=y[E],T=o;if(o===T)if(x&&typeof x=="object"&&!Array.isArray(x)){let I=o;for(let R in x)if(R!=="schema")return Sf.errors=[{instancePath:e+"/labels/"+E.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/labels/patternProperties/.*/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:R},message:"must NOT have additional properties"}],!1;if(I===o&&x.schema!==void 0&&typeof x.schema!="string")return Sf.errors=[{instancePath:e+"/labels/"+E.replace(/~/g,"~0").replace(/\//g,"~1")+"/schema",schemaPath:"#/properties/labels/patternProperties/.*/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1}else return Sf.errors=[{instancePath:e+"/labels/"+E.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/labels/patternProperties/.*/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=T===o;if(!a)break}}else return Sf.errors=[{instancePath:e+"/labels",schemaPath:"#/properties/labels/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=m===o}else var c=!0;if(c)if(t.records!==void 0){let y=t.records,m=o;if(o===m)if(y&&typeof y=="object"&&!Array.isArray(y)){var f=!0;for(let E in y)if(YO.test(E)){let x=o;Wr(y[E],{instancePath:e+"/records/"+E.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:y,parentDataProperty:E,rootData:n})||(s=s===null?Wr.errors:s.concat(Wr.errors),o=s.length);var f=x===o;if(!f)break}}else return Sf.errors=[{instancePath:e+"/records",schemaPath:"#/properties/records/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=m===o}else var c=!0}}}else return Sf.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Sf.errors=s,o===0}var rZe=Wr,iZe=Va,dce={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/protocols-configure.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","protocol","dateCreated","definition"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Configure"],type:"string"},protocol:{type:"string"},dateCreated:{type:"string"},definition:{$ref:"https://identity.foundation/dwn/json-schemas/protocol-definition.json"}}}}};function Va(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let c;if(t.authorization===void 0&&(c="authorization")||t.descriptor===void 0&&(c="descriptor"))return Va.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:c},message:"must have required property '"+c+"'"}],!1;{let u=o;for(let l in t)if(!(l==="authorization"||l==="descriptor"))return Va.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"}],!1;if(u===o){if(t.authorization!==void 0){let l=o;fr(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?fr.errors:s.concat(fr.errors),o=s.length);var f=l===o}else var f=!0;if(f)if(t.descriptor!==void 0){let l=t.descriptor,y=o;if(o===y)if(l&&typeof l=="object"&&!Array.isArray(l)){let g;if(l.interface===void 0&&(g="interface")||l.method===void 0&&(g="method")||l.protocol===void 0&&(g="protocol")||l.dateCreated===void 0&&(g="dateCreated")||l.definition===void 0&&(g="definition"))return Va.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:g},message:"must have required property '"+g+"'"}],!1;{let E=o;for(let x in l)if(!(x==="interface"||x==="method"||x==="protocol"||x==="dateCreated"||x==="definition"))return Va.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;if(E===o){if(l.interface!==void 0){let x=l.interface,T=o;if(typeof x!="string")return Va.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(x!=="Protocols")return Va.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:dce.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var a=T===o}else var a=!0;if(a){if(l.method!==void 0){let T=l.method,M=o;if(typeof T!="string")return Va.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(T!=="Configure")return Va.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:dce.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var a=M===o}else var a=!0;if(a){if(l.protocol!==void 0){let M=o;if(typeof l.protocol!="string")return Va.errors=[{instancePath:e+"/descriptor/protocol",schemaPath:"#/properties/descriptor/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=M===o}else var a=!0;if(a){if(l.dateCreated!==void 0){let I=o;if(typeof l.dateCreated!="string")return Va.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"#/properties/descriptor/properties/dateCreated/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=I===o}else var a=!0;if(a)if(l.definition!==void 0){let I=o;Sf(l.definition,{instancePath:e+"/descriptor/definition",parentData:l,parentDataProperty:"definition",rootData:n})||(s=s===null?Sf.errors:s.concat(Sf.errors),o=s.length);var a=I===o}else var a=!0}}}}}}else return Va.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=y===o}else var f=!0}}}else return Va.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Va.errors=s,o===0}var nZe=Oo,hce={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/protocols-query.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","dateCreated"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Query"],type:"string"},dateCreated:{type:"string"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"}}}}}}};function Oo(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.authorization===void 0&&(u="authorization")||t.descriptor===void 0&&(u="descriptor"))return Oo.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{let l=o;for(let y in t)if(!(y==="authorization"||y==="descriptor"))return Oo.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:y},message:"must NOT have additional properties"}],!1;if(l===o){if(t.authorization!==void 0){let y=o;fr(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?fr.errors:s.concat(fr.errors),o=s.length);var c=y===o}else var c=!0;if(c)if(t.descriptor!==void 0){let y=t.descriptor,m=o;if(o===m)if(y&&typeof y=="object"&&!Array.isArray(y)){let E;if(y.interface===void 0&&(E="interface")||y.method===void 0&&(E="method")||y.dateCreated===void 0&&(E="dateCreated"))return Oo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:E},message:"must have required property '"+E+"'"}],!1;{let x=o;for(let T in y)if(!(T==="interface"||T==="method"||T==="dateCreated"||T==="filter"))return Oo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:T},message:"must NOT have additional properties"}],!1;if(x===o){if(y.interface!==void 0){let T=y.interface,M=o;if(typeof T!="string")return Oo.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(T!=="Protocols")return Oo.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:hce.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var a=M===o}else var a=!0;if(a){if(y.method!==void 0){let M=y.method,I=o;if(typeof M!="string")return Oo.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(M!=="Query")return Oo.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:hce.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var a=I===o}else var a=!0;if(a){if(y.dateCreated!==void 0){let I=o;if(typeof y.dateCreated!="string")return Oo.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"#/properties/descriptor/properties/dateCreated/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=I===o}else var a=!0;if(a)if(y.filter!==void 0){let I=y.filter,R=o;if(o===R)if(I&&typeof I=="object"&&!Array.isArray(I)){if(Object.keys(I).length<1)return Oo.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let B=o;for(let C in I)if(!(C==="protocol"||C==="recipient"))return Oo.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:C},message:"must NOT have additional properties"}],!1;if(B===o){if(I.protocol!==void 0){let C=o;if(typeof I.protocol!="string")return Oo.errors=[{instancePath:e+"/descriptor/filter/protocol",schemaPath:"#/properties/descriptor/properties/filter/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=C===o}else var f=!0;if(f)if(I.recipient!==void 0){let C=I.recipient,U=o;if(o===o)if(typeof C=="string"){if(!zd.test(C))return Oo.errors=[{instancePath:e+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Oo.errors=[{instancePath:e+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=U===o}else var f=!0}}}else return Oo.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=R===o}else var a=!0}}}}}else return Oo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=m===o}else var c=!0}}}else return Oo.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Oo.errors=s,o===0}var oZe=Ka,pce={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-read.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","date","recordId"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Read"],type:"string"},date:{type:"string"},recordId:{type:"string"}}}}};function Ka(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let s=null,o=0;if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let c;if(t.descriptor===void 0&&(c="descriptor"))return Ka.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:c},message:"must have required property '"+c+"'"}],!1;{let u=o;for(let l in t)if(!(l==="authorization"||l==="descriptor"))return Ka.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"}],!1;if(u===o){if(t.authorization!==void 0){let l=o;fr(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(s=s===null?fr.errors:s.concat(fr.errors),o=s.length);var f=l===o}else var f=!0;if(f)if(t.descriptor!==void 0){let l=t.descriptor,y=o;if(o===y)if(l&&typeof l=="object"&&!Array.isArray(l)){let g;if(l.interface===void 0&&(g="interface")||l.method===void 0&&(g="method")||l.date===void 0&&(g="date")||l.recordId===void 0&&(g="recordId"))return Ka.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:g},message:"must have required property '"+g+"'"}],!1;{let E=o;for(let x in l)if(!(x==="interface"||x==="method"||x==="date"||x==="recordId"))return Ka.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;if(E===o){if(l.interface!==void 0){let x=l.interface,T=o;if(typeof x!="string")return Ka.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(x!=="Records")return Ka.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:pce.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var a=T===o}else var a=!0;if(a){if(l.method!==void 0){let T=l.method,M=o;if(typeof T!="string")return Ka.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(T!=="Read")return Ka.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:pce.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var a=M===o}else var a=!0;if(a){if(l.date!==void 0){let M=o;if(typeof l.date!="string")return Ka.errors=[{instancePath:e+"/descriptor/date",schemaPath:"#/properties/descriptor/properties/date/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=M===o}else var a=!0;if(a)if(l.recordId!==void 0){let M=o;if(typeof l.recordId!="string")return Ka.errors=[{instancePath:e+"/descriptor/recordId",schemaPath:"#/properties/descriptor/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=M===o}else var a=!0}}}}}else return Ka.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=y===o}else var f=!0}}}else return Ka.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Ka.errors=s,o===0}var sZe=Hn;function tye(t,e){let r=X0e[t];if(!r)throw new Error(`schema for ${t} not found.`);if(r(e),!r.errors)return;let[i]=r.errors,{instancePath:n,message:s}=i;throw n||(n=t),new Error(`${n}: ${s}`)}var aZe=(t=>(t.Events="Events",t.Hooks="Hooks",t.Messages="Messages",t.Permissions="Permissions",t.Protocols="Protocols",t.Records="Records",t))(aZe||{}),fZe=(t=>(t.Configure="Configure",t.Get="Get",t.Grant="Grant",t.Query="Query",t.Read="Read",t.Request="Request",t.Write="Write",t.Delete="Delete",t))(fZe||{}),Ot=class{constructor(t){this.message=t,t.authorization!==void 0&&(this.authorizationPayload=Mf.decodePlainObjectPayload(t.authorization),this.author=Ot.getAuthor(t))}toJSON(){return this.message}static validateJsonSchema(t){let e=t.descriptor.interface,r=t.descriptor.method,i=e+r;tye(i,t)}static getAuthor(t){return t.authorization===void 0?void 0:Mf.getSignerDid(t.authorization.signatures[0])}static async getCid(t){return await Ju(t)}static async compareCid(t,e){let r=await Ot.getCid(t),i=await Ot.getCid(e);return e_(r,i)}static async isCidLarger(t,e){return await Ot.compareCid(t,e)>0}static async getMessageWithLargestCid(t){let e;for(let r of t)(e===void 0||await Ot.isCidLarger(r,e))&&(e=r);return e}static async signAsAuthorization(t,e){let r={descriptorCid:await Ju(t)},i=JSON.stringify(r),n=new TextEncoder().encode(i);return(await yS.create(n,[e])).getJws()}static async getNewestMessage(t){let e;for(let r of t)(e===void 0||await Ot.isNewer(r,e))&&(e=r);return e}static async isNewer(t,e){return await Ot.compareModifiedTime(t,e)>0}static async isOlder(t,e){return await Ot.compareModifiedTime(t,e)<0}static async compareModifiedTime(t,e){return t.descriptor.dateModified>e.descriptor.dateModified?1:t.descriptor.dateModified<e.descriptor.dateModified?-1:Ot.compareCid(t,e)}};ee();var uZe=vr(Cqe(),1);function cZe(t){let e=uZe.default.flatten(t);return rye(e),e}function lZe(t){if(typeof t!="object")return!1;for(let e in t)return!1;return!0}function rye(t){Object.keys(t).forEach(e=>{lZe(t[e])?delete t[e]:typeof t[e]=="object"&&rye(t[e])})}function yv(t){Object.keys(t).forEach(e=>{t[e]===void 0?delete t[e]:typeof t[e]=="object"&&yv(t[e])})}ee();ee();ee();var dZe=vr(Oqe(),1),iye=class{constructor(t){this.timeToLiveInSeconds=t,this.cache=new dZe.default({max:1e5,ttl:t*1e3})}async set(t,e){try{this.cache.set(t,e)}catch{}}async get(t){return this.cache.get(t)}async dump(){for(let[t,e]of this.cache)console.debug(t,e)}},nye=class{constructor(t,e){this.jws=t,this.cache=e||new iye(600)}async verify(t){let e=[];for(let r of this.jws.signatures){let i,n=`${r.protected}.${this.jws.payload}.${r.signature}`,s=Mf.getKid(r),o=await nye.getPublicKey(s,t),a=await this.cache.get(n);a===void 0?(i=await Mf.verifySignature(this.jws.payload,r,o),await this.cache.set(n,i)):i=a;let f=Mf.extractDid(s);if(i)e.push(f);else throw new Error(`signature verification failed for ${f}`)}return{signers:e}}static async getPublicKey(t,e){let r=Mf.extractDid(t),{didDocument:i}=await e.resolve(r),{verificationMethod:n=[]}=i||{},s;for(let a of n)if(t.endsWith(a.id)){s=a;break}if(!s)throw new Error("public key needed to verify signature not found in DID Document");tye("JwkVerificationMethod",s);let{publicKeyJwk:o}=s;return o}};async function GL(t,e,r){await Rm(e.message.authorization,r),await J_(t,e)}async function Kd(t,e){if(t.authorization===void 0)throw new Af("AuthorizationMissing","Property `authorization` is missing.");if(t.authorization.signatures.length!==1)throw new Error("expected no more than 1 signature for authorization");let r=Mf.decodePlainObjectPayload(t.authorization),{descriptorCid:i}=r,n=await Ju(t.descriptor);if(i!==n)throw new Error(`provided descriptorCid ${i} does not match expected CID ${n}`);let s=e?.allowedProperties??new Set,o={...r};delete o.descriptorCid;for(let a in o){if(!s.has(a))throw new Error(`${a} not allowed in auth payload.`);try{lpe(r[a])}catch{throw new Error(`${a} must be a valid CID`)}}return r}async function Rm(t,e){if(t===void 0)throw new Af("AuthenticateJwsMissing","Missing JWS.");await new nye(t).verify(e)}async function J_(t,e){if(e.author!==t)throw new Error("message failed authorization, permission grant check not yet implemented")}var hZe=(t=>(t.CreatedAscending="createdAscending",t.CreatedDescending="createdDescending",t.PublishedAscending="publishedAscending",t.PublishedDescending="publishedDescending",t))(hZe||{}),im=class extends Ot{static async parse(t){return await Kd(t),new im(t)}static async create(t){let e={interface:"Records",method:"Query",dateCreated:t.dateCreated??qd(),filter:t.filter,dateSort:t.dateSort};yv(e);let r=await Ot.signAsAuthorization(e,t.authorizationSignatureInput),i={descriptor:e,authorization:r};return Ot.validateJsonSchema(i),new im(i)}async authorize(t){if(this.author===t)return;let e=this.message.descriptor.filter.recipient;if(e!==void 0&&e!==this.author)throw new Error(`${this.author} is not allowed to query records intended for another recipient: ${e}`)}static convertFilter(t){let e={...t},{dateCreated:r}=e,i;return r!==void 0&&(r.to!==void 0&&r.from!==void 0?i={gte:r.from,lt:r.to}:r.to!==void 0?i={lt:r.to}:r.from!==void 0&&(i={gte:r.from})),i&&(e.dateCreated=i),e}};ee();var pZe=vr(mj(),1),Yb=class{static async toBytes(t){return new Promise((e,r)=>{let i=[];t.on("data",n=>{i.push(n)}),t.on("end",()=>{let n=Yb.concatenateArrayOfBytes(i);e(n)}),t.on("error",r)})}static concatenateArrayOfBytes(t){let e=t.reduce((n,s)=>n+s.length,0),r=new Uint8Array(e),i=0;for(let n of t)r.set(n,i),i+=n.length;return r}static fromBytes(t){let e=0;return new pZe.Readable({read(r){e+1e5>t.length?(this.push(t.subarray(e)),this.push(null)):(this.push(t.subarray(e,e+1e5)),e=e+1e5)}})}static fromObject(t){let e=Ir.objectToBytes(t);return Yb.fromBytes(e)}};ee();var yZe=(t=>(t.ProtocolContext="protocol-context",t))(yZe||{}),K2t=class{static async derivePrivateKey(t,e){let r=rn.privateJwkToBytes(t.derivedPrivateKey),i=await rn.derivePrivateKey(r,e),n=await rn.privateKeyToJwk(i);return{derivationPath:[...t.derivationPath,...e],derivationScheme:t.derivationScheme,derivedPrivateKey:n}}};ee();var yce=vr(qqe(),1);ee();var oye=class{static getMethodSpecificId(t){let e=t.indexOf(":",4);return t.substring(e+1)}static validate(t){if(typeof t!="string")throw new Error(`DID is not string: ${t}`);if(!/^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(\/[^#?]*)?([?][^#]*)?(#.*)?$/.test(t))throw new TypeError(`DID is not a valid DID: ${t}`)}static getMethodName(t){let e=t.indexOf(":",4);return t.substring(4,e)}},ZO=class{method(){return"key"}static getMulticodecSize(t){let e=0;for(;;){let r=t[e];if(e++,(r&128)!==128)break}return e}async resolve(t){let[e,r,i]=t.split(":",3);try{let n=Xu.decode(i),s=yce.default.decode(n),o=ZO.getMulticodecSize(n),a=n.slice(o),f=[],c;if(s===237)f.push("https://w3id.org/security/suites/ed25519-2020/v1"),c=await $O.publicKeyToJwk(a);else if(s===231)c=await rn.publicKeyToJwk(a);else throw Error(`key type of multicodec ${s} is not supported`);let u=`${t}#${i}`;return{"@context":"https://w3id.org/did-resolution/v1",didDocument:{"@context":["https://www.w3.org/ns/did/v1","https://w3id.org/security/suites/jws-2020/v1",...f],id:t,verificationMethod:[{id:u,type:"JsonWebKey2020",controller:t,publicKeyJwk:c}],authentication:[u],assertionMethod:[u],capabilityDelegation:[u],capabilityInvocation:[u]},didDocumentMetadata:{},didResolutionMetadata:{}}}catch{return{didDocument:void 0,didDocumentMetadata:{},didResolutionMetadata:{error:"invalidDid"}}}}static async generate(){let{publicJwk:t,privateJwk:e}=await $O.generateKeyPair(),r=yce.default.encode(237),i=Ir.base64UrlToBytes(t.x),n=new Uint8Array(r.length+i.byteLength);n.set(r,0),n.set(i,r.length);let s=`did:key:${Xu.encode(n)}`,o=ZO.getKeyId(s);return{did:s,keyId:o,keyPair:{publicJwk:t,privateJwk:e}}}static getKeyId(t){let e=oye.getMethodSpecificId(t);return`${t}#${e}`}async dump(){}};ee();var mZe=vr(zqe(),1),gZe=globalThis.fetch??mZe.default,bZe=class{constructor(t="https://discover.did.msidentity.com/1.0/identifiers/"){this.resolutionEndpoint=t}method(){return"ion"}async resolve(t){let e=new URL("./"+t,this.resolutionEndpoint).toString(),r=await gZe(e);if(r.status!==200)throw new Error(`unable to resolve ${t}, got http status ${r.status}`);return await r.json()}async dump(){}};ee();var vZe=class{constructor(t,e){this.cache=e||new iye(600),(t===void 0||t.length===0)&&(t=[new bZe,new ZO]),this.didResolvers=new Map;for(let r of t)this.didResolvers.set(r.method(),r)}async resolve(t){oye.validate(t);let e=t.split(":",3)[1],r=this.didResolvers.get(e);if(!r)throw new Error(`${e} DID method not supported`);let i=await this.cache.get(t),n=i??await r.resolve(t);i===void 0&&await this.cache.set(t,n);let{didDocument:s,didResolutionMetadata:o}=n;if(!s||o?.error){let{error:a}=o,f=`Failed to resolve DID ${t}.`;throw f+=a?` Error: ${a}`:"",new Error(f)}return n}async dump(){console.group("didResolvers");for(let[t,e]of this.didResolvers)console.group(t),await e.dump?.(),console.groupEnd();console.groupEnd(),console.group("didCache"),await this.cache.dump?.(),console.groupEnd()}};ee();ee();ee();function Ib(t){var e=new Error(t);return e.source="ulid",e}var Rb="0123456789ABCDEFGHJKMNPQRSTVWXYZ",Bb=Rb.length,mce=Math.pow(2,48)-1,GO=10,sye=16;function gce(t,e,r){return e>t.length-1?t:t.substr(0,e)+r+t.substr(e+1)}function wZe(t){for(var e=void 0,r=t.length,i=void 0,n=void 0,s=Bb-1;!e&&r-->=0;){if(i=t[r],n=Rb.indexOf(i),n===-1)throw Ib("incorrectly encoded string");if(n===s){t=gce(t,r,Rb[0]);continue}e=gce(t,r,Rb[n+1])}if(typeof e=="string")return e;throw Ib("cannot increment this string")}function _Ze(t){var e=Math.floor(t()*Bb);return e===Bb&&(e=Bb-1),Rb.charAt(e)}function JO(t,e){if(isNaN(t))throw new Error(t+" must be a number");if(t>mce)throw Ib("cannot encode time greater than "+mce);if(t<0)throw Ib("time must be positive");if(Number.isInteger(t)===!1)throw Ib("time must be an integer");for(var r=void 0,i="";e>0;e--)r=t%Bb,i=Rb.charAt(r)+i,t=(t-r)/Bb;return i}function aye(t,e){for(var r="";t>0;t--)r=_Ze(e)+r;return r}function fye(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=arguments[1];e||(e=typeof window<"u"?window:null);var r=e&&(e.crypto||e.msCrypto);if(r)return function(){var n=new Uint8Array(1);return r.getRandomValues(n),n[0]/255};try{var i=iv();return function(){return i.randomBytes(1).readUInt8()/255}}catch{}if(t){try{console.error("secure crypto unusable, falling back to insecure Math.random()!")}catch{}return function(){return Math.random()}}throw Ib("secure crypto unusable, insecure Math.random not allowed")}function EZe(t){return t||(t=fye()),function(e){return isNaN(e)&&(e=Date.now()),JO(e,GO)+aye(sye,t)}}function SZe(t){t||(t=fye());var e=0,r=void 0;return function(i){if(isNaN(i)&&(i=Date.now()),i<=e){var n=r=wZe(r);return JO(e,GO)+n}e=i;var s=r=aye(sye,t);return JO(i,GO)+s}}var H2t=EZe(),bce="watermarks",vce="cids",xZe=class{constructor(t){this.config={location:"EVENTLOG",createLevelDatabase:hv,...t},this.db=new x_({...this.config,valueEncoding:"utf8"}),this.ulid=SZe()}async open(){return this.db.open()}async close(){return this.db.close()}async clear(){return this.db.clear()}async append(t,e){let r=await this.db.partition(t),i=await r.partition(bce),n=await r.partition(vce),s=this.ulid();return await i.put(s,e),await n.put(e,s),s}async getEvents(t,e){let r=await(await this.db.partition(t)).partition(bce),i=[];for await(let[n,s]of r.iterator(e)){let o={watermark:n,messageCid:s};i.push(o)}return i}async deleteEventsByCid(t,e){if(e.length===0)return 0;let r=await this.db.partition(t),i=await r.partition(vce),n=[],s=[];for(let f of e){n.push({type:"del",key:f});let c=i.get(f).catch(u=>u);s.push(c)}await i.batch(n),n=[];let o=0,a=await Promise.all(s);for(let f of a)f&&(n.push({type:"del",key:f}),o+=1);return await(await r.partition("watermarks")).batch(n),o}async dump(){console.group("db"),await this.db.dump?.(),console.groupEnd()}};ee();ee();var XO=class extends Ot{static async parse(t){return Ot.validateJsonSchema(t),await Kd(t),new XO(t)}static async create(t){let e={interface:"Events",method:"Get"};t.watermark&&(e.watermark=t.watermark);let r=await Ot.signAsAuthorization(e,t.authorizationSignatureInput),i={descriptor:e,authorization:r};return Ot.validateJsonSchema(i),new XO(i)}};ee();var Jr=class{constructor(t){let{status:e,entries:r,data:i}=t;this.status=e,this.entries=r,this.data=i}static fromError(t,e){let r=t instanceof Error?t.message:"Error";return new Jr({status:{code:e,detail:r}})}},AZe=class{constructor(t,e){this.didResolver=t,this.eventLog=e}async handle({tenant:t,message:e}){let r;try{r=await XO.parse(e)}catch(s){return Jr.fromError(s,400)}try{await Rm(e.authorization,this.didResolver),await J_(t,r)}catch(s){return Jr.fromError(s,401)}let i;e.descriptor.watermark&&(i={gt:e.descriptor.watermark});let n=await this.eventLog.getEvents(t,i);return{status:{code:200,detail:"OK"},events:n}}};ee();ee();var JL=class{};JL.maxDataSizeAllowedToBeEncoded=1e4;ee();var k9=class extends Ot{static async parse(t){return Ot.validateJsonSchema(t),this.validateMessageCids(t.descriptor.messageCids),await Kd(t),new k9(t)}static async create(t){let e={interface:"Messages",method:"Get",messageCids:t.messageCids},r=await Ot.signAsAuthorization(e,t.authorizationSignatureInput),i={descriptor:e,authorization:r};return Ot.validateJsonSchema(i),k9.validateMessageCids(t.messageCids),new k9(i)}static validateMessageCids(t){for(let e of t)try{lpe(e)}catch{throw new Error(`${e} is not a valid CID`)}}},MZe=class{constructor(t,e,r){this.didResolver=t,this.messageStore=e,this.dataStore=r}async handle({tenant:t,message:e}){let r;try{r=await k9.parse(e)}catch(o){return Jr.fromError(o,400)}try{await Rm(e.authorization,this.didResolver),await J_(t,r)}catch(o){return Jr.fromError(o,401)}let i=[],n=new Set(e.descriptor.messageCids);for(let o of n){let a=this.messageStore.get(t,o).then(f=>({messageCid:o,message:f})).catch(f=>({messageCid:o,message:void 0,error:`Failed to get message ${o}`}));i.push(a)}let s=await Promise.all(i);for(let o of s){let{message:a}=o;if(!a)continue;let{interface:f,method:c}=a.descriptor;if(f!=="Records"||c!=="Write")continue;let u=a.descriptor.dataCid,l=a.descriptor.dataSize;if(u!==void 0&&l<=JL.maxDataSizeAllowedToBeEncoded){let y=await Ot.getCid(a),m=await this.dataStore.get(t,y,u);if(m){let g=await Yb.toBytes(m.dataStream);o.encodedData=Ir.bytesToBase64Url(g)}}}return{status:{code:200,detail:"OK"},messages:s}}};ee();ee();function p9({enumerable:t=!0,configurable:e=!1}={}){return{enumerable:t,configurable:e,writable:!1}}function*kZe(t,e){if(e!=null&&typeof e=="object")if(Array.isArray(e))for(let[r,i]of e.entries()){let n=[...t,r],s=Sr.asCID(i);s?yield[n.join("/"),s]:typeof i=="object"&&(yield*QO(i,n))}else{let r=Sr.asCID(e);r?yield[t.join("/"),r]:yield*QO(e,t)}}function*QO(t,e){if(t==null||t instanceof Uint8Array)return;let r=Sr.asCID(t);r&&(yield[e.join("/"),r]);for(let[i,n]of Object.entries(t)){let s=[...e,i];yield*kZe(s,n)}}function*TZe(t,e){if(Array.isArray(e))for(let[r,i]of e.entries()){let n=[...t,r];yield n.join("/"),typeof i=="object"&&!Sr.asCID(i)&&(yield*ej(i,n))}else yield*ej(e,t)}function*ej(t,e){if(!(t==null||typeof t!="object"))for(let[r,i]of Object.entries(t)){let n=[...e,r];yield n.join("/"),i!=null&&!(i instanceof Uint8Array)&&typeof i=="object"&&!Sr.asCID(i)&&(yield*TZe(n,i))}}function PZe(t,e){let r=t;for(let[i,n]of e.entries()){if(r=r[n],r==null)throw new Error(`Object has no property at ${e.slice(0,i+1).map(o=>`[${JSON.stringify(o)}]`).join("")}`);let s=Sr.asCID(r);if(s)return{value:s,remaining:e.slice(i+1).join("/")}}return{value:r}}var uye=class{constructor({cid:t,bytes:e,value:r}){if(!t||!e||typeof r>"u")throw new Error("Missing required argument");this.cid=t,this.bytes=e,this.value=r,this.asBlock=this,Object.defineProperties(this,{cid:p9(),bytes:p9(),value:p9(),asBlock:p9()})}links(){return QO(this.value,[])}tree(){return ej(this.value,[])}get(t="/"){return PZe(this.value,t.split("/").filter(Boolean))}};async function DZe({value:t,codec:e,hasher:r}){if(typeof t>"u")throw new Error('Missing required argument "value"');if(!e||!r)throw new Error("Missing required argument: codec or hasher");let i=e.encode(t),n=await r.digest(i),s=Sr.create(1,e.code,n);return new uye({value:t,bytes:i,cid:s})}async function IZe({bytes:t,codec:e,hasher:r}){if(!t)throw new Error('Missing required argument "bytes"');if(!e||!r)throw new Error("Missing required argument: codec or hasher");let i=e.decode(t),n=await r.digest(t),s=Sr.create(1,e.code,n);return new uye({value:i,bytes:t,cid:s})}ee();var RZe=class{constructor(t){this.config={createLevelDatabase:hv,...t},this.db=new x_({...this.config,valueEncoding:"utf8"})}async open(){return this.db.open()}async close(){return this.db.close()}async put(t,e,r){e=cZe(e);let i=[],n=[];for(let s in e){let o=e[s],a=this.join(s,this.encodeValue(o));i.push({type:"put",key:this.join(a,t),value:t}),n.push(a)}return i.push({type:"put",key:`__${t}__prefixes`,value:JSON.stringify(n)}),this.db.batch(i,r)}async query(t,e){let r=new Set,i={},n=[],s=[];async function o(a,f){n.push(f);for(let[c,u]of await f)i[u]??=new Set([...r]),i[u].delete(a),i[u].size===0&&s.push(u)}for(let a in t){let f=t[a];if(typeof f=="object"&&f!==null)if(Array.isArray(f))for(let c of new Set(f))o(a,this.findExactMatches(a,c,e));else o(a,this.findRangeMatches(a,f,e));else o(a,this.findExactMatches(a,f,e));r.add(a)}return await Promise.all(n),s}async delete(t,e){let r=await this.db.get(`__${t}__prefixes`,e);if(!r)return;let i=[];for(let n of JSON.parse(r))i.push({type:"del",key:this.join(n,t)});return i.push({type:"del",key:`__${t}__prefixes`}),this.db.batch(i,e)}async clear(){return this.db.clear()}async findExactMatches(t,e,r){let i=this.join(t,this.encodeValue(e)),n={gt:i};return this.findMatches(i,n,r)}async findRangeMatches(t,e,r){let i=this.join(t),n={};for(let o in e)n[o]=this.join(t,this.encodeValue(e[o]));let s=await this.findMatches(i,n,r);if("lte"in e)for(let[o,a]of await this.findExactMatches(t,e.lte,r))s.set(o,a);return s}async findMatches(t,e,r){("lt"in e||"lte"in e)&&!("gt"in e||"gte"in e)&&(e.reverse=!0);let i=new Map;for await(let[n,s]of this.db.iterator(e,r)){if(!n.startsWith(t))break;i.set(n,s)}return i}encodeValue(t){return typeof t=="string"?`"${t}"`:String(t)}join(...t){return t.join("\0")}async dump(){console.group("db"),await this.db.dump?.(),console.groupEnd()}},BZe=class{constructor(t={}){this.config={blockstoreLocation:"MESSAGESTORE",indexLocation:"INDEX",createLevelDatabase:hv,...t},this.blockstore=new LL({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase}),this.index=new RZe({location:this.config.indexLocation,createLevelDatabase:this.config.createLevelDatabase})}async open(){await this.blockstore.open(),await this.index.open()}async close(){await this.blockstore.close(),await this.index.close()}async get(t,e,r){r?.signal?.throwIfAborted();let i=await Ms(r?.signal,this.blockstore.partition(t)),n=Sr.parse(e),s=await i.get(n,r);return s?(await Ms(r?.signal,IZe({bytes:s,codec:D9,hasher:tc}))).value:void 0}async query(t,e,r){r?.signal?.throwIfAborted();let i=[],n=await this.index.query({...e,tenant:t},r);for(let s of n){let o=await this.get(t,s,r);o&&i.push(o)}return i}async delete(t,e,r){r?.signal?.throwIfAborted();let i=await Ms(r?.signal,this.blockstore.partition(t)),n=Sr.parse(e);await i.delete(n,r),await this.index.delete(e,r)}async put(t,e,r,i){i?.signal?.throwIfAborted();let n=await Ms(i?.signal,this.blockstore.partition(t)),s=await Ms(i?.signal,DZe({value:e,codec:D9,hasher:tc}));await n.put(s.cid,s.bytes,i);let o=s.cid.toString(),a={...r,tenant:t};await this.index.put(o,a,i)}async clear(){await this.blockstore.clear(),await this.index.clear()}async dump(){console.group("blockstore"),await this.blockstore.dump?.(),console.groupEnd(),console.group("index"),await this.index.dump?.(),console.groupEnd()}};ee();ee();ee();ee();var y9,CZe=new Uint8Array(16);function OZe(){if(!y9&&(y9=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!y9))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return y9(CZe)}ee();ee();ee();var jZe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function LZe(t){return typeof t=="string"&&jZe.test(t)}var NZe=LZe,As=[];for(m9=0;m9<256;++m9)As.push((m9+256).toString(16).substr(1));var m9;function qZe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(As[t[e+0]]+As[t[e+1]]+As[t[e+2]]+As[t[e+3]]+"-"+As[t[e+4]]+As[t[e+5]]+"-"+As[t[e+6]]+As[t[e+7]]+"-"+As[t[e+8]]+As[t[e+9]]+"-"+As[t[e+10]]+As[t[e+11]]+As[t[e+12]]+As[t[e+13]]+As[t[e+14]]+As[t[e+15]]).toLowerCase();if(!NZe(r))throw TypeError("Stringified UUID is invalid");return r}var zZe=qZe;ee();function FZe(t,e,r){t=t||{};var i=t.random||(t.rng||OZe)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){r=r||0;for(var n=0;n<16;++n)e[r+n]=i[n];return e}return zZe(i)}var UZe=FZe,tj=class extends Ot{static async parse(t){return await Kd(t),new tj(t)}static async create(t){let{conditions:e}=t,r={...$Ze,...e||{}},i={interface:"Permissions",method:"Request",dateCreated:t.dateCreated??qd(),conditions:r,description:t.description,grantedTo:t.grantedTo,grantedBy:t.grantedBy,objectId:t.objectId?t.objectId:UZe(),scope:t.scope};Ot.validateJsonSchema({descriptor:i,authorization:{}});let n=await Ot.signAsAuthorization(i,t.authorizationSignatureInput),s={descriptor:i,authorization:n};return new tj(s)}get id(){return this.message.descriptor.objectId}get conditions(){return this.message.descriptor.conditions}get grantedBy(){return this.message.descriptor.grantedBy}get grantedTo(){return this.message.descriptor.grantedTo}get description(){return this.message.descriptor.description}get scope(){return this.message.descriptor.scope}},$Ze={attestation:"optional",delegation:!1,encryption:"optional",publication:!1,sharedAccess:!1},VZe=class{constructor(t,e,r){this.didResolver=t,this.messageStore=e,this.dataStore=r}async handle({tenant:t,message:e}){let r=await tj.parse(e),{author:i}=r;if(t!==r.grantedBy&&t!==r.grantedTo)return new Jr({status:{code:400,detail:"grantedBy or grantedTo must be the targeted message recipient"}});if(await GL(t,r,this.didResolver),i!==r.grantedTo)throw new Error("grantee must be signer");let n={author:i,...e.descriptor};return await this.messageStore.put(t,e,n),new Jr({status:{code:202,detail:"Accepted"}})}};ee();ee();var rj=class extends Ot{static async parse(t){return await Kd(t),new rj(t)}static async create(t){let e={interface:"Protocols",method:"Configure",dateCreated:t.dateCreated??qd(),protocol:t.protocol,definition:t.definition};Ot.validateJsonSchema({descriptor:e,authorization:{}});let r=await Ot.signAsAuthorization(e,t.authorizationSignatureInput),i={descriptor:e,authorization:r};return new rj(i)}};ee();var Dp=class{static async put(t,e,r,i,n,s,o){let a=await Ot.getCid(n);if(n.descriptor.dataCid!==void 0){let f;if(o===void 0?f=await e.associate(i,a,n.descriptor.dataCid):f=await e.put(i,a,n.descriptor.dataCid,o),!f)throw new Af("MessageStoreDataNotFound",`data with dataCid ${n.descriptor.dataCid} not found in store`);if(n.descriptor.dataSize!==f.dataSize)throw await e.delete(i,a,n.descriptor.dataCid),new Af("MessageStoreDataSizeMismatch",`actual data size ${f.dataSize} bytes does not match dataSize in descriptor: ${n.descriptor.dataSize}`);if(n.descriptor.dataCid!==f.dataCid)throw await e.delete(i,a,n.descriptor.dataCid),new Af("MessageStoreDataCidMismatch",`actual data CID ${f.dataCid} does not match dataCid in descriptor: ${n.descriptor.dataCid}`)}await t.put(i,n,s),await r.append(i,a)}static async query(t,e,r,i){let n=await t.query(r,i);for(let s of n){let o=s.descriptor.dataCid,a=s.descriptor.dataSize;if(o!==void 0&&a<=JL.maxDataSizeAllowedToBeEncoded){let f=await Ot.getCid(s),c=await e.get(r,f,o);if(c){let u=await Yb.toBytes(c.dataStream);s.encodedData=Ir.bytesToBase64Url(u)}}}return n}static async delete(t,e,r,i){let n=await Ot.getCid(i);i.descriptor.dataCid!==void 0&&await e.delete(r,n,i.descriptor.dataCid),await t.delete(r,n)}},KZe=class{constructor(t,e,r,i){this.didResolver=t,this.messageStore=e,this.dataStore=r,this.eventLog=i}async handle({tenant:t,message:e,dataStream:r}){let i;try{i=await rj.parse(e)}catch(u){return Jr.fromError(u,400)}try{await GL(t,i,this.didResolver)}catch(u){return Jr.fromError(u,401)}let n={interface:"Protocols",method:"Configure",protocol:e.descriptor.protocol},s=await this.messageStore.query(t,n),o=await Ot.getMessageWithLargestCid(s),a=!1;(o===void 0||await Ot.isCidLarger(e,o))&&(a=!0,o=e);let f;if(a){let{author:u}=i,l={author:u,...e.descriptor};await Dp.put(this.messageStore,this.dataStore,this.eventLog,t,e,l,r),f=new Jr({status:{code:202,detail:"Accepted"}})}else f=new Jr({status:{code:409,detail:"Conflict"}});let c=[];for(let u of s)if(await Ot.isCidLarger(o,u)){let l=await Ot.getCid(u);c.push(l),await Dp.delete(this.messageStore,this.dataStore,t,u)}return await this.eventLog.deleteEventsByCid(t,c),f}};ee();ee();var ij=class extends Ot{static async parse(t){return await Kd(t),new ij(t)}static async create(t){let e={interface:"Protocols",method:"Query",dateCreated:t.dateCreated??qd(),filter:t.filter};yv(e),Ot.validateJsonSchema({descriptor:e,authorization:{}});let r=await Ot.signAsAuthorization(e,t.authorizationSignatureInput),i={descriptor:e,authorization:r};return new ij(i)}},HZe=class{constructor(t,e,r){this.didResolver=t,this.messageStore=e,this.dataStore=r}async handle({tenant:t,message:e}){let r;try{r=await ij.parse(e)}catch(o){return Jr.fromError(o,400)}try{await GL(t,r,this.didResolver)}catch(o){return Jr.fromError(o,401)}let i={interface:"Protocols",method:"Configure",...e.descriptor.filter};yv(i);let n=await this.messageStore.query(t,i),s=[];for(let o of n){let{authorization:a,...f}=o;s.push(f)}return new Jr({status:{code:200,detail:"OK"},entries:s})}};ee();ee();ee();ee();ee();var wce=vr(iv(),1),_ce=vr(Fqe(),1),Ece=vr(mj(),1),nj=class{static async aes256CtrEncrypt(t,e,r){let i=wce.createCipheriv("aes-256-ctr",t,e),n=new Ece.Readable({read(){}});return r.on("data",s=>{let o=i.update(s);n.push(o)}),r.on("end",()=>{let s=i.final();n.push(s),n.push(null)}),r.on("error",s=>{n.emit("error",s)}),n}static async aes256CtrDecrypt(t,e,r){let i=wce.createDecipheriv("aes-256-ctr",t,e),n=new Ece.Readable({read(){}});return r.on("data",s=>{let o=i.update(s);n.push(o)}),r.on("end",()=>{let s=i.final();n.push(s),n.push(null)}),r.on("error",s=>{n.emit("error",s)}),n}static async eciesSecp256k1Encrypt(t,e){let r=Rt.Buffer.from(t),{ciphertext:i,ephemPublicKey:n,iv:s,mac:o}=await _ce.encrypt(r,e);return{ciphertext:i,ephemeralPublicKey:n,initializationVector:s,messageAuthenticationCode:o}}static async eciesSecp256k1Decrypt(t){let e=Rt.Buffer.from(t.privateKey),r=Rt.Buffer.from(t.ephemeralPublicKey),i={ciphertext:t.ciphertext,ephemPublicKey:r,iv:t.initializationVector,mac:t.messageAuthenticationCode};return await _ce.decrypt(e,i)}},WZe=(t=>(t.Aes256Ctr="A256CTR",t.EciesSecp256k1="ECIES-ES256K",t))(WZe||{});ee();var YZe={Write:"write",Read:"read"},Dd=class{static async authorize(t,e,r,i){let n=await Dd.constructAncestorMessageChain(t,e,i),s=await Dd.fetchProtocolDefinition(t,e,n,i),o=new Map;for(let f in s.labels){let c=s.labels[f].schema;o.set(c,f)}let a=Dd.getRuleSet(e.message,s,n,o);Dd.verifyAllowedActions(t,r,e.message.descriptor.method,a,n,o),await Dd.verifyActionCondition(t,e,i)}static async fetchProtocolDefinition(t,e,r,i){let n;e.message.descriptor.method==="Write"?n=e.message.descriptor.protocol:n=r[r.length-1].descriptor.protocol;let s={interface:"Protocols",method:"Configure",protocol:n},o=await i.query(t,s);if(o.length===0)throw new Error(`unable to find protocol definition for ${n}`);return o[0].descriptor.definition}static async constructAncestorMessageChain(t,e,r){let i=[],n;if(e.message.descriptor.method==="Write")n=e;else{let f=e,c={interface:"Records",method:"Write",recordId:f.message.descriptor.recordId},u=await r.query(t,c),l=await $i.getNewestMessage(u);n=await $i.parse(l),i.push(n.message)}let s=n.message.descriptor.protocol,o=n.message.contextId,a=n.message.descriptor.parentId;for(;a!==void 0;){let f={interface:"Records",method:"Write",protocol:s,contextId:o,recordId:a},c=await r.query(t,f);if(c.length===0)throw new Error(`no parent found with ID ${a}`);let u=c[0];i.push(u),a=u.descriptor.parentId}return i.reverse()}static getRuleSet(t,e,r,i){let n=[...r];t.descriptor.method==="Write"&&n.push(t);let s=e.records,o=0;for(;;){let a=n[o].descriptor.schema,f=i.get(a);if(f===void 0)throw new Error(`record with schema '${a}' not allowed in protocol`);if(s===void 0||!(f in s))throw new Error(`record with schema: '${a}' not allowed in structure level ${o}`);if(o===n.length-1)return s[f];s=s[f].records,o++}}static verifyAllowedActions(t,e,r,i,n,s){let o=i.allow;if(o===void 0){if(e===t)return;throw new Error(`no allow rule defined for ${r}, ${e} is unauthorized`)}let a=new Set;if(o.anyone!==void 0&&o.anyone.to.forEach(c=>a.add(c)),o.author!==void 0){let c=Dd.getMessage(n,o.author.of,s);if(c!==void 0){let u=Ot.getAuthor(c);e===u&&o.author.to.forEach(l=>a.add(l))}}if(o.recipient!==void 0){let c=Dd.getMessage(n,o.recipient.of,s);if(c!==void 0){let u=c.descriptor.recipient;e===u&&o.recipient.to.forEach(l=>a.add(l))}}let f=YZe[r];if(!a.has(f))throw new Error(`inbound message action '${f}' not in list of allowed actions (${new Array(...a).join(",")})`)}static async verifyActionCondition(t,e,r){if(e.message.descriptor.method!=="Read"&&e.message.descriptor.method==="Write"){let i=e;if(!await i.isInitialWrite()){let n={entryId:i.message.recordId},s=(await r.query(t,n))[0],o=Ot.getAuthor(s);if(i.author!==o)throw new Error(`author of incoming message '${i.author}' must match to author of initial write '${o}'`)}}}static getMessage(t,e,r){let i=e.split("/");if(i.length>t.length)return;let n=0;for(;;){let s=i[n],o=t[n],a=r.get(o.descriptor.schema);if(a!==s)throw new Error(`mismatching record schema: expecting ${s} but actual ${a}`);if(n+1===i.length)return o;n++}}};ee();var T9=class{static async decrypt(t,e,r){let{encryption:i,contextId:n,descriptor:s}=t,o=i.keyEncryption.find(E=>E.derivationScheme===e.derivationScheme);if(o===void 0)throw new Af("RecordsDecryptNoMatchingKeyDerivationScheme",`Unable to find symmetric key encrypted using '${e.derivationScheme}' derivation scheme.`);let a=["protocol-context",s.protocol,n],f=await T9.deriveLeafPrivateKey(e,a),c=Ir.base64UrlToBytes(o.encryptedKey),u=rn.publicJwkToBytes(o.ephemeralPublicKey),l=Ir.base64UrlToBytes(o.initializationVector),y=Ir.base64UrlToBytes(o.messageAuthenticationCode),m=await nj.eciesSecp256k1Decrypt({ciphertext:c,ephemeralPublicKey:u,initializationVector:l,messageAuthenticationCode:y,privateKey:f}),g=Ir.base64UrlToBytes(i.initializationVector);return await nj.aes256CtrDecrypt(m,g,r)}static async deriveLeafPublicKey(t,e){if(t.derivedPublicKey.crv!=="secp256k1")throw new Af("RecordsDeriveLeafPublicKeyUnSupportedCurve",`Curve ${t.derivedPublicKey.crv} is not supported.`);T9.validateAncestorKeyAndDescentKeyDerivationPathsMatch(t.derivationPath,e);let r=e.slice(t.derivationPath.length),i=rn.publicJwkToBytes(t.derivedPublicKey);return await rn.derivePublicKey(i,r)}static async deriveLeafPrivateKey(t,e){if(t.derivedPrivateKey.crv!=="secp256k1")throw new Af("RecordsDeriveLeafPrivateKeyUnSupportedCurve",`Curve ${t.derivedPrivateKey.crv} is not supported.`);T9.validateAncestorKeyAndDescentKeyDerivationPathsMatch(t.derivationPath,e);let r=e.slice(t.derivationPath.length),i=rn.privateJwkToBytes(t.derivedPrivateKey);return await rn.derivePrivateKey(i,r)}static validateAncestorKeyAndDescentKeyDerivationPathsMatch(t,e){for(let r=0;r<t.length;r++){let i=t[r],n=e[r];if(i!==n)throw new Af("RecordsInvalidAncestorKeyDerivationSegment",`Ancestor key derivation segment '${i}' mismatches against the descendant key derivation segment '${n}'.`)}}},$i=class extends Ot{constructor(t){super(t),this.attesters=$i.getAttesters(t)}static async parse(t){await Kd(t,{allowedProperties:new Set(["recordId","contextId","attestationCid","encryptionCid"])}),await $i.validateAttestationIntegrity(t);let e=new $i(t);return await e.validateIntegrity(),e}static async create(t){let e=qd();if(t.data===void 0&&t.dataCid===void 0||t.data!==void 0&&t.dataCid!==void 0)throw new Error("one and only one parameter between `data` and `dataCid` is allowed");if(t.dataCid===void 0&&t.dataSize!==void 0||t.dataCid!==void 0&&t.dataSize===void 0)throw new Error("`dataCid` and `dataSize` must both be defined or undefined at the same time");let r=t.dataCid??await W$e.computeDagPbCidFromBytes(t.data),i=t.dataSize??t.data.length,n={interface:"Records",method:"Write",protocol:t.protocol,recipient:t.recipient,schema:t.schema,parentId:t.parentId,dataCid:r,dataSize:i,dateCreated:t.dateCreated??e,dateModified:t.dateModified??e,published:t.published,datePublished:t.datePublished,dataFormat:t.dataFormat};t.published===!0&&t.datePublished===void 0&&(n.datePublished=e),yv(n);let s=Mf.extractDid(t.authorizationSignatureInput.protectedHeader.kid),o=t.recordId??await $i.getEntryId(s,n),a;t.contextId!==void 0?a=t.contextId:n.protocol!==void 0&&(a=await $i.getEntryId(s,n));let f=await Ju(n),c=await $i.createAttestation(f,t.attestationSignatureInputs),u=await $i.createEncryptionProperty(t.encryptionInput,n,a),l=await $i.createAuthorization(o,a,f,c,u,t.authorizationSignatureInput),y={recordId:o,descriptor:n,authorization:l};return a!==void 0&&(y.contextId=a),c!==void 0&&(y.attestation=c),u!==void 0&&(y.encryption=u),Ot.validateJsonSchema(y),new $i(y)}static async createFrom(t){let e=t.unsignedRecordsWriteMessage,r=qd(),i=t.published??(t.datePublished?!0:e.descriptor.published),n;t.datePublished?n=t.datePublished:i&&(e.descriptor.published?n=e.descriptor.datePublished:n=r);let s={recipient:e.descriptor.recipient,recordId:e.recordId,dateCreated:e.descriptor.dateCreated,contextId:e.contextId,protocol:e.descriptor.protocol,parentId:e.descriptor.parentId,schema:e.descriptor.schema,dataFormat:e.descriptor.dataFormat,dateModified:t.dateModified??r,published:i,datePublished:n,data:t.data,dataCid:t.data?void 0:e.descriptor.dataCid,dataSize:t.data?void 0:e.descriptor.dataSize,authorizationSignatureInput:t.authorizationSignatureInput,attestationSignatureInputs:t.attestationSignatureInputs};return await $i.create(s)}async authorize(t,e){this.message.descriptor.protocol!==void 0?await Dd.authorize(t,this,this.author,e):await J_(t,this)}async validateIntegrity(){if(this.message.recordId!==this.authorizationPayload.recordId)throw new Error(`recordId in message ${this.message.recordId} does not match recordId in authorization: ${this.authorizationPayload.recordId}`);if(await this.isInitialWrite()){let t=this.message.descriptor.dateCreated,e=this.message.descriptor.dateModified;if(e!==t)throw new Error(`dateModified ${e} must match dateCreated ${t} for the initial write`);if(this.message.descriptor.protocol!==void 0&&this.message.descriptor.parentId===void 0){let r=await this.getEntryId();if(this.message.contextId!==r)throw new Error(`contextId in message: ${this.message.contextId} does not match deterministic contextId: ${r}`)}}if(this.message.contextId!==this.authorizationPayload.contextId)throw new Error(`contextId in message ${this.message.contextId} does not match contextId in authorization: ${this.authorizationPayload.contextId}`);if(this.authorizationPayload.attestationCid!==void 0){let t=await Ju(this.message.attestation),e=this.authorizationPayload.attestationCid;if(e!==t)throw new Error(`CID ${t} of attestation property in message does not match attestationCid in authorization: ${e}`)}if(this.authorizationPayload.encryptionCid!==void 0){let t=await Ju(this.message.encryption),e=this.authorizationPayload.encryptionCid;if(e!==t)throw new Af("RecordsWriteValidateIntegrityEncryptionCidMismatch",`CID ${t} of encryption property in message does not match encryptionCid in authorization: ${e}`)}}static async validateAttestationIntegrity(t){if(t.attestation===void 0)return;if(t.attestation.signatures.length!==1)throw new Error(`Currently implementation only supports 1 attester, but got ${t.attestation.signatures.length}`);let e=Mf.decodePlainObjectPayload(t.attestation),{descriptorCid:r}=e,i=await Ju(t.descriptor);if(r!==i)throw new Error(`descriptorCid ${r} does not match expected descriptorCid ${i}`);let n=Object.keys(e).length;if(n>1)throw new Error(`Only 'descriptorCid' is allowed in attestation payload, but got ${n} properties.`)}async getEntryId(){return await $i.getEntryId(this.author,this.message.descriptor)}static async getEntryId(t,e){if(t===void 0)throw new Af("RecordsWriteGetEntryIdUndefinedAuthor","Property `author` is needed to compute entry ID.");let r={...e};return r.author=t,await Ju(r)}async isInitialWrite(){return await this.getEntryId()===this.message.recordId}static async isInitialWrite(t){if(t.descriptor.interface!=="Records"||t.descriptor.method!=="Write")return!1;let e=t,r=Ot.getAuthor(t);return await $i.getEntryId(r,e.descriptor)===e.recordId}static async createEncryptionProperty(t,e,r){if(t===void 0)return;let i=[];for(let n of t.keyEncryptionInputs){let s=["protocol-context",e.protocol,r],o=await T9.deriveLeafPublicKey(n.publicKey,s),a=await nj.eciesSecp256k1Encrypt(o,t.key),f=Ir.bytesToBase64Url(a.ciphertext),c=await rn.publicKeyToJwk(a.ephemeralPublicKey),u=Ir.bytesToBase64Url(a.initializationVector),l=Ir.bytesToBase64Url(a.messageAuthenticationCode),y={algorithm:n.algorithm??"ECIES-ES256K",derivationScheme:n.publicKey.derivationScheme,encryptedKey:f,ephemeralPublicKey:c,initializationVector:u,messageAuthenticationCode:l};i.push(y)}return{algorithm:t.algorithm??"A256CTR",initializationVector:Ir.bytesToBase64Url(t.initializationVector),keyEncryption:i}}static async createAttestation(t,e){if(e===void 0||e.length===0)return;let r={descriptorCid:t},i=Ir.objectToBytes(r);return(await yS.create(i,e)).getJws()}static async createAuthorization(t,e,r,i,n,s){let o={recordId:t,descriptorCid:r},a=i?await Ju(i):void 0,f=n?await Ju(n):void 0;e!==void 0&&(o.contextId=e),a!==void 0&&(o.attestationCid=a),f!==void 0&&(o.encryptionCid=f);let c=Ir.objectToBytes(o);return(await yS.create(c,[s])).getJws()}static async getInitialWrite(t){for(let e of t)if(await $i.isInitialWrite(e))return e;throw new Error("initial write is not found")}static verifyEqualityOfImmutableProperties(t,e){let r=["dataCid","dataSize","datePublished","published","dateModified"],i=[];i.push(...Object.keys(t.descriptor)),i.push(...Object.keys(e.descriptor)),i=[...new Set(i)];for(let n of i)if(r.indexOf(n)===-1){let s=t.descriptor[n],o=e.descriptor[n];if(o!==s)throw new Error(`${n} is an immutable property: cannot change '${s}' to '${o}'`)}return!0}static getAttesters(t){return(t.attestation?.signatures??[]).map(e=>Mf.getSignerDid(e))}},ZZe=class{constructor(t,e,r,i){this.didResolver=t,this.messageStore=e,this.dataStore=r,this.eventLog=i}async handle({tenant:t,message:e,dataStream:r}){let i;try{i=await $i.parse(e)}catch(u){return Jr.fromError(u,400)}try{await Rm(e.authorization,this.didResolver),await i.authorize(t,this.messageStore)}catch(u){return Jr.fromError(u,401)}let n={interface:"Records",recordId:e.recordId},s=await this.messageStore.query(t,n);if(!await i.isInitialWrite())try{let u=await $i.getInitialWrite(s);$i.verifyEqualityOfImmutableProperties(u,e)}catch(u){return Jr.fromError(u,400)}let o=await $i.getNewestMessage(s),a=!1,f;o===void 0||await $i.isNewer(e,o)?(a=!0,f=e):f=o;let c;if(a){let u=await cye(i,!0);try{await Dp.put(this.messageStore,this.dataStore,this.eventLog,t,e,u,r)}catch(l){let y=l;if(y.code==="MessageStoreDataCidMismatch"||y.code==="MessageStoreDataNotFound"||y.code==="MessageStoreDataSizeMismatch")return Jr.fromError(l,400);throw l}c=new Jr({status:{code:202,detail:"Accepted"}})}else c=new Jr({status:{code:409,detail:"Conflict"}});return await lye(t,s,f,this.messageStore,this.dataStore,this.eventLog),c}};async function cye(t,e){let r=t.message,i={...r.descriptor};delete i.published;let n={...i,isLatestBaseState:e,published:!!r.descriptor.published,author:t.author,recordId:r.recordId,entryId:await $i.getEntryId(t.author,t.message.descriptor)};return t.attesters.length>0&&(n.attester=t.attesters[0]),r.contextId!==void 0&&(n.contextId=r.contextId),n}async function lye(t,e,r,i,n,s){let o=[];for(let a of e){if(await Ot.isOlder(a,r))if(await Dp.delete(i,n,t,a),await $i.isInitialWrite(a)){let f=await $i.parse(a),c=await cye(f,!1);await i.put(t,a,c)}else{let f=await Ot.getCid(a);o.push(f)}await s.deleteEventsByCid(t,o)}}ee();var oj=class extends Ot{static async parse(t){return await Kd(t),new oj(t)}static async create(t){let e=t.recordId,r=qd(),i={interface:"Records",method:"Delete",recordId:e,dateModified:t.dateModified??r},n=await Ot.signAsAuthorization(i,t.authorizationSignatureInput),s={descriptor:i,authorization:n};return Ot.validateJsonSchema(s),new oj(s)}async authorize(t){await J_(t,this)}},GZe=class{constructor(t,e,r,i){this.didResolver=t,this.messageStore=e,this.dataStore=r,this.eventLog=i}async handle({tenant:t,message:e}){let r;try{r=await oj.parse(e)}catch(c){return Jr.fromError(c,400)}try{await Rm(e.authorization,this.didResolver),await r.authorize(t)}catch(c){return Jr.fromError(c,401)}let i={interface:"Records",recordId:e.descriptor.recordId},n=await this.messageStore.query(t,i),s=await $i.getNewestMessage(n),o=!1,a;s===void 0||await $i.isNewer(e,s)?(o=!0,a=e):a=s;let f;if(o){let c=await JZe(t,r);await this.messageStore.put(t,e,c);let u=await Ju(e);await this.eventLog.append(t,u),f=new Jr({status:{code:202,detail:"Accepted"}})}else f=new Jr({status:{code:409,detail:"Conflict"}});return await lye(t,n,a,this.messageStore,this.dataStore,this.eventLog),f}};async function JZe(t,e){let r={...e.message.descriptor};return{author:e.author,...r}}ee();var XZe=class{constructor(t,e,r){this.didResolver=t,this.messageStore=e,this.dataStore=r}async handle({tenant:t,message:e}){let r;try{r=await im.parse(e)}catch(s){return Jr.fromError(s,400)}try{await Rm(e.authorization,this.didResolver),await r.authorize(t)}catch(s){return Jr.fromError(s,401)}let i;r.author===t?i=await this.fetchRecordsAsOwner(t,r):i=await this.fetchRecordsAsNonOwner(t,r),r.message.descriptor.dateSort&&(i=await QZe(i,r.message.descriptor.dateSort));let n=[];for(let s of i){let{authorization:o,...a}=s;n.push(a)}return new Jr({status:{code:200,detail:"OK"},entries:n})}async fetchRecordsAsOwner(t,e){let r={...im.convertFilter(e.message.descriptor.filter),interface:"Records",method:"Write",isLatestBaseState:!0};return await Dp.query(this.messageStore,this.dataStore,t,r)}async fetchRecordsAsNonOwner(t,e){let r=await this.fetchPublishedRecords(t,e),i=await this.fetchUnpublishedRecordsForRequester(t,e),n=await this.fetchUnpublishedRecordsByRequester(t,e);return[...r,...i,...n]}async fetchPublishedRecords(t,e){let r={...im.convertFilter(e.message.descriptor.filter),interface:"Records",method:"Write",published:!0,isLatestBaseState:!0};return await Dp.query(this.messageStore,this.dataStore,t,r)}async fetchUnpublishedRecordsForRequester(t,e){let r={...im.convertFilter(e.message.descriptor.filter),interface:"Records",method:"Write",recipient:e.author,isLatestBaseState:!0,published:!1};return await Dp.query(this.messageStore,this.dataStore,t,r)}async fetchUnpublishedRecordsByRequester(t,e){let r={...im.convertFilter(e.message.descriptor.filter),author:e.author,interface:"Records",method:"Write",isLatestBaseState:!0,published:!1};return await Dp.query(this.messageStore,this.dataStore,t,r)}};async function QZe(t,e){switch(e){case"createdAscending":return t.sort((r,i)=>e_(r.descriptor.dateCreated,i.descriptor.dateCreated));case"createdDescending":return t.sort((r,i)=>e_(i.descriptor.dateCreated,r.descriptor.dateCreated));case"publishedAscending":return t.filter(r=>r.descriptor.published).sort((r,i)=>e_(r.descriptor.datePublished,i.descriptor.datePublished));case"publishedDescending":return t.filter(r=>r.descriptor.published).sort((r,i)=>e_(i.descriptor.datePublished,r.descriptor.datePublished))}}ee();ee();var sj=class extends Ot{static async parse(t){return t.authorization!==void 0&&await Kd(t),new sj(t)}static async create(t){let{recordId:e,authorizationSignatureInput:r}=t,i=qd(),n={interface:"Records",method:"Read",recordId:e,date:t.date??i},s=r?await Ot.signAsAuthorization(n,r):void 0,o={descriptor:n,authorization:s};return Ot.validateJsonSchema(o),new sj(o)}async authorize(t,e,r){if(this.author!==t)if(e.message.descriptor.protocol!==void 0)await Dd.authorize(t,this,this.author,r);else throw new Error("message failed authorization")}},eGe=class{constructor(t,e,r){this.didResolver=t,this.messageStore=e,this.dataStore=r}async handle({tenant:t,message:e}){let r;try{r=await sj.parse(e)}catch(l){return Jr.fromError(l,400)}try{r.author!==void 0&&await Rm(e.authorization,this.didResolver)}catch(l){return Jr.fromError(l,401)}let i={interface:"Records",recordId:e.descriptor.recordId},n=await this.messageStore.query(t,i),s=await $i.getNewestMessage(n);if(s===void 0||s.descriptor.method==="Delete")return new Jr({status:{code:404,detail:"Not Found"}});let o=s;if(o.descriptor.published!==!0)try{await r.authorize(t,await $i.parse(o),this.messageStore)}catch(l){return Jr.fromError(l,401)}let a=await Ot.getCid(o),f=await this.dataStore.get(t,a,o.descriptor.dataCid);if(f?.dataStream===void 0)return new Jr({status:{code:404,detail:"Not Found"}});let{authorization:c,...u}=o;return{status:{code:200,detail:"OK"},record:{...u,data:f.dataStream}}}},tGe=class{constructor(t){this.didResolver=t.didResolver,this.messageStore=t.messageStore,this.dataStore=t.dataStore,this.eventLog=t.eventLog,this.tenantGate=t.tenantGate,this.methodHandlers={EventsGet:new AZe(this.didResolver,this.eventLog),MessagesGet:new MZe(this.didResolver,this.messageStore,this.dataStore),PermissionsRequest:new VZe(this.didResolver,this.messageStore,this.dataStore),ProtocolsConfigure:new KZe(this.didResolver,this.messageStore,this.dataStore,this.eventLog),ProtocolsQuery:new HZe(this.didResolver,this.messageStore,this.dataStore),RecordsDelete:new GZe(this.didResolver,this.messageStore,this.dataStore,this.eventLog),RecordsQuery:new XZe(this.didResolver,this.messageStore,this.dataStore),RecordsRead:new eGe(this.didResolver,this.messageStore,this.dataStore),RecordsWrite:new ZZe(this.didResolver,this.messageStore,this.dataStore,this.eventLog)}}static async create(t){t??={},t.didResolver??=new vZe,t.tenantGate??=new Uqe,t.messageStore??=new BZe,t.dataStore??=new iYe,t.eventLog??=new xZe;let e=new tGe(t);return await e.open(),e}async open(){await this.messageStore.open(),await this.dataStore.open(),await this.eventLog.open()}async close(){this.messageStore.close(),this.dataStore.close(),this.eventLog.close()}async processMessage(t,e,r){if(!await this.tenantGate.isTenant(t))return new Jr({status:{code:401,detail:`${t} is not a tenant`}});let i=e?.descriptor?.interface,n=e?.descriptor?.method;if(i===void 0||n===void 0)return new Jr({status:{code:400,detail:`Both interface and method must be present, interface: ${i}, method: ${n}`}});try{Ot.validateJsonSchema(e)}catch(o){return Jr.fromError(o,400)}let s=i+n;return await this.methodHandlers[s].handle({tenant:t,message:e,dataStream:r})}async handleRecordsRead(t,e){return await this.processMessage(t,e)}async handleMessagesGet(t,e){return await this.processMessage(t,e)}async dump(){console.group("didResolver"),await this.didResolver.dump?.(),console.groupEnd(),console.group("messageStore"),await this.messageStore.dump?.(),console.groupEnd(),console.group("dataStore"),await this.dataStore.dump?.(),console.groupEnd(),console.group("eventLog"),await this.eventLog.dump?.(),console.groupEnd()}};ee();var rGe=class extends Ot{static async create(t){let e={interface:"Hooks",method:"Write",dateCreated:t.dateCreated??qd(),uri:t.uri,filter:t.filter};yv(e);let r=await Ot.signAsAuthorization(e,t.authorizationSignatureInput),i={descriptor:e,authorization:r};return Ot.validateJsonSchema(i),new rGe(i)}};ee();ee();ee();var XL=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},Za=class{static put(e,r,i,n,s,o,a){return XL(this,void 0,void 0,function*(){let f=yield at.getCid(s);if(s.descriptor.dataCid!==void 0){let c;if(a===void 0?c=yield r.associate(n,f,s.descriptor.dataCid):c=yield r.put(n,f,s.descriptor.dataCid,a),!c)throw new no(tn.MessageStoreDataNotFound,`data with dataCid ${s.descriptor.dataCid} not found in store`);if(s.descriptor.dataSize!==c.dataSize)throw yield r.delete(n,f,s.descriptor.dataCid),new no(tn.MessageStoreDataSizeMismatch,`actual data size ${c.dataSize} bytes does not match dataSize in descriptor: ${s.descriptor.dataSize}`);if(s.descriptor.dataCid!==c.dataCid)throw yield r.delete(n,f,s.descriptor.dataCid),new no(tn.MessageStoreDataCidMismatch,`actual data CID ${c.dataCid} does not match dataCid in descriptor: ${s.descriptor.dataCid}`)}yield e.put(n,s,o),yield i.append(n,f)})}static query(e,r,i,n){return XL(this,void 0,void 0,function*(){let s=yield e.query(i,n);for(let o of s){let a=o.descriptor.dataCid,f=o.descriptor.dataSize;if(a!==void 0&&f<=pp.maxDataSizeAllowedToBeEncoded){let c=yield at.getCid(o),u=yield r.get(i,c,a);if(u){let l=yield Yb.toBytes(u.dataStream);o.encodedData=Ir.bytesToBase64Url(l)}}}return s})}static delete(e,r,i,n){return XL(this,void 0,void 0,function*(){let s=yield at.getCid(n);n.descriptor.dataCid!==void 0&&(yield r.delete(i,s,n.descriptor.dataCid)),yield e.delete(i,s)})}};var iGe=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},tx=class{constructor(e,r,i,n){this.didResolver=e,this.messageStore=r,this.dataStore=i,this.eventLog=n}handle({tenant:e,message:r,dataStream:i}){return iGe(this,void 0,void 0,function*(){let n;try{n=yield il.parse(r)}catch(l){return sr.fromError(l,400)}try{yield lb(e,n,this.didResolver)}catch(l){return sr.fromError(l,401)}let s={interface:xt.Protocols,method:St.Configure,protocol:r.descriptor.protocol},o=yield this.messageStore.query(e,s),a=yield at.getMessageWithLargestCid(o),f=!1;(a===void 0||(yield at.isCidLarger(r,a)))&&(f=!0,a=r);let c;if(f){let{author:l}=n,y=Object.assign({author:l},r.descriptor);yield Za.put(this.messageStore,this.dataStore,this.eventLog,e,r,y,i),c=new sr({status:{code:202,detail:"Accepted"}})}else c=new sr({status:{code:409,detail:"Conflict"}});let u=[];for(let l of o)if(yield at.isCidLarger(a,l)){let y=yield at.getCid(l);u.push(y),yield Za.delete(this.messageStore,this.dataStore,e,l)}return yield this.eventLog.deleteEventsByCid(e,u),c})}};F();F();var dye=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},_l=class extends at{static parse(e){return dye(this,void 0,void 0,function*(){return yield es(e),new _l(e)})}static create(e){var r;return dye(this,void 0,void 0,function*(){let i={interface:xt.Protocols,method:St.Query,dateCreated:(r=e.dateCreated)!==null&&r!==void 0?r:Hs(),filter:e.filter};tl(i),at.validateJsonSchema({descriptor:i,authorization:{}});let n=yield at.signAsAuthorization(i,e.authorizationSignatureInput),s={descriptor:i,authorization:n};return new _l(s)})}};var nGe=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},oGe=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]]);return r},rx=class{constructor(e,r,i){this.didResolver=e,this.messageStore=r,this.dataStore=i}handle({tenant:e,message:r}){return nGe(this,void 0,void 0,function*(){let i;try{i=yield _l.parse(r)}catch(a){return sr.fromError(a,400)}try{yield lb(e,i,this.didResolver)}catch(a){return sr.fromError(a,401)}let n=Object.assign({interface:xt.Protocols,method:St.Configure},r.descriptor.filter);tl(n);let s=yield this.messageStore.query(e,n),o=[];for(let a of s){let{authorization:f}=a,c=oGe(a,["authorization"]);o.push(c)}return new sr({status:{code:200,detail:"OK"},entries:o})})}};F();F();F();F();F();var ox=yr(Ay(),1),sx=yr(mye(),1),eN=yr(J4(),1),nx=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},Yp=class{static aes256CtrEncrypt(e,r,i){return nx(this,void 0,void 0,function*(){let n=ox.createCipheriv("aes-256-ctr",e,r),s=new eN.Readable({read(){}});return i.on("data",o=>{let a=n.update(o);s.push(a)}),i.on("end",()=>{let o=n.final();s.push(o),s.push(null)}),i.on("error",o=>{s.emit("error",o)}),s})}static aes256CtrDecrypt(e,r,i){return nx(this,void 0,void 0,function*(){let n=ox.createDecipheriv("aes-256-ctr",e,r),s=new eN.Readable({read(){}});return i.on("data",o=>{let a=n.update(o);s.push(a)}),i.on("end",()=>{let o=n.final();s.push(o),s.push(null)}),i.on("error",o=>{s.emit("error",o)}),s})}static eciesSecp256k1Encrypt(e,r){return nx(this,void 0,void 0,function*(){let i=te.Buffer.from(e),{ciphertext:n,ephemPublicKey:s,iv:o,mac:a}=yield sx.encrypt(i,r);return{ciphertext:n,ephemeralPublicKey:s,initializationVector:o,messageAuthenticationCode:a}})}static eciesSecp256k1Decrypt(e){return nx(this,void 0,void 0,function*(){let r=te.Buffer.from(e.privateKey),i=te.Buffer.from(e.ephemeralPublicKey),n={ciphertext:e.ciphertext,ephemPublicKey:i,iv:e.initializationVector,mac:e.messageAuthenticationCode};return yield sx.decrypt(r,n)})}},vv;(function(t){t.Aes256Ctr="A256CTR",t.EciesSecp256k1="ECIES-ES256K"})(vv||(vv={}));F();var ax=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},mGe={[St.Write]:"write",[St.Read]:"read"},Ga=class{static authorize(e,r,i,n){return ax(this,void 0,void 0,function*(){let s=yield Ga.constructAncestorMessageChain(e,r,n),o=yield Ga.fetchProtocolDefinition(e,r,s,n),a=new Map;for(let c in o.labels){let u=o.labels[c].schema;a.set(u,c)}let f=Ga.getRuleSet(r.message,o,s,a);Ga.verifyAllowedActions(e,i,r.message.descriptor.method,f,s,a),yield Ga.verifyActionCondition(e,r,n)})}static fetchProtocolDefinition(e,r,i,n){return ax(this,void 0,void 0,function*(){let s;r.message.descriptor.method===St.Write?s=r.message.descriptor.protocol:s=i[i.length-1].descriptor.protocol;let o={interface:xt.Protocols,method:St.Configure,protocol:s},a=yield n.query(e,o);if(a.length===0)throw new Error(`unable to find protocol definition for ${s}`);return a[0].descriptor.definition})}static constructAncestorMessageChain(e,r,i){return ax(this,void 0,void 0,function*(){let n=[],s;if(r.message.descriptor.method===St.Write)s=r;else{let c=r,u={interface:xt.Records,method:St.Write,recordId:c.message.descriptor.recordId},l=yield i.query(e,u),y=yield Rr.getNewestMessage(l);s=yield Rr.parse(y),n.push(s.message)}let o=s.message.descriptor.protocol,a=s.message.contextId,f=s.message.descriptor.parentId;for(;f!==void 0;){let c={interface:xt.Records,method:St.Write,protocol:o,contextId:a,recordId:f},u=yield i.query(e,c);if(u.length===0)throw new Error(`no parent found with ID ${f}`);let l=u[0];n.push(l),f=l.descriptor.parentId}return n.reverse()})}static getRuleSet(e,r,i,n){let s=[...i];e.descriptor.method===St.Write&&s.push(e);let o=r.records,a=0;for(;;){let f=s[a].descriptor.schema,c=n.get(f);if(c===void 0)throw new Error(`record with schema '${f}' not allowed in protocol`);if(o===void 0||!(c in o))throw new Error(`record with schema: '${f}' not allowed in structure level ${a}`);if(a===s.length-1)return o[c];o=o[c].records,a++}}static verifyAllowedActions(e,r,i,n,s,o){let a=n.allow;if(a===void 0){if(r===e)return;throw new Error(`no allow rule defined for ${i}, ${r} is unauthorized`)}let f=new Set;if(a.anyone!==void 0&&a.anyone.to.forEach(u=>f.add(u)),a.author!==void 0){let u=Ga.getMessage(s,a.author.of,o);if(u!==void 0){let l=at.getAuthor(u);r===l&&a.author.to.forEach(y=>f.add(y))}}if(a.recipient!==void 0){let u=Ga.getMessage(s,a.recipient.of,o);if(u!==void 0){let l=u.descriptor.recipient;r===l&&a.recipient.to.forEach(y=>f.add(y))}}let c=mGe[i];if(!f.has(c))throw new Error(`inbound message action '${c}' not in list of allowed actions (${new Array(...f).join(",")})`)}static verifyActionCondition(e,r,i){return ax(this,void 0,void 0,function*(){if(r.message.descriptor.method!==St.Read){if(r.message.descriptor.method===St.Write){let n=r;if(!(yield n.isInitialWrite())){let o={entryId:n.message.recordId},f=(yield i.query(e,o))[0],c=at.getAuthor(f);if(n.author!==c)throw new Error(`author of incoming message '${n.author}' must match to author of initial write '${c}'`)}}}})}static getMessage(e,r,i){let n=r.split("/");if(n.length>e.length)return;let s=0;for(;;){let o=n[s],a=e[s],f=i.get(a.descriptor.schema);if(f!==o)throw new Error(`mismatching record schema: expecting ${o} but actual ${f}`);if(s+1===n.length)return a;s++}}};F();var tN=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},Wd=class{static decrypt(e,r,i){return tN(this,void 0,void 0,function*(){let{encryption:n,contextId:s,descriptor:o}=e,a=n.keyEncryption.find(T=>T.derivationScheme===r.derivationScheme);if(a===void 0)throw new no(tn.RecordsDecryptNoMatchingKeyDerivationScheme,`Unable to find symmetric key encrypted using '${r.derivationScheme}' derivation scheme.`);let f=[Xy.ProtocolContext,o.protocol,s],c=yield Wd.deriveLeafPrivateKey(r,f),u=cr.base64UrlToBytes(a.encryptedKey),l=xi.publicJwkToBytes(a.ephemeralPublicKey),y=cr.base64UrlToBytes(a.initializationVector),m=cr.base64UrlToBytes(a.messageAuthenticationCode),g=yield Yp.eciesSecp256k1Decrypt({ciphertext:u,ephemeralPublicKey:l,initializationVector:y,messageAuthenticationCode:m,privateKey:c}),E=cr.base64UrlToBytes(n.initializationVector);return yield Yp.aes256CtrDecrypt(g,E,i)})}static deriveLeafPublicKey(e,r){return tN(this,void 0,void 0,function*(){if(e.derivedPublicKey.crv!=="secp256k1")throw new no(tn.RecordsDeriveLeafPublicKeyUnSupportedCurve,`Curve ${e.derivedPublicKey.crv} is not supported.`);Wd.validateAncestorKeyAndDescentKeyDerivationPathsMatch(e.derivationPath,r);let i=r.slice(e.derivationPath.length),n=xi.publicJwkToBytes(e.derivedPublicKey);return yield xi.derivePublicKey(n,i)})}static deriveLeafPrivateKey(e,r){return tN(this,void 0,void 0,function*(){if(e.derivedPrivateKey.crv!=="secp256k1")throw new no(tn.RecordsDeriveLeafPrivateKeyUnSupportedCurve,`Curve ${e.derivedPrivateKey.crv} is not supported.`);Wd.validateAncestorKeyAndDescentKeyDerivationPathsMatch(e.derivationPath,r);let i=r.slice(e.derivationPath.length),n=xi.privateJwkToBytes(e.derivedPrivateKey);return yield xi.derivePrivateKey(n,i)})}static validateAncestorKeyAndDescentKeyDerivationPathsMatch(e,r){for(let i=0;i<e.length;i++){let n=e[i],s=r[i];if(n!==s)throw new no(tn.RecordsInvalidAncestorKeyDerivationSegment,`Ancestor key derivation segment '${n}' mismatches against the descendant key derivation segment '${s}'.`)}}};var Ja=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},Rr=class extends at{constructor(e){super(e),this.attesters=Rr.getAttesters(e)}static parse(e){return Ja(this,void 0,void 0,function*(){yield es(e,{allowedProperties:new Set(["recordId","contextId","attestationCid","encryptionCid"])}),yield Rr.validateAttestationIntegrity(e);let r=new Rr(e);return yield r.validateIntegrity(),r})}static create(e){var r,i,n,s,o;return Ja(this,void 0,void 0,function*(){let a=Hs();if(e.data===void 0&&e.dataCid===void 0||e.data!==void 0&&e.dataCid!==void 0)throw new Error("one and only one parameter between `data` and `dataCid` is allowed");if(e.dataCid===void 0&&e.dataSize!==void 0||e.dataCid!==void 0&&e.dataSize===void 0)throw new Error("`dataCid` and `dataSize` must both be defined or undefined at the same time");let f=(r=e.dataCid)!==null&&r!==void 0?r:yield yw.computeDagPbCidFromBytes(e.data),c=(i=e.dataSize)!==null&&i!==void 0?i:e.data.length,u={interface:xt.Records,method:St.Write,protocol:e.protocol,recipient:e.recipient,schema:e.schema,parentId:e.parentId,dataCid:f,dataSize:c,dateCreated:(n=e.dateCreated)!==null&&n!==void 0?n:a,dateModified:(s=e.dateModified)!==null&&s!==void 0?s:a,published:e.published,datePublished:e.datePublished,dataFormat:e.dataFormat};e.published===!0&&e.datePublished===void 0&&(u.datePublished=a),tl(u);let l=oo.extractDid(e.authorizationSignatureInput.protectedHeader.kid),y=(o=e.recordId)!==null&&o!==void 0?o:yield Rr.getEntryId(l,u),m;e.contextId!==void 0?m=e.contextId:u.protocol!==void 0&&(m=yield Rr.getEntryId(l,u));let g=yield oa(u),E=yield Rr.createAttestation(g,e.attestationSignatureInputs),x=yield Rr.createEncryptionProperty(e.encryptionInput,u,m),T=yield Rr.createAuthorization(y,m,g,E,x,e.authorizationSignatureInput),M={recordId:y,descriptor:u,authorization:T};return m!==void 0&&(M.contextId=m),E!==void 0&&(M.attestation=E),x!==void 0&&(M.encryption=x),at.validateJsonSchema(M),new Rr(M)})}static createFrom(e){var r,i;return Ja(this,void 0,void 0,function*(){let n=e.unsignedRecordsWriteMessage,s=Hs(),o=(r=e.published)!==null&&r!==void 0?r:e.datePublished?!0:n.descriptor.published,a;e.datePublished?a=e.datePublished:o&&(n.descriptor.published?a=n.descriptor.datePublished:a=s);let f={recipient:n.descriptor.recipient,recordId:n.recordId,dateCreated:n.descriptor.dateCreated,contextId:n.contextId,protocol:n.descriptor.protocol,parentId:n.descriptor.parentId,schema:n.descriptor.schema,dataFormat:n.descriptor.dataFormat,dateModified:(i=e.dateModified)!==null&&i!==void 0?i:s,published:o,datePublished:a,data:e.data,dataCid:e.data?void 0:n.descriptor.dataCid,dataSize:e.data?void 0:n.descriptor.dataSize,authorizationSignatureInput:e.authorizationSignatureInput,attestationSignatureInputs:e.attestationSignatureInputs};return yield Rr.create(f)})}authorize(e,r){return Ja(this,void 0,void 0,function*(){this.message.descriptor.protocol!==void 0?yield Ga.authorize(e,this,this.author,r):yield Ad(e,this)})}validateIntegrity(){return Ja(this,void 0,void 0,function*(){if(this.message.recordId!==this.authorizationPayload.recordId)throw new Error(`recordId in message ${this.message.recordId} does not match recordId in authorization: ${this.authorizationPayload.recordId}`);if(yield this.isInitialWrite()){let r=this.message.descriptor.dateCreated,i=this.message.descriptor.dateModified;if(i!==r)throw new Error(`dateModified ${i} must match dateCreated ${r} for the initial write`);if(this.message.descriptor.protocol!==void 0&&this.message.descriptor.parentId===void 0){let n=yield this.getEntryId();if(this.message.contextId!==n)throw new Error(`contextId in message: ${this.message.contextId} does not match deterministic contextId: ${n}`)}}if(this.message.contextId!==this.authorizationPayload.contextId)throw new Error(`contextId in message ${this.message.contextId} does not match contextId in authorization: ${this.authorizationPayload.contextId}`);if(this.authorizationPayload.attestationCid!==void 0){let r=yield oa(this.message.attestation),i=this.authorizationPayload.attestationCid;if(i!==r)throw new Error(`CID ${r} of attestation property in message does not match attestationCid in authorization: ${i}`)}if(this.authorizationPayload.encryptionCid!==void 0){let r=yield oa(this.message.encryption),i=this.authorizationPayload.encryptionCid;if(i!==r)throw new no(tn.RecordsWriteValidateIntegrityEncryptionCidMismatch,`CID ${r} of encryption property in message does not match encryptionCid in authorization: ${i}`)}})}static validateAttestationIntegrity(e){return Ja(this,void 0,void 0,function*(){if(e.attestation===void 0)return;if(e.attestation.signatures.length!==1)throw new Error(`Currently implementation only supports 1 attester, but got ${e.attestation.signatures.length}`);let r=oo.decodePlainObjectPayload(e.attestation),{descriptorCid:i}=r,n=yield oa(e.descriptor);if(i!==n)throw new Error(`descriptorCid ${i} does not match expected descriptorCid ${n}`);let s=Object.keys(r).length;if(s>1)throw new Error(`Only 'descriptorCid' is allowed in attestation payload, but got ${s} properties.`)})}getEntryId(){return Ja(this,void 0,void 0,function*(){return yield Rr.getEntryId(this.author,this.message.descriptor)})}static getEntryId(e,r){return Ja(this,void 0,void 0,function*(){if(e===void 0)throw new no(tn.RecordsWriteGetEntryIdUndefinedAuthor,"Property `author` is needed to compute entry ID.");let i=Object.assign({},r);return i.author=e,yield oa(i)})}isInitialWrite(){return Ja(this,void 0,void 0,function*(){return(yield this.getEntryId())===this.message.recordId})}static isInitialWrite(e){return Ja(this,void 0,void 0,function*(){if(e.descriptor.interface!==xt.Records||e.descriptor.method!==St.Write)return!1;let r=e,i=at.getAuthor(e);return(yield Rr.getEntryId(i,r.descriptor))===r.recordId})}static createEncryptionProperty(e,r,i){var n,s;return Ja(this,void 0,void 0,function*(){if(e===void 0)return;let o=[];for(let f of e.keyEncryptionInputs){let c=[Xy.ProtocolContext,r.protocol,i],u=yield Wd.deriveLeafPublicKey(f.publicKey,c),l=yield Yp.eciesSecp256k1Encrypt(u,e.key),y=cr.bytesToBase64Url(l.ciphertext),m=yield xi.publicKeyToJwk(l.ephemeralPublicKey),g=cr.bytesToBase64Url(l.initializationVector),E=cr.bytesToBase64Url(l.messageAuthenticationCode),x={algorithm:(n=f.algorithm)!==null&&n!==void 0?n:vv.EciesSecp256k1,derivationScheme:f.publicKey.derivationScheme,encryptedKey:y,ephemeralPublicKey:m,initializationVector:g,messageAuthenticationCode:E};o.push(x)}return{algorithm:(s=e.algorithm)!==null&&s!==void 0?s:vv.Aes256Ctr,initializationVector:cr.bytesToBase64Url(e.initializationVector),keyEncryption:o}})}static createAttestation(e,r){return Ja(this,void 0,void 0,function*(){if(r===void 0||r.length===0)return;let i={descriptorCid:e},n=cr.objectToBytes(i);return(yield wd.create(n,r)).getJws()})}static createAuthorization(e,r,i,n,s,o){return Ja(this,void 0,void 0,function*(){let a={recordId:e,descriptorCid:i},f=n?yield oa(n):void 0,c=s?yield oa(s):void 0;r!==void 0&&(a.contextId=r),f!==void 0&&(a.attestationCid=f),c!==void 0&&(a.encryptionCid=c);let u=cr.objectToBytes(a);return(yield wd.create(u,[o])).getJws()})}static getInitialWrite(e){return Ja(this,void 0,void 0,function*(){for(let r of e)if(yield Rr.isInitialWrite(r))return r;throw new Error("initial write is not found")})}static verifyEqualityOfImmutableProperties(e,r){let i=["dataCid","dataSize","datePublished","published","dateModified"],n=[];n.push(...Object.keys(e.descriptor)),n.push(...Object.keys(r.descriptor)),n=[...new Set(n)];for(let s of n)if(i.indexOf(s)===-1){let o=e.descriptor[s],a=r.descriptor[s];if(a!==o)throw new Error(`${s} is an immutable property: cannot change '${o}' to '${a}'`)}return!0}static getAttesters(e){var r,i;return((i=(r=e.attestation)===null||r===void 0?void 0:r.signatures)!==null&&i!==void 0?i:[]).map(o=>oo.getSignerDid(o))}};var gye=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},fx=class{constructor(e,r,i,n){this.didResolver=e,this.messageStore=r,this.dataStore=i,this.eventLog=n}handle({tenant:e,message:r,dataStream:i}){return gye(this,void 0,void 0,function*(){let n;try{n=yield Rr.parse(r)}catch(y){return sr.fromError(y,400)}try{yield wf(r.authorization,this.didResolver),yield n.authorize(e,this.messageStore)}catch(y){return sr.fromError(y,401)}let s={interface:xt.Records,recordId:r.recordId},o=yield this.messageStore.query(e,s);if(!(yield n.isInitialWrite()))try{let y=yield Rr.getInitialWrite(o);Rr.verifyEqualityOfImmutableProperties(y,r)}catch(y){return sr.fromError(y,400)}let f=yield Rr.getNewestMessage(o),c=!1,u;f===void 0||(yield Rr.isNewer(r,f))?(c=!0,u=r):u=f;let l;if(c){let m=yield rN(n,!0);try{yield Za.put(this.messageStore,this.dataStore,this.eventLog,e,r,m,i)}catch(g){let E=g;if(E.code===tn.MessageStoreDataCidMismatch||E.code===tn.MessageStoreDataNotFound||E.code===tn.MessageStoreDataSizeMismatch)return sr.fromError(g,400);throw g}l=new sr({status:{code:202,detail:"Accepted"}})}else l=new sr({status:{code:409,detail:"Conflict"}});return yield ux(e,o,u,this.messageStore,this.dataStore,this.eventLog),l})}};function rN(t,e){return gye(this,void 0,void 0,function*(){let r=t.message,i=Object.assign({},r.descriptor);delete i.published;let n=Object.assign(Object.assign({},i),{isLatestBaseState:e,published:!!r.descriptor.published,author:t.author,recordId:r.recordId,entryId:yield Rr.getEntryId(t.author,t.message.descriptor)});return t.attesters.length>0&&(n.attester=t.attesters[0]),r.contextId!==void 0&&(n.contextId=r.contextId),n})}var gGe=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})};function ux(t,e,r,i,n,s){return gGe(this,void 0,void 0,function*(){let o=[];for(let a of e){if(yield at.isOlder(a,r))if(yield Za.delete(i,n,t,a),yield Rr.isInitialWrite(a)){let u=yield Rr.parse(a),y=yield rN(u,!1);yield i.put(t,a,y)}else{let u=yield at.getCid(a);o.push(u)}yield s.deleteEventsByCid(t,o)}})}F();var iN=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},El=class extends at{static parse(e){return iN(this,void 0,void 0,function*(){return yield es(e),new El(e)})}static create(e){var r;return iN(this,void 0,void 0,function*(){let i=e.recordId,n=Hs(),s={interface:xt.Records,method:St.Delete,recordId:i,dateModified:(r=e.dateModified)!==null&&r!==void 0?r:n},o=yield at.signAsAuthorization(s,e.authorizationSignatureInput),a={descriptor:s,authorization:o};return at.validateJsonSchema(a),new El(a)})}authorize(e){return iN(this,void 0,void 0,function*(){yield Ad(e,this)})}};var bye=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},cx=class{constructor(e,r,i,n){this.didResolver=e,this.messageStore=r,this.dataStore=i,this.eventLog=n}handle({tenant:e,message:r}){return bye(this,void 0,void 0,function*(){let i;try{i=yield El.parse(r)}catch(u){return sr.fromError(u,400)}try{yield wf(r.authorization,this.didResolver),yield i.authorize(e)}catch(u){return sr.fromError(u,401)}let n={interface:xt.Records,recordId:r.descriptor.recordId},s=yield this.messageStore.query(e,n),o=yield Rr.getNewestMessage(s),a=!1,f;o===void 0||(yield Rr.isNewer(r,o))?(a=!0,f=r):f=o;let c;if(a){let u=yield bGe(e,i);yield this.messageStore.put(e,r,u);let l=yield oa(r);yield this.eventLog.append(e,l),c=new sr({status:{code:202,detail:"Accepted"}})}else c=new sr({status:{code:409,detail:"Conflict"}});return yield ux(e,s,f,this.messageStore,this.dataStore,this.eventLog),c})}};function bGe(t,e){return bye(this,void 0,void 0,function*(){let r=e.message,i=Object.assign({},r.descriptor);return Object.assign({author:e.author},i)})}F();var Bm=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},vGe=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]]);return r},lx=class{constructor(e,r,i){this.didResolver=e,this.messageStore=r,this.dataStore=i}handle({tenant:e,message:r}){return Bm(this,void 0,void 0,function*(){let i;try{i=yield za.parse(r)}catch(o){return sr.fromError(o,400)}try{yield wf(r.authorization,this.didResolver),yield i.authorize(e)}catch(o){return sr.fromError(o,401)}let n;i.author===e?n=yield this.fetchRecordsAsOwner(e,i):n=yield this.fetchRecordsAsNonOwner(e,i),i.message.descriptor.dateSort&&(n=yield wGe(n,i.message.descriptor.dateSort));let s=[];for(let o of n){let{authorization:a}=o,f=vGe(o,["authorization"]);s.push(f)}return new sr({status:{code:200,detail:"OK"},entries:s})})}fetchRecordsAsOwner(e,r){return Bm(this,void 0,void 0,function*(){let i=Object.assign(Object.assign({},za.convertFilter(r.message.descriptor.filter)),{interface:xt.Records,method:St.Write,isLatestBaseState:!0});return yield Za.query(this.messageStore,this.dataStore,e,i)})}fetchRecordsAsNonOwner(e,r){return Bm(this,void 0,void 0,function*(){let i=yield this.fetchPublishedRecords(e,r),n=yield this.fetchUnpublishedRecordsForRequester(e,r),s=yield this.fetchUnpublishedRecordsByRequester(e,r);return[...i,...n,...s]})}fetchPublishedRecords(e,r){return Bm(this,void 0,void 0,function*(){let i=Object.assign(Object.assign({},za.convertFilter(r.message.descriptor.filter)),{interface:xt.Records,method:St.Write,published:!0,isLatestBaseState:!0});return yield Za.query(this.messageStore,this.dataStore,e,i)})}fetchUnpublishedRecordsForRequester(e,r){return Bm(this,void 0,void 0,function*(){let i=Object.assign(Object.assign({},za.convertFilter(r.message.descriptor.filter)),{interface:xt.Records,method:St.Write,recipient:r.author,isLatestBaseState:!0,published:!1});return yield Za.query(this.messageStore,this.dataStore,e,i)})}fetchUnpublishedRecordsByRequester(e,r){return Bm(this,void 0,void 0,function*(){let i=Object.assign(Object.assign({},za.convertFilter(r.message.descriptor.filter)),{author:r.author,interface:xt.Records,method:St.Write,isLatestBaseState:!0,published:!1});return yield Za.query(this.messageStore,this.dataStore,e,i)})}};function wGe(t,e){return Bm(this,void 0,void 0,function*(){switch(e){case lp.CreatedAscending:return t.sort((r,i)=>Zy(r.descriptor.dateCreated,i.descriptor.dateCreated));case lp.CreatedDescending:return t.sort((r,i)=>Zy(i.descriptor.dateCreated,r.descriptor.dateCreated));case lp.PublishedAscending:return t.filter(r=>r.descriptor.published).sort((r,i)=>Zy(r.descriptor.datePublished,i.descriptor.datePublished));case lp.PublishedDescending:return t.filter(r=>r.descriptor.published).sort((r,i)=>Zy(i.descriptor.datePublished,r.descriptor.datePublished))}})}F();F();var nN=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},Sl=class extends at{static parse(e){return nN(this,void 0,void 0,function*(){return e.authorization!==void 0&&(yield es(e)),new Sl(e)})}static create(e){var r;return nN(this,void 0,void 0,function*(){let{recordId:i,authorizationSignatureInput:n}=e,s=Hs(),o={interface:xt.Records,method:St.Read,recordId:i,date:(r=e.date)!==null&&r!==void 0?r:s},a=n?yield at.signAsAuthorization(o,n):void 0,f={descriptor:o,authorization:a};return at.validateJsonSchema(f),new Sl(f)})}authorize(e,r,i){return nN(this,void 0,void 0,function*(){if(this.author!==e)if(r.message.descriptor.protocol!==void 0)yield Ga.authorize(e,this,this.author,i);else throw new Error("message failed authorization")})}};var _Ge=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},EGe=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]]);return r},dx=class{constructor(e,r,i){this.didResolver=e,this.messageStore=r,this.dataStore=i}handle({tenant:e,message:r}){return _Ge(this,void 0,void 0,function*(){let i;try{i=yield Sl.parse(r)}catch(m){return sr.fromError(m,400)}try{i.author!==void 0&&(yield wf(r.authorization,this.didResolver))}catch(m){return sr.fromError(m,401)}let n={interface:xt.Records,recordId:r.descriptor.recordId},s=yield this.messageStore.query(e,n),o=yield Rr.getNewestMessage(s);if(o===void 0||o.descriptor.method===St.Delete)return new sr({status:{code:404,detail:"Not Found"}});let a=o;if(a.descriptor.published!==!0)try{yield i.authorize(e,yield Rr.parse(a),this.messageStore)}catch(m){return sr.fromError(m,401)}let f=yield at.getCid(a),c=yield this.dataStore.get(e,f,a.descriptor.dataCid);if(c?.dataStream===void 0)return new sr({status:{code:404,detail:"Not Found"}});let{authorization:u}=a,l=EGe(a,["authorization"]);return{status:{code:200,detail:"OK"},record:Object.assign(Object.assign({},l),{data:c.dataStream})}})}};var Cm=function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(l){o(l)}}function f(u){try{c(i.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):n(u.value).then(a,f)}c((i=i.apply(t,e||[])).next())})},Om=class{constructor(e){this.didResolver=e.didResolver,this.messageStore=e.messageStore,this.dataStore=e.dataStore,this.eventLog=e.eventLog,this.tenantGate=e.tenantGate,this.methodHandlers={[xt.Events+St.Get]:new $7(this.didResolver,this.eventLog),[xt.Messages+St.Get]:new V7(this.didResolver,this.messageStore,this.dataStore),[xt.Permissions+St.Request]:new G7(this.didResolver,this.messageStore,this.dataStore),[xt.Protocols+St.Configure]:new tx(this.didResolver,this.messageStore,this.dataStore,this.eventLog),[xt.Protocols+St.Query]:new rx(this.didResolver,this.messageStore,this.dataStore),[xt.Records+St.Delete]:new cx(this.didResolver,this.messageStore,this.dataStore,this.eventLog),[xt.Records+St.Query]:new lx(this.didResolver,this.messageStore,this.dataStore),[xt.Records+St.Read]:new dx(this.didResolver,this.messageStore,this.dataStore),[xt.Records+St.Write]:new fx(this.didResolver,this.messageStore,this.dataStore,this.eventLog)}}static create(e){var r,i,n,s,o;return Cm(this,void 0,void 0,function*(){e??(e={}),(r=e.didResolver)!==null&&r!==void 0||(e.didResolver=new N3),(i=e.tenantGate)!==null&&i!==void 0||(e.tenantGate=new Uv),(n=e.messageStore)!==null&&n!==void 0||(e.messageStore=new z3),(s=e.dataStore)!==null&&s!==void 0||(e.dataStore=new E2),(o=e.eventLog)!==null&&o!==void 0||(e.eventLog=new q3);let a=new Om(e);return yield a.open(),a})}open(){return Cm(this,void 0,void 0,function*(){yield this.messageStore.open(),yield this.dataStore.open(),yield this.eventLog.open()})}close(){return Cm(this,void 0,void 0,function*(){this.messageStore.close(),this.dataStore.close(),this.eventLog.close()})}processMessage(e,r,i){var n,s;return Cm(this,void 0,void 0,function*(){if(!(yield this.tenantGate.isTenant(e)))return new sr({status:{code:401,detail:`${e} is not a tenant`}});let a=(n=r?.descriptor)===null||n===void 0?void 0:n.interface,f=(s=r?.descriptor)===null||s===void 0?void 0:s.method;if(a===void 0||f===void 0)return new sr({status:{code:400,detail:`Both interface and method must be present, interface: ${a}, method: ${f}`}});try{at.validateJsonSchema(r)}catch(l){return sr.fromError(l,400)}let c=a+f;return yield this.methodHandlers[c].handle({tenant:e,message:r,dataStream:i})})}handleRecordsRead(e,r){return Cm(this,void 0,void 0,function*(){return yield this.processMessage(e,r)})}handleMessagesGet(e,r){return Cm(this,void 0,void 0,function*(){return yield this.processMessage(e,r)})}dump(){var e,r,i,n,s,o,a,f;return Cm(this,void 0,void 0,function*(){console.group("didResolver"),yield(r=(e=this.didResolver).dump)===null||r===void 0?void 0:r.call(e),console.groupEnd(),console.group("messageStore"),yield(n=(i=this.messageStore).dump)===null||n===void 0?void 0:n.call(i),console.groupEnd(),console.group("dataStore"),yield(o=(s=this.dataStore).dump)===null||o===void 0?void 0:o.call(s),console.groupEnd(),console.group("eventLog"),yield(f=(a=this.eventLog).dump)===null||f===void 0?void 0:f.call(a),console.groupEnd()})}};F();var SGe={[xt.Events+St.Get]:rl,[xt.Messages+St.Get]:Wu,[xt.Records+St.Read]:Sl,[xt.Records+St.Query]:za,[xt.Records+St.Write]:Rr,[xt.Records+St.Delete]:El,[xt.Protocols+St.Query]:_l,[xt.Protocols+St.Configure]:il},hx=class{constructor(e){this.dwn=e.dwn,this.profileManager=e.profileManager}static async create(e){return e.dwn||=await Om.create(),e.profileManager||=new B6,new hx(e)}async processDwnRequest(e){let r=await this.profileManager.getProfile(e.author);if(!r)throw new Error("profile not found for author.");let{keys:i}=r.did,[n]=i,{privateKeyJwk:s}=n,o=s.kid||n.id,a=`${r.did.id}#${o}`,f={privateJwk:s,protectedHeader:{alg:s.crv,kid:a}},c={...e.messageOptions,authorizationSignatureInput:f},l=await SGe[e.messageType].create(c);return{reply:await this.dwn.processMessage(e.target,l.toJSON(),e.dataStream),message:l.toJSON()}}};F();export{B6 as ProfileApi,Fv as ProfileStore,hx as Web5UserAgent};
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

queue-microtask/index.js:
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

run-parallel-limit/index.js:
  (*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@noble/ed25519/lib/esm/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/secp256k1/lib/esm/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@tbd54566975/dwn-sdk-js/dist/esm/src/interfaces/messages/handlers/messages-get.js:
  (*! NOTE: this is somewhat duplicate code that also exists in `StorageController.query`. *)

@tbd54566975/dwn-sdk-js/dist/bundles/browser.js:
  (*! NOTE: this is somewhat duplicate code that also exists in `StorageController.query`. *)
  (*! Bundled license information:
  
  ieee754/index.js:
    (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  
  buffer/index.js:
    (*!
     * The buffer module from node.js, for the browser.
     *
     * @author   Feross Aboukhadijeh <https://feross.org>
     * @license  MIT
     *)
  
  queue-microtask/index.js:
    (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  
  run-parallel-limit/index.js:
    (*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  
  safe-buffer/index.js:
    (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  
  safe-buffer/index.js:
    (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  
  safe-buffer/index.js:
    (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  
  @noble/ed25519/lib/esm/index.js:
    (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)
  
  @noble/secp256k1/lib/esm/index.js:
    (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)
  *)
*/
//# sourceMappingURL=browser.mjs.map
